"use strict";const A=require("obsidian"),Cn=require("@codemirror/view"),fi=require("@codemirror/state"),Gt="markwhen-icon",Ir="oneview";A.addIcon(Gt,'<path fill="currentColor" d="M 87.175 87.175 H 52.8 C 49.0188 87.175 45.925 84.0813 45.925 80.3 S 49.0188 73.425 52.8 73.425 H 87.175 C 90.9563 73.425 94.05 76.5188 94.05 80.3 S 90.9563 87.175 87.175 87.175 Z M 80.3 59.675 H 32.175 C 28.3938 59.675 25.3 56.5813 25.3 52.8 S 28.3938 45.925 32.175 45.925 H 80.3 C 84.0813 45.925 87.175 49.0188 87.175 52.8 S 84.0813 59.675 80.3 59.675 Z M 18.425 32.175 H 18.425 C 14.6438 32.175 11.55 29.0813 11.55 25.3 S 14.6438 18.425 18.425 18.425 H 32.175 C 35.9563 18.425 39.05 21.5188 39.05 25.3 S 35.9563 32.175 32.175 32.175 Z"></path>');A.addIcon(Ir,'<g stroke-width="11" transform="matrix(1.1, 0, 0, 1.1, 0, -5)" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">    <path d="M 45.826 24.996 l 37.494 0"></path>    <path d="M 37.494 49.992 l 29.162 0 "></path>    <path d="M 41.66 74.988 l 33.328 0"></path>    <path d=" M 20.83 24.996 l 0 49.992"></path></g>');class Ce extends Error{}class kr extends Ce{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Rr extends Ce{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Vr extends Ce{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class _e extends Ce{}class bi extends Ce{constructor(e){super(`Invalid unit ${e}`)}}class re extends Ce{}class Ze extends Ce{constructor(){super("Zone is an abstract class")}}const w="numeric",he="short",te="long",Wt={year:w,month:w,day:w},gi={year:w,month:he,day:w},Cr={year:w,month:he,day:w,weekday:he},yi={year:w,month:te,day:w},vi={year:w,month:te,day:w,weekday:te},Zi={hour:w,minute:w},Si={hour:w,minute:w,second:w},Ti={hour:w,minute:w,second:w,timeZoneName:he},wi={hour:w,minute:w,second:w,timeZoneName:te},Gi={hour:w,minute:w,hourCycle:"h23"},Wi={hour:w,minute:w,second:w,hourCycle:"h23"},xi={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:he},Xi={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:te},Ii={year:w,month:w,day:w,hour:w,minute:w},ki={year:w,month:w,day:w,hour:w,minute:w,second:w},Ri={year:w,month:he,day:w,hour:w,minute:w},Vi={year:w,month:he,day:w,hour:w,minute:w,second:w},Yr={year:w,month:he,day:w,weekday:he,hour:w,minute:w},Ci={year:w,month:te,day:w,hour:w,minute:w,timeZoneName:he},Yi={year:w,month:te,day:w,hour:w,minute:w,second:w,timeZoneName:he},Li={year:w,month:te,day:w,weekday:te,hour:w,minute:w,timeZoneName:te},Ei={year:w,month:te,day:w,weekday:te,hour:w,minute:w,second:w,timeZoneName:te};class st{get type(){throw new Ze}get name(){throw new Ze}get ianaName(){return this.name}get isUniversal(){throw new Ze}offsetName(e,t){throw new Ze}formatOffset(e,t){throw new Ze}offset(e){throw new Ze}equals(e){throw new Ze}get isValid(){throw new Ze}}let Pt=null;class Ct extends st{static get instance(){return Pt===null&&(Pt=new Ct),Pt}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Di(e,t,n)}formatOffset(e,t){return qe(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let yt={};function Lr(r){return yt[r]||(yt[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),yt[r]}const Er={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Nr(r,e){const t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,s,o,a,l,c,h]=n;return[o,i,s,a,l,c,h]}function Dr(r,e){const t=r.formatToParts(e),n=[];for(let i=0;i<t.length;i++){const{type:s,value:o}=t[i],a=Er[s];s==="era"?n[a]=o:V(a)||(n[a]=parseInt(o,10))}return n}let ut={};class ge extends st{static create(e){return ut[e]||(ut[e]=new ge(e)),ut[e]}static resetCache(){ut={},yt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ge.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Di(e,t,n,this.name)}formatOffset(e,t){return qe(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=Lr(this.name);let[i,s,o,a,l,c,h]=n.formatToParts?Dr(n,t):Nr(n,t);a==="BC"&&(i=-Math.abs(i)+1);const m=Lt({year:i,month:s,day:o,hour:l===24?0:l,minute:c,second:h,millisecond:0});let u=+t;const p=u%1e3;return u-=p>=0?p:1e3+p,(m-u)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Yn={};function zr(r,e={}){const t=JSON.stringify([r,e]);let n=Yn[t];return n||(n=new Intl.ListFormat(r,e),Yn[t]=n),n}let Qt={};function $t(r,e={}){const t=JSON.stringify([r,e]);let n=Qt[t];return n||(n=new Intl.DateTimeFormat(r,e),Qt[t]=n),n}let qt={};function Mr(r,e={}){const t=JSON.stringify([r,e]);let n=qt[t];return n||(n=new Intl.NumberFormat(r,e),qt[t]=n),n}let en={};function Or(r,e={}){const{base:t,...n}=e,i=JSON.stringify([r,n]);let s=en[i];return s||(s=new Intl.RelativeTimeFormat(r,e),en[i]=s),s}let je=null;function Hr(){return je||(je=new Intl.DateTimeFormat().resolvedOptions().locale,je)}function Fr(r){const e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));const t=r.indexOf("-u-");if(t===-1)return[r];{let n,i;try{n=$t(r).resolvedOptions(),i=r}catch{const l=r.substring(0,t);n=$t(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function Pr(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function Kr(r){const e=[];for(let t=1;t<=12;t++){const n=I.utc(2009,t,1);e.push(r(n))}return e}function Jr(r){const e=[];for(let t=1;t<=7;t++){const n=I.utc(2016,11,13+t);e.push(r(n))}return e}function dt(r,e,t,n){const i=r.listingMode();return i==="error"?null:i==="en"?t(e):n(e)}function Ur(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}class Br{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=Mr(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):un(e,3);return F(t,this.padTo)}}}class Ar{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ge.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=$t(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class _r{constructor(e,t,n){this.opts={style:"long",...n},!t&&Ni()&&(this.rtf=Or(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):hs(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class N{static fromOpts(e){return N.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,i=!1){const s=e||H.defaultLocale,o=s||(i?"en-US":Hr()),a=t||H.defaultNumberingSystem,l=n||H.defaultOutputCalendar;return new N(o,a,l,s)}static resetCache(){je=null,Qt={},qt={},en={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return N.create(e,t,n)}constructor(e,t,n,i){const[s,o,a]=Fr(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=n||a||null,this.intl=Pr(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ur(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:N.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return dt(this,e,Oi,()=>{const n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Kr(s=>this.extract(s,n,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1){return dt(this,e,Pi,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Jr(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return dt(this,void 0,()=>Ki,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[I.utc(2016,11,13,9),I.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return dt(this,e,Ji,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[I.utc(-40,1,1),I.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const i=this.dtFormatter(e,t),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new Br(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Ar(e,this.intl,t)}relFormatter(e={}){return new _r(this.intl,this.isEnglish(),e)}listFormatter(e={}){return zr(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Kt=null;class Q extends st{static get utcInstance(){return Kt===null&&(Kt=new Q(0)),Kt}static instance(e){return e===0?Q.utcInstance:new Q(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Q(Et(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${qe(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${qe(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return qe(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class jr extends st{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function we(r,e){if(V(r)||r===null)return e;if(r instanceof st)return r;if(Qr(r)){const t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Ct.instance:t==="utc"||t==="gmt"?Q.utcInstance:Q.parseSpecifier(t)||ge.create(r)}else return Re(r)?Q.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new jr(r)}let Ln=()=>Date.now(),En="system",Nn=null,Dn=null,zn=null,Mn=60,On;class H{static get now(){return Ln}static set now(e){Ln=e}static set defaultZone(e){En=e}static get defaultZone(){return we(En,Ct.instance)}static get defaultLocale(){return Nn}static set defaultLocale(e){Nn=e}static get defaultNumberingSystem(){return Dn}static set defaultNumberingSystem(e){Dn=e}static get defaultOutputCalendar(){return zn}static set defaultOutputCalendar(e){zn=e}static get twoDigitCutoffYear(){return Mn}static set twoDigitCutoffYear(e){Mn=e%100}static get throwOnInvalid(){return On}static set throwOnInvalid(e){On=e}static resetCaches(){N.resetCache(),ge.resetCache()}}function V(r){return typeof r>"u"}function Re(r){return typeof r=="number"}function Yt(r){return typeof r=="number"&&r%1===0}function Qr(r){return typeof r=="string"}function $r(r){return Object.prototype.toString.call(r)==="[object Date]"}function Ni(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function qr(r){return Array.isArray(r)?r:[r]}function Hn(r,e,t){if(r.length!==0)return r.reduce((n,i)=>{const s=[e(i),i];return n&&t(n[0],s[0])===n[0]?n:s},null)[1]}function es(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function Oe(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function fe(r,e,t){return Yt(r)&&r>=e&&r<=t}function ts(r,e){return r-e*Math.floor(r/e)}function F(r,e=2){const t=r<0;let n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function Te(r){if(!(V(r)||r===null||r===""))return parseInt(r,10)}function Ge(r){if(!(V(r)||r===null||r===""))return parseFloat(r)}function cn(r){if(!(V(r)||r===null||r==="")){const e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function un(r,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function ot(r){return r%4===0&&(r%100!==0||r%400===0)}function $e(r){return ot(r)?366:365}function xt(r,e){const t=ts(e-1,12)+1,n=r+(e-t)/12;return t===2?ot(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Lt(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function Xt(r){const e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function tn(r){return r>99?r:r>H.twoDigitCutoffYear?1900+r:2e3+r}function Di(r,e,t,n=null){const i=new Date(r),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(t,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Et(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function zi(r){const e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new re(`Invalid unit value ${r}`);return e}function It(r,e){const t={};for(const n in r)if(Oe(r,n)){const i=r[n];if(i==null)continue;t[e(n)]=zi(i)}return t}function qe(r,e){const t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return`${i}${F(t,2)}:${F(n,2)}`;case"narrow":return`${i}${t}${n>0?`:${n}`:""}`;case"techie":return`${i}${F(t,2)}${F(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Nt(r){return es(r,["hour","minute","second","millisecond"])}const ns=["January","February","March","April","May","June","July","August","September","October","November","December"],Mi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],is=["J","F","M","A","M","J","J","A","S","O","N","D"];function Oi(r){switch(r){case"narrow":return[...is];case"short":return[...Mi];case"long":return[...ns];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Hi=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rs=["M","T","W","T","F","S","S"];function Pi(r){switch(r){case"narrow":return[...rs];case"short":return[...Fi];case"long":return[...Hi];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ki=["AM","PM"],ss=["Before Christ","Anno Domini"],os=["BC","AD"],as=["B","A"];function Ji(r){switch(r){case"narrow":return[...as];case"short":return[...os];case"long":return[...ss];default:return null}}function ls(r){return Ki[r.hour<12?0:1]}function cs(r,e){return Pi(e)[r.weekday-1]}function us(r,e){return Oi(e)[r.month-1]}function ds(r,e){return Ji(e)[r.year<0?0:1]}function hs(r,e,t="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&s){const d=r==="days";switch(e){case 1:return d?"tomorrow":`next ${i[r][0]}`;case-1:return d?"yesterday":`last ${i[r][0]}`;case 0:return d?"today":`this ${i[r][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=i[r],h=n?l?c[1]:c[2]||c[1]:l?i[r][0]:r;return o?`${a} ${h} ago`:`in ${a} ${h}`}function Fn(r,e){let t="";for(const n of r)n.literal?t+=n.val:t+=e(n.val);return t}const ms={D:Wt,DD:gi,DDD:yi,DDDD:vi,t:Zi,tt:Si,ttt:Ti,tttt:wi,T:Gi,TT:Wi,TTT:xi,TTTT:Xi,f:Ii,ff:Ri,fff:Ci,ffff:Li,F:ki,FF:Vi,FFF:Yi,FFFF:Ei};class _{static create(e,t={}){return new _(e,t)}static parseFormat(e){let t=null,n="",i=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),t=null,n="",i=!i):i||a===t?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,t=a)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return ms[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return F(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(u,p)=>this.loc.extract(e,u,p),o=u=>e.isOffsetFixed&&e.offset===0&&u.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,u.format):"",a=()=>n?ls(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(u,p)=>n?us(e,u):s(p?{month:u}:{month:u,day:"numeric"},"month"),c=(u,p)=>n?cs(e,u):s(p?{weekday:u}:{weekday:u,month:"long",day:"numeric"},"weekday"),h=u=>{const p=_.macroTokenToFormatOpts(u);return p?this.formatWithSystemDefault(e,p):u},d=u=>n?ds(e,u):s({era:u},"era"),m=u=>{switch(u){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return h(u)}};return Fn(_.parseFormat(t),m)}formatDurationFromString(e,t){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const h=n(c);return h?this.num(l.get(h),c.length):c},s=_.parseFormat(t),o=s.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]),a=e.shiftTo(...o.map(n).filter(l=>l));return Fn(s,i(a))}}class ue{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ui=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function He(...r){const e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function Fe(...r){return e=>r.reduce(([t,n,i],s)=>{const[o,a,l]=s(e,i);return[{...t,...o},a||n,l]},[{},null,1]).slice(0,2)}function Pe(r,...e){if(r==null)return[null,null];for(const[t,n]of e){const i=t.exec(r);if(i)return n(i)}return[null,null]}function Bi(...r){return(e,t)=>{const n={};let i;for(i=0;i<r.length;i++)n[r[i]]=Te(e[t+i]);return[n,null,t+i]}}const Ai=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ps=`(?:${Ai.source}?(?:\\[(${Ui.source})\\])?)?`,dn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_i=RegExp(`${dn.source}${ps}`),hn=RegExp(`(?:T${_i.source})?`),fs=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,bs=/(\d{4})-?W(\d\d)(?:-?(\d))?/,gs=/(\d{4})-?(\d{3})/,ys=Bi("weekYear","weekNumber","weekDay"),vs=Bi("year","ordinal"),Zs=/(\d{4})-(\d\d)-(\d\d)/,ji=RegExp(`${dn.source} ?(?:${Ai.source}|(${Ui.source}))?`),Ss=RegExp(`(?: ${ji.source})?`);function Me(r,e,t){const n=r[e];return V(n)?t:Te(n)}function Ts(r,e){return[{year:Me(r,e),month:Me(r,e+1,1),day:Me(r,e+2,1)},null,e+3]}function Ke(r,e){return[{hours:Me(r,e,0),minutes:Me(r,e+1,0),seconds:Me(r,e+2,0),milliseconds:cn(r[e+3])},null,e+4]}function at(r,e){const t=!r[e]&&!r[e+1],n=Et(r[e+1],r[e+2]),i=t?null:Q.instance(n);return[{},i,e+3]}function lt(r,e){const t=r[e]?ge.create(r[e]):null;return[{},t,e+1]}const ws=RegExp(`^T?${dn.source}$`),Gs=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ws(r){const[e,t,n,i,s,o,a,l,c]=r,h=e[0]==="-",d=l&&l[0]==="-",m=(u,p=!1)=>u!==void 0&&(p||u&&h)?-u:u;return[{years:m(Ge(t)),months:m(Ge(n)),weeks:m(Ge(i)),days:m(Ge(s)),hours:m(Ge(o)),minutes:m(Ge(a)),seconds:m(Ge(l),l==="-0"),milliseconds:m(cn(c),d)}]}const xs={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mn(r,e,t,n,i,s,o){const a={year:e.length===2?tn(Te(e)):Te(e),month:Mi.indexOf(t)+1,day:Te(n),hour:Te(i),minute:Te(s)};return o&&(a.second=Te(o)),r&&(a.weekday=r.length>3?Hi.indexOf(r)+1:Fi.indexOf(r)+1),a}const Xs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Is(r){const[,e,t,n,i,s,o,a,l,c,h,d]=r,m=mn(e,i,n,t,s,o,a);let u;return l?u=xs[l]:c?u=0:u=Et(h,d),[m,new Q(u)]}function ks(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Rs=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Vs=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Cs=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Pn(r){const[,e,t,n,i,s,o,a]=r;return[mn(e,i,n,t,s,o,a),Q.utcInstance]}function Ys(r){const[,e,t,n,i,s,o,a]=r;return[mn(e,a,t,n,i,s,o),Q.utcInstance]}const Ls=He(fs,hn),Es=He(bs,hn),Ns=He(gs,hn),Ds=He(_i),Qi=Fe(Ts,Ke,at,lt),zs=Fe(ys,Ke,at,lt),Ms=Fe(vs,Ke,at,lt),Os=Fe(Ke,at,lt);function Hs(r){return Pe(r,[Ls,Qi],[Es,zs],[Ns,Ms],[Ds,Os])}function Fs(r){return Pe(ks(r),[Xs,Is])}function Ps(r){return Pe(r,[Rs,Pn],[Vs,Pn],[Cs,Ys])}function Ks(r){return Pe(r,[Gs,Ws])}const Js=Fe(Ke);function Us(r){return Pe(r,[ws,Js])}const Bs=He(Zs,Ss),As=He(ji),_s=Fe(Ke,at,lt);function js(r){return Pe(r,[Bs,Qi],[As,_s])}const Kn="Invalid Duration",$i={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Qs={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...$i},ie=146097/400,Le=146097/4800,$s={years:{quarters:4,months:12,weeks:ie/7,days:ie,hours:ie*24,minutes:ie*24*60,seconds:ie*24*60*60,milliseconds:ie*24*60*60*1e3},quarters:{months:3,weeks:ie/28,days:ie/4,hours:ie*24/4,minutes:ie*24*60/4,seconds:ie*24*60*60/4,milliseconds:ie*24*60*60*1e3/4},months:{weeks:Le/7,days:Le,hours:Le*24,minutes:Le*24*60,seconds:Le*24*60*60,milliseconds:Le*24*60*60*1e3},...$i},Xe=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],qs=Xe.slice(0).reverse();function Se(r,e,t=!1){const n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new C(n)}function qi(r,e){let t=e.milliseconds??0;for(const n of qs.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function Jn(r,e){const t=qi(r,e)<0?-1:1;Xe.reduceRight((n,i)=>{if(V(e[i]))return n;if(n){const s=e[n]*t,o=r[i][n],a=Math.floor(s/o);e[i]+=a*t,e[n]-=a*o*t}return i},null),Xe.reduce((n,i)=>{if(V(e[i]))return n;if(n){const s=e[n]%1;e[n]-=s,e[i]+=s*r[n][i]}return i},null)}function eo(r){const e={};for(const[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}class C{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?$s:Qs;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||N.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return C.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new re(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new C({values:It(e,C.normalizeUnit),loc:N.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Re(e))return C.fromMillis(e);if(C.isDuration(e))return e;if(typeof e=="object")return C.fromObject(e);throw new re(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=Ks(e);return n?C.fromObject(n,t):C.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=Us(e);return n?C.fromObject(n,t):C.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new re("need to specify a reason the Duration is invalid");const n=e instanceof ue?e:new ue(e,t);if(H.throwOnInvalid)throw new Vr(n);return new C({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new bi(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?_.create(this.loc,n).formatDurationFromString(this,e):Kn}toHuman(e={}){if(!this.isValid)return Kn;const t=Xe.map(n=>{const i=this.values[n];return V(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=un(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},I.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?qi(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=C.fromDurationLike(e),n={};for(const i of Xe)(Oe(t.values,i)||Oe(this.values,i))&&(n[i]=t.get(i)+this.get(i));return Se(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=C.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=zi(e(this.values[n],n));return Se(this,{values:t},!0)}get(e){return this[C.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...It(e,C.normalizeUnit)};return Se(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:n};return Se(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Jn(this.matrix,e),Se(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=eo(this.normalize().shiftToAll().toObject());return Se(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>C.normalizeUnit(o));const t={},n={},i=this.toObject();let s;for(const o of Xe)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in n)a+=this.matrix[c][o]*n[c],n[c]=0;Re(i[o])&&(a+=i[o]);const l=Math.trunc(a);t[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else Re(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(t[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return Jn(this.matrix,t),Se(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Se(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Xe)if(!t(this.values[n],e.values[n]))return!1;return!0}}const Ee="Invalid Interval";function to(r,e){return!r||!r.isValid?M.invalid("missing or invalid start"):!e||!e.isValid?M.invalid("missing or invalid end"):e<r?M.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}class M{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new re("need to specify a reason the Interval is invalid");const n=e instanceof ue?e:new ue(e,t);if(H.throwOnInvalid)throw new Rr(n);return new M({invalid:n})}static fromDateTimes(e,t){const n=Be(e),i=Be(t),s=to(n,i);return s??new M({start:n,end:i})}static after(e,t){const n=C.fromDurationLike(t),i=Be(e);return M.fromDateTimes(i,i.plus(n))}static before(e,t){const n=C.fromDurationLike(t),i=Be(e);return M.fromDateTimes(i.minus(n),i)}static fromISO(e,t){const[n,i]=(e||"").split("/",2);if(n&&i){let s,o;try{s=I.fromISO(n,t),o=s.isValid}catch{o=!1}let a,l;try{a=I.fromISO(i,t),l=a.isValid}catch{l=!1}if(o&&l)return M.fromDateTimes(s,a);if(o){const c=C.fromISO(i,t);if(c.isValid)return M.after(s,c)}else if(l){const c=C.fromISO(n,t);if(c.isValid)return M.before(a,c)}}return M.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?M.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Be).filter(o=>this.contains(o)).sort(),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=t[s]||this.e,a=+o>+this.e?this.e:o;n.push(M.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(e){const t=C.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(t.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(M.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:M.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return M.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?t=l.time:(t&&+t!=+l.time&&i.push(M.fromDateTimes(t,l.time)),t=null);return M.merge(i)}difference(...e){return M.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Ee}toLocaleString(e=Wt,t={}){return this.isValid?_.create(this.s.loc.clone(t),e).formatInterval(this):Ee}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ee}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ee}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ee}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Ee}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):C.invalid(this.invalidReason)}mapEndpoints(e){return M.fromDateTimes(e(this.s),e(this.e))}}class ht{static hasDST(e=H.defaultZone){const t=I.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ge.isValidZone(e)}static normalizeZone(e){return we(e,H.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||N.create(t,n,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||N.create(t,n,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||N.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||N.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return N.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return N.create(t,null,"gregory").eras(e)}static features(){return{relative:Ni()}}}function Un(r,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(C.fromMillis(n).as("days"))}function no(r,e,t){const n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const h=Un(l,c);return(h-h%7)/7}],["days",Un]],i={},s=r;let o,a;for(const[l,c]of n)t.indexOf(l)>=0&&(o=l,i[l]=c(r,e),a=s.plus(i),a>e?(i[l]--,r=s.plus(i),r>e&&(a=r,i[l]--,r=s.plus(i))):r=a);return[r,i,a,o]}function io(r,e,t,n){let[i,s,o,a]=no(r,e,t);const l=e-i,c=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const h=C.fromObject(s,n);return c.length>0?C.fromMillis(l,n).shiftTo(...c).plus(h):h}const pn={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Bn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ro=pn.hanidec.replace(/[\[|\]]/g,"").split("");function so(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(r[t].search(pn.hanidec)!==-1)e+=ro.indexOf(r[t]);else for(const i in Bn){const[s,o]=Bn[i];n>=s&&n<=o&&(e+=n-s)}}return parseInt(e,10)}else return e}function le({numberingSystem:r},e=""){return new RegExp(`${pn[r||"latn"]}${e}`)}const oo="missing Intl.DateTimeFormat.formatToParts support";function E(r,e=t=>t){return{regex:r,deser:([t])=>e(so(t))}}const ao=" ",er=`[ ${ao}]`,tr=new RegExp(er,"g");function lo(r){return r.replace(/\./g,"\\.?").replace(tr,er)}function An(r){return r.replace(/\./g,"").replace(tr," ").toLowerCase()}function ce(r,e){return r===null?null:{regex:RegExp(r.map(lo).join("|")),deser:([t])=>r.findIndex(n=>An(t)===An(n))+e}}function _n(r,e){return{regex:r,deser:([,t,n])=>Et(t,n),groups:e}}function mt(r){return{regex:r,deser:([e])=>e}}function co(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function uo(r,e){const t=le(e),n=le(e,"{2}"),i=le(e,"{3}"),s=le(e,"{4}"),o=le(e,"{6}"),a=le(e,"{1,2}"),l=le(e,"{1,3}"),c=le(e,"{1,6}"),h=le(e,"{1,9}"),d=le(e,"{2,4}"),m=le(e,"{4,6}"),u=y=>({regex:RegExp(co(y.val)),deser:([g])=>g,literal:!0}),b=(y=>{if(r.literal)return u(y);switch(y.val){case"G":return ce(e.eras("short"),0);case"GG":return ce(e.eras("long"),0);case"y":return E(c);case"yy":return E(d,tn);case"yyyy":return E(s);case"yyyyy":return E(m);case"yyyyyy":return E(o);case"M":return E(a);case"MM":return E(n);case"MMM":return ce(e.months("short",!0),1);case"MMMM":return ce(e.months("long",!0),1);case"L":return E(a);case"LL":return E(n);case"LLL":return ce(e.months("short",!1),1);case"LLLL":return ce(e.months("long",!1),1);case"d":return E(a);case"dd":return E(n);case"o":return E(l);case"ooo":return E(i);case"HH":return E(n);case"H":return E(a);case"hh":return E(n);case"h":return E(a);case"mm":return E(n);case"m":return E(a);case"q":return E(a);case"qq":return E(n);case"s":return E(a);case"ss":return E(n);case"S":return E(l);case"SSS":return E(i);case"u":return mt(h);case"uu":return mt(a);case"uuu":return E(t);case"a":return ce(e.meridiems(),0);case"kkkk":return E(s);case"kk":return E(d,tn);case"W":return E(a);case"WW":return E(n);case"E":case"c":return E(t);case"EEE":return ce(e.weekdays("short",!1),1);case"EEEE":return ce(e.weekdays("long",!1),1);case"ccc":return ce(e.weekdays("short",!0),1);case"cccc":return ce(e.weekdays("long",!0),1);case"Z":case"ZZ":return _n(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return _n(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return mt(/[a-z_+-/]{1,256}?/i);case" ":return mt(/[^\S\n\r]/);default:return u(y)}})(r)||{invalidReason:oo};return b.token=r,b}const ho={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function mo(r,e,t){const{type:n,value:i}=r;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[n];let o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=ho[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function po(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function fo(r,e,t){const n=r.match(e);if(n){const i={};let s=1;for(const o in t)if(Oe(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function bo(r){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return V(r.z)||(t=ge.create(r.z)),V(r.Z)||(t||(t=new Q(r.Z)),n=r.Z),V(r.q)||(r.M=(r.q-1)*3+1),V(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),V(r.u)||(r.S=cn(r.u)),[Object.keys(r).reduce((s,o)=>{const a=e(o);return a&&(s[a]=r[o]),s},{}),t,n]}let Jt=null;function go(){return Jt||(Jt=I.fromMillis(1555555555555)),Jt}function yo(r,e){if(r.literal)return r;const t=_.macroTokenToFormatOpts(r.val),n=rr(t,e);return n==null||n.includes(void 0)?r:n}function nr(r,e){return Array.prototype.concat(...r.map(t=>yo(t,e)))}function ir(r,e,t){const n=nr(_.parseFormat(t),r),i=n.map(o=>uo(o,r)),s=i.find(o=>o.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{const[o,a]=po(i),l=RegExp(o,"i"),[c,h]=fo(e,l,a),[d,m,u]=h?bo(h):[null,null,void 0];if(Oe(h,"a")&&Oe(h,"H"))throw new _e("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:c,matches:h,result:d,zone:m,specificOffset:u}}}function vo(r,e,t){const{result:n,zone:i,specificOffset:s,invalidReason:o}=ir(r,e,t);return[n,i,s,o]}function rr(r,e){if(!r)return null;const n=_.create(e,r).dtFormatter(go()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(o=>mo(o,r,s))}const sr=[0,31,59,90,120,151,181,212,243,273,304,334],or=[0,31,60,91,121,152,182,213,244,274,305,335];function se(r,e){return new ue("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function ar(r,e,t){const n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function lr(r,e,t){return t+(ot(r)?or:sr)[e-1]}function cr(r,e){const t=ot(r)?or:sr,n=t.findIndex(s=>s<e),i=e-t[n];return{month:n+1,day:i}}function nn(r){const{year:e,month:t,day:n}=r,i=lr(e,t,n),s=ar(e,t,n);let o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=Xt(a)):o>Xt(e)?(a=e+1,o=1):a=e,{weekYear:a,weekNumber:o,weekday:s,...Nt(r)}}function jn(r){const{weekYear:e,weekNumber:t,weekday:n}=r,i=ar(e,1,4),s=$e(e);let o=t*7+n-i-3,a;o<1?(a=e-1,o+=$e(a)):o>s?(a=e+1,o-=$e(e)):a=e;const{month:l,day:c}=cr(a,o);return{year:a,month:l,day:c,...Nt(r)}}function Ut(r){const{year:e,month:t,day:n}=r,i=lr(e,t,n);return{year:e,ordinal:i,...Nt(r)}}function Qn(r){const{year:e,ordinal:t}=r,{month:n,day:i}=cr(e,t);return{year:e,month:n,day:i,...Nt(r)}}function Zo(r){const e=Yt(r.weekYear),t=fe(r.weekNumber,1,Xt(r.weekYear)),n=fe(r.weekday,1,7);return e?t?n?!1:se("weekday",r.weekday):se("week",r.week):se("weekYear",r.weekYear)}function So(r){const e=Yt(r.year),t=fe(r.ordinal,1,$e(r.year));return e?t?!1:se("ordinal",r.ordinal):se("year",r.year)}function ur(r){const e=Yt(r.year),t=fe(r.month,1,12),n=fe(r.day,1,xt(r.year,r.month));return e?t?n?!1:se("day",r.day):se("month",r.month):se("year",r.year)}function dr(r){const{hour:e,minute:t,second:n,millisecond:i}=r,s=fe(e,0,23)||e===24&&t===0&&n===0&&i===0,o=fe(t,0,59),a=fe(n,0,59),l=fe(i,0,999);return s?o?a?l?!1:se("millisecond",i):se("second",n):se("minute",t):se("hour",e)}const Bt="Invalid DateTime",$n=864e13;function pt(r){return new ue("unsupported zone",`the zone "${r.name}" is not supported`)}function At(r){return r.weekData===null&&(r.weekData=nn(r.c)),r.weekData}function We(r,e){const t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new I({...t,...e,old:t})}function hr(r,e,t){let n=r-e*60*1e3;const i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const s=t.offset(n);return i===s?[n,i]:[r-Math.min(i,s)*60*1e3,Math.max(i,s)]}function ft(r,e){r+=e*60*1e3;const t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function vt(r,e,t){return hr(Lt(r),e,t)}function qn(r,e){const t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...r.c,year:n,month:i,day:Math.min(r.c.day,xt(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=C.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Lt(s);let[l,c]=hr(a,t,r.zone);return o!==0&&(l+=o,c=r.zone.offset(l)),{ts:l,o:c}}function Ue(r,e,t,n,i,s){const{setZone:o,zone:a}=t;if(r&&Object.keys(r).length!==0||e){const l=e||a,c=I.fromObject(r,{...t,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return I.invalid(new ue("unparsable",`the input "${i}" can't be parsed as ${n}`))}function bt(r,e,t=!0){return r.isValid?_.create(N.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function _t(r,e){const t=r.c.year>9999||r.c.year<0;let n="";return t&&r.c.year>=0&&(n+="+"),n+=F(r.c.year,t?6:4),e?(n+="-",n+=F(r.c.month),n+="-",n+=F(r.c.day)):(n+=F(r.c.month),n+=F(r.c.day)),n}function ei(r,e,t,n,i,s){let o=F(r.c.hour);return e?(o+=":",o+=F(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(o+=":")):o+=F(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(o+=F(r.c.second),(r.c.millisecond!==0||!n)&&(o+=".",o+=F(r.c.millisecond,3))),i&&(r.isOffsetFixed&&r.offset===0&&!s?o+="Z":r.o<0?(o+="-",o+=F(Math.trunc(-r.o/60)),o+=":",o+=F(Math.trunc(-r.o%60))):(o+="+",o+=F(Math.trunc(r.o/60)),o+=":",o+=F(Math.trunc(r.o%60)))),s&&(o+="["+r.zone.ianaName+"]"),o}const mr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},To={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},wo={ordinal:1,hour:0,minute:0,second:0,millisecond:0},pr=["year","month","day","hour","minute","second","millisecond"],Go=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Wo=["year","ordinal","hour","minute","second","millisecond"];function ti(r){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new bi(r);return e}function ni(r,e){const t=we(e.zone,H.defaultZone),n=N.fromObject(e),i=H.now();let s,o;if(V(r.year))s=i;else{for(const c of pr)V(r[c])&&(r[c]=mr[c]);const a=ur(r)||dr(r);if(a)return I.invalid(a);const l=t.offset(i);[s,o]=vt(r,l,t)}return new I({ts:s,zone:t,loc:n,o})}function ii(r,e,t){const n=V(t.round)?!0:t.round,i=(o,a)=>(o=un(o,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),s=o=>t.calendary?e.hasSame(r,o)?0:e.startOf(o).diff(r.startOf(o),o).get(o):e.diff(r,o).get(o);if(t.unit)return i(s(t.unit),t.unit);for(const o of t.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(r>e?-0:0,t.units[t.units.length-1])}function ri(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}class I{constructor(e){const t=e.zone||H.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new ue("invalid input"):null)||(t.isValid?null:pt(t));this.ts=V(e.ts)?H.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,s]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);i=ft(this.ts,a),n=Number.isNaN(i.year)?new ue("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=t,this.loc=e.loc||N.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new I({})}static local(){const[e,t]=ri(arguments),[n,i,s,o,a,l,c]=t;return ni({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,t]=ri(arguments),[n,i,s,o,a,l,c]=t;return e.zone=Q.utcInstance,ni({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const n=$r(e)?e.valueOf():NaN;if(Number.isNaN(n))return I.invalid("invalid input");const i=we(t.zone,H.defaultZone);return i.isValid?new I({ts:n,zone:i,loc:N.fromObject(t)}):I.invalid(pt(i))}static fromMillis(e,t={}){if(Re(e))return e<-$n||e>$n?I.invalid("Timestamp out of range"):new I({ts:e,zone:we(t.zone,H.defaultZone),loc:N.fromObject(t)});throw new re(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Re(e))return new I({ts:e*1e3,zone:we(t.zone,H.defaultZone),loc:N.fromObject(t)});throw new re("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=we(t.zone,H.defaultZone);if(!n.isValid)return I.invalid(pt(n));const i=H.now(),s=V(t.specificOffset)?n.offset(i):t.specificOffset,o=It(e,ti),a=!V(o.ordinal),l=!V(o.year),c=!V(o.month)||!V(o.day),h=l||c,d=o.weekYear||o.weekNumber,m=N.fromObject(t);if((h||a)&&d)throw new _e("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new _e("Can't mix ordinal dates with month/day");const u=d||o.weekday&&!h;let p,b,y=ft(i,s);u?(p=Go,b=To,y=nn(y)):a?(p=Wo,b=wo,y=Ut(y)):(p=pr,b=mr);let g=!1;for(const X of p){const L=o[X];V(L)?g?o[X]=b[X]:o[X]=y[X]:g=!0}const v=u?Zo(o):a?So(o):ur(o),T=v||dr(o);if(T)return I.invalid(T);const S=u?jn(o):a?Qn(o):o,[G,Z]=vt(S,s,n),k=new I({ts:G,zone:n,o:Z,loc:m});return o.weekday&&h&&e.weekday!==k.weekday?I.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${k.toISO()}`):k}static fromISO(e,t={}){const[n,i]=Hs(e);return Ue(n,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,i]=Fs(e);return Ue(n,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,i]=Ps(e);return Ue(n,i,t,"HTTP",t)}static fromFormat(e,t,n={}){if(V(e)||V(t))throw new re("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=N.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,c,h]=vo(o,e,t);return h?I.invalid(h):Ue(a,l,n,`format ${t}`,e,c)}static fromString(e,t,n={}){return I.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,i]=js(e);return Ue(n,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new re("need to specify a reason the DateTime is invalid");const n=e instanceof ue?e:new ue(e,t);if(H.throwOnInvalid)throw new kr(n);return new I({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=rr(e,N.fromObject(t));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return nr(_.parseFormat(e),N.fromObject(t)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?At(this).weekYear:NaN}get weekNumber(){return this.isValid?At(this).weekNumber:NaN}get weekday(){return this.isValid?At(this).weekday:NaN}get ordinal(){return this.isValid?Ut(this.c).ordinal:NaN}get monthShort(){return this.isValid?ht.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ht.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ht.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ht.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Lt(this.c),i=this.zone.offset(n-e),s=this.zone.offset(n+e),o=this.zone.offset(n-i*t),a=this.zone.offset(n-s*t);if(o===a)return[this];const l=n-o*t,c=n-a*t,h=ft(l,o),d=ft(c,a);return h.hour===d.hour&&h.minute===d.minute&&h.second===d.second&&h.millisecond===d.millisecond?[We(this,{ts:l}),We(this,{ts:c})]:[this]}get isInLeapYear(){return ot(this.year)}get daysInMonth(){return xt(this.year,this.month)}get daysInYear(){return this.isValid?$e(this.year):NaN}get weeksInWeekYear(){return this.isValid?Xt(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:i}=_.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Q.instance(e),t)}toLocal(){return this.setZone(H.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=we(e,H.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||n){const s=e.offset(this.ts),o=this.toObject();[i]=vt(o,s,e)}return We(this,{ts:i,zone:e})}else return I.invalid(pt(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return We(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=It(e,ti),n=!V(t.weekYear)||!V(t.weekNumber)||!V(t.weekday),i=!V(t.ordinal),s=!V(t.year),o=!V(t.month)||!V(t.day),a=s||o,l=t.weekYear||t.weekNumber;if((a||i)&&l)throw new _e("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new _e("Can't mix ordinal dates with month/day");let c;n?c=jn({...nn(this.c),...t}):V(t.ordinal)?(c={...this.toObject(),...t},V(t.day)&&(c.day=Math.min(xt(c.year,c.month),c.day))):c=Qn({...Ut(this.c),...t});const[h,d]=vt(c,this.o,this.zone);return We(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const t=C.fromDurationLike(e);return We(this,qn(this,t))}minus(e){if(!this.isValid)return this;const t=C.fromDurationLike(e).negate();return We(this,qn(this,t))}startOf(e){if(!this.isValid)return this;const t={},n=C.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){const i=Math.ceil(this.month/3);t.month=(i-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?_.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Bt}toLocaleString(e=Wt,t={}){return this.isValid?_.create(this.loc.clone(t),e).formatDateTime(this):Bt}toLocaleParts(e={}){return this.isValid?_.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=_t(this,o);return a+="T",a+=ei(this,o,t,n,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?_t(this,e==="extended"):null}toISOWeekDate(){return bt(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+ei(this,o==="extended",t,e,n,s):null}toRFC2822(){return bt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return bt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?_t(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(n&&(i+=" "),t?i+="z":e&&(i+="ZZ")),bt(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Bt}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return C.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=qr(t).map(C.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=io(a,l,s,i);return o?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(I.now(),e,t)}until(e){return this.isValid?M.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=n&&n<=i.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||I.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),ii(t,this.plus(n),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?ii(e.base||I.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(I.isDateTime))throw new re("min requires all arguments be DateTimes");return Hn(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(I.isDateTime))throw new re("max requires all arguments be DateTimes");return Hn(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=N.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return ir(o,e,t)}static fromStringExplain(e,t,n={}){return I.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return Wt}static get DATE_MED(){return gi}static get DATE_MED_WITH_WEEKDAY(){return Cr}static get DATE_FULL(){return yi}static get DATE_HUGE(){return vi}static get TIME_SIMPLE(){return Zi}static get TIME_WITH_SECONDS(){return Si}static get TIME_WITH_SHORT_OFFSET(){return Ti}static get TIME_WITH_LONG_OFFSET(){return wi}static get TIME_24_SIMPLE(){return Gi}static get TIME_24_WITH_SECONDS(){return Wi}static get TIME_24_WITH_SHORT_OFFSET(){return xi}static get TIME_24_WITH_LONG_OFFSET(){return Xi}static get DATETIME_SHORT(){return Ii}static get DATETIME_SHORT_WITH_SECONDS(){return ki}static get DATETIME_MED(){return Ri}static get DATETIME_MED_WITH_SECONDS(){return Vi}static get DATETIME_MED_WITH_WEEKDAY(){return Yr}static get DATETIME_FULL(){return Ci}static get DATETIME_FULL_WITH_SECONDS(){return Yi}static get DATETIME_HUGE(){return Li}static get DATETIME_HUGE_WITH_SECONDS(){return Ei}}function Be(r){if(I.isDateTime(r))return r;if(r&&r.valueOf&&Re(r.valueOf()))return I.fromJSDate(r);if(r&&typeof r=="object")return I.fromObject(r);throw new re(`Unknown datetime argument: ${r}, of type ${typeof r}`)}class xo{constructor(e){this.value=e}}const fn=/(milliseconds|ms)/i,bn=/(seconds|second|secs|sec|s)/i,gn=/(minutes|minute|mins|min)/i,yn=/(hours|hour|h)/i,vn=/(?:(week\s*|work\s*|business\s*)?(days|day|d))/i,Zn=/(weeks|week|w)/i,Sn=/(months|month)/i,Tn=/(years|year|y)/i,Xo=new RegExp(`(\\d+\\W*)(${fn.source}|${bn.source}|${gn.source}|${yn.source}|${vn.source}|${Zn.source}|${Sn.source}|${Tn.source})(?:\\s*,\\s*|\\s*)`,"g"),Io=/(?:\W|^)(!\w+)/,rn=new RegExp(`(by|before|after)?(\\s*${Io.source}\\s*)?(?:plus|\\+)?\\s*(${Xo.source})*`),ko=/january|february|march|april|may|june|july|august|september|october|november|december/,Ro=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,wn=new RegExp(`(?:(${ko.source})|(${Ro.source}))`),Vo=new RegExp(`(([0-3]?[0-9])\\s+${wn.source})`),Co=new RegExp(`(${wn.source}\\s+([0-3]?[0-9](?!\\d)))`),Dt=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\d{2})?([ap]m)|([012]?[0-9])(:\d{2})?)/,Yo=new RegExp(`(?:(?:${Vo.source}|${Co.source}),?(?:\\s+(\\d{4}),?)?(?:\\s+${Dt.source})?)|(${wn.source}(?:\\s+(\\d{1,4}))?)`),Lo=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2,}(?:\.\d*)?Z/,sn=/now/,Eo=new RegExp(`(\\d{1,5}(\\/\\d{1,5}(\\/\\d{1,5}(?:(?:,|\\s)+${Dt.source})?)?)?)`),si=new RegExp(`(${Lo.source})|(${sn.source})|${Dt.source}|(${Eo.source})|(${rn.source})|${Yo.source}`),No=new RegExp(`(?:(\\d+|other)?\\s*)(${fn.source}|${bn.source}|${gn.source}|${yn.source}|${vn.source}|${Zn.source}|${Sn.source}|${Tn.source})`,"g"),Do=new RegExp(`((\\s+for\\s+(\\d+\\W*)(${fn.source}|${bn.source}|${gn.source}|${yn.source}|${vn.source}|${Zn.source}|${Sn.source}|${Tn.source}|(times)))|(\\s+x\\s*(\\d+)))?`),fr=new RegExp(`\\s*every\\s+${No.source}${Do.source}`),zo=new RegExp(`((${si.source})(?:\\s*(?:-|to)\\s*(${si.source}))?)(${fr.source})?\\s*:`);new RegExp(`^(\\s*)${zo.source}(.*)`,"i");const oi=new RegExp(`(\\d{4}(-\\d{2}(-\\d{2}(?:\\s+${Dt.source})?)?)?)`),Mo=new RegExp(`((?:${oi.source}|(${rn.source})|(${sn.source}))(\\s*/\\s*(?:${oi.source}|(${rn.source})|(${sn.source})))?)(${fr.source})?\\s*:`);new RegExp(`^(\\s*)${Mo.source}(.*)`,"i");const Oo="M/d/y";var ai;(function(r){r.TEXT="text",r.LIST_ITEM="listItem",r.CHECKBOX="checkbox",r.IMAGE="image"})(ai||(ai={}));var li;(function(r){r.Comment="comment",r.CheckboxItemIndicator="checkboxItemIndicator",r.listItemIndicator="listItemIndicator",r.ListItemContents="listItemContents",r.Tag="tag",r.tagDefinition="tagDefinition",r.Title="title",r.View="view",r.Viewer="viewer",r.Description="description",r.Section="section",r.DateRange="dateRange",r.DateRangeColon="dateRangeColon",r.Event="event",r.Edit="edit",r.Editor="editor",r.Recurrence="recurrence",r.FrontmatterDelimiter="frontMatterDelimiter",r.HeaderKey="headerKey",r.HeaderKeyColon="headerKeyColon",r.HeaderValue="headerValue"})(li||(li={}));const Ho=r=>({fromDateTime:I.fromISO(r.fromDateTimeIso),toDateTime:I.fromISO(r.toDateTimeIso)});function Fo(){const r=I.now();return{events:new xo([]),ranges:[],foldables:[],ids:{},header:{dateFormat:Oo},metadata:{earliestTime:r.minus({years:5}).toISO(),latestTime:r.plus({years:5}).toISO(),maxDurationDays:r.diff(r.minus({years:1})).as("days"),startLineIndex:0,endLineIndex:0,startStringIndex:0,endStringIndex:0,preferredInterpolationFormat:void 0}}}const Gn=Symbol.for("yaml.alias"),Po=Symbol.for("yaml.document"),Ve=Symbol.for("yaml.map"),br=Symbol.for("yaml.pair"),Wn=Symbol.for("yaml.scalar"),ct=Symbol.for("yaml.seq"),me=Symbol.for("yaml.node.type"),Je=r=>!!r&&typeof r=="object"&&r[me]===Gn,zt=r=>!!r&&typeof r=="object"&&r[me]===Po,gr=r=>!!r&&typeof r=="object"&&r[me]===Ve,B=r=>!!r&&typeof r=="object"&&r[me]===br,K=r=>!!r&&typeof r=="object"&&r[me]===Wn,xn=r=>!!r&&typeof r=="object"&&r[me]===ct;function ee(r){if(r&&typeof r=="object")switch(r[me]){case Ve:case ct:return!0}return!1}function q(r){if(r&&typeof r=="object")switch(r[me]){case Gn:case Ve:case Wn:case ct:return!0}return!1}const Ko=r=>(K(r)||ee(r))&&!!r.anchor,xe=Symbol("break visit"),Jo=Symbol("skip children"),et=Symbol("remove node");function it(r,e){const t=Uo(e);zt(r)?De(null,r.contents,t,Object.freeze([r]))===et&&(r.contents=null):De(null,r,t,Object.freeze([]))}it.BREAK=xe;it.SKIP=Jo;it.REMOVE=et;function De(r,e,t,n){const i=Bo(r,e,t,n);if(q(i)||B(i))return Ao(r,n,i),De(r,i,t,n);if(typeof i!="symbol"){if(ee(e)){n=Object.freeze(n.concat(e));for(let s=0;s<e.items.length;++s){const o=De(s,e.items[s],t,n);if(typeof o=="number")s=o-1;else{if(o===xe)return xe;o===et&&(e.items.splice(s,1),s-=1)}}}else if(B(e)){n=Object.freeze(n.concat(e));const s=De("key",e.key,t,n);if(s===xe)return xe;s===et&&(e.key=null);const o=De("value",e.value,t,n);if(o===xe)return xe;o===et&&(e.value=null)}}return i}function Uo(r){return typeof r=="object"&&(r.Collection||r.Node||r.Value)?Object.assign({Alias:r.Node,Map:r.Node,Scalar:r.Node,Seq:r.Node},r.Value&&{Map:r.Value,Scalar:r.Value,Seq:r.Value},r.Collection&&{Map:r.Collection,Seq:r.Collection},r):r}function Bo(r,e,t,n){var i,s,o,a,l;if(typeof t=="function")return t(r,e,n);if(gr(e))return(i=t.Map)==null?void 0:i.call(t,r,e,n);if(xn(e))return(s=t.Seq)==null?void 0:s.call(t,r,e,n);if(B(e))return(o=t.Pair)==null?void 0:o.call(t,r,e,n);if(K(e))return(a=t.Scalar)==null?void 0:a.call(t,r,e,n);if(Je(e))return(l=t.Alias)==null?void 0:l.call(t,r,e,n)}function Ao(r,e,t){const n=e[e.length-1];if(ee(n))n.items[r]=t;else if(B(n))r==="key"?n.key=t:n.value=t;else if(zt(n))n.contents=t;else{const i=Je(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}function yr(r){if(/[\x00-\x19\s,[\]{}]/.test(r)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(r)}`;throw new Error(t)}return!0}function Qe(r,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,s=n.length;i<s;++i){const o=n[i],a=Qe(r,n,String(i),o);a===void 0?delete n[i]:a!==o&&(n[i]=a)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const s=n.get(i),o=Qe(r,n,i,s);o===void 0?n.delete(i):o!==s&&n.set(i,o)}else if(n instanceof Set)for(const i of Array.from(n)){const s=Qe(r,n,i,i);s===void 0?n.delete(i):s!==i&&(n.delete(i),n.add(s))}else for(const[i,s]of Object.entries(n)){const o=Qe(r,n,i,s);o===void 0?delete n[i]:o!==s&&(n[i]=o)}return r.call(e,t,n)}function de(r,e,t){if(Array.isArray(r))return r.map((n,i)=>de(n,String(i),t));if(r&&typeof r.toJSON=="function"){if(!t||!Ko(r))return r.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(r,n),t.onCreate=s=>{n.res=s,delete t.onCreate};const i=r.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof r=="bigint"&&!(t!=null&&t.keep)?Number(r):r}class Xn{constructor(e){Object.defineProperty(this,me,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:i,reviver:s}={}){if(!zt(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=de(this,"",o);if(typeof i=="function")for(const{count:l,res:c}of o.anchors.values())i(c,l);return typeof s=="function"?Qe(s,{"":a},"",a):a}}class _o extends Xn{constructor(e){super(Gn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return it(e,{Node:(n,i)=>{if(i===this)return it.BREAK;i.anchor===this.source&&(t=i)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:s}=t,o=this.resolve(i);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(de(o,null,t),a=n.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Zt(i,o,n)),a.count*a.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,n){const i=`*${this.source}`;if(e){if(yr(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function Zt(r,e,t){if(Je(e)){const n=e.resolve(r),i=t&&n&&t.get(n);return i?i.count*i.aliasCount:0}else if(ee(e)){let n=0;for(const i of e.items){const s=Zt(r,i,t);s>n&&(n=s)}return n}else if(B(e)){const n=Zt(r,e.key,t),i=Zt(r,e.value,t);return Math.max(n,i)}return 1}const vr=r=>!r||typeof r!="function"&&typeof r!="object";class P extends Xn{constructor(e){super(Wn),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:de(this.value,e,t)}toString(){return String(this.value)}}P.BLOCK_FOLDED="BLOCK_FOLDED";P.BLOCK_LITERAL="BLOCK_LITERAL";P.PLAIN="PLAIN";P.QUOTE_DOUBLE="QUOTE_DOUBLE";P.QUOTE_SINGLE="QUOTE_SINGLE";const jo="tag:yaml.org,2002:";function Qo(r,e,t){if(e){const n=t.filter(s=>s.tag===e),i=n.find(s=>!s.format)??n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(n=>{var i;return((i=n.identify)==null?void 0:i.call(n,r))&&!n.format})}function kt(r,e,t){var d,m,u;if(zt(r)&&(r=r.contents),q(r))return r;if(B(r)){const p=(m=(d=t.schema[Ve]).createNode)==null?void 0:m.call(d,t.schema,null,t);return p.items.push(r),p}(r instanceof String||r instanceof Number||r instanceof Boolean||typeof BigInt<"u"&&r instanceof BigInt)&&(r=r.valueOf());const{aliasDuplicateObjects:n,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=t;let l;if(n&&r&&typeof r=="object"){if(l=a.get(r),l)return l.anchor||(l.anchor=i(r)),new _o(l.anchor);l={anchor:null,node:null},a.set(r,l)}e!=null&&e.startsWith("!!")&&(e=jo+e.slice(2));let c=Qo(r,e,o.tags);if(!c){if(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),!r||typeof r!="object"){const p=new P(r);return l&&(l.node=p),p}c=r instanceof Map?o[Ve]:Symbol.iterator in Object(r)?o[ct]:o[Ve]}s&&(s(c),delete t.onTagObj);const h=c!=null&&c.createNode?c.createNode(t.schema,r,t):typeof((u=c==null?void 0:c.nodeClass)==null?void 0:u.from)=="function"?c.nodeClass.from(t.schema,r,t):new P(r);return e?h.tag=e:c.default||(h.tag=c.tag),l&&(l.node=h),h}function ci(r,e,t){let n=t;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return kt(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:r,sourceObjects:new Map})}const $o=r=>r==null||typeof r=="object"&&!!r[Symbol.iterator]().next().done;class Mt extends Xn{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>q(n)||B(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if($o(e))this.add(t);else{const[n,...i]=e,s=this.get(n,!0);if(ee(s))s.addIn(i,t);else if(s===void 0&&this.schema)this.set(n,ci(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const i=this.get(t,!0);if(ee(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...i]=e,s=this.get(n,!0);return i.length===0?!t&&K(s)?s.value:s:ee(s)?s.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!B(t))return!1;const n=t.value;return n==null||e&&K(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const i=this.get(t,!0);return ee(i)?i.hasIn(n):!1}setIn(e,t){const[n,...i]=e;if(i.length===0)this.set(n,t);else{const s=this.get(n,!0);if(ee(s))s.setIn(i,t);else if(s===void 0&&this.schema)this.set(n,ci(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}Mt.maxFlowStringSingleLineLength=60;const qo=r=>r.replace(/^(?!$)(?: $)?/gm,"#");function rt(r,e){return/^\n+$/.test(r)?r.substring(1):e?r.replace(/^(?! *$)/gm,e):r}const Ie=(r,e,t)=>r.endsWith(`
`)?rt(t,e):t.includes(`
`)?`
`+rt(t,e):(r.endsWith(" ")?"":" ")+t,Zr="flow",on="block",St="quoted";function Ot(r,e,t="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return r;const l=Math.max(1+s,1+i-e.length);if(r.length<=l)return r;const c=[],h={};let d=i-e.length;typeof n=="number"&&(n>i-Math.max(2,s)?c.push(0):d=i-n);let m,u,p=!1,b=-1,y=-1,g=-1;t===on&&(b=ui(r,b),b!==-1&&(d=b+l));for(let T;T=r[b+=1];){if(t===St&&T==="\\"){switch(y=b,r[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}g=b}if(T===`
`)t===on&&(b=ui(r,b)),d=b+l,m=void 0;else{if(T===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const S=r[b+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(m=b)}if(b>=d)if(m)c.push(m),d=m+l,m=void 0;else if(t===St){for(;u===" "||u==="	";)u=T,T=r[b+=1],p=!0;const S=b>g+1?b-2:y-1;if(h[S])return r;c.push(S),h[S]=!0,d=S+l,m=void 0}else p=!0}u=T}if(p&&a&&a(),c.length===0)return r;o&&o();let v=r.slice(0,c[0]);for(let T=0;T<c.length;++T){const S=c[T],G=c[T+1]||r.length;S===0?v=`
${e}${r.slice(0,G)}`:(t===St&&h[S]&&(v+=`${r[S]}\\`),v+=`
${e}${r.slice(S+1,G)}`)}return v}function ui(r,e){let t=r[e+1];for(;t===" "||t==="	";){do t=r[e+=1];while(t&&t!==`
`);t=r[e+1]}return e}const Ht=(r,e)=>({indentAtStart:e?r.indent.length:r.indentAtStart,lineWidth:r.options.lineWidth,minContentWidth:r.options.minContentWidth}),Ft=r=>/^(%|---|\.\.\.)/m.test(r);function ea(r,e,t){if(!e||e<0)return!1;const n=e-t,i=r.length;if(i<=n)return!1;for(let s=0,o=0;s<i;++s)if(r[s]===`
`){if(s-o>n)return!0;if(o=s+1,i-o<=n)return!1}return!0}function tt(r,e){const t=JSON.stringify(r);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(Ft(r)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const h=t.substr(l+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||t[l+2]==='"'||t.length<i)l+=1;else{for(o+=t.slice(a,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
`,l+=2;o+=s,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,n?o:Ot(o,s,St,Ht(e,!1))}function an(r,e){if(e.options.singleQuote===!1||e.implicitKey&&r.includes(`
`)||/[ \t]\n|\n[ \t]/.test(r))return tt(r,e);const t=e.indent||(Ft(r)?"  ":""),n="'"+r.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Ot(n,t,Zr,Ht(e,!1))}function ze(r,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=tt;else{const i=r.includes('"'),s=r.includes("'");i&&!s?n=an:s&&!i?n=tt:n=t?an:tt}return n(r,e)}let ln;try{ln=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{ln=/\n+(?!\n|$)/g}function Tt({comment:r,type:e,value:t},n,i,s){const{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return ze(t,n);const c=n.indent||(n.forceBlockIndent||Ft(t)?"  ":""),h=o==="literal"?!0:o==="folded"||e===P.BLOCK_FOLDED?!1:e===P.BLOCK_LITERAL?!0:!ea(t,l,c.length);if(!t)return h?`|
`:`>
`;let d,m;for(m=t.length;m>0;--m){const Z=t[m-1];if(Z!==`
`&&Z!=="	"&&Z!==" ")break}let u=t.substring(m);const p=u.indexOf(`
`);p===-1?d="-":t===u||p!==u.length-1?(d="+",s&&s()):d="",u&&(t=t.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(ln,`$&${c}`));let b=!1,y,g=-1;for(y=0;y<t.length;++y){const Z=t[y];if(Z===" ")b=!0;else if(Z===`
`)g=y;else break}let v=t.substring(0,g<y?g+1:y);v&&(t=t.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let S=(h?"|":">")+(b?c?"2":"1":"")+d;if(r&&(S+=" "+a(r.replace(/ ?[\r\n]+/g," ")),i&&i()),h)return t=t.replace(/\n+/g,`$&${c}`),`${S}
${c}${v}${t}${u}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const G=Ot(`${v}${t}${u}`,c,on,Ht(n,!0));return`${S}
${c}${G}`}function ta(r,e,t,n){const{type:i,value:s}=r,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:h}=e;if(a&&/[\n[\]{},]/.test(s)||h&&/[[\]{},]/.test(s))return ze(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||h||!s.includes(`
`)?ze(s,e):Tt(r,e,t,n);if(!a&&!h&&i!==P.PLAIN&&s.includes(`
`))return Tt(r,e,t,n);if(Ft(s)){if(l==="")return e.forceBlockIndent=!0,Tt(r,e,t,n);if(a&&l===c)return ze(s,e)}const d=s.replace(/\n+/g,`$&
${l}`);if(o){const m=b=>{var y;return b.default&&b.tag!=="tag:yaml.org,2002:str"&&((y=b.test)==null?void 0:y.test(d))},{compat:u,tags:p}=e.doc.schema;if(p.some(m)||u!=null&&u.some(m))return ze(s,e)}return a?d:Ot(d,l,Zr,Ht(e,!1))}function na(r,e,t,n){const{implicitKey:i,inFlow:s}=e,o=typeof r.value=="string"?r:Object.assign({},r,{value:String(r.value)});let{type:a}=r;a!==P.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=P.QUOTE_DOUBLE);const l=h=>{switch(h){case P.BLOCK_FOLDED:case P.BLOCK_LITERAL:return i||s?ze(o.value,e):Tt(o,e,t,n);case P.QUOTE_DOUBLE:return tt(o.value,e);case P.QUOTE_SINGLE:return an(o.value,e);case P.PLAIN:return ta(o,e,t,n);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:h,defaultStringType:d}=e.options,m=i&&h||d;if(c=l(m),c===null)throw new Error(`Unsupported default string type ${m}`)}return c}function ia(r,e){const t=Object.assign({blockQuote:!0,commentString:qo,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},r.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:r,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function ra(r,e){var i;if(e.tag){const s=r.filter(o=>o.tag===e.tag);if(s.length>0)return s.find(o=>o.format===e.format)??s[0]}let t,n;if(K(e)){n=e.value;const s=r.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,n)});t=s.find(o=>o.format===e.format)??s.find(o=>!o.format)}else n=e,t=r.find(s=>s.nodeClass&&n instanceof s.nodeClass);if(!t){const s=((i=n==null?void 0:n.constructor)==null?void 0:i.name)??typeof n;throw new Error(`Tag not resolved for ${s} value`)}return t}function sa(r,e,{anchors:t,doc:n}){if(!n.directives)return"";const i=[],s=(K(r)||ee(r))&&r.anchor;s&&yr(s)&&(t.add(s),i.push(`&${s}`));const o=r.tag?r.tag:e.default?null:e.tag;return o&&i.push(n.directives.tagString(o)),i.join(" ")}function Rt(r,e,t,n){var l;if(B(r))return r.toString(e,t,n);if(Je(r)){if(e.doc.directives)return r.toString(e);if((l=e.resolvedAliases)!=null&&l.has(r))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(r):e.resolvedAliases=new Set([r]),r=r.resolve(e.doc)}let i;const s=q(r)?r:e.doc.createNode(r,{onTagObj:c=>i=c});i||(i=ra(e.doc.schema.tags,s));const o=sa(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(s,e,t,n):K(s)?na(s,e,t,n):s.toString(e,t,n);return o?K(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function oa({key:r,value:e},t,n,i){const{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:h,simpleKeys:d}}=t;let m=q(r)&&r.comment||null;if(d){if(m)throw new Error("With simple keys, key nodes cannot have comments");if(ee(r)){const k="With simple keys, collection cannot be used as a key value";throw new Error(k)}}let u=!d&&(!r||m&&e==null&&!t.inFlow||ee(r)||(K(r)?r.type===P.BLOCK_FOLDED||r.type===P.BLOCK_LITERAL:typeof r=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!u&&(d||!s),indent:a+l});let p=!1,b=!1,y=Rt(r,t,()=>p=!0,()=>b=!0);if(!u&&!t.inFlow&&y.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(t.inFlow){if(s||e==null)return p&&n&&n(),y===""?"?":u?`? ${y}`:y}else if(s&&!d||e==null&&u)return y=`? ${y}`,m&&!p?y+=Ie(y,t.indent,c(m)):b&&i&&i(),y;p&&(m=null),u?(m&&(y+=Ie(y,t.indent,c(m))),y=`? ${y}
${a}:`):(y=`${y}:`,m&&(y+=Ie(y,t.indent,c(m))));let g,v,T;q(e)?(g=!!e.spaceBefore,v=e.commentBefore,T=e.comment):(g=!1,v=null,T=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!u&&!m&&K(e)&&(t.indentAtStart=y.length+1),b=!1,!h&&l.length>=2&&!t.inFlow&&!u&&xn(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let S=!1;const G=Rt(e,t,()=>S=!0,()=>b=!0);let Z=" ";if(m||g||v){if(Z=g?`
`:"",v){const k=c(v);Z+=`
${rt(k,t.indent)}`}G===""&&!t.inFlow?Z===`
`&&(Z=`

`):Z+=`
${t.indent}`}else if(!u&&ee(e)){const k=G[0],X=G.indexOf(`
`),L=X!==-1,J=t.inFlow??e.flow??e.items.length===0;if(L||!J){let U=!1;if(L&&(k==="&"||k==="!")){let D=G.indexOf(" ");k==="&"&&D!==-1&&D<X&&G[D+1]==="!"&&(D=G.indexOf(" ",D+1)),(D===-1||X<D)&&(U=!0)}U||(Z=`
${t.indent}`)}}else(G===""||G[0]===`
`)&&(Z="");return y+=Z+G,t.inFlow?S&&n&&n():T&&!S?y+=Ie(y,t.indent,c(T)):b&&i&&i(),y}function aa(r,e){(r==="debug"||r==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const di="<<";function Sr(r,e,{key:t,value:n}){if(r!=null&&r.doc.schema.merge&&la(t))if(n=Je(n)?n.resolve(r.doc):n,xn(n))for(const i of n.items)jt(r,e,i);else if(Array.isArray(n))for(const i of n)jt(r,e,i);else jt(r,e,n);else{const i=de(t,"",r);if(e instanceof Map)e.set(i,de(n,i,r));else if(e instanceof Set)e.add(i);else{const s=ca(t,i,r),o=de(n,s,r);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}const la=r=>r===di||K(r)&&r.value===di&&(!r.type||r.type===P.PLAIN);function jt(r,e,t){const n=r&&Je(t)?t.resolve(r.doc):t;if(!gr(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,r,Map);for(const[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function ca(r,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(q(r)&&t&&t.doc){const n=ia(t.doc,{});n.anchors=new Set;for(const s of t.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=r.toString(n);if(!t.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),aa(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}function In(r,e,t){const n=kt(r,void 0,t),i=kt(e,void 0,t);return new be(n,i)}class be{constructor(e,t=null){Object.defineProperty(this,me,{value:br}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return q(t)&&(t=t.clone(e)),q(n)&&(n=n.clone(e)),new be(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return Sr(t,n,this)}toString(e,t,n){return e!=null&&e.doc?oa(this,e,t,n):JSON.stringify(this)}}function Tr(r,e,t){return(e.inFlow??r.flow?da:ua)(r,e,t)}function ua({comment:r,items:e},t,{blockItemPrefix:n,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,h=Object.assign({},t,{indent:s,type:null});let d=!1;const m=[];for(let p=0;p<e.length;++p){const b=e[p];let y=null;if(q(b))!d&&b.spaceBefore&&m.push(""),Vt(t,m,b.commentBefore,d),b.comment&&(y=b.comment);else if(B(b)){const v=q(b.key)?b.key:null;v&&(!d&&v.spaceBefore&&m.push(""),Vt(t,m,v.commentBefore,d))}d=!1;let g=Rt(b,h,()=>y=null,()=>d=!0);y&&(g+=Ie(g,s,c(y))),d&&y&&(d=!1),m.push(n+g)}let u;if(m.length===0)u=i.start+i.end;else{u=m[0];for(let p=1;p<m.length;++p){const b=m[p];u+=b?`
${l}${b}`:`
`}}return r?(u+=`
`+rt(c(r),l),a&&a()):d&&o&&o(),u}function da({comment:r,items:e},t,{flowChars:n,itemIndent:i,onComment:s}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=t;i+=a;const h=Object.assign({},t,{indent:i,inFlow:!0,type:null});let d=!1,m=0;const u=[];for(let g=0;g<e.length;++g){const v=e[g];let T=null;if(q(v))v.spaceBefore&&u.push(""),Vt(t,u,v.commentBefore,!1),v.comment&&(T=v.comment);else if(B(v)){const G=q(v.key)?v.key:null;G&&(G.spaceBefore&&u.push(""),Vt(t,u,G.commentBefore,!1),G.comment&&(d=!0));const Z=q(v.value)?v.value:null;Z?(Z.comment&&(T=Z.comment),Z.commentBefore&&(d=!0)):v.value==null&&G&&G.comment&&(T=G.comment)}T&&(d=!0);let S=Rt(v,h,()=>T=null);g<e.length-1&&(S+=","),T&&(S+=Ie(S,i,c(T))),!d&&(u.length>m||S.includes(`
`))&&(d=!0),u.push(S),m=u.length}let p;const{start:b,end:y}=n;if(u.length===0)p=b+y;else if(d||(d=u.reduce((v,T)=>v+T.length+2,2)>Mt.maxFlowStringSingleLineLength),d){p=b;for(const g of u)p+=g?`
${a}${o}${g}`:`
`;p+=`
${o}${y}`}else p=`${b}${l}${u.join(" ")}${l}${y}`;return r&&(p+=Ie(p,o,c(r)),s&&s()),p}function Vt({indent:r,options:{commentString:e}},t,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const s=rt(e(n),r);t.push(s.trimStart())}}function ke(r,e){const t=K(e)?e.value:e;for(const n of r)if(B(n)&&(n.key===e||n.key===t||K(n.key)&&n.key.value===t))return n}class Ne extends Mt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ve,e),this.items=[]}static from(e,t,n){const{keepUndefined:i,replacer:s}=n,o=new this(e),a=(l,c)=>{if(typeof s=="function")c=s.call(t,l,c);else if(Array.isArray(s)&&!s.includes(l))return;(c!==void 0||i)&&o.items.push(In(l,c,n))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){var o;let n;B(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new be(e,e==null?void 0:e.value):n=new be(e.key,e.value);const i=ke(this.items,n.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!t)throw new Error(`Key ${n.key} already set`);K(i.value)&&vr(n.value)?i.value.value=n.value:i.value=n.value}else if(s){const a=this.items.findIndex(l=>s(n,l)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(e){const t=ke(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const n=ke(this.items,e),i=n==null?void 0:n.value;return(!t&&K(i)?i.value:i)??void 0}has(e){return!!ke(this.items,e)}set(e,t){this.add(new be(e,t),!0)}toJSON(e,t,n){const i=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(i);for(const s of this.items)Sr(t,i,s);return i}toString(e,t,n){if(!e)return JSON.stringify(this);for(const i of this.items)if(!B(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Tr(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}class wr extends Mt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ct,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=gt(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=gt(e);if(typeof n!="number")return;const i=this.items[n];return!t&&K(i)?i.value:i}has(e){const t=gt(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=gt(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[n];K(i)&&vr(t)?i.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let i=0;for(const s of this.items)n.push(de(s,String(i++),t));return n}toString(e,t,n){return e?Tr(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:i}=n,s=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof i=="function"){const l=t instanceof Set?a:String(o++);a=i.call(t,l,a)}s.items.push(kt(a,void 0,n))}}return s}}function gt(r){let e=K(r)?r.value:r;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function ha(r,e,t){const{replacer:n}=t,i=new wr(r);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else a=o;i.items.push(In(a,l,t))}return i}class kn extends wr{constructor(){super(),this.add=Ne.prototype.add.bind(this),this.delete=Ne.prototype.delete.bind(this),this.get=Ne.prototype.get.bind(this),this.has=Ne.prototype.has.bind(this),this.set=Ne.prototype.set.bind(this),this.tag=kn.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const i of this.items){let s,o;if(B(i)?(s=de(i.key,"",t),o=de(i.value,s,t)):s=de(i,"",t),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(e,t,n){const i=ha(e,t,n),s=new this;return s.items=i.items,s}}kn.tag="tag:yaml.org,2002:omap";class Rn extends Ne{constructor(e){super(e),this.tag=Rn.tag}add(e){let t;B(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new be(e.key,null):t=new be(e,null),ke(this.items,t.key)||this.items.push(t)}get(e,t){const n=ke(this.items,e);return!t&&B(n)?K(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=ke(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new be(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:i}=n,s=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof i=="function"&&(o=i.call(t,o,o)),s.items.push(In(o,null,n));return s}}Rn.tag="tag:yaml.org,2002:set";var ma={exports:{}};(function(r){var e;(function(){e=r.exports})(),e.foldLength=75,e.newLineChar=`\r
`,e.helpers={updateTimezones:function(t){var n,i,s,o,a,l;if(!t||t.name!=="vcalendar")return t;for(n=t.getAllSubcomponents(),i=[],s={},a=0;a<n.length;a++)n[a].name==="vtimezone"?(l=n[a].getFirstProperty("tzid").getFirstValue(),s[l]=n[a]):i=i.concat(n[a].getAllProperties());for(o={},a=0;a<i.length;a++)(l=i[a].getParameter("tzid"))&&(o[l]=!0);for(a in s)s.hasOwnProperty(a)&&!o[a]&&t.removeSubcomponent(s[a]);for(a in o)o.hasOwnProperty(a)&&!s[a]&&e.TimezoneService.has(a)&&t.addSubcomponent(e.TimezoneService.get(a).component);return t},isStrictlyNaN:function(t){return typeof t=="number"&&isNaN(t)},strictParseInt:function(t){var n=parseInt(t,10);if(e.helpers.isStrictlyNaN(n))throw new Error('Could not extract integer from "'+t+'"');return n},formatClassType:function(n,i){if(!(typeof n>"u"))return n instanceof i?n:new i(n)},unescapedIndexOf:function(t,n,i){for(;(i=t.indexOf(n,i))!==-1;)if(i>0&&t[i-1]==="\\")i+=1;else return i;return-1},binsearchInsert:function(t,n,i){if(!t.length)return 0;for(var s=0,o=t.length-1,a,l;s<=o;)if(a=s+Math.floor((o-s)/2),l=i(n,t[a]),l<0)o=a-1;else if(l>0)s=a+1;else break;return l<0?a:l>0?a+1:a},dumpn:function(){e.debug&&(typeof console<"u"&&"log"in console?e.helpers.dumpn=function(n){console.log(n)}:e.helpers.dumpn=function(n){dump(n+`
`)},e.helpers.dumpn(arguments[0]))},clone:function(t,n){if(!t||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++)i.push(n?e.helpers.clone(t[s],!0):t[s]);return i}else{var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n?o[a]=e.helpers.clone(t[a],!0):o[a]=t[a]);return o}},foldline:function(n){for(var i="",s=n||"",o=0,a=0;s.length;){var l=s.codePointAt(o);l<128?++a:l<2048?a+=2:l<65536?a+=3:a+=4,a<e.foldLength+1?o+=l>65535?2:1:(i+=e.newLineChar+" "+s.substring(0,o),s=s.substring(o),o=a=0)}return i.substr(e.newLineChar.length+1)},pad2:function(n){typeof n!="string"&&(typeof n=="number"&&(n=parseInt(n)),n=String(n));var i=n.length;switch(i){case 0:return"00";case 1:return"0"+n;default:return n}},trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)},inherits:function(t,n,i){function s(){}s.prototype=t.prototype,n.prototype=new s,i&&e.helpers.extend(i,n.prototype)},extend:function(t,n){for(var i in t){var s=Object.getOwnPropertyDescriptor(t,i);s&&!Object.getOwnPropertyDescriptor(n,i)&&Object.defineProperty(n,i,s)}return n}},e.design=function(){var t=/\\\\|\\;|\\,|\\[Nn]/g,n=/\\|;|,|\n/g,i=/\\\\|\\,|\\[Nn]/g,s=/\\|,|\n/g;function o(f,W){var R={matches:/.*/,fromICAL:function(x,$){return v(x,f,$)},toICAL:function(x,$){var oe=W;return $&&(oe=new RegExp(oe.source+"|"+$)),x.replace(oe,function(pe){switch(pe){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return pe}})}};return R}var a={defaultType:"text"},l={defaultType:"text",multiValue:","},c={defaultType:"text",structuredValue:";"},h={defaultType:"integer"},d={defaultType:"date-time",allowedTypes:["date-time","date"]},m={defaultType:"date-time"},u={defaultType:"uri"},p={defaultType:"utc-offset"},b={defaultType:"recur"},y={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function g(f){switch(f){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return f}}function v(f,W,R){return f.indexOf("\\")===-1?f:(R&&(W=new RegExp(W.source+"|\\\\"+R)),f.replace(W,g))}var T={categories:l,url:u,version:a,uid:a},S={boolean:{values:["TRUE","FALSE"],fromICAL:function(f){switch(f){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(f){return f?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(f){var W=parseFloat(f);return e.helpers.isStrictlyNaN(W)?0:W},toICAL:function(f){return String(f)}},integer:{fromICAL:function(f){var W=parseInt(f);return e.helpers.isStrictlyNaN(W)?0:W},toICAL:function(f){return String(f)}},"utc-offset":{toICAL:function(f){return f.length<7?f.substr(0,3)+f.substr(4,2):f.substr(0,3)+f.substr(4,2)+f.substr(7,2)},fromICAL:function(f){return f.length<6?f.substr(0,3)+":"+f.substr(3,2):f.substr(0,3)+":"+f.substr(3,2)+":"+f.substr(5,2)},decorate:function(f){return e.UtcOffset.fromString(f)},undecorate:function(f){return f.toString()}}},G={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},Z=e.helpers.extend(S,{text:o(t,n),uri:{},binary:{decorate:function(f){return e.Binary.fromString(f)},undecorate:function(f){return f.toString()}},"cal-address":{},date:{decorate:function(f,W){return j.strict?e.Time.fromDateString(f,W):e.Time.fromString(f,W)},undecorate:function(f){return f.toString()},fromICAL:function(f){return!j.strict&&f.length>=15?Z["date-time"].fromICAL(f):f.substr(0,4)+"-"+f.substr(4,2)+"-"+f.substr(6,2)},toICAL:function(f){var W=f.length;return W==10?f.substr(0,4)+f.substr(5,2)+f.substr(8,2):W>=19?Z["date-time"].toICAL(f):f}},"date-time":{fromICAL:function(f){if(!j.strict&&f.length==8)return Z.date.fromICAL(f);var W=f.substr(0,4)+"-"+f.substr(4,2)+"-"+f.substr(6,2)+"T"+f.substr(9,2)+":"+f.substr(11,2)+":"+f.substr(13,2);return f[15]&&f[15]==="Z"&&(W+="Z"),W},toICAL:function(f){var W=f.length;if(W==10&&!j.strict)return Z.date.toICAL(f);if(W>=19){var R=f.substr(0,4)+f.substr(5,2)+f.substr(8,5)+f.substr(14,2)+f.substr(17,2);return f[19]&&f[19]==="Z"&&(R+="Z"),R}else return f},decorate:function(f,W){return j.strict?e.Time.fromDateTimeString(f,W):e.Time.fromString(f,W)},undecorate:function(f){return f.toString()}},duration:{decorate:function(f){return e.Duration.fromString(f)},undecorate:function(f){return f.toString()}},period:{fromICAL:function(f){var W=f.split("/");return W[0]=Z["date-time"].fromICAL(W[0]),e.Duration.isValueString(W[1])||(W[1]=Z["date-time"].fromICAL(W[1])),W},toICAL:function(f){return!j.strict&&f[0].length==10?f[0]=Z.date.toICAL(f[0]):f[0]=Z["date-time"].toICAL(f[0]),e.Duration.isValueString(f[1])||(!j.strict&&f[1].length==10?f[1]=Z.date.toICAL(f[1]):f[1]=Z["date-time"].toICAL(f[1])),f.join("/")},decorate:function(f,W){return e.Period.fromJSON(f,W,!j.strict)},undecorate:function(f){return f.toJSON()}},recur:{fromICAL:function(f){return e.Recur._stringToData(f,!0)},toICAL:function(f){var W="";for(var R in f)if(Object.prototype.hasOwnProperty.call(f,R)){var x=f[R];R=="until"?x.length>10?x=Z["date-time"].toICAL(x):x=Z.date.toICAL(x):R=="wkst"?typeof x=="number"&&(x=e.Recur.numericDayToIcalDay(x)):Array.isArray(x)&&(x=x.join(",")),W+=R.toUpperCase()+"="+x+";"}return W.substr(0,W.length-1)},decorate:function(W){return e.Recur.fromData(W)},undecorate:function(f){return f.toJSON()}},time:{fromICAL:function(f){if(f.length<6)return f;var W=f.substr(0,2)+":"+f.substr(2,2)+":"+f.substr(4,2);return f[6]==="Z"&&(W+="Z"),W},toICAL:function(f){if(f.length<8)return f;var W=f.substr(0,2)+f.substr(3,2)+f.substr(6,2);return f[8]==="Z"&&(W+="Z"),W}}}),k=e.helpers.extend(T,{action:a,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:a,class:a,comment:a,completed:m,contact:a,created:m,description:a,dtend:d,dtstamp:m,dtstart:d,due:d,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:b,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":m,location:a,method:a,organizer:{defaultType:"cal-address"},"percent-complete":h,priority:h,prodid:a,"related-to":a,repeat:h,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(f){return f.indexOf("/")!==-1?"period":f.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":d,resources:l,"request-status":c,rrule:b,sequence:h,status:a,summary:a,transp:a,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:p,tzoffsetto:p,tzurl:u,tzid:a,tzname:a}),X=e.helpers.extend(S,{text:o(i,s),uri:o(i,s),date:{decorate:function(f){return e.VCardTime.fromDateAndOrTimeString(f,"date")},undecorate:function(f){return f.toString()},fromICAL:function(f){return f.length==8?Z.date.fromICAL(f):f[0]=="-"&&f.length==6?f.substr(0,4)+"-"+f.substr(4):f},toICAL:function(f){return f.length==10?Z.date.toICAL(f):f[0]=="-"&&f.length==7?f.substr(0,4)+f.substr(5):f}},time:{decorate:function(f){return e.VCardTime.fromDateAndOrTimeString("T"+f,"time")},undecorate:function(f){return f.toString()},fromICAL:function(f){var W=X.time._splitZone(f,!0),R=W[0],x=W[1];return x.length==6?x=x.substr(0,2)+":"+x.substr(2,2)+":"+x.substr(4,2):x.length==4&&x[0]!="-"?x=x.substr(0,2)+":"+x.substr(2,2):x.length==5&&(x=x.substr(0,3)+":"+x.substr(3,2)),R.length==5&&(R[0]=="-"||R[0]=="+")&&(R=R.substr(0,3)+":"+R.substr(3)),x+R},toICAL:function(f){var W=X.time._splitZone(f),R=W[0],x=W[1];return x.length==8?x=x.substr(0,2)+x.substr(3,2)+x.substr(6,2):x.length==5&&x[0]!="-"?x=x.substr(0,2)+x.substr(3,2):x.length==6&&(x=x.substr(0,3)+x.substr(4,2)),R.length==6&&(R[0]=="-"||R[0]=="+")&&(R=R.substr(0,3)+R.substr(4)),x+R},_splitZone:function(f,W){var R=f.length-1,x=f.length-(W?5:6),$=f[x],oe,pe;return f[R]=="Z"?(oe=f[R],pe=f.substr(0,R)):f.length>6&&($=="-"||$=="+")?(oe=f.substr(x),pe=f.substr(0,x)):(oe="",pe=f),[oe,pe]}},"date-time":{decorate:function(f){return e.VCardTime.fromDateAndOrTimeString(f,"date-time")},undecorate:function(f){return f.toString()},fromICAL:function(f){return X["date-and-or-time"].fromICAL(f)},toICAL:function(f){return X["date-and-or-time"].toICAL(f)}},"date-and-or-time":{decorate:function(f){return e.VCardTime.fromDateAndOrTimeString(f,"date-and-or-time")},undecorate:function(f){return f.toString()},fromICAL:function(f){var W=f.split("T");return(W[0]?X.date.fromICAL(W[0]):"")+(W[1]?"T"+X.time.fromICAL(W[1]):"")},toICAL:function(f){var W=f.split("T");return X.date.toICAL(W[0])+(W[1]?"T"+X.time.toICAL(W[1]):"")}},timestamp:Z["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}}),L={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},J=e.helpers.extend(T,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:y,bday:y,caladruri:u,caluri:u,clientpidmap:c,email:a,fburl:u,fn:a,gender:c,geo:u,impp:u,key:u,kind:a,lang:{defaultType:"language-tag"},logo:u,member:u,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:l,note:a,org:{defaultType:"text",structuredValue:";"},photo:u,related:u,rev:{defaultType:"timestamp"},role:a,sound:u,source:u,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:a,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:a}),U=e.helpers.extend(S,{binary:Z.binary,date:X.date,"date-time":X["date-time"],"phone-number":{},uri:Z.uri,text:Z.text,time:Z.time,vcard:Z.text,"utc-offset":{toICAL:function(f){return f.substr(0,7)},fromICAL:function(f){return f.substr(0,7)},decorate:function(f){return e.UtcOffset.fromString(f)},undecorate:function(f){return f.toString()}}}),D={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},ne=e.helpers.extend(T,{fn:a,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:l,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(f){return f.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:a,tel:{defaultType:"phone-number"},email:a,mailer:a,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:a,role:a,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:c,note:l,prodid:a,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(f){return f.indexOf("T")===-1?"date":"date-time"}},"sort-string":a,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:a,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),O={value:Z,param:G,property:k},z={value:X,param:L,property:J},ye={value:U,param:D,property:ne},j={strict:!0,defaultSet:O,defaultType:"unknown",components:{vcard:z,vcard3:ye,vevent:O,vtodo:O,vjournal:O,valarm:O,vtimezone:O,daylight:O,standard:O},icalendar:O,vcard:z,vcard3:ye,getDesignSet:function(f){var W=f&&f in j.components;return W?j.components[f]:j.defaultSet}};return j}(),e.stringify=function(){var t=`\r
`,n="unknown",i=e.design,s=e.helpers;function o(l){typeof l[0]=="string"&&(l=[l]);for(var c=0,h=l.length,d="";c<h;c++)d+=o.component(l[c])+t;return d}o.component=function(l,c){var h=l[0].toUpperCase(),d="BEGIN:"+h+t,m=l[1],u=0,p=m.length,b=l[0];for(b==="vcard"&&l[1].length>0&&!(l[1][0][0]==="version"&&l[1][0][3]==="4.0")&&(b="vcard3"),c=c||i.getDesignSet(b);u<p;u++)d+=o.property(m[u],c)+t;for(var y=l[2]||[],g=0,v=y.length;g<v;g++)d+=o.component(y[g],c)+t;return d+="END:"+h,d},o.property=function(l,c,h){var d=l[0].toUpperCase(),m=l[0],u=l[1],p=d,b;for(b in u){var y=u[b];if(u.hasOwnProperty(b)){var T=b in c.param&&c.param[b].multiValue;T&&Array.isArray(y)?(c.param[b].multiValueSeparateDQuote&&(T='"'+T+'"'),y=y.map(o._rfc6868Unescape),y=o.multiValue(y,T,"unknown",null,c)):y=o._rfc6868Unescape(y),p+=";"+b.toUpperCase(),p+="="+o.propertyValue(y)}}if(l.length===3)return p+":";var g=l[2];c||(c=i.defaultSet);var v,T=!1,S=!1,G=!1;return m in c.property?(v=c.property[m],"multiValue"in v&&(T=v.multiValue),"structuredValue"in v&&Array.isArray(l[3])&&(S=v.structuredValue),"defaultType"in v?g===v.defaultType&&(G=!0):g===n&&(G=!0)):g===n&&(G=!0),G||(p+=";VALUE="+g.toUpperCase()),p+=":",T&&S?p+=o.multiValue(l[3],S,g,T,c,S):T?p+=o.multiValue(l.slice(3),T,g,null,c,!1):S?p+=o.multiValue(l[3],S,g,null,c,S):p+=o.value(l[3],g,c,!1),h?p:e.helpers.foldline(p)},o.propertyValue=function(l){return s.unescapedIndexOf(l,",")===-1&&s.unescapedIndexOf(l,":")===-1&&s.unescapedIndexOf(l,";")===-1?l:'"'+l+'"'},o.multiValue=function(l,c,h,d,m,u){for(var p="",b=l.length,y=0;y<b;y++)d&&Array.isArray(l[y])?p+=o.multiValue(l[y],d,h,null,m,u):p+=o.value(l[y],h,m,u),y!==b-1&&(p+=c);return p},o.value=function(l,c,h,d){return c in h.value&&"toICAL"in h.value[c]?h.value[c].toICAL(l,d):l},o._rfc6868Unescape=function(l){return l.replace(/[\n^"]/g,function(c){return a[c]})};var a={'"':"^'","\n":"^n","^":"^^"};return o}(),e.parse=function(){var t=/[^ \t]/,n=":",i=";",s="=",o="unknown",a="text",l=e.design,c=e.helpers;function h(u){this.message=u,this.name="ParserError";try{throw new Error}catch(b){if(b.stack){var p=b.stack.split(`
`);p.shift(),this.stack=p.join(`
`)}}}h.prototype=Error.prototype;function d(u){var p={},b=p.component=[];if(p.stack=[b],d._eachLine(u,function(y,g){d._handleContentLine(g,p)}),p.stack.length>1)throw new h("invalid ical body. component began but did not end");return p=null,b.length==1?b[0]:b}d.property=function(u,p){var b={component:[[],[]],designSet:p||l.defaultSet};return d._handleContentLine(u,b),b.component[1][0]},d.component=function(u){return d(u)},d.ParserError=h,d._handleContentLine=function(u,p){var b=u.indexOf(n),y=u.indexOf(i),g,v,T,S,G={};y!==-1&&b!==-1&&y>b&&(y=-1);var Z;if(y!==-1){if(T=u.substring(0,y).toLowerCase(),Z=d._parseParameters(u.substring(y),0,p.designSet),Z[2]==-1)throw new h("Invalid parameters in '"+u+"'");if(G=Z[0],g=Z[1].length+Z[2]+y,(v=u.substring(g).indexOf(n))!==-1)S=u.substring(g+v+1);else throw new h("Missing parameter value in '"+u+"'")}else if(b!==-1){if(T=u.substring(0,b).toLowerCase(),S=u.substring(b+1),T==="begin"){var k=[S.toLowerCase(),[],[]];p.stack.length===1?p.component.push(k):p.component[2].push(k),p.stack.push(p.component),p.component=k,p.designSet||(p.designSet=l.getDesignSet(p.component[0]));return}else if(T==="end"){p.component=p.stack.pop();return}}else throw new h('invalid line (no token ";" or ":") "'+u+'"');var X,L=!1,J=!1,U;T in p.designSet.property&&(U=p.designSet.property[T],"multiValue"in U&&(L=U.multiValue),"structuredValue"in U&&(J=U.structuredValue),S&&"detectType"in U&&(X=U.detectType(S))),X||("value"in G?X=G.value.toLowerCase():U?X=U.defaultType:X=o),delete G.value;var D;L&&J?(S=d._parseMultiValue(S,J,X,[],L,p.designSet,J),D=[T,G,X,S]):L?(D=[T,G,X],d._parseMultiValue(S,L,X,D,null,p.designSet,!1)):J?(S=d._parseMultiValue(S,J,X,[],null,p.designSet,J),D=[T,G,X,S]):(S=d._parseValue(S,X,p.designSet,!1),D=[T,G,X,S]),p.component[0]==="vcard"&&p.component[1].length===0&&!(T==="version"&&S==="4.0")&&(p.designSet=l.getDesignSet("vcard3")),p.component[1].push(D)},d._parseValue=function(u,p,b,y){return p in b.value&&"fromICAL"in b.value[p]?b.value[p].fromICAL(u,y):u},d._parseParameters=function(u,p,b){for(var y=p,g=0,v=s,T={},S,G,Z,k=-1,X,L,J;g!==!1&&(g=c.unescapedIndexOf(u,v,g+1))!==-1;){if(S=u.substr(y+1,g-y-1),S.length==0)throw new h("Empty parameter name in '"+u+"'");G=S.toLowerCase(),J=!1,L=!1,G in b.param&&b.param[G].valueType?X=b.param[G].valueType:X=a,G in b.param&&(L=b.param[G].multiValue,b.param[G].multiValueSeparateDQuote&&(J=d._rfc6868Escape('"'+L+'"')));var U=u[g+1];if(U==='"'){if(k=g+2,g=c.unescapedIndexOf(u,'"',k),L&&g!=-1)for(var D=!0;D;)u[g+1]==L&&u[g+2]=='"'?g=c.unescapedIndexOf(u,'"',g+3):D=!1;if(g===-1)throw new h('invalid line (no matching double quote) "'+u+'"');Z=u.substr(k,g-k),y=c.unescapedIndexOf(u,i,g),y===-1&&(g=!1)}else{k=g+1;var ne=c.unescapedIndexOf(u,i,k),O=c.unescapedIndexOf(u,n,k);O!==-1&&ne>O?(ne=O,g=!1):ne===-1?(O===-1?ne=u.length:ne=O,g=!1):(y=ne,g=ne),Z=u.substr(k,ne-k)}if(Z=d._rfc6868Escape(Z),L){var z=J||L;Z=d._parseMultiValue(Z,z,X,[],null,b)}else Z=d._parseValue(Z,X,b);L&&G in T?Array.isArray(T[G])?T[G].push(Z):T[G]=[T[G],Z]:T[G]=Z}return[T,Z,k]},d._rfc6868Escape=function(u){return u.replace(/\^['n^]/g,function(p){return m[p]})};var m={"^'":'"',"^n":`
`,"^^":"^"};return d._parseMultiValue=function(u,p,b,y,g,v,T){var S=0,G=0,Z;if(p.length===0)return u;for(;(S=c.unescapedIndexOf(u,p,G))!==-1;)Z=u.substr(G,S-G),g?Z=d._parseMultiValue(Z,g,b,[],null,v,T):Z=d._parseValue(Z,b,v,T),y.push(Z),G=S+p.length;return Z=u.substr(G),g?Z=d._parseMultiValue(Z,g,b,[],null,v,T):Z=d._parseValue(Z,b,v,T),y.push(Z),y.length==1?y[0]:y},d._eachLine=function(u,p){var b=u.length,y=u.search(t),g=y,v,T,S;do g=u.indexOf(`
`,y)+1,g>1&&u[g-2]==="\r"?S=2:S=1,g===0&&(g=b,S=0),T=u[y],T===" "||T==="	"?v+=u.substr(y+1,g-y-(S+1)):(v&&p(null,v),v=u.substr(y,g-y-S)),y=g;while(g!==b);v=v.trim(),v.length&&p(null,v)},d}(),e.Component=function(){var t=1,n=2,i=0;function s(o,a){typeof o=="string"&&(o=[o,[],[]]),this.jCal=o,this.parent=a||null}return s.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[i]},get _designSet(){var o=this.parent&&this.parent._designSet;return o||e.design.getDesignSet(this.name)},_hydrateComponent:function(o){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[o])return this._components[o];var a=new s(this.jCal[n][o],this);return this._hydratedComponentCount++,this._components[o]=a},_hydrateProperty:function(o){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[o])return this._properties[o];var a=new e.Property(this.jCal[t][o],this);return this._hydratedPropertyCount++,this._properties[o]=a},getFirstSubcomponent:function(o){if(o){for(var a=0,l=this.jCal[n],c=l.length;a<c;a++)if(l[a][i]===o){var h=this._hydrateComponent(a);return h}}else if(this.jCal[n].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(o){var a=this.jCal[n].length,l=0;if(o){for(var c=this.jCal[n],h=[];l<a;l++)o===c[l][i]&&h.push(this._hydrateComponent(l));return h}else{if(!this._components||this._hydratedComponentCount!==a)for(;l<a;l++)this._hydrateComponent(l);return this._components||[]}},hasProperty:function(o){for(var a=this.jCal[t],l=a.length,c=0;c<l;c++)if(a[c][i]===o)return!0;return!1},getFirstProperty:function(o){if(o){for(var a=0,l=this.jCal[t],c=l.length;a<c;a++)if(l[a][i]===o){var h=this._hydrateProperty(a);return h}}else if(this.jCal[t].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(o){var a=this.getFirstProperty(o);return a?a.getFirstValue():null},getAllProperties:function(o){var a=this.jCal[t].length,l=0;if(o){for(var c=this.jCal[t],h=[];l<a;l++)o===c[l][i]&&h.push(this._hydrateProperty(l));return h}else{if(!this._properties||this._hydratedPropertyCount!==a)for(;l<a;l++)this._hydrateProperty(l);return this._properties||[]}},_removeObjectByIndex:function(o,a,l){if(a=a||[],a[l]){var c=a[l];"parent"in c&&(c.parent=null)}a.splice(l,1),this.jCal[o].splice(l,1)},_removeObject:function(o,a,l){var c=0,h=this.jCal[o],d=h.length,m=this[a];if(typeof l=="string"){for(;c<d;c++)if(h[c][i]===l)return this._removeObjectByIndex(o,m,c),!0}else if(m){for(;c<d;c++)if(m[c]&&m[c]===l)return this._removeObjectByIndex(o,m,c),!0}return!1},_removeAllObjects:function(o,a,l){for(var c=this[a],h=this.jCal[o],d=h.length-1;d>=0;d--)(!l||h[d][i]===l)&&this._removeObjectByIndex(o,c,d)},addSubcomponent:function(o){this._components||(this._components=[],this._hydratedComponentCount=0),o.parent&&o.parent.removeSubcomponent(o);var a=this.jCal[n].push(o.jCal);return this._components[a-1]=o,this._hydratedComponentCount++,o.parent=this,o},removeSubcomponent:function(o){var a=this._removeObject(n,"_components",o);return a&&this._hydratedComponentCount--,a},removeAllSubcomponents:function(o){var a=this._removeAllObjects(n,"_components",o);return this._hydratedComponentCount=0,a},addProperty:function(o){if(!(o instanceof e.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),o.parent&&o.parent.removeProperty(o);var a=this.jCal[t].push(o.jCal);return this._properties[a-1]=o,this._hydratedPropertyCount++,o.parent=this,o},addPropertyWithValue:function(o,a){var l=new e.Property(o);return l.setValue(a),this.addProperty(l),l},updatePropertyWithValue:function(o,a){var l=this.getFirstProperty(o);return l?l.setValue(a):l=this.addPropertyWithValue(o,a),l},removeProperty:function(o){var a=this._removeObject(t,"_properties",o);return a&&this._hydratedPropertyCount--,a},removeAllProperties:function(o){var a=this._removeAllObjects(t,"_properties",o);return this._hydratedPropertyCount=0,a},toJSON:function(){return this.jCal},toString:function(){return e.stringify.component(this.jCal,this._designSet)}},s.fromString=function(o){return new s(e.parse.component(o))},s}(),e.Property=function(){var t=0,n=1,i=2,s=3,o=e.design;function a(l,c){this._parent=c||null,typeof l=="string"?(this.jCal=[l,{},o.defaultType],this.jCal[i]=this.getDefaultType()):this.jCal=l,this._updateType()}return a.prototype={get type(){return this.jCal[i]},get name(){return this.jCal[t]},get parent(){return this._parent},set parent(l){var c=!this._parent||l&&l._designSet!=this._parent._designSet;return this._parent=l,this.type==o.defaultType&&c&&(this.jCal[i]=this.getDefaultType(),this._updateType()),l},get _designSet(){return this.parent?this.parent._designSet:o.defaultSet},_updateType:function(){var l=this._designSet;this.type in l.value&&(l.value[this.type],"decorate"in l.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in l.property&&(this.isMultiValue="multiValue"in l.property[this.name],this.isStructuredValue="structuredValue"in l.property[this.name]))},_hydrateValue:function(l){return this._values&&this._values[l]?this._values[l]:this.jCal.length<=s+l?null:this.isDecorated?(this._values||(this._values=[]),this._values[l]=this._decorate(this.jCal[s+l])):this.jCal[s+l]},_decorate:function(l){return this._designSet.value[this.type].decorate(l,this)},_undecorate:function(l){return this._designSet.value[this.type].undecorate(l,this)},_setDecoratedValue:function(l,c){this._values||(this._values=[]),typeof l=="object"&&"icaltype"in l?(this.jCal[s+c]=this._undecorate(l),this._values[c]=l):(this.jCal[s+c]=l,this._values[c]=this._decorate(l))},getParameter:function(l){if(l in this.jCal[n])return this.jCal[n][l]},getFirstParameter:function(l){var c=this.getParameter(l);return Array.isArray(c)?c[0]:c},setParameter:function(l,c){var h=l.toLowerCase();typeof c=="string"&&h in this._designSet.param&&"multiValue"in this._designSet.param[h]&&(c=[c]),this.jCal[n][l]=c},removeParameter:function(l){delete this.jCal[n][l]},getDefaultType:function(){var l=this.jCal[t],c=this._designSet;if(l in c.property){var h=c.property[l];if("defaultType"in h)return h.defaultType}return o.defaultType},resetType:function(l){this.removeAllValues(),this.jCal[i]=l,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var l=this.jCal.length-s;if(l<1)return[];for(var c=0,h=[];c<l;c++)h[c]=this._hydrateValue(c);return h},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(l){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);var c=l.length,h=0;if(this.removeAllValues(),c>0&&typeof l[0]=="object"&&"icaltype"in l[0]&&this.resetType(l[0].icaltype),this.isDecorated)for(;h<c;h++)this._setDecoratedValue(l[h],h);else for(;h<c;h++)this.jCal[s+h]=l[h]},setValue:function(l){this.removeAllValues(),typeof l=="object"&&"icaltype"in l&&this.resetType(l.icaltype),this.isDecorated?this._setDecoratedValue(l,0):this.jCal[s]=l},toJSON:function(){return this.jCal},toICALString:function(){return e.stringify.property(this.jCal,this._designSet,!0)}},a.fromString=function(l,c){return new a(e.parse.property(l,c))},a}(),e.UtcOffset=function(){function t(n){this.fromData(n)}return t.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return e.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this._normalize()},fromSeconds:function(n){var i=Math.abs(n);return this.factor=n<0?-1:1,this.hours=e.helpers.trunc(i/3600),i-=this.hours*3600,this.minutes=e.helpers.trunc(i/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(i){var s=this.toSeconds(),o=i.toSeconds();return(s>o)-(o>s)},_normalize:function(){for(var n=this.toSeconds(),i=this.factor;n<-43200;)n+=97200;for(;n>50400;)n-=97200;this.fromSeconds(n),n==0&&(this.factor=i)},toICALString:function(){return e.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(this.factor==1?"+":"-")+e.helpers.pad2(this.hours)+":"+e.helpers.pad2(this.minutes)}},t.fromString=function(n){var i={};return i.factor=n[0]==="+"?1:-1,i.hours=e.helpers.strictParseInt(n.substr(1,2)),i.minutes=e.helpers.strictParseInt(n.substr(4,2)),new e.UtcOffset(i)},t.fromSeconds=function(n){var i=new t;return i.fromSeconds(n),i},t}(),e.Binary=function(){function t(n){this.value=n}return t.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(i){this.value=this._b64_encode(i)},_b64_encode:function(i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,a,l,c,h,d,m,u,p=0,b=0,y="",g=[];if(!i)return i;do o=i.charCodeAt(p++),a=i.charCodeAt(p++),l=i.charCodeAt(p++),u=o<<16|a<<8|l,c=u>>18&63,h=u>>12&63,d=u>>6&63,m=u&63,g[b++]=s.charAt(c)+s.charAt(h)+s.charAt(d)+s.charAt(m);while(p<i.length);y=g.join("");var v=i.length%3;return(v?y.slice(0,v-3):y)+"===".slice(v||3)},_b64_decode:function(i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,a,l,c,h,d,m,u,p=0,b=0,y="",g=[];if(!i)return i;i+="";do c=s.indexOf(i.charAt(p++)),h=s.indexOf(i.charAt(p++)),d=s.indexOf(i.charAt(p++)),m=s.indexOf(i.charAt(p++)),u=c<<18|h<<12|d<<6|m,o=u>>16&255,a=u>>8&255,l=u&255,d==64?g[b++]=String.fromCharCode(o):m==64?g[b++]=String.fromCharCode(o,a):g[b++]=String.fromCharCode(o,a,l);while(p<i.length);return y=g.join(""),y},toString:function(){return this.value}},t.fromString=function(n){return new t(n)},t}(),function(){e.Period=function(n){if(this.wrappedJSObject=this,n&&"start"in n){if(n.start&&!(n.start instanceof e.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=n.start}if(n&&n.end&&n.duration)throw new Error("cannot accept both end and duration");if(n&&"end"in n){if(n.end&&!(n.end instanceof e.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=n.end}if(n&&"duration"in n){if(n.duration&&!(n.duration instanceof e.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=n.duration}},e.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return e.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var t=this.start.clone();return t.addDuration(this.duration),t},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},e.Period.fromString=function(n,i){var s=n.split("/");if(s.length!==2)throw new Error('Invalid string value: "'+n+'" must contain a "/" char.');var o={start:e.Time.fromDateTimeString(s[0],i)},a=s[1];return e.Duration.isValueString(a)?o.duration=e.Duration.fromString(a):o.end=e.Time.fromDateTimeString(a,i),new e.Period(o)},e.Period.fromData=function(n){return new e.Period(n)},e.Period.fromJSON=function(t,n,i){function s(o,a){return i?e.Time.fromString(o,a):e.Time.fromDateTimeString(o,a)}return e.Duration.isValueString(t[1])?e.Period.fromData({start:s(t[0],n),duration:e.Duration.fromString(t[1])}):e.Period.fromData({start:s(t[0],n),end:s(t[1],n)})}}(),function(){var t=/([PDWHMTS]{1,1})/;e.Duration=function(s){this.wrappedJSObject=this,this.fromData(s)},e.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return e.Duration.fromData(this)},toSeconds:function(){var s=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-s:s},fromSeconds:function(s){var o=Math.abs(s);return this.isNegative=s<0,this.days=e.helpers.trunc(o/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,o-=(this.days+7*this.weeks)*86400,this.hours=e.helpers.trunc(o/3600),o-=this.hours*3600,this.minutes=e.helpers.trunc(o/60),o-=this.minutes*60,this.seconds=o,this},fromData:function(s){var o=["weeks","days","hours","minutes","seconds","isNegative"];for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];s&&l in s?this[l]=s[l]:this[l]=0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(s){var o=this.toSeconds(),a=s.toSeconds();return(o>a)-(o<a)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(this.toSeconds()==0)return"PT0S";var s="";return this.isNegative&&(s+="-"),s+="P",this.weeks&&(s+=this.weeks+"W"),this.days&&(s+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(s+="T",this.hours&&(s+=this.hours+"H"),this.minutes&&(s+=this.minutes+"M"),this.seconds&&(s+=this.seconds+"S")),s},toICALString:function(){return this.toString()}},e.Duration.fromSeconds=function(s){return new e.Duration().fromSeconds(s)};function n(i,s,o){var a;switch(i){case"P":s&&s==="-"?o.isNegative=!0:o.isNegative=!1;break;case"D":a="days";break;case"W":a="weeks";break;case"H":a="hours";break;case"M":a="minutes";break;case"S":a="seconds";break;default:return 0}if(a){if(!s&&s!==0)throw new Error('invalid duration value: Missing number before "'+i+'"');var l=parseInt(s,10);if(e.helpers.isStrictlyNaN(l))throw new Error('invalid duration value: Invalid number "'+s+'" before "'+i+'"');o[a]=l}return 1}e.Duration.isValueString=function(i){return i[0]==="P"||i[1]==="P"},e.Duration.fromString=function(s){for(var o=0,a=Object.create(null),l=0;(o=s.search(t))!==-1;){var c=s[o],h=s.substr(0,o);s=s.substr(o+1),l+=n(c,h,a)}if(l<2)throw new Error('invalid duration value: Not enough duration components in "'+s+'"');return new e.Duration(a)},e.Duration.fromData=function(s){return new e.Duration(s)}}(),function(){var t=["tzid","location","tznames","latitude","longitude"];e.Timezone=function(i){this.wrappedJSObject=this,this.fromData(i)},e.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(i){if(this.expandedUntilYear=0,this.changes=[],i instanceof e.Component)this.component=i;else{if(i&&"component"in i)if(typeof i.component=="string"){var s=e.parse(i.component);this.component=new e.Component(s)}else i.component instanceof e.Component?this.component=i.component:this.component=null;for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];i&&a in i&&(this[a]=i[a])}}return this.component instanceof e.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(i){if(this==e.Timezone.utcTimezone||this==e.Timezone.localTimezone||(this._ensureCoverage(i.year),!this.changes.length))return 0;for(var s={year:i.year,month:i.month,day:i.day,hour:i.hour,minute:i.minute,second:i.second},o=this._findNearbyChange(s),a=-1,l=1;;){var c=e.helpers.clone(this.changes[o],!0);c.utcOffset<c.prevUtcOffset?e.Timezone.adjust_change(c,0,0,0,c.utcOffset):e.Timezone.adjust_change(c,0,0,0,c.prevUtcOffset);var h=e.Timezone._compare_change_fn(s,c);if(h>=0?a=o:l=-1,l==-1&&a!=-1)break;if(o+=l,o<0)return 0;if(o>=this.changes.length)break}var d=this.changes[a],m=d.utcOffset-d.prevUtcOffset;if(m<0&&a>0){var u=e.helpers.clone(d,!0);if(e.Timezone.adjust_change(u,0,0,0,u.prevUtcOffset),e.Timezone._compare_change_fn(s,u)<0){var p=this.changes[a-1],b=!1;d.is_daylight!=b&&p.is_daylight==b&&(d=p)}}return d.utcOffset},_findNearbyChange:function(i){var s=e.helpers.binsearchInsert(this.changes,i,e.Timezone._compare_change_fn);return s>=this.changes.length?this.changes.length-1:s},_ensureCoverage:function(n){if(e.Timezone._minimumExpansionYear==-1){var i=e.Time.now();e.Timezone._minimumExpansionYear=i.year}var s=n;if(s<e.Timezone._minimumExpansionYear&&(s=e.Timezone._minimumExpansionYear),s+=e.Timezone.EXTRA_COVERAGE,s>e.Timezone.MAX_YEAR&&(s=e.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<n){for(var o=this.component.getAllSubcomponents(),a=o.length,l=0;l<a;l++)this._expandComponent(o[l],s,this.changes);this.changes.sort(e.Timezone._compare_change_fn),this.expandedUntilYear=s}},_expandComponent:function(n,i,s){if(!n.hasProperty("dtstart")||!n.hasProperty("tzoffsetto")||!n.hasProperty("tzoffsetfrom"))return null;var o=n.getFirstProperty("dtstart").getFirstValue(),a;function l(g){return g.factor*(g.hours*3600+g.minutes*60)}function c(){var g={};return g.is_daylight=n.name=="daylight",g.utcOffset=l(n.getFirstProperty("tzoffsetto").getFirstValue()),g.prevUtcOffset=l(n.getFirstProperty("tzoffsetfrom").getFirstValue()),g}if(!n.hasProperty("rrule")&&!n.hasProperty("rdate"))a=c(),a.year=o.year,a.month=o.month,a.day=o.day,a.hour=o.hour,a.minute=o.minute,a.second=o.second,e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset),s.push(a);else{var h=n.getAllProperties("rdate");for(var d in h)if(h.hasOwnProperty(d)){var m=h[d],u=m.getFirstValue();a=c(),a.year=u.year,a.month=u.month,a.day=u.day,u.isDate?(a.hour=o.hour,a.minute=o.minute,a.second=o.second,o.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset)):(a.hour=u.hour,a.minute=u.minute,a.second=u.second,u.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset)),s.push(a)}var p=n.getFirstProperty("rrule");if(p){p=p.getFirstValue(),a=c(),p.until&&p.until.zone==e.Timezone.utcTimezone&&(p.until.adjust(0,0,0,a.prevUtcOffset),p.until.zone=e.Timezone.localTimezone);for(var b=p.iterator(o),y;(y=b.next())&&(a=c(),!(y.year>i||!y));)a.year=y.year,a.month=y.month,a.day=y.day,a.hour=y.hour,a.minute=y.minute,a.second=y.second,a.isDate=y.isDate,e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset),s.push(a)}}return s},toString:function(){return this.tznames?this.tznames:this.tzid}},e.Timezone._compare_change_fn=function(i,s){return i.year<s.year?-1:i.year>s.year?1:i.month<s.month?-1:i.month>s.month?1:i.day<s.day?-1:i.day>s.day?1:i.hour<s.hour?-1:i.hour>s.hour?1:i.minute<s.minute?-1:i.minute>s.minute?1:i.second<s.second?-1:i.second>s.second?1:0},e.Timezone.convert_time=function(i,s,o){if(i.isDate||s.tzid==o.tzid||s==e.Timezone.localTimezone||o==e.Timezone.localTimezone)return i.zone=o,i;var a=s.utcOffset(i);return i.adjust(0,0,0,-a),a=o.utcOffset(i),i.adjust(0,0,0,a),null},e.Timezone.fromData=function(i){var s=new e.Timezone;return s.fromData(i)},e.Timezone.utcTimezone=e.Timezone.fromData({tzid:"UTC"}),e.Timezone.localTimezone=e.Timezone.fromData({tzid:"floating"}),e.Timezone.adjust_change=function(i,s,o,a,l){return e.Time.prototype.adjust.call(i,s,o,a,l,i)},e.Timezone._minimumExpansionYear=-1,e.Timezone.MAX_YEAR=2035,e.Timezone.EXTRA_COVERAGE=5}(),e.TimezoneService=function(){var t,n={get count(){return Object.keys(t).length},reset:function(){t=Object.create(null);var i=e.Timezone.utcTimezone;t.Z=i,t.UTC=i,t.GMT=i},has:function(i){return!!t[i]},get:function(i){return t[i]},register:function(i,s){if(i instanceof e.Component&&i.name==="vtimezone"&&(s=new e.Timezone(i),i=s.tzid),s instanceof e.Timezone)t[i]=s;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(i){return delete t[i]}};return n.reset(),n}(),function(){e.Time=function(n,i){this.wrappedJSObject=this;var s=this._time=Object.create(null);s.year=0,s.month=1,s.day=1,s.hour=0,s.minute=0,s.second=0,s.isDate=!1,this.fromData(n,i)},e.Time._dowCache={},e.Time._wnCache={},e.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new e.Time(this._time,this.zone)},reset:function(){this.fromData(e.Time.epochTime),this.zone=e.Timezone.utcTimezone},resetTo:function(n,i,s,o,a,l,c){this.fromData({year:n,month:i,day:s,hour:o,minute:a,second:l,zone:c})},fromJSDate:function(n,i){return n?i?(this.zone=e.Timezone.utcTimezone,this.year=n.getUTCFullYear(),this.month=n.getUTCMonth()+1,this.day=n.getUTCDate(),this.hour=n.getUTCHours(),this.minute=n.getUTCMinutes(),this.second=n.getUTCSeconds()):(this.zone=e.Timezone.localTimezone,this.year=n.getFullYear(),this.month=n.getMonth()+1,this.day=n.getDate(),this.hour=n.getHours(),this.minute=n.getMinutes(),this.second=n.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(n,i){if(n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(s==="icaltype")continue;this[s]=n[s]}}if(i&&(this.zone=i),n&&!("isDate"in n)?this.isDate=!("hour"in n):n&&"isDate"in n&&(this.isDate=n.isDate),n&&"timezone"in n){var o=e.TimezoneService.get(n.timezone);this.zone=o||e.Timezone.localTimezone}return n&&"zone"in n&&(this.zone=n.zone),this.zone||(this.zone=e.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(n){var i=n||e.Time.SUNDAY,s=(this.year<<12)+(this.month<<8)+(this.day<<3)+i;if(s in e.Time._dowCache)return e.Time._dowCache[s];var o=this.day,a=this.month+(this.month<3?12:0),l=this.year-(this.month<3?1:0),c=o+l+e.helpers.trunc((a+1)*26/10)+e.helpers.trunc(l/4);return c+=e.helpers.trunc(l/100)*6+e.helpers.trunc(l/400),c=(c+7-i)%7+1,e.Time._dowCache[s]=c,c},dayOfYear:function(){var n=e.Time.isLeapYear(this.year)?1:0,i=e.Time.daysInYearPassedMonth;return i[n][this.month-1]+this.day},startOfWeek:function(n){var i=n||e.Time.SUNDAY,s=this.clone();return s.day-=(this.dayOfWeek()+7-i)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},endOfWeek:function(n){var i=n||e.Time.SUNDAY,s=this.clone();return s.day+=(7-this.dayOfWeek()+i-e.Time.SUNDAY)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},startOfMonth:function(){var n=this.clone();return n.day=1,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},endOfMonth:function(){var n=this.clone();return n.day=e.Time.daysInMonth(n.month,n.year),n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},startOfYear:function(){var n=this.clone();return n.day=1,n.month=1,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},endOfYear:function(){var n=this.clone();return n.day=31,n.month=12,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},startDoyWeek:function(n){var i=n||e.Time.SUNDAY,s=this.dayOfWeek()-i;return s<0&&(s+=7),this.dayOfYear()-s},getDominicalLetter:function(){return e.Time.getDominicalLetter(this.year)},nthWeekDay:function(n,i){var s=e.Time.daysInMonth(this.month,this.year),o,a=i,l=0,c=this.clone();if(a>=0){c.day=1,a!=0&&a--,l=c.day;var h=c.dayOfWeek(),d=n-h;d<0&&(d+=7),l+=d,l-=n,o=n}else{c.day=s;var m=c.dayOfWeek();a++,o=m-n,o<0&&(o+=7),o=s-o}return o+=a*7,l+o},isNthWeekDay:function(t,n){var i=this.dayOfWeek();if(n===0&&i===t)return!0;var s=this.nthWeekDay(t,n);return s===this.day},weekNumber:function(n){var i=(this.year<<12)+(this.month<<8)+(this.day<<3)+n;if(i in e.Time._wnCache)return e.Time._wnCache[i];var s,o=this.clone();o.isDate=!0;var a=this.year;o.month==12&&o.day>25?(s=e.Time.weekOneStarts(a+1,n),o.compare(s)<0?s=e.Time.weekOneStarts(a,n):a++):(s=e.Time.weekOneStarts(a,n),o.compare(s)<0&&(s=e.Time.weekOneStarts(--a,n)));var l=o.subtractDate(s).toSeconds()/86400,c=e.helpers.trunc(l/7)+1;return e.Time._wnCache[i]=c,c},addDuration:function(n){var i=n.isNegative?-1:1,s=this.second,o=this.minute,a=this.hour,l=this.day;s+=i*n.seconds,o+=i*n.minutes,a+=i*n.hours,l+=i*n.days,l+=i*7*n.weeks,this.second=s,this.minute=o,this.hour=a,this.day=l,this._cachedUnixTime=null},subtractDate:function(n){var i=this.toUnixTime()+this.utcOffset(),s=n.toUnixTime()+n.utcOffset();return e.Duration.fromSeconds(i-s)},subtractDateTz:function(n){var i=this.toUnixTime(),s=n.toUnixTime();return e.Duration.fromSeconds(i-s)},compare:function(n){var i=this.toUnixTime(),s=n.toUnixTime();return i>s?1:s>i?-1:0},compareDateOnlyTz:function(n,i){function s(c){return e.Time._cmp_attr(o,a,c)}var o=this.convertToZone(i),a=n.convertToZone(i),l=0;return(l=s("year"))!=0||(l=s("month"))!=0||(l=s("day"))!=0,l},convertToZone:function(n){var i=this.clone(),s=this.zone.tzid==n.tzid;return!this.isDate&&!s&&e.Timezone.convert_time(i,this.zone,n),i.zone=n,i},utcOffset:function(){return this.zone==e.Timezone.localTimezone||this.zone==e.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var t=this.toString();return t.length>10?e.design.icalendar.value["date-time"].toICAL(t):e.design.icalendar.value.date.toICAL(t)},toString:function(){var n=this.year+"-"+e.helpers.pad2(this.month)+"-"+e.helpers.pad2(this.day);return this.isDate||(n+="T"+e.helpers.pad2(this.hour)+":"+e.helpers.pad2(this.minute)+":"+e.helpers.pad2(this.second),this.zone===e.Timezone.utcTimezone&&(n+="Z")),n},toJSDate:function(){return this.zone==e.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)},_normalize:function(){return this._time.isDate,this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(n,i,s,o,a){var l,c,h=0,d=0,m,u,p,b,y,g=a||this._time;if(g.isDate||(m=g.second+o,g.second=m%60,l=e.helpers.trunc(m/60),g.second<0&&(g.second+=60,l--),u=g.minute+s+l,g.minute=u%60,c=e.helpers.trunc(u/60),g.minute<0&&(g.minute+=60,c--),p=g.hour+i+c,g.hour=p%24,h=e.helpers.trunc(p/24),g.hour<0&&(g.hour+=24,h--)),g.month>12?d=e.helpers.trunc((g.month-1)/12):g.month<1&&(d=e.helpers.trunc(g.month/12)-1),g.year+=d,g.month-=12*d,b=g.day+n+h,b>0)for(;y=e.Time.daysInMonth(g.month,g.year),!(b<=y);)g.month++,g.month>12&&(g.year++,g.month=1),b-=y;else for(;b<=0;)g.month==1?(g.year--,g.month=12):g.month--,b+=e.Time.daysInMonth(g.month,g.year);return g.day=b,this._cachedUnixTime=null,this},fromUnixTime:function(n){this.zone=e.Timezone.utcTimezone;var i=e.Time.epochTime.clone();i.adjust(0,0,0,n),this.year=i.year,this.month=i.month,this.day=i.day,this.hour=i.hour,this.minute=i.minute,this.second=Math.floor(i.second),this._cachedUnixTime=null},toUnixTime:function(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;var n=this.utcOffset(),i=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-n);return this._cachedUnixTime=i/1e3,this._cachedUnixTime},toJSON:function(){for(var t=["year","month","day","hour","minute","second","isDate"],n=Object.create(null),i=0,s=t.length,o;i<s;i++)o=t[i],n[o]=this[o];return this.zone&&(n.timezone=this.zone.tzid),n}},function(){function n(i){Object.defineProperty(e.Time.prototype,i,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[i]},set:function(o){return i==="isDate"&&o&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[i]=o,o}})}"defineProperty"in Object&&(n("year"),n("month"),n("day"),n("hour"),n("minute"),n("second"),n("isDate"))}(),e.Time.daysInMonth=function(n,i){var s=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=30;return n<1||n>12||(o=s[n],n==2&&(o+=e.Time.isLeapYear(i))),o},e.Time.isLeapYear=function(n){return n<=1752?n%4==0:n%4==0&&n%100!=0||n%400==0},e.Time.fromDayOfYear=function(n,i){var s=i,o=n,a=new e.Time;a.auto_normalize=!1;var l=e.Time.isLeapYear(s)?1:0;if(o<1)return s--,l=e.Time.isLeapYear(s)?1:0,o+=e.Time.daysInYearPassedMonth[l][12],e.Time.fromDayOfYear(o,s);if(o>e.Time.daysInYearPassedMonth[l][12])return l=e.Time.isLeapYear(s)?1:0,o-=e.Time.daysInYearPassedMonth[l][12],s++,e.Time.fromDayOfYear(o,s);a.year=s,a.isDate=!0;for(var c=11;c>=0;c--)if(o>e.Time.daysInYearPassedMonth[l][c]){a.month=c+1,a.day=o-e.Time.daysInYearPassedMonth[l][c];break}return a.auto_normalize=!0,a},e.Time.fromStringv2=function(n){return new e.Time({year:parseInt(n.substr(0,4),10),month:parseInt(n.substr(5,2),10),day:parseInt(n.substr(8,2),10),isDate:!0})},e.Time.fromDateString=function(t){return new e.Time({year:e.helpers.strictParseInt(t.substr(0,4)),month:e.helpers.strictParseInt(t.substr(5,2)),day:e.helpers.strictParseInt(t.substr(8,2)),isDate:!0})},e.Time.fromDateTimeString=function(t,n){if(t.length<19)throw new Error('invalid date-time value: "'+t+'"');var i;t[19]&&t[19]==="Z"?i="Z":n&&(i=n.getParameter("tzid"));var s=new e.Time({year:e.helpers.strictParseInt(t.substr(0,4)),month:e.helpers.strictParseInt(t.substr(5,2)),day:e.helpers.strictParseInt(t.substr(8,2)),hour:e.helpers.strictParseInt(t.substr(11,2)),minute:e.helpers.strictParseInt(t.substr(14,2)),second:e.helpers.strictParseInt(t.substr(17,2)),timezone:i});return s},e.Time.fromString=function(n,i){return n.length>10?e.Time.fromDateTimeString(n,i):e.Time.fromDateString(n)},e.Time.fromJSDate=function(n,i){var s=new e.Time;return s.fromJSDate(n,i)},e.Time.fromData=function(n,i){var s=new e.Time;return s.fromData(n,i)},e.Time.now=function(){return e.Time.fromJSDate(new Date,!1)},e.Time.weekOneStarts=function(n,i){var s=e.Time.fromData({year:n,month:1,day:1,isDate:!0}),o=s.dayOfWeek(),a=i||e.Time.DEFAULT_WEEK_START;return o>e.Time.THURSDAY&&(s.day+=7),a>e.Time.THURSDAY&&(s.day-=7),s.day-=o-a,s},e.Time.getDominicalLetter=function(t){var n="GFEDCBA",i=(t+(t/4|0)+(t/400|0)-(t/100|0)-1)%7,s=e.Time.isLeapYear(t);return s?n[(i+6)%7]+n[i]:n[i]},e.Time.epochTime=e.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),e.Time._cmp_attr=function(n,i,s){return n[s]>i[s]?1:n[s]<i[s]?-1:0},e.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],e.Time.SUNDAY=1,e.Time.MONDAY=2,e.Time.TUESDAY=3,e.Time.WEDNESDAY=4,e.Time.THURSDAY=5,e.Time.FRIDAY=6,e.Time.SATURDAY=7,e.Time.DEFAULT_WEEK_START=e.Time.MONDAY}(),function(){e.VCardTime=function(t,n,i){this.wrappedJSObject=this;var s=this._time=Object.create(null);s.year=null,s.month=null,s.day=null,s.hour=null,s.minute=null,s.second=null,this.icaltype=i||"date-and-or-time",this.fromData(t,n)},e.helpers.inherits(e.Time,e.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new e.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof e.UtcOffset?this.zone.toSeconds():e.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return e.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var n=e.helpers.pad2,i=this.year,s=this.month,o=this.day,a=this.hour,l=this.minute,c=this.second,h=i!==null,d=s!==null,m=o!==null,u=a!==null,p=l!==null,b=c!==null,y=(h?n(i)+(d||m?"-":""):d||m?"--":"")+(d?n(s):"")+(m?"-"+n(o):""),g=(u?n(a):"-")+(u&&p?":":"")+(p?n(l):"")+(!u&&!p?"-":"")+(p&&b?":":"")+(b?n(c):""),v;if(this.zone===e.Timezone.utcTimezone)v="Z";else if(this.zone instanceof e.UtcOffset)v=this.zone.toString();else if(this.zone===e.Timezone.localTimezone)v="";else if(this.zone instanceof e.Timezone){var T=e.UtcOffset.fromSeconds(this.zone.utcOffset(this));v=T.toString()}else v="";switch(this.icaltype){case"time":return g+v;case"date-and-or-time":case"date-time":return y+(g=="--"?"":"T"+g+v);case"date":return y}return null}}),e.VCardTime.fromDateAndOrTimeString=function(t,n){function i(y,g,v){return y?e.helpers.strictParseInt(y.substr(g,v)):null}var s=t.split("T"),o=s[0],a=s[1],l=a?e.design.vcard.value.time._splitZone(a):[],c=l[0],h=l[1];e.helpers.strictParseInt;var d=o?o.length:0,m=h?h.length:0,u=o&&o[0]=="-"&&o[1]=="-",p=h&&h[0]=="-",b={year:u?null:i(o,0,4),month:u&&(d==4||d==7)?i(o,2,2):d==7||d==10?i(o,5,2):null,day:d==5?i(o,3,2):d==7&&u?i(o,5,2):d==10?i(o,8,2):null,hour:p?null:i(h,0,2),minute:p&&m==3?i(h,1,2):m>4?p?i(h,1,2):i(h,3,2):null,second:m==4?i(h,2,2):m==6?i(h,4,2):m==8?i(h,6,2):null};return c=="Z"?c=e.Timezone.utcTimezone:c&&c[3]==":"?c=e.UtcOffset.fromString(c):c=null,new e.VCardTime(b,c,n)}}(),function(){var t={SU:e.Time.SUNDAY,MO:e.Time.MONDAY,TU:e.Time.TUESDAY,WE:e.Time.WEDNESDAY,TH:e.Time.THURSDAY,FR:e.Time.FRIDAY,SA:e.Time.SATURDAY},n={};for(var i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);e.Recur=function(m){this.wrappedJSObject=this,this.parts={},m&&typeof m=="object"&&this.fromData(m)},e.Recur.prototype={parts:null,interval:1,wkst:e.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(d){return new e.RecurIterator({rule:this,dtstart:d})},clone:function(){return new e.Recur(this.toJSON())},isFinite:function(){return!!(this.count||this.until)},isByCount:function(){return!!(this.count&&!this.until)},addComponent:function(m,u){var p=m.toUpperCase();p in this.parts?this.parts[p].push(u):this.parts[p]=[u]},setComponent:function(m,u){this.parts[m.toUpperCase()]=u.slice()},getComponent:function(m){var u=m.toUpperCase();return u in this.parts?this.parts[u].slice():[]},getNextOccurrence:function(m,u){var p=this.iterator(m),b;do b=p.next();while(b&&b.compare(u)<=0);return b&&u.zone&&(b.zone=u.zone),b},fromData:function(d){for(var m in d){var u=m.toUpperCase();u in h?Array.isArray(d[m])?this.parts[u]=d[m]:this.parts[u]=[d[m]]:this[m]=d[m]}this.interval&&typeof this.interval!="number"&&c.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=e.Recur.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof e.Time)&&(this.until=e.Time.fromString(this.until))},toJSON:function(){var d=Object.create(null);d.freq=this.freq,this.count&&(d.count=this.count),this.interval>1&&(d.interval=this.interval);for(var m in this.parts)if(this.parts.hasOwnProperty(m)){var u=this.parts[m];Array.isArray(u)&&u.length==1?d[m.toLowerCase()]=u[0]:d[m.toLowerCase()]=e.helpers.clone(this.parts[m])}return this.until&&(d.until=this.until.toString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(d.wkst=e.Recur.numericDayToIcalDay(this.wkst)),d},toString:function(){var m="FREQ="+this.freq;this.count&&(m+=";COUNT="+this.count),this.interval>1&&(m+=";INTERVAL="+this.interval);for(var u in this.parts)this.parts.hasOwnProperty(u)&&(m+=";"+u+"="+this.parts[u]);return this.until&&(m+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(m+=";WKST="+e.Recur.numericDayToIcalDay(this.wkst)),m}};function s(d,m,u,p){var b=p;if(p[0]==="+"&&(b=p.substr(1)),b=e.helpers.strictParseInt(b),m!==void 0&&p<m)throw new Error(d+': invalid value "'+p+'" must be > '+m);if(u!==void 0&&p>u)throw new Error(d+': invalid value "'+p+'" must be < '+m);return b}e.Recur.icalDayToNumericDay=function(m,u){var p=u||e.Time.SUNDAY;return(t[m]-p+7)%7+1},e.Recur.numericDayToIcalDay=function(m,u){var p=u||e.Time.SUNDAY,b=m+p-e.Time.SUNDAY;return b>7&&(b-=7),n[b]};var o=/^(SU|MO|TU|WE|TH|FR|SA)$/,a=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,l=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],c={FREQ:function(d,m,u){if(l.indexOf(d)!==-1)m.freq=d;else throw new Error('invalid frequency "'+d+'" expected: "'+l.join(", ")+'"')},COUNT:function(d,m,u){m.count=e.helpers.strictParseInt(d)},INTERVAL:function(d,m,u){m.interval=e.helpers.strictParseInt(d),m.interval<1&&(m.interval=1)},UNTIL:function(d,m,u){d.length>10?m.until=e.design.icalendar.value["date-time"].fromICAL(d):m.until=e.design.icalendar.value.date.fromICAL(d),u||(m.until=e.Time.fromString(m.until))},WKST:function(d,m,u){if(o.test(d))m.wkst=e.Recur.icalDayToNumericDay(d);else throw new Error('invalid WKST value "'+d+'"')}},h={BYSECOND:s.bind(this,"BYSECOND",0,60),BYMINUTE:s.bind(this,"BYMINUTE",0,59),BYHOUR:s.bind(this,"BYHOUR",0,23),BYDAY:function(d){if(a.test(d))return d;throw new Error('invalid BYDAY value "'+d+'"')},BYMONTHDAY:s.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:s.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:s.bind(this,"BYWEEKNO",-53,53),BYMONTH:s.bind(this,"BYMONTH",1,12),BYSETPOS:s.bind(this,"BYSETPOS",-366,366)};e.Recur.fromString=function(d){var m=e.Recur._stringToData(d,!1);return new e.Recur(m)},e.Recur.fromData=function(d){return new e.Recur(d)},e.Recur._stringToData=function(d,m){for(var u=Object.create(null),p=d.split(";"),b=p.length,y=0;y<b;y++){var g=p[y].split("="),v=g[0].toUpperCase(),T=g[0].toLowerCase(),S=m?T:v,G=g[1];if(v in h){for(var Z=G.split(","),k=0,X=Z.length;k<X;k++)Z[k]=h[v](Z[k]);u[S]=Z.length==1?Z[0]:Z}else v in c?c[v](G,u,m):u[T]=G}return u}}(),e.RecurIterator=function(){function t(n){this.fromData(n)}return t.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(n){if(this.rule=e.helpers.formatClassType(n.rule,e.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=e.helpers.formatClassType(n.dtstart,e.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");n.by_data?this.by_data=n.by_data:this.by_data=e.helpers.clone(this.rule.parts,!0),n.occurrence_number&&(this.occurrence_number=n.occurrence_number),this.days=n.days||[],n.last&&(this.last=e.helpers.formatClassType(n.last,e.Time)),this.by_indices=n.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=n.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var i=this.by_data;if("BYDAY"in i&&this.sort_byday_rules(i.BYDAY),"BYYEARDAY"in i&&("BYMONTH"in i||"BYWEEKNO"in i||"BYMONTHDAY"in i||"BYDAY"in i))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in i&&"BYMONTHDAY"in i)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in i||"BYWEEKNO"in i))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in i||"BYMONTHDAY"in i))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in i)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in i){var s=this.ruleDayOfWeek(i.BYDAY[0],this.rule.wkst),o=s[0],a=s[1],l=a-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<a&&l>=0||l<0)&&(this.last.day+=l)}else{var c=e.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());i.BYDAY=[c]}if(this.rule.freq=="YEARLY"){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if(this.rule.freq=="MONTHLY"&&this.has_by_data("BYDAY")){var h=null,d=this.last.clone(),m=e.Time.daysInMonth(this.last.month,this.last.year);for(var u in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(u)){this.last=d.clone();var s=this.ruleDayOfWeek(this.by_data.BYDAY[u]),o=s[0],a=s[1],p=this.last.nthWeekDay(a,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(p>m||p<=0){if(h&&h.month==d.month)continue;for(;p>m||p<=0;)this.increment_month(),m=e.Time.daysInMonth(this.last.month,this.last.year),p=this.last.nthWeekDay(a,o)}this.last.day=p,(!h||this.last.compare(h)<0)&&(h=this.last.clone())}if(this.last=h.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>m||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var m=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day=m+this.last.day+1}},next:function(){var i=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var s;do switch(s=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":s=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!s);if(this.last.compare(i)==0)throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(i){return this.increment_generic(i,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(i){return this.increment_generic(i,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(i){this.increment_generic(i,"hour",24,"monthday")},next_day:function(){"BYDAY"in this.by_data;var i=this.rule.freq=="DAILY";return this.next_hour()==0||(i?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0},next_week:function(){var i=0;if(this.next_weekday_by_week()==0)return i;if(this.has_by_data("BYWEEKNO")){++this.by_indices.BYWEEKNO,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,i=1),this.last.month=1,this.last.day=1;var s=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*s,i&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return i},normalizeByMonthDayRules:function(n,i,s){for(var o=e.Time.daysInMonth(i,n),a=[],l=0,c=s.length,h;l<c;l++)if(h=s[l],!(Math.abs(h)>o)){if(h<0)h=o+(h+1);else if(h===0)continue;a.indexOf(h)===-1&&a.push(h)}return a.sort(function(d,m){return d-m})},_byDayAndMonthDay:function(n){var i,s=this.by_data.BYDAY,o,a=0,l,c=s.length,h=0,d,m=this,u=this.last.day;function p(){for(d=e.Time.daysInMonth(m.last.month,m.last.year),i=m.normalizeByMonthDayRules(m.last.year,m.last.month,m.by_data.BYMONTHDAY),l=i.length;i[a]<=u&&!(n&&i[a]==u)&&a<l-1;)a++}function b(){u=0,m.increment_month(),a=0,p()}p(),n&&(u-=1);for(var y=48;!h&&y;){if(y--,o=u+1,o>d){b();continue}var g=i[a++];if(g>=o)u=g;else{b();continue}for(var v=0;v<c;v++){var T=this.ruleDayOfWeek(s[v]),S=T[0],G=T[1];if(this.last.day=u,this.last.isNthWeekDay(G,S)){h=1;break}}if(!h&&a===l){b();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return h},next_month:function(){this.rule.freq=="MONTHLY";var i=1;if(this.next_hour()==0)return i;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))i=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var s=e.Time.daysInMonth(this.last.month,this.last.year),o=0,a=0;if(this.has_by_data("BYSETPOS")){for(var l=this.last.day,c=1;c<=s;c++)this.last.day=c,this.is_day_in_byday(this.last)&&(a++,c<=l&&o++);this.last.day=l}i=0;for(var c=this.last.day+1;c<=s;c++)if(this.last.day=c,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++o)||this.check_set_position(o-a-1))){i=1;break}c>s&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(i=1):i=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var s=e.Time.daysInMonth(this.last.month,this.last.year),c=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];c<0&&(c=s+c+1),c>s?(this.last.day=1,i=this.is_day_in_byday(this.last)):this.last.day=c}else{this.increment_month();var s=e.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>s?i=0:this.last.day=this.by_data.BYMONTHDAY[0]}return i},next_weekday_by_week:function(){var i=0;if(this.next_hour()==0)return i;if(!this.has_by_data("BYDAY"))return 1;for(;;){var s=new e.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,i=1);var o=this.by_data.BYDAY[this.by_indices.BYDAY],a=this.ruleDayOfWeek(o),l=a[1];l-=this.rule.wkst,l<0&&(l+=7),s.year=this.last.year,s.month=this.last.month,s.day=this.last.day;var c=s.startDoyWeek(this.rule.wkst);if(!(l+c<1&&!i)){var h=e.Time.fromDayOfYear(c+l,this.last.year);return this.last.year=h.year,this.last.month=h.month,this.last.day=h.day,i}}},next_year:function(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1},_nextByYearDay:function(){var i=this.days[this.days_index],s=this.last.year;i<1&&(i+=1,s+=1);var o=e.Time.fromDayOfYear(i,s);this.last.day=o.day,this.last.month=o.month},ruleDayOfWeek:function(i,s){var o=i.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(o){var a=parseInt(o[1]||0,10);return i=e.Recur.icalDayToNumericDay(o[2],s),[a,i]}else return[0,0]},next_generic:function(i,s,o,a,l){var c=i in this.by_data,h=this.rule.freq==s,d=0;if(l&&this[l]()==0)return d;if(c){this.by_indices[i]++,this.by_indices[i];var m=this.by_data[i];this.by_indices[i]==m.length&&(this.by_indices[i]=0,d=1),this.last[o]=m[this.by_indices[i]]}else h&&this["increment_"+o](this.rule.interval);return c&&d&&h&&this["increment_"+a](1),d},increment_monthday:function(i){for(var s=0;s<i;s++){var o=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>o&&(this.last.day-=o,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var i=e.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,i!=0&&this.increment_year(i)}},increment_year:function(i){this.last.year+=i},increment_generic:function(i,s,o,a){this.last[s]+=i;var l=e.helpers.trunc(this.last[s]/o);this.last[s]%=o,l!=0&&this["increment_"+a](l)},has_by_data:function(i){return i in this.rule.parts},expand_year_days:function(i){var s=new e.Time;this.days=[];var o={},a=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];c in this.rule.parts&&(o[c]=this.rule.parts[c])}if("BYMONTH"in o&&"BYWEEKNO"in o){var h=1,d={};s.year=i,s.isDate=!0;for(var m=0;m<this.by_data.BYMONTH.length;m++){var u=this.by_data.BYMONTH[m];s.month=u,s.day=1;var p=s.weekNumber(this.rule.wkst);s.day=e.Time.daysInMonth(u,i);var b=s.weekNumber(this.rule.wkst);for(m=p;m<b;m++)d[m]=1}for(var y=0;y<this.by_data.BYWEEKNO.length&&h;y++){var g=this.by_data.BYWEEKNO[y];g<52?h&=d[y]:h=0}h?delete o.BYMONTH:delete o.BYWEEKNO}var v=Object.keys(o).length;if(v==0){var T=this.dtstart.clone();T.year=this.last.year,this.days.push(T.dayOfYear())}else if(v==1&&"BYMONTH"in o){for(var S in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(S)){var G=this.dtstart.clone();G.year=i,G.month=this.by_data.BYMONTH[S],G.isDate=!0,this.days.push(G.dayOfYear())}}else if(v==1&&"BYMONTHDAY"in o){for(var Z in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(Z)){var k=this.dtstart.clone(),X=this.by_data.BYMONTHDAY[Z];if(X<0){var L=e.Time.daysInMonth(k.month,i);X=X+L+1}k.day=X,k.year=i,k.isDate=!0,this.days.push(k.dayOfYear())}}else if(v==2&&"BYMONTHDAY"in o&&"BYMONTH"in o){for(var S in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(S)){var J=this.by_data.BYMONTH[S],L=e.Time.daysInMonth(J,i);for(var Z in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(Z)){var X=this.by_data.BYMONTHDAY[Z];X<0&&(X=X+L+1),s.day=X,s.month=J,s.year=i,s.isDate=!0,this.days.push(s.dayOfYear())}}}else if(!(v==1&&"BYWEEKNO"in o)){if(!(v==2&&"BYWEEKNO"in o&&"BYMONTHDAY"in o))if(v==1&&"BYDAY"in o)this.days=this.days.concat(this.expand_by_day(i));else if(v==2&&"BYDAY"in o&&"BYMONTH"in o){for(var S in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(S)){var u=this.by_data.BYMONTH[S],L=e.Time.daysInMonth(u,i);s.year=i,s.month=this.by_data.BYMONTH[S],s.day=1,s.isDate=!0;var U=s.dayOfWeek(),D=s.dayOfYear()-1;s.day=L;var ne=s.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var O=[],z=1;z<=L;z++)s.day=z,this.is_day_in_byday(s)&&O.push(z);for(var ye=0;ye<O.length;ye++)(this.check_set_position(ye+1)||this.check_set_position(ye-O.length))&&this.days.push(D+O[ye])}else for(var j in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(j)){var f=this.by_data.BYDAY[j],W=this.ruleDayOfWeek(f),R=W[0],x=W[1],$,oe=(x+7-U)%7+1,pe=L-(ne+7-x)%7;if(R==0)for(var z=oe;z<=L;z+=7)this.days.push(D+z);else R>0?($=oe+(R-1)*7,$<=L&&this.days.push(D+$)):($=pe+(R+1)*7,$>0&&this.days.push(D+$))}}this.days.sort(function(xr,Xr){return xr-Xr})}else if(v==2&&"BYDAY"in o&&"BYMONTHDAY"in o){var ae=this.expand_by_day(i);for(var ve in ae)if(ae.hasOwnProperty(ve)){var z=ae[ve],Ye=e.Time.fromDayOfYear(z,i);this.by_data.BYMONTHDAY.indexOf(Ye.day)>=0&&this.days.push(z)}}else if(v==3&&"BYDAY"in o&&"BYMONTHDAY"in o&&"BYMONTH"in o){var ae=this.expand_by_day(i);for(var ve in ae)if(ae.hasOwnProperty(ve)){var z=ae[ve],Ye=e.Time.fromDayOfYear(z,i);this.by_data.BYMONTH.indexOf(Ye.month)>=0&&this.by_data.BYMONTHDAY.indexOf(Ye.day)>=0&&this.days.push(z)}}else if(v==2&&"BYDAY"in o&&"BYWEEKNO"in o){var ae=this.expand_by_day(i);for(var ve in ae)if(ae.hasOwnProperty(ve)){var z=ae[ve],Ye=e.Time.fromDayOfYear(z,i),g=Ye.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(g)&&this.days.push(z)}}else v==3&&"BYDAY"in o&&"BYWEEKNO"in o&&"BYMONTHDAY"in o||(v==1&&"BYYEARDAY"in o?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}return 0},expand_by_day:function(i){var s=[],o=this.last.clone();o.year=i,o.month=1,o.day=1,o.isDate=!0;var a=o.dayOfWeek();o.month=12,o.day=31,o.isDate=!0;var l=o.dayOfWeek(),c=o.dayOfYear();for(var h in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(h)){var d=this.by_data.BYDAY[h],m=this.ruleDayOfWeek(d),u=m[0],p=m[1];if(u==0)for(var b=(p+7-a)%7+1,y=b;y<=c;y+=7)s.push(y);else if(u>0){var g;p>=a?g=p-a+1:g=p-a+8,s.push(g+(u-1)*7)}else{var v;u=-u,p<=l?v=c-l+p:v=c-l+p-7,s.push(v-(u-1)*7)}}return s},is_day_in_byday:function(i){for(var s in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(s)){var o=this.by_data.BYDAY[s],a=this.ruleDayOfWeek(o),l=a[0],c=a[1],h=i.dayOfWeek();if(l==0&&c==h||i.nthWeekDay(c,l)==i.day)return 1}return 0},check_set_position:function(i){if(this.has_by_data("BYSETPOS")){var s=this.by_data.BYSETPOS.indexOf(i);return s!==-1}return!1},sort_byday_rules:function(i){for(var s=0;s<i.length;s++)for(var o=0;o<s;o++){var a=this.ruleDayOfWeek(i[o],this.rule.wkst)[1],l=this.ruleDayOfWeek(i[s],this.rule.wkst)[1];if(a>l){var c=i[s];i[s]=i[o],i[o]=c}}},check_contract_restriction:function(i,s){var o=t._indexMap[i],a=t._expandMap[this.rule.freq][o],l=!1;if(i in this.by_data&&a==t.CONTRACT){var c=this.by_data[i];for(var h in c)if(c.hasOwnProperty(h)&&c[h]==s){l=!0;break}}else l=!0;return l},check_contracting_rules:function(){var i=this.last.dayOfWeek(),s=this.last.weekNumber(this.rule.wkst),o=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",e.Recur.numericDayToIcalDay(i))&&this.check_contract_restriction("BYWEEKNO",s)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",o)},setup_defaults:function(i,s,o){var a=t._indexMap[i],l=t._expandMap[this.rule.freq][a];return l!=t.CONTRACT&&(i in this.by_data||(this.by_data[i]=[o]),this.rule.freq!=s)?this.by_data[i][0]:o},toJSON:function(){var n=Object.create(null);return n.initialized=this.initialized,n.rule=this.rule.toJSON(),n.dtstart=this.dtstart.toJSON(),n.by_data=this.by_data,n.days=this.days,n.last=this.last.toJSON(),n.by_indices=this.by_indices,n.occurrence_number=this.occurrence_number,n}},t._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},t._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},t.UNKNOWN=0,t.CONTRACT=1,t.EXPAND=2,t.ILLEGAL=3,t}(),e.RecurExpansion=function(){function t(o){return e.helpers.formatClassType(o,e.Time)}function n(o,a){return o.compare(a)}function i(o){return o.hasProperty("rdate")||o.hasProperty("rrule")||o.hasProperty("recurrence-id")}function s(o){this.ruleDates=[],this.exDates=[],this.fromData(o)}return s.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(o){var a=e.helpers.formatClassType(o.dtstart,e.Time);if(a)this.dtstart=a;else throw new Error(".dtstart (ICAL.Time) must be given");if(o.component)this._init(o.component);else{if(this.last=t(o.last)||a.clone(),!o.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=o.ruleIterators.map(function(l){return e.helpers.formatClassType(l,e.RecurIterator)}),this.ruleDateInc=o.ruleDateInc,this.exDateInc=o.exDateInc,o.ruleDates&&(this.ruleDates=o.ruleDates.map(t),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.exDates&&(this.exDates=o.exDates.map(t),this.exDate=this.exDates[this.exDateInc]),typeof o.complete<"u"&&(this.complete=o.complete)}},next:function(){for(var o,a,l,c=500,h=0;;){if(h++>c)throw new Error("max tries have occured, rule may be impossible to forfill.");if(a=this.ruleDate,o=this._nextRecurrenceIter(this.last),!a&&!o){this.complete=!0;break}if((!a||o&&a.compare(o.last)>0)&&(a=o.last.clone(),o.next()),this.ruleDate===a&&this._nextRuleDay(),this.last=a,this.exDate&&(l=this.exDate.compare(this.last),l<0&&this._nextExDay(),l===0)){this._nextExDay();continue}return this.last}},toJSON:function(){function o(l){return l.toJSON()}var a=Object.create(null);return a.ruleIterators=this.ruleIterators.map(o),this.ruleDates&&(a.ruleDates=this.ruleDates.map(o)),this.exDates&&(a.exDates=this.exDates.map(o)),a.ruleDateInc=this.ruleDateInc,a.exDateInc=this.exDateInc,a.last=this.last.toJSON(),a.dtstart=this.dtstart.toJSON(),a.complete=this.complete,a},_extractDates:function(o,a){function l(p){u=e.helpers.binsearchInsert(c,p,n),c.splice(u,0,p)}for(var c=[],h=o.getAllProperties(a),d=h.length,m=0,u;m<d;m++)h[m].getValues().forEach(l);return c},_init:function(o){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!i(o)){this.ruleDate=this.last.clone(),this.complete=!0;return}if(o.hasProperty("rdate")&&(this.ruleDates=this._extractDates(o,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=e.helpers.binsearchInsert(this.ruleDates,this.last,n),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.hasProperty("rrule"))for(var a=o.getAllProperties("rrule"),l=0,c=a.length,h,d;l<c;l++)h=a[l].getFirstValue(),d=h.iterator(this.dtstart),this.ruleIterators.push(d),d.next();o.hasProperty("exdate")&&(this.exDates=this._extractDates(o,"exdate"),this.exDateInc=e.helpers.binsearchInsert(this.exDates,this.last,n),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var o=this.ruleIterators;if(o.length===0)return null;for(var a=o.length,l,c,h=0,d;h<a;h++){if(l=o[h],c=l.last,l.completed){a--,h!==0&&h--,o.splice(h,1);continue}(!d||d.last.compare(c)>0)&&(d=l)}return d}},s}(),e.Event=function(){function t(i,s){i instanceof e.Component||(s=i,i=null),i?this.component=i:this.component=new e.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],s&&s.strictExceptions&&(this.strictExceptions=s.strictExceptions),s&&s.exceptions?s.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(o){o.hasProperty("recurrence-id")&&this.relateException(o)},this)}t.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(i){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(i instanceof e.Component&&(i=new e.Event(i)),this.strictExceptions&&i.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var s=i.recurrenceId.toString();if(this.exceptions[s]=i,i.modifiesFuture()){var o=[i.recurrenceId.toUnixTime(),s],a=e.helpers.binsearchInsert(this.rangeExceptions,o,n);this.rangeExceptions.splice(a,0,o)}},modifiesFuture:function(){if(!this.component.hasProperty("recurrence-id"))return!1;var i=this.component.getFirstProperty("recurrence-id").getParameter("range");return i===this.THISANDFUTURE},findRangeException:function(i){if(!this.rangeExceptions.length)return null;var s=i.toUnixTime(),o=e.helpers.binsearchInsert(this.rangeExceptions,[s],n);if(o-=1,o<0)return null;var a=this.rangeExceptions[o];return s<a[0]?null:a[1]},getOccurrenceDetails:function(i){var s=i.toString(),o=i.convertToZone(e.Timezone.utcTimezone).toString(),a,l={recurrenceId:i};if(s in this.exceptions)a=l.item=this.exceptions[s],l.startDate=a.startDate,l.endDate=a.endDate,l.item=a;else if(o in this.exceptions)a=this.exceptions[o],l.startDate=a.startDate,l.endDate=a.endDate,l.item=a;else{var c=this.findRangeException(i),h;if(c){var d=this.exceptions[c];l.item=d;var m=this._rangeExceptionCache[c];if(!m){var u=d.recurrenceId.clone(),p=d.startDate.clone();u.zone=p.zone,m=p.subtractDate(u),this._rangeExceptionCache[c]=m}var b=i.clone();b.zone=d.startDate.zone,b.addDuration(m),h=b.clone(),h.addDuration(d.duration),l.startDate=b,l.endDate=h}else h=i.clone(),h.addDuration(this.duration),l.endDate=h,l.startDate=i,l.item=this}return l},iterator:function(i){return new e.RecurExpansion({component:this.component,dtstart:i||this.startDate})},isRecurring:function(){var i=this.component;return i.hasProperty("rrule")||i.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var i=this.component.getAllProperties("rrule"),s=0,o=i.length,a=Object.create(null);s<o;s++){var l=i[s].getFirstValue();a[l.freq]=!0}return a},get uid(){return this._firstProp("uid")},set uid(i){this._setProp("uid",i)},get startDate(){return this._firstProp("dtstart")},set startDate(i){this._setTime("dtstart",i)},get endDate(){var i=this._firstProp("dtend");if(!i){var s=this._firstProp("duration");i=this.startDate.clone(),s?i.addDuration(s):i.isDate&&(i.day+=1)}return i},set endDate(i){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",i)},get duration(){var i=this._firstProp("duration");return i||this.endDate.subtractDateTz(this.startDate)},set duration(i){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",i)},get location(){return this._firstProp("location")},set location(i){return this._setProp("location",i)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(i){this._setProp("summary",i)},get description(){return this._firstProp("description")},set description(i){this._setProp("description",i)},get color(){return this._firstProp("color")},set color(i){this._setProp("color",i)},get organizer(){return this._firstProp("organizer")},set organizer(i){this._setProp("organizer",i)},get sequence(){return this._firstProp("sequence")},set sequence(i){this._setProp("sequence",i)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(i){this._setTime("recurrence-id",i)},_setTime:function(i,s){var o=this.component.getFirstProperty(i);o||(o=new e.Property(i),this.component.addProperty(o)),s.zone===e.Timezone.localTimezone||s.zone===e.Timezone.utcTimezone?o.removeParameter("tzid"):o.setParameter("tzid",s.zone.tzid),o.setValue(s)},_setProp:function(i,s){this.component.updatePropertyWithValue(i,s)},_firstProp:function(i){return this.component.getFirstPropertyValue(i)},toString:function(){return this.component.toString()}};function n(i,s){return i[0]>s[0]?1:s[0]>i[0]?-1:0}return t}(),e.ComponentParser=function(){function t(n){typeof n>"u"&&(n={});var i;for(i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}return t.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(n){},ontimezone:function(n){},onevent:function(n){},process:function(n){typeof n=="string"&&(n=e.parse(n)),n instanceof e.Component||(n=new e.Component(n));for(var i=n.getAllSubcomponents(),s=0,o=i.length,a;s<o;s++)switch(a=i[s],a.name){case"vtimezone":if(this.parseTimezone){var l=a.getFirstPropertyValue("tzid");l&&this.ontimezone(new e.Timezone({tzid:l,component:a}))}break;case"vevent":this.parseEvent&&this.onevent(new e.Event(a));break;default:continue}this.oncomplete()}},t}()})(ma);var Y;(function(r){r[r.SECOND=0]="SECOND",r[r.QUARTER_MINUTE=1]="QUARTER_MINUTE",r[r.MINUTE=2]="MINUTE",r[r.QUARTER_HOUR=3]="QUARTER_HOUR",r[r.HOUR=4]="HOUR",r[r.DAY=5]="DAY",r[r.MONTH=6]="MONTH",r[r.YEAR=7]="YEAR",r[r.DECADE=8]="DECADE",r[r.CENT=9]="CENT"})(Y||(Y={}));function hi(r){return r.second===0?r.minute===0?r.hour===0?r.day===1?r.month===1?r.year%100===0?Y.CENT:r.year%10===0?Y.DECADE:Y.YEAR:Y.MONTH:Y.DAY:Y.HOUR:r.minute%15==0?Y.QUARTER_HOUR:Y.MINUTE:r.second%15===0?Y.QUARTER_MINUTE:Y.SECOND}Y.CENT+"",Y.DECADE+"",Y.YEAR+"",Y.MONTH+"",Y.DAY+"",Y.HOUR+"",Y.MINUTE+"",Y.QUARTER_HOUR+"",Y.QUARTER_MINUTE+"",Y.SECOND+"";const pa={[Y.CENT]:{format:"yyyy",separator:"/"},[Y.DECADE]:{format:"yyyy",separator:"/"},[Y.YEAR]:{format:"yyyy",separator:"/"},[Y.MONTH]:{format:"yyyy-MM",separator:"/"},[Y.DAY]:{format:"yyyy-MM-dd",separator:"/"},[Y.HOUR]:{format:"d MMM yyyy T",separator:" - "},[Y.QUARTER_HOUR]:{format:"d MMM yyyy T",separator:" - "},[Y.MINUTE]:{format:"d MMM yyyy T",separator:" - "},[Y.QUARTER_MINUTE]:{format:"d MMM yyyy T",separator:" - "},[Y.SECOND]:{format:"yyyy-MM-ddThh:mm:ssZ",separator:" - "}};function fa({fromDateTime:r,toDateTime:e},t=pa){const n=Math.min(hi(r),hi(e)),i=t[n];return`${r.toFormat(i.format)}${i.separator||" - "}${e.toFormat(i.format)}`}const Ae=["22, 163, 76","2, 132, 199","212, 50, 56","242, 202, 45","80, 73, 229","145, 57, 234","214, 45, 123","234, 88, 11","168, 162, 157","255, 255, 255","0, 0, 0"],ba=["green","blue","red","yellow","indigo","purple","pink","orange","gray","white","black"];function ga(r){r=r.replace("#","").replace(")","");const e=r.length===3,t=parseInt(e?r.slice(0,1).repeat(2):r.slice(0,2),16);if(isNaN(t))return;const n=parseInt(e?r.slice(1,2).repeat(2):r.slice(2,4),16);if(isNaN(n))return;const i=parseInt(e?r.slice(2,3).repeat(2):r.slice(4,6),16);if(!isNaN(i))return`${t}, ${n}, ${i}`}const ya=(r,e)=>{const t={},n=r.ranges.flatMap(i=>{var a;if(i.type!=="tag")return[];if(t[i.content.tag])return i.content.color=t[i.content.tag],[i];const s=((a=i.content)==null?void 0:a.tag)&&r.header[")"+i.content.tag],o=!!s&&(typeof s=="string"&&s||typeof s=="object"&&s.color);if(o){const l=ba.indexOf(o);if(l===-1){const c=ga(o);c?i.content.color=c:i.content.color=Ae[e++%Ae.length]}else i.content.color=Ae[l]}else i.content.color=Ae[e++%Ae.length];return t[i.content.tag]=i.content.color,[i]});return[t,n,e]},va=r=>{let e=0;const t={};for(const[n,i]of[["default",r]]){const[s,,o]=ya(i,e);t[n]=s,e=o}return t},Gr="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIEhlIGV4dGVuZHMgRXJyb3J7fWNsYXNzIHVhIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoZSl7c3VwZXIoYEludmFsaWQgRGF0ZVRpbWU6ICR7ZS50b01lc3NhZ2UoKX1gKX19Y2xhc3MgY2EgZXh0ZW5kcyBIZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihgSW52YWxpZCBJbnRlcnZhbDogJHtlLnRvTWVzc2FnZSgpfWApfX1jbGFzcyBmYSBleHRlbmRzIEhle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGBJbnZhbGlkIER1cmF0aW9uOiAke2UudG9NZXNzYWdlKCl9YCl9fWNsYXNzIER0IGV4dGVuZHMgSGV7fWNsYXNzIGhpIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoZSl7c3VwZXIoYEludmFsaWQgdW5pdCAke2V9YCl9fWNsYXNzIGNlIGV4dGVuZHMgSGV7fWNsYXNzIENlIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoKXtzdXBlcigiWm9uZSBpcyBhbiBhYnN0cmFjdCBjbGFzcyIpfX1jb25zdCBOPSJudW1lcmljIixnZT0ic2hvcnQiLGxlPSJsb25nIixadD17eWVhcjpOLG1vbnRoOk4sZGF5Ok59LGRpPXt5ZWFyOk4sbW9udGg6Z2UsZGF5Ok59LGhhPXt5ZWFyOk4sbW9udGg6Z2UsZGF5Ok4sd2Vla2RheTpnZX0sbWk9e3llYXI6Tixtb250aDpsZSxkYXk6Tn0scGk9e3llYXI6Tixtb250aDpsZSxkYXk6Tix3ZWVrZGF5OmxlfSx5aT17aG91cjpOLG1pbnV0ZTpOfSxnaT17aG91cjpOLG1pbnV0ZTpOLHNlY29uZDpOfSxUaT17aG91cjpOLG1pbnV0ZTpOLHNlY29uZDpOLHRpbWVab25lTmFtZTpnZX0sd2k9e2hvdXI6TixtaW51dGU6TixzZWNvbmQ6Tix0aW1lWm9uZU5hbWU6bGV9LHZpPXtob3VyOk4sbWludXRlOk4saG91ckN5Y2xlOiJoMjMifSxiaT17aG91cjpOLG1pbnV0ZTpOLHNlY29uZDpOLGhvdXJDeWNsZToiaDIzIn0sX2k9e2hvdXI6TixtaW51dGU6TixzZWNvbmQ6Tixob3VyQ3ljbGU6ImgyMyIsdGltZVpvbmVOYW1lOmdlfSxPaT17aG91cjpOLG1pbnV0ZTpOLHNlY29uZDpOLGhvdXJDeWNsZToiaDIzIix0aW1lWm9uZU5hbWU6bGV9LElpPXt5ZWFyOk4sbW9udGg6TixkYXk6Tixob3VyOk4sbWludXRlOk59LFNpPXt5ZWFyOk4sbW9udGg6TixkYXk6Tixob3VyOk4sbWludXRlOk4sc2Vjb25kOk59LEVpPXt5ZWFyOk4sbW9udGg6Z2UsZGF5Ok4saG91cjpOLG1pbnV0ZTpOfSxEaT17eWVhcjpOLG1vbnRoOmdlLGRheTpOLGhvdXI6TixtaW51dGU6TixzZWNvbmQ6Tn0sZGE9e3llYXI6Tixtb250aDpnZSxkYXk6Tix3ZWVrZGF5OmdlLGhvdXI6TixtaW51dGU6Tn0sTWk9e3llYXI6Tixtb250aDpsZSxkYXk6Tixob3VyOk4sbWludXRlOk4sdGltZVpvbmVOYW1lOmdlfSxBaT17eWVhcjpOLG1vbnRoOmxlLGRheTpOLGhvdXI6TixtaW51dGU6TixzZWNvbmQ6Tix0aW1lWm9uZU5hbWU6Z2V9LE5pPXt5ZWFyOk4sbW9udGg6bGUsZGF5Ok4sd2Vla2RheTpsZSxob3VyOk4sbWludXRlOk4sdGltZVpvbmVOYW1lOmxlfSxraT17eWVhcjpOLG1vbnRoOmxlLGRheTpOLHdlZWtkYXk6bGUsaG91cjpOLG1pbnV0ZTpOLHNlY29uZDpOLHRpbWVab25lTmFtZTpsZX07Y2xhc3MgTXR7Z2V0IHR5cGUoKXt0aHJvdyBuZXcgQ2V9Z2V0IG5hbWUoKXt0aHJvdyBuZXcgQ2V9Z2V0IGlhbmFOYW1lKCl7cmV0dXJuIHRoaXMubmFtZX1nZXQgaXNVbml2ZXJzYWwoKXt0aHJvdyBuZXcgQ2V9b2Zmc2V0TmFtZShlLHQpe3Rocm93IG5ldyBDZX1mb3JtYXRPZmZzZXQoZSx0KXt0aHJvdyBuZXcgQ2V9b2Zmc2V0KGUpe3Rocm93IG5ldyBDZX1lcXVhbHMoZSl7dGhyb3cgbmV3IENlfWdldCBpc1ZhbGlkKCl7dGhyb3cgbmV3IENlfX1sZXQgSm49bnVsbDtjbGFzcyBBdCBleHRlbmRzIE10e3N0YXRpYyBnZXQgaW5zdGFuY2UoKXtyZXR1cm4gSm49PT1udWxsJiYoSm49bmV3IEF0KSxKbn1nZXQgdHlwZSgpe3JldHVybiJzeXN0ZW0ifWdldCBuYW1lKCl7cmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmV9Z2V0IGlzVW5pdmVyc2FsKCl7cmV0dXJuITF9b2Zmc2V0TmFtZShlLHtmb3JtYXQ6dCxsb2NhbGU6bn0pe3JldHVybiBCaShlLHQsbil9Zm9ybWF0T2Zmc2V0KGUsdCl7cmV0dXJuIEx0KHRoaXMub2Zmc2V0KGUpLHQpfW9mZnNldChlKXtyZXR1cm4tbmV3IERhdGUoZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX1lcXVhbHMoZSl7cmV0dXJuIGUudHlwZT09PSJzeXN0ZW0ifWdldCBpc1ZhbGlkKCl7cmV0dXJuITB9fWxldCBLdD17fTtmdW5jdGlvbiBtYShpKXtyZXR1cm4gS3RbaV18fChLdFtpXT1uZXcgSW50bC5EYXRlVGltZUZvcm1hdCgiZW4tVVMiLHtob3VyMTI6ITEsdGltZVpvbmU6aSx5ZWFyOiJudW1lcmljIixtb250aDoiMi1kaWdpdCIsZGF5OiIyLWRpZ2l0Iixob3VyOiIyLWRpZ2l0IixtaW51dGU6IjItZGlnaXQiLHNlY29uZDoiMi1kaWdpdCIsZXJhOiJzaG9ydCJ9KSksS3RbaV19Y29uc3QgcGE9e3llYXI6MCxtb250aDoxLGRheToyLGVyYTozLGhvdXI6NCxtaW51dGU6NSxzZWNvbmQ6Nn07ZnVuY3Rpb24geWEoaSxlKXtjb25zdCB0PWkuZm9ybWF0KGUpLnJlcGxhY2UoL1x1MjAwRS9nLCIiKSxuPS8oXGQrKVwvKFxkKylcLyhcZCspIChBRHxCQyksPyAoXGQrKTooXGQrKTooXGQrKS8uZXhlYyh0KSxbLHMscixvLGEsbCx1LGhdPW47cmV0dXJuW28scyxyLGEsbCx1LGhdfWZ1bmN0aW9uIGdhKGksZSl7Y29uc3QgdD1pLmZvcm1hdFRvUGFydHMoZSksbj1bXTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyl7Y29uc3R7dHlwZTpyLHZhbHVlOm99PXRbc10sYT1wYVtyXTtyPT09ImVyYSI/blthXT1vOiQoYSl8fChuW2FdPXBhcnNlSW50KG8sMTApKX1yZXR1cm4gbn1sZXQgR3Q9e307Y2xhc3MgRGUgZXh0ZW5kcyBNdHtzdGF0aWMgY3JlYXRlKGUpe3JldHVybiBHdFtlXXx8KEd0W2VdPW5ldyBEZShlKSksR3RbZV19c3RhdGljIHJlc2V0Q2FjaGUoKXtHdD17fSxLdD17fX1zdGF0aWMgaXNWYWxpZFNwZWNpZmllcihlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkWm9uZShlKX1zdGF0aWMgaXNWYWxpZFpvbmUoZSl7aWYoIWUpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgiZW4tVVMiLHt0aW1lWm9uZTplfSkuZm9ybWF0KCksITB9Y2F0Y2h7cmV0dXJuITF9fWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy56b25lTmFtZT1lLHRoaXMudmFsaWQ9RGUuaXNWYWxpZFpvbmUoZSl9Z2V0IHR5cGUoKXtyZXR1cm4iaWFuYSJ9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy56b25lTmFtZX1nZXQgaXNVbml2ZXJzYWwoKXtyZXR1cm4hMX1vZmZzZXROYW1lKGUse2Zvcm1hdDp0LGxvY2FsZTpufSl7cmV0dXJuIEJpKGUsdCxuLHRoaXMubmFtZSl9Zm9ybWF0T2Zmc2V0KGUsdCl7cmV0dXJuIEx0KHRoaXMub2Zmc2V0KGUpLHQpfW9mZnNldChlKXtjb25zdCB0PW5ldyBEYXRlKGUpO2lmKGlzTmFOKHQpKXJldHVybiBOYU47Y29uc3Qgbj1tYSh0aGlzLm5hbWUpO2xldFtzLHIsbyxhLGwsdSxoXT1uLmZvcm1hdFRvUGFydHM/Z2Eobix0KTp5YShuLHQpO2E9PT0iQkMiJiYocz0tTWF0aC5hYnMocykrMSk7Y29uc3QgZD1lbih7eWVhcjpzLG1vbnRoOnIsZGF5Om8saG91cjpsPT09MjQ/MDpsLG1pbnV0ZTp1LHNlY29uZDpoLG1pbGxpc2Vjb25kOjB9KTtsZXQgZj0rdDtjb25zdCBwPWYlMWUzO3JldHVybiBmLT1wPj0wP3A6MWUzK3AsKGQtZikvKDYwKjFlMyl9ZXF1YWxzKGUpe3JldHVybiBlLnR5cGU9PT0iaWFuYSImJmUubmFtZT09PXRoaXMubmFtZX1nZXQgaXNWYWxpZCgpe3JldHVybiB0aGlzLnZhbGlkfX1sZXQgQ2k9e307ZnVuY3Rpb24gVGEoaSxlPXt9KXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KFtpLGVdKTtsZXQgbj1DaVt0XTtyZXR1cm4gbnx8KG49bmV3IEludGwuTGlzdEZvcm1hdChpLGUpLENpW3RdPW4pLG59bGV0IFhuPXt9O2Z1bmN0aW9uIFFuKGksZT17fSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShbaSxlXSk7bGV0IG49WG5bdF07cmV0dXJuIG58fChuPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGksZSksWG5bdF09biksbn1sZXQgZXM9e307ZnVuY3Rpb24gd2EoaSxlPXt9KXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KFtpLGVdKTtsZXQgbj1lc1t0XTtyZXR1cm4gbnx8KG49bmV3IEludGwuTnVtYmVyRm9ybWF0KGksZSksZXNbdF09biksbn1sZXQgdHM9e307ZnVuY3Rpb24gdmEoaSxlPXt9KXtjb25zdHtiYXNlOnQsLi4ubn09ZSxzPUpTT04uc3RyaW5naWZ5KFtpLG5dKTtsZXQgcj10c1tzXTtyZXR1cm4gcnx8KHI9bmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KGksZSksdHNbc109cikscn1sZXQgTnQ9bnVsbDtmdW5jdGlvbiBiYSgpe3JldHVybiBOdHx8KE50PW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlLE50KX1mdW5jdGlvbiBfYShpKXtjb25zdCBlPWkuaW5kZXhPZigiLXgtIik7ZSE9PS0xJiYoaT1pLnN1YnN0cmluZygwLGUpKTtjb25zdCB0PWkuaW5kZXhPZigiLXUtIik7aWYodD09PS0xKXJldHVybltpXTt7bGV0IG4sczt0cnl7bj1RbihpKS5yZXNvbHZlZE9wdGlvbnMoKSxzPWl9Y2F0Y2h7Y29uc3QgbD1pLnN1YnN0cmluZygwLHQpO249UW4obCkucmVzb2x2ZWRPcHRpb25zKCkscz1sfWNvbnN0e251bWJlcmluZ1N5c3RlbTpyLGNhbGVuZGFyOm99PW47cmV0dXJuW3MscixvXX19ZnVuY3Rpb24gT2EoaSxlLHQpe3JldHVybih0fHxlKSYmKGkuaW5jbHVkZXMoIi11LSIpfHwoaSs9Ii11IiksdCYmKGkrPWAtY2EtJHt0fWApLGUmJihpKz1gLW51LSR7ZX1gKSksaX1mdW5jdGlvbiBJYShpKXtjb25zdCBlPVtdO2ZvcihsZXQgdD0xO3Q8PTEyO3QrKyl7Y29uc3Qgbj1TLnV0YygyMDA5LHQsMSk7ZS5wdXNoKGkobikpfXJldHVybiBlfWZ1bmN0aW9uIFNhKGkpe2NvbnN0IGU9W107Zm9yKGxldCB0PTE7dDw9Nzt0Kyspe2NvbnN0IG49Uy51dGMoMjAxNiwxMSwxMyt0KTtlLnB1c2goaShuKSl9cmV0dXJuIGV9ZnVuY3Rpb24gSnQoaSxlLHQsbil7Y29uc3Qgcz1pLmxpc3RpbmdNb2RlKCk7cmV0dXJuIHM9PT0iZXJyb3IiP251bGw6cz09PSJlbiI/dChlKTpuKGUpfWZ1bmN0aW9uIEVhKGkpe3JldHVybiBpLm51bWJlcmluZ1N5c3RlbSYmaS5udW1iZXJpbmdTeXN0ZW0hPT0ibGF0biI/ITE6aS5udW1iZXJpbmdTeXN0ZW09PT0ibGF0biJ8fCFpLmxvY2FsZXx8aS5sb2NhbGUuc3RhcnRzV2l0aCgiZW4iKXx8bmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoaS5pbnRsKS5yZXNvbHZlZE9wdGlvbnMoKS5udW1iZXJpbmdTeXN0ZW09PT0ibGF0biJ9Y2xhc3MgRGF7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMucGFkVG89bi5wYWRUb3x8MCx0aGlzLmZsb29yPW4uZmxvb3J8fCExO2NvbnN0e3BhZFRvOnMsZmxvb3I6ciwuLi5vfT1uO2lmKCF0fHxPYmplY3Qua2V5cyhvKS5sZW5ndGg+MCl7Y29uc3QgYT17dXNlR3JvdXBpbmc6ITEsLi4ubn07bi5wYWRUbz4wJiYoYS5taW5pbXVtSW50ZWdlckRpZ2l0cz1uLnBhZFRvKSx0aGlzLmluZj13YShlLGEpfX1mb3JtYXQoZSl7aWYodGhpcy5pbmYpe2NvbnN0IHQ9dGhpcy5mbG9vcj9NYXRoLmZsb29yKGUpOmU7cmV0dXJuIHRoaXMuaW5mLmZvcm1hdCh0KX1lbHNle2NvbnN0IHQ9dGhpcy5mbG9vcj9NYXRoLmZsb29yKGUpOmlzKGUsMyk7cmV0dXJuIHRlKHQsdGhpcy5wYWRUbyl9fX1jbGFzcyBNYXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5vcHRzPW4sdGhpcy5vcmlnaW5hbFpvbmU9dm9pZCAwO2xldCBzO2lmKHRoaXMub3B0cy50aW1lWm9uZSl0aGlzLmR0PWU7ZWxzZSBpZihlLnpvbmUudHlwZT09PSJmaXhlZCIpe2NvbnN0IG89LTEqKGUub2Zmc2V0LzYwKSxhPW8+PTA/YEV0Yy9HTVQrJHtvfWA6YEV0Yy9HTVQke299YDtlLm9mZnNldCE9PTAmJkRlLmNyZWF0ZShhKS52YWxpZD8ocz1hLHRoaXMuZHQ9ZSk6KHM9IlVUQyIsdGhpcy5kdD1lLm9mZnNldD09PTA/ZTplLnNldFpvbmUoIlVUQyIpLnBsdXMoe21pbnV0ZXM6ZS5vZmZzZXR9KSx0aGlzLm9yaWdpbmFsWm9uZT1lLnpvbmUpfWVsc2UgZS56b25lLnR5cGU9PT0ic3lzdGVtIj90aGlzLmR0PWU6ZS56b25lLnR5cGU9PT0iaWFuYSI/KHRoaXMuZHQ9ZSxzPWUuem9uZS5uYW1lKToocz0iVVRDIix0aGlzLmR0PWUuc2V0Wm9uZSgiVVRDIikucGx1cyh7bWludXRlczplLm9mZnNldH0pLHRoaXMub3JpZ2luYWxab25lPWUuem9uZSk7Y29uc3Qgcj17Li4udGhpcy5vcHRzfTtyLnRpbWVab25lPXIudGltZVpvbmV8fHMsdGhpcy5kdGY9UW4odCxyKX1mb3JtYXQoKXtyZXR1cm4gdGhpcy5vcmlnaW5hbFpvbmU/dGhpcy5mb3JtYXRUb1BhcnRzKCkubWFwKCh7dmFsdWU6ZX0pPT5lKS5qb2luKCIiKTp0aGlzLmR0Zi5mb3JtYXQodGhpcy5kdC50b0pTRGF0ZSgpKX1mb3JtYXRUb1BhcnRzKCl7Y29uc3QgZT10aGlzLmR0Zi5mb3JtYXRUb1BhcnRzKHRoaXMuZHQudG9KU0RhdGUoKSk7cmV0dXJuIHRoaXMub3JpZ2luYWxab25lP2UubWFwKHQ9PntpZih0LnR5cGU9PT0idGltZVpvbmVOYW1lIil7Y29uc3Qgbj10aGlzLm9yaWdpbmFsWm9uZS5vZmZzZXROYW1lKHRoaXMuZHQudHMse2xvY2FsZTp0aGlzLmR0LmxvY2FsZSxmb3JtYXQ6dGhpcy5vcHRzLnRpbWVab25lTmFtZX0pO3JldHVybnsuLi50LHZhbHVlOm59fWVsc2UgcmV0dXJuIHR9KTplfXJlc29sdmVkT3B0aW9ucygpe3JldHVybiB0aGlzLmR0Zi5yZXNvbHZlZE9wdGlvbnMoKX19Y2xhc3MgQWF7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMub3B0cz17c3R5bGU6ImxvbmciLC4uLm59LCF0JiYkaSgpJiYodGhpcy5ydGY9dmEoZSxuKSl9Zm9ybWF0KGUsdCl7cmV0dXJuIHRoaXMucnRmP3RoaXMucnRmLmZvcm1hdChlLHQpOmphKHQsZSx0aGlzLm9wdHMubnVtZXJpYyx0aGlzLm9wdHMuc3R5bGUhPT0ibG9uZyIpfWZvcm1hdFRvUGFydHMoZSx0KXtyZXR1cm4gdGhpcy5ydGY/dGhpcy5ydGYuZm9ybWF0VG9QYXJ0cyhlLHQpOltdfX1jbGFzcyBxe3N0YXRpYyBmcm9tT3B0cyhlKXtyZXR1cm4gcS5jcmVhdGUoZS5sb2NhbGUsZS5udW1iZXJpbmdTeXN0ZW0sZS5vdXRwdXRDYWxlbmRhcixlLmRlZmF1bHRUb0VOKX1zdGF0aWMgY3JlYXRlKGUsdCxuLHM9ITEpe2NvbnN0IHI9ZXx8ZWUuZGVmYXVsdExvY2FsZSxvPXJ8fChzPyJlbi1VUyI6YmEoKSksYT10fHxlZS5kZWZhdWx0TnVtYmVyaW5nU3lzdGVtLGw9bnx8ZWUuZGVmYXVsdE91dHB1dENhbGVuZGFyO3JldHVybiBuZXcgcShvLGEsbCxyKX1zdGF0aWMgcmVzZXRDYWNoZSgpe050PW51bGwsWG49e30sZXM9e30sdHM9e319c3RhdGljIGZyb21PYmplY3Qoe2xvY2FsZTplLG51bWJlcmluZ1N5c3RlbTp0LG91dHB1dENhbGVuZGFyOm59PXt9KXtyZXR1cm4gcS5jcmVhdGUoZSx0LG4pfWNvbnN0cnVjdG9yKGUsdCxuLHMpe2NvbnN0W3IsbyxhXT1fYShlKTt0aGlzLmxvY2FsZT1yLHRoaXMubnVtYmVyaW5nU3lzdGVtPXR8fG98fG51bGwsdGhpcy5vdXRwdXRDYWxlbmRhcj1ufHxhfHxudWxsLHRoaXMuaW50bD1PYSh0aGlzLmxvY2FsZSx0aGlzLm51bWJlcmluZ1N5c3RlbSx0aGlzLm91dHB1dENhbGVuZGFyKSx0aGlzLndlZWtkYXlzQ2FjaGU9e2Zvcm1hdDp7fSxzdGFuZGFsb25lOnt9fSx0aGlzLm1vbnRoc0NhY2hlPXtmb3JtYXQ6e30sc3RhbmRhbG9uZTp7fX0sdGhpcy5tZXJpZGllbUNhY2hlPW51bGwsdGhpcy5lcmFDYWNoZT17fSx0aGlzLnNwZWNpZmllZExvY2FsZT1zLHRoaXMuZmFzdE51bWJlcnNDYWNoZWQ9bnVsbH1nZXQgZmFzdE51bWJlcnMoKXtyZXR1cm4gdGhpcy5mYXN0TnVtYmVyc0NhY2hlZD09bnVsbCYmKHRoaXMuZmFzdE51bWJlcnNDYWNoZWQ9RWEodGhpcykpLHRoaXMuZmFzdE51bWJlcnNDYWNoZWR9bGlzdGluZ01vZGUoKXtjb25zdCBlPXRoaXMuaXNFbmdsaXNoKCksdD0odGhpcy5udW1iZXJpbmdTeXN0ZW09PT1udWxsfHx0aGlzLm51bWJlcmluZ1N5c3RlbT09PSJsYXRuIikmJih0aGlzLm91dHB1dENhbGVuZGFyPT09bnVsbHx8dGhpcy5vdXRwdXRDYWxlbmRhcj09PSJncmVnb3J5Iik7cmV0dXJuIGUmJnQ/ImVuIjoiaW50bCJ9Y2xvbmUoZSl7cmV0dXJuIWV8fE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD09PTA/dGhpczpxLmNyZWF0ZShlLmxvY2FsZXx8dGhpcy5zcGVjaWZpZWRMb2NhbGUsZS5udW1iZXJpbmdTeXN0ZW18fHRoaXMubnVtYmVyaW5nU3lzdGVtLGUub3V0cHV0Q2FsZW5kYXJ8fHRoaXMub3V0cHV0Q2FsZW5kYXIsZS5kZWZhdWx0VG9FTnx8ITEpfXJlZGVmYXVsdFRvRU4oZT17fSl7cmV0dXJuIHRoaXMuY2xvbmUoey4uLmUsZGVmYXVsdFRvRU46ITB9KX1yZWRlZmF1bHRUb1N5c3RlbShlPXt9KXtyZXR1cm4gdGhpcy5jbG9uZSh7Li4uZSxkZWZhdWx0VG9FTjohMX0pfW1vbnRocyhlLHQ9ITEpe3JldHVybiBKdCh0aGlzLGUsV2ksKCk9Pntjb25zdCBuPXQ/e21vbnRoOmUsZGF5OiJudW1lcmljIn06e21vbnRoOmV9LHM9dD8iZm9ybWF0Ijoic3RhbmRhbG9uZSI7cmV0dXJuIHRoaXMubW9udGhzQ2FjaGVbc11bZV18fCh0aGlzLm1vbnRoc0NhY2hlW3NdW2VdPUlhKHI9PnRoaXMuZXh0cmFjdChyLG4sIm1vbnRoIikpKSx0aGlzLm1vbnRoc0NhY2hlW3NdW2VdfSl9d2Vla2RheXMoZSx0PSExKXtyZXR1cm4gSnQodGhpcyxlLFppLCgpPT57Y29uc3Qgbj10P3t3ZWVrZGF5OmUseWVhcjoibnVtZXJpYyIsbW9udGg6ImxvbmciLGRheToibnVtZXJpYyJ9Ont3ZWVrZGF5OmV9LHM9dD8iZm9ybWF0Ijoic3RhbmRhbG9uZSI7cmV0dXJuIHRoaXMud2Vla2RheXNDYWNoZVtzXVtlXXx8KHRoaXMud2Vla2RheXNDYWNoZVtzXVtlXT1TYShyPT50aGlzLmV4dHJhY3QocixuLCJ3ZWVrZGF5IikpKSx0aGlzLndlZWtkYXlzQ2FjaGVbc11bZV19KX1tZXJpZGllbXMoKXtyZXR1cm4gSnQodGhpcyx2b2lkIDAsKCk9PktpLCgpPT57aWYoIXRoaXMubWVyaWRpZW1DYWNoZSl7Y29uc3QgZT17aG91cjoibnVtZXJpYyIsaG91ckN5Y2xlOiJoMTIifTt0aGlzLm1lcmlkaWVtQ2FjaGU9W1MudXRjKDIwMTYsMTEsMTMsOSksUy51dGMoMjAxNiwxMSwxMywxOSldLm1hcCh0PT50aGlzLmV4dHJhY3QodCxlLCJkYXlwZXJpb2QiKSl9cmV0dXJuIHRoaXMubWVyaWRpZW1DYWNoZX0pfWVyYXMoZSl7cmV0dXJuIEp0KHRoaXMsZSxHaSwoKT0+e2NvbnN0IHQ9e2VyYTplfTtyZXR1cm4gdGhpcy5lcmFDYWNoZVtlXXx8KHRoaXMuZXJhQ2FjaGVbZV09W1MudXRjKC00MCwxLDEpLFMudXRjKDIwMTcsMSwxKV0ubWFwKG49PnRoaXMuZXh0cmFjdChuLHQsImVyYSIpKSksdGhpcy5lcmFDYWNoZVtlXX0pfWV4dHJhY3QoZSx0LG4pe2NvbnN0IHM9dGhpcy5kdEZvcm1hdHRlcihlLHQpLHI9cy5mb3JtYXRUb1BhcnRzKCksbz1yLmZpbmQoYT0+YS50eXBlLnRvTG93ZXJDYXNlKCk9PT1uKTtyZXR1cm4gbz9vLnZhbHVlOm51bGx9bnVtYmVyRm9ybWF0dGVyKGU9e30pe3JldHVybiBuZXcgRGEodGhpcy5pbnRsLGUuZm9yY2VTaW1wbGV8fHRoaXMuZmFzdE51bWJlcnMsZSl9ZHRGb3JtYXR0ZXIoZSx0PXt9KXtyZXR1cm4gbmV3IE1hKGUsdGhpcy5pbnRsLHQpfXJlbEZvcm1hdHRlcihlPXt9KXtyZXR1cm4gbmV3IEFhKHRoaXMuaW50bCx0aGlzLmlzRW5nbGlzaCgpLGUpfWxpc3RGb3JtYXR0ZXIoZT17fSl7cmV0dXJuIFRhKHRoaXMuaW50bCxlKX1pc0VuZ2xpc2goKXtyZXR1cm4gdGhpcy5sb2NhbGU9PT0iZW4ifHx0aGlzLmxvY2FsZS50b0xvd2VyQ2FzZSgpPT09ImVuLXVzInx8bmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodGhpcy5pbnRsKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGUuc3RhcnRzV2l0aCgiZW4tdXMiKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMubG9jYWxlPT09ZS5sb2NhbGUmJnRoaXMubnVtYmVyaW5nU3lzdGVtPT09ZS5udW1iZXJpbmdTeXN0ZW0mJnRoaXMub3V0cHV0Q2FsZW5kYXI9PT1lLm91dHB1dENhbGVuZGFyfX1sZXQgbnM9bnVsbDtjbGFzcyBpZSBleHRlbmRzIE10e3N0YXRpYyBnZXQgdXRjSW5zdGFuY2UoKXtyZXR1cm4gbnM9PT1udWxsJiYobnM9bmV3IGllKDApKSxuc31zdGF0aWMgaW5zdGFuY2UoZSl7cmV0dXJuIGU9PT0wP2llLnV0Y0luc3RhbmNlOm5ldyBpZShlKX1zdGF0aWMgcGFyc2VTcGVjaWZpZXIoZSl7aWYoZSl7Y29uc3QgdD1lLm1hdGNoKC9edXRjKD86KFsrLV1cZHsxLDJ9KSg/OjooXGR7Mn0pKT8pPyQvaSk7aWYodClyZXR1cm4gbmV3IGllKG5uKHRbMV0sdFsyXSkpfXJldHVybiBudWxsfWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5maXhlZD1lfWdldCB0eXBlKCl7cmV0dXJuImZpeGVkIn1nZXQgbmFtZSgpe3JldHVybiB0aGlzLmZpeGVkPT09MD8iVVRDIjpgVVRDJHtMdCh0aGlzLmZpeGVkLCJuYXJyb3ciKX1gfWdldCBpYW5hTmFtZSgpe3JldHVybiB0aGlzLmZpeGVkPT09MD8iRXRjL1VUQyI6YEV0Yy9HTVQke0x0KC10aGlzLmZpeGVkLCJuYXJyb3ciKX1gfW9mZnNldE5hbWUoKXtyZXR1cm4gdGhpcy5uYW1lfWZvcm1hdE9mZnNldChlLHQpe3JldHVybiBMdCh0aGlzLmZpeGVkLHQpfWdldCBpc1VuaXZlcnNhbCgpe3JldHVybiEwfW9mZnNldCgpe3JldHVybiB0aGlzLmZpeGVkfWVxdWFscyhlKXtyZXR1cm4gZS50eXBlPT09ImZpeGVkIiYmZS5maXhlZD09PXRoaXMuZml4ZWR9Z2V0IGlzVmFsaWQoKXtyZXR1cm4hMH19Y2xhc3MgTmEgZXh0ZW5kcyBNdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuem9uZU5hbWU9ZX1nZXQgdHlwZSgpe3JldHVybiJpbnZhbGlkIn1nZXQgbmFtZSgpe3JldHVybiB0aGlzLnpvbmVOYW1lfWdldCBpc1VuaXZlcnNhbCgpe3JldHVybiExfW9mZnNldE5hbWUoKXtyZXR1cm4gbnVsbH1mb3JtYXRPZmZzZXQoKXtyZXR1cm4iIn1vZmZzZXQoKXtyZXR1cm4gTmFOfWVxdWFscygpe3JldHVybiExfWdldCBpc1ZhbGlkKCl7cmV0dXJuITF9fWZ1bmN0aW9uIExlKGksZSl7aWYoJChpKXx8aT09PW51bGwpcmV0dXJuIGU7aWYoaSBpbnN0YW5jZW9mIE10KXJldHVybiBpO2lmKGthKGkpKXtjb25zdCB0PWkudG9Mb3dlckNhc2UoKTtyZXR1cm4gdD09PSJkZWZhdWx0Ij9lOnQ9PT0ibG9jYWwifHx0PT09InN5c3RlbSI/QXQuaW5zdGFuY2U6dD09PSJ1dGMifHx0PT09ImdtdCI/aWUudXRjSW5zdGFuY2U6aWUucGFyc2VTcGVjaWZpZXIodCl8fERlLmNyZWF0ZShpKX1lbHNlIHJldHVybiBWZShpKT9pZS5pbnN0YW5jZShpKTp0eXBlb2YgaT09Im9iamVjdCImJiJvZmZzZXQiaW4gaSYmdHlwZW9mIGkub2Zmc2V0PT0iZnVuY3Rpb24iP2k6bmV3IE5hKGkpfWxldCBMaT0oKT0+RGF0ZS5ub3coKSx4aT0ic3lzdGVtIixZaT1udWxsLHppPW51bGwsRmk9bnVsbCxSaT02MCxQaTtjbGFzcyBlZXtzdGF0aWMgZ2V0IG5vdygpe3JldHVybiBMaX1zdGF0aWMgc2V0IG5vdyhlKXtMaT1lfXN0YXRpYyBzZXQgZGVmYXVsdFpvbmUoZSl7eGk9ZX1zdGF0aWMgZ2V0IGRlZmF1bHRab25lKCl7cmV0dXJuIExlKHhpLEF0Lmluc3RhbmNlKX1zdGF0aWMgZ2V0IGRlZmF1bHRMb2NhbGUoKXtyZXR1cm4gWWl9c3RhdGljIHNldCBkZWZhdWx0TG9jYWxlKGUpe1lpPWV9c3RhdGljIGdldCBkZWZhdWx0TnVtYmVyaW5nU3lzdGVtKCl7cmV0dXJuIHppfXN0YXRpYyBzZXQgZGVmYXVsdE51bWJlcmluZ1N5c3RlbShlKXt6aT1lfXN0YXRpYyBnZXQgZGVmYXVsdE91dHB1dENhbGVuZGFyKCl7cmV0dXJuIEZpfXN0YXRpYyBzZXQgZGVmYXVsdE91dHB1dENhbGVuZGFyKGUpe0ZpPWV9c3RhdGljIGdldCB0d29EaWdpdEN1dG9mZlllYXIoKXtyZXR1cm4gUml9c3RhdGljIHNldCB0d29EaWdpdEN1dG9mZlllYXIoZSl7Umk9ZSUxMDB9c3RhdGljIGdldCB0aHJvd09uSW52YWxpZCgpe3JldHVybiBQaX1zdGF0aWMgc2V0IHRocm93T25JbnZhbGlkKGUpe1BpPWV9c3RhdGljIHJlc2V0Q2FjaGVzKCl7cS5yZXNldENhY2hlKCksRGUucmVzZXRDYWNoZSgpfX1mdW5jdGlvbiAkKGkpe3JldHVybiB0eXBlb2YgaT4idSJ9ZnVuY3Rpb24gVmUoaSl7cmV0dXJuIHR5cGVvZiBpPT0ibnVtYmVyIn1mdW5jdGlvbiBYdChpKXtyZXR1cm4gdHlwZW9mIGk9PSJudW1iZXIiJiZpJTE9PT0wfWZ1bmN0aW9uIGthKGkpe3JldHVybiB0eXBlb2YgaT09InN0cmluZyJ9ZnVuY3Rpb24gQ2EoaSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKT09PSJbb2JqZWN0IERhdGVdIn1mdW5jdGlvbiAkaSgpe3RyeXtyZXR1cm4gdHlwZW9mIEludGw8InUiJiYhIUludGwuUmVsYXRpdmVUaW1lRm9ybWF0fWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBMYShpKXtyZXR1cm4gQXJyYXkuaXNBcnJheShpKT9pOltpXX1mdW5jdGlvbiBVaShpLGUsdCl7aWYoaS5sZW5ndGghPT0wKXJldHVybiBpLnJlZHVjZSgobixzKT0+e2NvbnN0IHI9W2Uocyksc107cmV0dXJuIG4mJnQoblswXSxyWzBdKT09PW5bMF0/bjpyfSxudWxsKVsxXX1mdW5jdGlvbiB4YShpLGUpe3JldHVybiBlLnJlZHVjZSgodCxuKT0+KHRbbl09aVtuXSx0KSx7fSl9ZnVuY3Rpb24gdHQoaSxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksZSl9ZnVuY3Rpb24gTWUoaSxlLHQpe3JldHVybiBYdChpKSYmaT49ZSYmaTw9dH1mdW5jdGlvbiBZYShpLGUpe3JldHVybiBpLWUqTWF0aC5mbG9vcihpL2UpfWZ1bmN0aW9uIHRlKGksZT0yKXtjb25zdCB0PWk8MDtsZXQgbjtyZXR1cm4gdD9uPSItIisoIiIrLWkpLnBhZFN0YXJ0KGUsIjAiKTpuPSgiIitpKS5wYWRTdGFydChlLCIwIiksbn1mdW5jdGlvbiB4ZShpKXtpZighKCQoaSl8fGk9PT1udWxsfHxpPT09IiIpKXJldHVybiBwYXJzZUludChpLDEwKX1mdW5jdGlvbiBXZShpKXtpZighKCQoaSl8fGk9PT1udWxsfHxpPT09IiIpKXJldHVybiBwYXJzZUZsb2F0KGkpfWZ1bmN0aW9uIHNzKGkpe2lmKCEoJChpKXx8aT09PW51bGx8fGk9PT0iIikpe2NvbnN0IGU9cGFyc2VGbG9hdCgiMC4iK2kpKjFlMztyZXR1cm4gTWF0aC5mbG9vcihlKX19ZnVuY3Rpb24gaXMoaSxlLHQ9ITEpe2NvbnN0IG49MTAqKmU7cmV0dXJuKHQ/TWF0aC50cnVuYzpNYXRoLnJvdW5kKShpKm4pL259ZnVuY3Rpb24ga3QoaSl7cmV0dXJuIGklND09PTAmJihpJTEwMCE9PTB8fGklNDAwPT09MCl9ZnVuY3Rpb24gQ3QoaSl7cmV0dXJuIGt0KGkpPzM2NjozNjV9ZnVuY3Rpb24gUXQoaSxlKXtjb25zdCB0PVlhKGUtMSwxMikrMSxuPWkrKGUtdCkvMTI7cmV0dXJuIHQ9PT0yP2t0KG4pPzI5OjI4OlszMSxudWxsLDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXVt0LTFdfWZ1bmN0aW9uIGVuKGkpe2xldCBlPURhdGUuVVRDKGkueWVhcixpLm1vbnRoLTEsaS5kYXksaS5ob3VyLGkubWludXRlLGkuc2Vjb25kLGkubWlsbGlzZWNvbmQpO3JldHVybiBpLnllYXI8MTAwJiZpLnllYXI+PTAmJihlPW5ldyBEYXRlKGUpLGUuc2V0VVRDRnVsbFllYXIoaS55ZWFyLGkubW9udGgtMSxpLmRheSkpLCtlfWZ1bmN0aW9uIHRuKGkpe2NvbnN0IGU9KGkrTWF0aC5mbG9vcihpLzQpLU1hdGguZmxvb3IoaS8xMDApK01hdGguZmxvb3IoaS80MDApKSU3LHQ9aS0xLG49KHQrTWF0aC5mbG9vcih0LzQpLU1hdGguZmxvb3IodC8xMDApK01hdGguZmxvb3IodC80MDApKSU3O3JldHVybiBlPT09NHx8bj09PTM/NTM6NTJ9ZnVuY3Rpb24gcnMoaSl7cmV0dXJuIGk+OTk/aTppPmVlLnR3b0RpZ2l0Q3V0b2ZmWWVhcj8xOTAwK2k6MmUzK2l9ZnVuY3Rpb24gQmkoaSxlLHQsbj1udWxsKXtjb25zdCBzPW5ldyBEYXRlKGkpLHI9e2hvdXJDeWNsZToiaDIzIix5ZWFyOiJudW1lcmljIixtb250aDoiMi1kaWdpdCIsZGF5OiIyLWRpZ2l0Iixob3VyOiIyLWRpZ2l0IixtaW51dGU6IjItZGlnaXQifTtuJiYoci50aW1lWm9uZT1uKTtjb25zdCBvPXt0aW1lWm9uZU5hbWU6ZSwuLi5yfSxhPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHQsbykuZm9ybWF0VG9QYXJ0cyhzKS5maW5kKGw9PmwudHlwZS50b0xvd2VyQ2FzZSgpPT09InRpbWV6b25lbmFtZSIpO3JldHVybiBhP2EudmFsdWU6bnVsbH1mdW5jdGlvbiBubihpLGUpe2xldCB0PXBhcnNlSW50KGksMTApO051bWJlci5pc05hTih0KSYmKHQ9MCk7Y29uc3Qgbj1wYXJzZUludChlLDEwKXx8MCxzPXQ8MHx8T2JqZWN0LmlzKHQsLTApPy1uOm47cmV0dXJuIHQqNjArc31mdW5jdGlvbiBIaShpKXtjb25zdCBlPU51bWJlcihpKTtpZih0eXBlb2YgaT09ImJvb2xlYW4ifHxpPT09IiJ8fE51bWJlci5pc05hTihlKSl0aHJvdyBuZXcgY2UoYEludmFsaWQgdW5pdCB2YWx1ZSAke2l9YCk7cmV0dXJuIGV9ZnVuY3Rpb24gc24oaSxlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGkpaWYodHQoaSxuKSl7Y29uc3Qgcz1pW25dO2lmKHM9PW51bGwpY29udGludWU7dFtlKG4pXT1IaShzKX1yZXR1cm4gdH1mdW5jdGlvbiBMdChpLGUpe2NvbnN0IHQ9TWF0aC50cnVuYyhNYXRoLmFicyhpLzYwKSksbj1NYXRoLnRydW5jKE1hdGguYWJzKGklNjApKSxzPWk+PTA/IisiOiItIjtzd2l0Y2goZSl7Y2FzZSJzaG9ydCI6cmV0dXJuYCR7c30ke3RlKHQsMil9OiR7dGUobiwyKX1gO2Nhc2UibmFycm93IjpyZXR1cm5gJHtzfSR7dH0ke24+MD9gOiR7bn1gOiIifWA7Y2FzZSJ0ZWNoaWUiOnJldHVybmAke3N9JHt0ZSh0LDIpfSR7dGUobiwyKX1gO2RlZmF1bHQ6dGhyb3cgbmV3IFJhbmdlRXJyb3IoYFZhbHVlIGZvcm1hdCAke2V9IGlzIG91dCBvZiByYW5nZSBmb3IgcHJvcGVydHkgZm9ybWF0YCl9fWZ1bmN0aW9uIHJuKGkpe3JldHVybiB4YShpLFsiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIl0pfWNvbnN0IHphPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxWaT1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLEZhPVsiSiIsIkYiLCJNIiwiQSIsIk0iLCJKIiwiSiIsIkEiLCJTIiwiTyIsIk4iLCJEIl07ZnVuY3Rpb24gV2koaSl7c3dpdGNoKGkpe2Nhc2UibmFycm93IjpyZXR1cm5bLi4uRmFdO2Nhc2Uic2hvcnQiOnJldHVyblsuLi5WaV07Y2FzZSJsb25nIjpyZXR1cm5bLi4uemFdO2Nhc2UibnVtZXJpYyI6cmV0dXJuWyIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCIxMCIsIjExIiwiMTIiXTtjYXNlIjItZGlnaXQiOnJldHVyblsiMDEiLCIwMiIsIjAzIiwiMDQiLCIwNSIsIjA2IiwiMDciLCIwOCIsIjA5IiwiMTAiLCIxMSIsIjEyIl07ZGVmYXVsdDpyZXR1cm4gbnVsbH19Y29uc3Qgamk9WyJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSIsIlN1bmRheSJdLHFpPVsiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0IiwiU3VuIl0sUmE9WyJNIiwiVCIsIlciLCJUIiwiRiIsIlMiLCJTIl07ZnVuY3Rpb24gWmkoaSl7c3dpdGNoKGkpe2Nhc2UibmFycm93IjpyZXR1cm5bLi4uUmFdO2Nhc2Uic2hvcnQiOnJldHVyblsuLi5xaV07Y2FzZSJsb25nIjpyZXR1cm5bLi4uamldO2Nhc2UibnVtZXJpYyI6cmV0dXJuWyIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3Il07ZGVmYXVsdDpyZXR1cm4gbnVsbH19Y29uc3QgS2k9WyJBTSIsIlBNIl0sUGE9WyJCZWZvcmUgQ2hyaXN0IiwiQW5ubyBEb21pbmkiXSwkYT1bIkJDIiwiQUQiXSxVYT1bIkIiLCJBIl07ZnVuY3Rpb24gR2koaSl7c3dpdGNoKGkpe2Nhc2UibmFycm93IjpyZXR1cm5bLi4uVWFdO2Nhc2Uic2hvcnQiOnJldHVyblsuLi4kYV07Y2FzZSJsb25nIjpyZXR1cm5bLi4uUGFdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIEJhKGkpe3JldHVybiBLaVtpLmhvdXI8MTI/MDoxXX1mdW5jdGlvbiBIYShpLGUpe3JldHVybiBaaShlKVtpLndlZWtkYXktMV19ZnVuY3Rpb24gVmEoaSxlKXtyZXR1cm4gV2koZSlbaS5tb250aC0xXX1mdW5jdGlvbiBXYShpLGUpe3JldHVybiBHaShlKVtpLnllYXI8MD8wOjFdfWZ1bmN0aW9uIGphKGksZSx0PSJhbHdheXMiLG49ITEpe2NvbnN0IHM9e3llYXJzOlsieWVhciIsInlyLiJdLHF1YXJ0ZXJzOlsicXVhcnRlciIsInF0ci4iXSxtb250aHM6WyJtb250aCIsIm1vLiJdLHdlZWtzOlsid2VlayIsIndrLiJdLGRheXM6WyJkYXkiLCJkYXkiLCJkYXlzIl0saG91cnM6WyJob3VyIiwiaHIuIl0sbWludXRlczpbIm1pbnV0ZSIsIm1pbi4iXSxzZWNvbmRzOlsic2Vjb25kIiwic2VjLiJdfSxyPVsiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyJdLmluZGV4T2YoaSk9PT0tMTtpZih0PT09ImF1dG8iJiZyKXtjb25zdCBjPWk9PT0iZGF5cyI7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gYz8idG9tb3Jyb3ciOmBuZXh0ICR7c1tpXVswXX1gO2Nhc2UtMTpyZXR1cm4gYz8ieWVzdGVyZGF5IjpgbGFzdCAke3NbaV1bMF19YDtjYXNlIDA6cmV0dXJuIGM/InRvZGF5IjpgdGhpcyAke3NbaV1bMF19YH19Y29uc3Qgbz1PYmplY3QuaXMoZSwtMCl8fGU8MCxhPU1hdGguYWJzKGUpLGw9YT09PTEsdT1zW2ldLGg9bj9sP3VbMV06dVsyXXx8dVsxXTpsP3NbaV1bMF06aTtyZXR1cm4gbz9gJHthfSAke2h9IGFnb2A6YGluICR7YX0gJHtofWB9ZnVuY3Rpb24gSmkoaSxlKXtsZXQgdD0iIjtmb3IoY29uc3QgbiBvZiBpKW4ubGl0ZXJhbD90Kz1uLnZhbDp0Kz1lKG4udmFsKTtyZXR1cm4gdH1jb25zdCBxYT17RDpadCxERDpkaSxEREQ6bWksRERERDpwaSx0OnlpLHR0OmdpLHR0dDpUaSx0dHR0OndpLFQ6dmksVFQ6YmksVFRUOl9pLFRUVFQ6T2ksZjpJaSxmZjpFaSxmZmY6TWksZmZmZjpOaSxGOlNpLEZGOkRpLEZGRjpBaSxGRkZGOmtpfTtjbGFzcyBuZXtzdGF0aWMgY3JlYXRlKGUsdD17fSl7cmV0dXJuIG5ldyBuZShlLHQpfXN0YXRpYyBwYXJzZUZvcm1hdChlKXtsZXQgdD1udWxsLG49IiIscz0hMTtjb25zdCByPVtdO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBhPWUuY2hhckF0KG8pO2E9PT0iJyI/KG4ubGVuZ3RoPjAmJnIucHVzaCh7bGl0ZXJhbDpzfHwvXlxzKyQvLnRlc3QobiksdmFsOm59KSx0PW51bGwsbj0iIixzPSFzKTpzfHxhPT09dD9uKz1hOihuLmxlbmd0aD4wJiZyLnB1c2goe2xpdGVyYWw6L15ccyskLy50ZXN0KG4pLHZhbDpufSksbj1hLHQ9YSl9cmV0dXJuIG4ubGVuZ3RoPjAmJnIucHVzaCh7bGl0ZXJhbDpzfHwvXlxzKyQvLnRlc3QobiksdmFsOm59KSxyfXN0YXRpYyBtYWNyb1Rva2VuVG9Gb3JtYXRPcHRzKGUpe3JldHVybiBxYVtlXX1jb25zdHJ1Y3RvcihlLHQpe3RoaXMub3B0cz10LHRoaXMubG9jPWUsdGhpcy5zeXN0ZW1Mb2M9bnVsbH1mb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChlLHQpe3JldHVybiB0aGlzLnN5c3RlbUxvYz09PW51bGwmJih0aGlzLnN5c3RlbUxvYz10aGlzLmxvYy5yZWRlZmF1bHRUb1N5c3RlbSgpKSx0aGlzLnN5c3RlbUxvYy5kdEZvcm1hdHRlcihlLHsuLi50aGlzLm9wdHMsLi4udH0pLmZvcm1hdCgpfWR0Rm9ybWF0dGVyKGUsdD17fSl7cmV0dXJuIHRoaXMubG9jLmR0Rm9ybWF0dGVyKGUsey4uLnRoaXMub3B0cywuLi50fSl9Zm9ybWF0RGF0ZVRpbWUoZSx0KXtyZXR1cm4gdGhpcy5kdEZvcm1hdHRlcihlLHQpLmZvcm1hdCgpfWZvcm1hdERhdGVUaW1lUGFydHMoZSx0KXtyZXR1cm4gdGhpcy5kdEZvcm1hdHRlcihlLHQpLmZvcm1hdFRvUGFydHMoKX1mb3JtYXRJbnRlcnZhbChlLHQpe3JldHVybiB0aGlzLmR0Rm9ybWF0dGVyKGUuc3RhcnQsdCkuZHRmLmZvcm1hdFJhbmdlKGUuc3RhcnQudG9KU0RhdGUoKSxlLmVuZC50b0pTRGF0ZSgpKX1yZXNvbHZlZE9wdGlvbnMoZSx0KXtyZXR1cm4gdGhpcy5kdEZvcm1hdHRlcihlLHQpLnJlc29sdmVkT3B0aW9ucygpfW51bShlLHQ9MCl7aWYodGhpcy5vcHRzLmZvcmNlU2ltcGxlKXJldHVybiB0ZShlLHQpO2NvbnN0IG49ey4uLnRoaXMub3B0c307cmV0dXJuIHQ+MCYmKG4ucGFkVG89dCksdGhpcy5sb2MubnVtYmVyRm9ybWF0dGVyKG4pLmZvcm1hdChlKX1mb3JtYXREYXRlVGltZUZyb21TdHJpbmcoZSx0KXtjb25zdCBuPXRoaXMubG9jLmxpc3RpbmdNb2RlKCk9PT0iZW4iLHM9dGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXImJnRoaXMubG9jLm91dHB1dENhbGVuZGFyIT09ImdyZWdvcnkiLHI9KGYscCk9PnRoaXMubG9jLmV4dHJhY3QoZSxmLHApLG89Zj0+ZS5pc09mZnNldEZpeGVkJiZlLm9mZnNldD09PTAmJmYuYWxsb3daPyJaIjplLmlzVmFsaWQ/ZS56b25lLmZvcm1hdE9mZnNldChlLnRzLGYuZm9ybWF0KToiIixhPSgpPT5uP0JhKGUpOnIoe2hvdXI6Im51bWVyaWMiLGhvdXJDeWNsZToiaDEyIn0sImRheXBlcmlvZCIpLGw9KGYscCk9Pm4/VmEoZSxmKTpyKHA/e21vbnRoOmZ9Onttb250aDpmLGRheToibnVtZXJpYyJ9LCJtb250aCIpLHU9KGYscCk9Pm4/SGEoZSxmKTpyKHA/e3dlZWtkYXk6Zn06e3dlZWtkYXk6Zixtb250aDoibG9uZyIsZGF5OiJudW1lcmljIn0sIndlZWtkYXkiKSxoPWY9Pntjb25zdCBwPW5lLm1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHMoZik7cmV0dXJuIHA/dGhpcy5mb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChlLHApOmZ9LGM9Zj0+bj9XYShlLGYpOnIoe2VyYTpmfSwiZXJhIiksZD1mPT57c3dpdGNoKGYpe2Nhc2UiUyI6cmV0dXJuIHRoaXMubnVtKGUubWlsbGlzZWNvbmQpO2Nhc2UidSI6Y2FzZSJTU1MiOnJldHVybiB0aGlzLm51bShlLm1pbGxpc2Vjb25kLDMpO2Nhc2UicyI6cmV0dXJuIHRoaXMubnVtKGUuc2Vjb25kKTtjYXNlInNzIjpyZXR1cm4gdGhpcy5udW0oZS5zZWNvbmQsMik7Y2FzZSJ1dSI6cmV0dXJuIHRoaXMubnVtKE1hdGguZmxvb3IoZS5taWxsaXNlY29uZC8xMCksMik7Y2FzZSJ1dXUiOnJldHVybiB0aGlzLm51bShNYXRoLmZsb29yKGUubWlsbGlzZWNvbmQvMTAwKSk7Y2FzZSJtIjpyZXR1cm4gdGhpcy5udW0oZS5taW51dGUpO2Nhc2UibW0iOnJldHVybiB0aGlzLm51bShlLm1pbnV0ZSwyKTtjYXNlImgiOnJldHVybiB0aGlzLm51bShlLmhvdXIlMTI9PT0wPzEyOmUuaG91ciUxMik7Y2FzZSJoaCI6cmV0dXJuIHRoaXMubnVtKGUuaG91ciUxMj09PTA/MTI6ZS5ob3VyJTEyLDIpO2Nhc2UiSCI6cmV0dXJuIHRoaXMubnVtKGUuaG91cik7Y2FzZSJISCI6cmV0dXJuIHRoaXMubnVtKGUuaG91ciwyKTtjYXNlIloiOnJldHVybiBvKHtmb3JtYXQ6Im5hcnJvdyIsYWxsb3daOnRoaXMub3B0cy5hbGxvd1p9KTtjYXNlIlpaIjpyZXR1cm4gbyh7Zm9ybWF0OiJzaG9ydCIsYWxsb3daOnRoaXMub3B0cy5hbGxvd1p9KTtjYXNlIlpaWiI6cmV0dXJuIG8oe2Zvcm1hdDoidGVjaGllIixhbGxvd1o6dGhpcy5vcHRzLmFsbG93Wn0pO2Nhc2UiWlpaWiI6cmV0dXJuIGUuem9uZS5vZmZzZXROYW1lKGUudHMse2Zvcm1hdDoic2hvcnQiLGxvY2FsZTp0aGlzLmxvYy5sb2NhbGV9KTtjYXNlIlpaWlpaIjpyZXR1cm4gZS56b25lLm9mZnNldE5hbWUoZS50cyx7Zm9ybWF0OiJsb25nIixsb2NhbGU6dGhpcy5sb2MubG9jYWxlfSk7Y2FzZSJ6IjpyZXR1cm4gZS56b25lTmFtZTtjYXNlImEiOnJldHVybiBhKCk7Y2FzZSJkIjpyZXR1cm4gcz9yKHtkYXk6Im51bWVyaWMifSwiZGF5Iik6dGhpcy5udW0oZS5kYXkpO2Nhc2UiZGQiOnJldHVybiBzP3Ioe2RheToiMi1kaWdpdCJ9LCJkYXkiKTp0aGlzLm51bShlLmRheSwyKTtjYXNlImMiOnJldHVybiB0aGlzLm51bShlLndlZWtkYXkpO2Nhc2UiY2NjIjpyZXR1cm4gdSgic2hvcnQiLCEwKTtjYXNlImNjY2MiOnJldHVybiB1KCJsb25nIiwhMCk7Y2FzZSJjY2NjYyI6cmV0dXJuIHUoIm5hcnJvdyIsITApO2Nhc2UiRSI6cmV0dXJuIHRoaXMubnVtKGUud2Vla2RheSk7Y2FzZSJFRUUiOnJldHVybiB1KCJzaG9ydCIsITEpO2Nhc2UiRUVFRSI6cmV0dXJuIHUoImxvbmciLCExKTtjYXNlIkVFRUVFIjpyZXR1cm4gdSgibmFycm93IiwhMSk7Y2FzZSJMIjpyZXR1cm4gcz9yKHttb250aDoibnVtZXJpYyIsZGF5OiJudW1lcmljIn0sIm1vbnRoIik6dGhpcy5udW0oZS5tb250aCk7Y2FzZSJMTCI6cmV0dXJuIHM/cih7bW9udGg6IjItZGlnaXQiLGRheToibnVtZXJpYyJ9LCJtb250aCIpOnRoaXMubnVtKGUubW9udGgsMik7Y2FzZSJMTEwiOnJldHVybiBsKCJzaG9ydCIsITApO2Nhc2UiTExMTCI6cmV0dXJuIGwoImxvbmciLCEwKTtjYXNlIkxMTExMIjpyZXR1cm4gbCgibmFycm93IiwhMCk7Y2FzZSJNIjpyZXR1cm4gcz9yKHttb250aDoibnVtZXJpYyJ9LCJtb250aCIpOnRoaXMubnVtKGUubW9udGgpO2Nhc2UiTU0iOnJldHVybiBzP3Ioe21vbnRoOiIyLWRpZ2l0In0sIm1vbnRoIik6dGhpcy5udW0oZS5tb250aCwyKTtjYXNlIk1NTSI6cmV0dXJuIGwoInNob3J0IiwhMSk7Y2FzZSJNTU1NIjpyZXR1cm4gbCgibG9uZyIsITEpO2Nhc2UiTU1NTU0iOnJldHVybiBsKCJuYXJyb3ciLCExKTtjYXNlInkiOnJldHVybiBzP3Ioe3llYXI6Im51bWVyaWMifSwieWVhciIpOnRoaXMubnVtKGUueWVhcik7Y2FzZSJ5eSI6cmV0dXJuIHM/cih7eWVhcjoiMi1kaWdpdCJ9LCJ5ZWFyIik6dGhpcy5udW0oZS55ZWFyLnRvU3RyaW5nKCkuc2xpY2UoLTIpLDIpO2Nhc2UieXl5eSI6cmV0dXJuIHM/cih7eWVhcjoibnVtZXJpYyJ9LCJ5ZWFyIik6dGhpcy5udW0oZS55ZWFyLDQpO2Nhc2UieXl5eXl5IjpyZXR1cm4gcz9yKHt5ZWFyOiJudW1lcmljIn0sInllYXIiKTp0aGlzLm51bShlLnllYXIsNik7Y2FzZSJHIjpyZXR1cm4gYygic2hvcnQiKTtjYXNlIkdHIjpyZXR1cm4gYygibG9uZyIpO2Nhc2UiR0dHR0ciOnJldHVybiBjKCJuYXJyb3ciKTtjYXNlImtrIjpyZXR1cm4gdGhpcy5udW0oZS53ZWVrWWVhci50b1N0cmluZygpLnNsaWNlKC0yKSwyKTtjYXNlImtra2siOnJldHVybiB0aGlzLm51bShlLndlZWtZZWFyLDQpO2Nhc2UiVyI6cmV0dXJuIHRoaXMubnVtKGUud2Vla051bWJlcik7Y2FzZSJXVyI6cmV0dXJuIHRoaXMubnVtKGUud2Vla051bWJlciwyKTtjYXNlIm8iOnJldHVybiB0aGlzLm51bShlLm9yZGluYWwpO2Nhc2Uib29vIjpyZXR1cm4gdGhpcy5udW0oZS5vcmRpbmFsLDMpO2Nhc2UicSI6cmV0dXJuIHRoaXMubnVtKGUucXVhcnRlcik7Y2FzZSJxcSI6cmV0dXJuIHRoaXMubnVtKGUucXVhcnRlciwyKTtjYXNlIlgiOnJldHVybiB0aGlzLm51bShNYXRoLmZsb29yKGUudHMvMWUzKSk7Y2FzZSJ4IjpyZXR1cm4gdGhpcy5udW0oZS50cyk7ZGVmYXVsdDpyZXR1cm4gaChmKX19O3JldHVybiBKaShuZS5wYXJzZUZvcm1hdCh0KSxkKX1mb3JtYXREdXJhdGlvbkZyb21TdHJpbmcoZSx0KXtjb25zdCBuPWw9Pntzd2l0Y2gobFswXSl7Y2FzZSJTIjpyZXR1cm4ibWlsbGlzZWNvbmQiO2Nhc2UicyI6cmV0dXJuInNlY29uZCI7Y2FzZSJtIjpyZXR1cm4ibWludXRlIjtjYXNlImgiOnJldHVybiJob3VyIjtjYXNlImQiOnJldHVybiJkYXkiO2Nhc2UidyI6cmV0dXJuIndlZWsiO2Nhc2UiTSI6cmV0dXJuIm1vbnRoIjtjYXNlInkiOnJldHVybiJ5ZWFyIjtkZWZhdWx0OnJldHVybiBudWxsfX0scz1sPT51PT57Y29uc3QgaD1uKHUpO3JldHVybiBoP3RoaXMubnVtKGwuZ2V0KGgpLHUubGVuZ3RoKTp1fSxyPW5lLnBhcnNlRm9ybWF0KHQpLG89ci5yZWR1Y2UoKGwse2xpdGVyYWw6dSx2YWw6aH0pPT51P2w6bC5jb25jYXQoaCksW10pLGE9ZS5zaGlmdFRvKC4uLm8ubWFwKG4pLmZpbHRlcihsPT5sKSk7cmV0dXJuIEppKHIscyhhKSl9fWNsYXNzIFRle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5yZWFzb249ZSx0aGlzLmV4cGxhbmF0aW9uPXR9dG9NZXNzYWdlKCl7cmV0dXJuIHRoaXMuZXhwbGFuYXRpb24/YCR7dGhpcy5yZWFzb259OiAke3RoaXMuZXhwbGFuYXRpb259YDp0aGlzLnJlYXNvbn19Y29uc3QgWGk9L1tBLVphLXpfKy1dezEsMjU2fSg/Ojo/XC9bQS1aYS16MC05XystXXsxLDI1Nn0oPzpcL1tBLVphLXowLTlfKy1dezEsMjU2fSk/KT8vO2Z1bmN0aW9uIG50KC4uLmkpe2NvbnN0IGU9aS5yZWR1Y2UoKHQsbik9PnQrbi5zb3VyY2UsIiIpO3JldHVybiBSZWdFeHAoYF4ke2V9JGApfWZ1bmN0aW9uIHN0KC4uLmkpe3JldHVybiBlPT5pLnJlZHVjZSgoW3QsbixzXSxyKT0+e2NvbnN0W28sYSxsXT1yKGUscyk7cmV0dXJuW3suLi50LC4uLm99LGF8fG4sbF19LFt7fSxudWxsLDFdKS5zbGljZSgwLDIpfWZ1bmN0aW9uIGl0KGksLi4uZSl7aWYoaT09bnVsbClyZXR1cm5bbnVsbCxudWxsXTtmb3IoY29uc3RbdCxuXW9mIGUpe2NvbnN0IHM9dC5leGVjKGkpO2lmKHMpcmV0dXJuIG4ocyl9cmV0dXJuW251bGwsbnVsbF19ZnVuY3Rpb24gUWkoLi4uaSl7cmV0dXJuKGUsdCk9Pntjb25zdCBuPXt9O2xldCBzO2ZvcihzPTA7czxpLmxlbmd0aDtzKyspbltpW3NdXT14ZShlW3Qrc10pO3JldHVybltuLG51bGwsdCtzXX19Y29uc3QgZXI9Lyg/OihaKXwoWystXVxkXGQpKD86Oj8oXGRcZCkpPykvLFphPWAoPzoke2VyLnNvdXJjZX0/KD86XFxbKCR7WGkuc291cmNlfSlcXF0pPyk/YCxvcz0vKFxkXGQpKD86Oj8oXGRcZCkoPzo6PyhcZFxkKSg/OlsuLF0oXGR7MSwzMH0pKT8pPyk/Lyx0cj1SZWdFeHAoYCR7b3Muc291cmNlfSR7WmF9YCksYXM9UmVnRXhwKGAoPzpUJHt0ci5zb3VyY2V9KT9gKSxLYT0vKFsrLV1cZHs2fXxcZHs0fSkoPzotPyhcZFxkKSg/Oi0/KFxkXGQpKT8pPy8sR2E9LyhcZHs0fSktP1coXGRcZCkoPzotPyhcZCkpPy8sSmE9LyhcZHs0fSktPyhcZHszfSkvLFhhPVFpKCJ3ZWVrWWVhciIsIndlZWtOdW1iZXIiLCJ3ZWVrRGF5IiksUWE9UWkoInllYXIiLCJvcmRpbmFsIiksZWw9LyhcZHs0fSktKFxkXGQpLShcZFxkKS8sbnI9UmVnRXhwKGAke29zLnNvdXJjZX0gPyg/OiR7ZXIuc291cmNlfXwoJHtYaS5zb3VyY2V9KSk/YCksdGw9UmVnRXhwKGAoPzogJHtuci5zb3VyY2V9KT9gKTtmdW5jdGlvbiBydChpLGUsdCl7Y29uc3Qgbj1pW2VdO3JldHVybiAkKG4pP3Q6eGUobil9ZnVuY3Rpb24gbmwoaSxlKXtyZXR1cm5be3llYXI6cnQoaSxlKSxtb250aDpydChpLGUrMSwxKSxkYXk6cnQoaSxlKzIsMSl9LG51bGwsZSszXX1mdW5jdGlvbiBvdChpLGUpe3JldHVyblt7aG91cnM6cnQoaSxlLDApLG1pbnV0ZXM6cnQoaSxlKzEsMCksc2Vjb25kczpydChpLGUrMiwwKSxtaWxsaXNlY29uZHM6c3MoaVtlKzNdKX0sbnVsbCxlKzRdfWZ1bmN0aW9uIHh0KGksZSl7Y29uc3QgdD0haVtlXSYmIWlbZSsxXSxuPW5uKGlbZSsxXSxpW2UrMl0pLHM9dD9udWxsOmllLmluc3RhbmNlKG4pO3JldHVyblt7fSxzLGUrM119ZnVuY3Rpb24gWXQoaSxlKXtjb25zdCB0PWlbZV0/RGUuY3JlYXRlKGlbZV0pOm51bGw7cmV0dXJuW3t9LHQsZSsxXX1jb25zdCBzbD1SZWdFeHAoYF5UPyR7b3Muc291cmNlfSRgKSxpbD0vXi0/UCg/Oig/OigtP1xkezEsMjB9KD86XC5cZHsxLDIwfSk/KVkpPyg/OigtP1xkezEsMjB9KD86XC5cZHsxLDIwfSk/KU0pPyg/OigtP1xkezEsMjB9KD86XC5cZHsxLDIwfSk/KVcpPyg/OigtP1xkezEsMjB9KD86XC5cZHsxLDIwfSk/KUQpPyg/OlQoPzooLT9cZHsxLDIwfSg/OlwuXGR7MSwyMH0pPylIKT8oPzooLT9cZHsxLDIwfSg/OlwuXGR7MSwyMH0pPylNKT8oPzooLT9cZHsxLDIwfSkoPzpbLixdKC0/XGR7MSwyMH0pKT9TKT8pPykkLztmdW5jdGlvbiBybChpKXtjb25zdFtlLHQsbixzLHIsbyxhLGwsdV09aSxoPWVbMF09PT0iLSIsYz1sJiZsWzBdPT09Ii0iLGQ9KGYscD0hMSk9PmYhPT12b2lkIDAmJihwfHxmJiZoKT8tZjpmO3JldHVyblt7eWVhcnM6ZChXZSh0KSksbW9udGhzOmQoV2UobikpLHdlZWtzOmQoV2UocykpLGRheXM6ZChXZShyKSksaG91cnM6ZChXZShvKSksbWludXRlczpkKFdlKGEpKSxzZWNvbmRzOmQoV2UobCksbD09PSItMCIpLG1pbGxpc2Vjb25kczpkKHNzKHUpLGMpfV19Y29uc3Qgb2w9e0dNVDowLEVEVDotNCo2MCxFU1Q6LTUqNjAsQ0RUOi01KjYwLENTVDotNio2MCxNRFQ6LTYqNjAsTVNUOi03KjYwLFBEVDotNyo2MCxQU1Q6LTgqNjB9O2Z1bmN0aW9uIGxzKGksZSx0LG4scyxyLG8pe2NvbnN0IGE9e3llYXI6ZS5sZW5ndGg9PT0yP3JzKHhlKGUpKTp4ZShlKSxtb250aDpWaS5pbmRleE9mKHQpKzEsZGF5OnhlKG4pLGhvdXI6eGUocyksbWludXRlOnhlKHIpfTtyZXR1cm4gbyYmKGEuc2Vjb25kPXhlKG8pKSxpJiYoYS53ZWVrZGF5PWkubGVuZ3RoPjM/amkuaW5kZXhPZihpKSsxOnFpLmluZGV4T2YoaSkrMSksYX1jb25zdCBhbD0vXig/OihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLFxzKT8oXGR7MSwyfSlccyhKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylccyhcZHsyLDR9KVxzKFxkXGQpOihcZFxkKSg/OjooXGRcZCkpP1xzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfCg/OihbKy1dXGRcZCkoXGRcZCkpKSQvO2Z1bmN0aW9uIGxsKGkpe2NvbnN0WyxlLHQsbixzLHIsbyxhLGwsdSxoLGNdPWksZD1scyhlLHMsbix0LHIsbyxhKTtsZXQgZjtyZXR1cm4gbD9mPW9sW2xdOnU/Zj0wOmY9bm4oaCxjKSxbZCxuZXcgaWUoZildfWZ1bmN0aW9uIHVsKGkpe3JldHVybiBpLnJlcGxhY2UoL1woW14oKV0qXCl8W1xuXHRdL2csIiAiKS5yZXBsYWNlKC8oXHNccyspL2csIiAiKS50cmltKCl9Y29uc3QgY2w9L14oTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSwgKFxkXGQpIChKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYykgKFxkezR9KSAoXGRcZCk6KFxkXGQpOihcZFxkKSBHTVQkLyxmbD0vXihNb25kYXl8VHVlc2RheXxXZWRuZXNkYXl8VGh1cnNkYXl8RnJpZGF5fFNhdHVyZGF5fFN1bmRheSksIChcZFxkKS0oSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpLShcZFxkKSAoXGRcZCk6KFxkXGQpOihcZFxkKSBHTVQkLyxobD0vXihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pIChKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYykgKCBcZHxcZFxkKSAoXGRcZCk6KFxkXGQpOihcZFxkKSAoXGR7NH0pJC87ZnVuY3Rpb24gc3IoaSl7Y29uc3RbLGUsdCxuLHMscixvLGFdPWk7cmV0dXJuW2xzKGUscyxuLHQscixvLGEpLGllLnV0Y0luc3RhbmNlXX1mdW5jdGlvbiBkbChpKXtjb25zdFssZSx0LG4scyxyLG8sYV09aTtyZXR1cm5bbHMoZSxhLHQsbixzLHIsbyksaWUudXRjSW5zdGFuY2VdfWNvbnN0IG1sPW50KEthLGFzKSxwbD1udChHYSxhcykseWw9bnQoSmEsYXMpLGdsPW50KHRyKSxpcj1zdChubCxvdCx4dCxZdCksVGw9c3QoWGEsb3QseHQsWXQpLHdsPXN0KFFhLG90LHh0LFl0KSx2bD1zdChvdCx4dCxZdCk7ZnVuY3Rpb24gYmwoaSl7cmV0dXJuIGl0KGksW21sLGlyXSxbcGwsVGxdLFt5bCx3bF0sW2dsLHZsXSl9ZnVuY3Rpb24gX2woaSl7cmV0dXJuIGl0KHVsKGkpLFthbCxsbF0pfWZ1bmN0aW9uIE9sKGkpe3JldHVybiBpdChpLFtjbCxzcl0sW2ZsLHNyXSxbaGwsZGxdKX1mdW5jdGlvbiBJbChpKXtyZXR1cm4gaXQoaSxbaWwscmxdKX1jb25zdCBTbD1zdChvdCk7ZnVuY3Rpb24gRWwoaSl7cmV0dXJuIGl0KGksW3NsLFNsXSl9Y29uc3QgRGw9bnQoZWwsdGwpLE1sPW50KG5yKSxBbD1zdChvdCx4dCxZdCk7ZnVuY3Rpb24gTmwoaSl7cmV0dXJuIGl0KGksW0RsLGlyXSxbTWwsQWxdKX1jb25zdCBycj0iSW52YWxpZCBEdXJhdGlvbiIsb3I9e3dlZWtzOntkYXlzOjcsaG91cnM6NyoyNCxtaW51dGVzOjcqMjQqNjAsc2Vjb25kczo3KjI0KjYwKjYwLG1pbGxpc2Vjb25kczo3KjI0KjYwKjYwKjFlM30sZGF5czp7aG91cnM6MjQsbWludXRlczoyNCo2MCxzZWNvbmRzOjI0KjYwKjYwLG1pbGxpc2Vjb25kczoyNCo2MCo2MCoxZTN9LGhvdXJzOnttaW51dGVzOjYwLHNlY29uZHM6NjAqNjAsbWlsbGlzZWNvbmRzOjYwKjYwKjFlM30sbWludXRlczp7c2Vjb25kczo2MCxtaWxsaXNlY29uZHM6NjAqMWUzfSxzZWNvbmRzOnttaWxsaXNlY29uZHM6MWUzfX0sa2w9e3llYXJzOntxdWFydGVyczo0LG1vbnRoczoxMix3ZWVrczo1MixkYXlzOjM2NSxob3VyczozNjUqMjQsbWludXRlczozNjUqMjQqNjAsc2Vjb25kczozNjUqMjQqNjAqNjAsbWlsbGlzZWNvbmRzOjM2NSoyNCo2MCo2MCoxZTN9LHF1YXJ0ZXJzOnttb250aHM6Myx3ZWVrczoxMyxkYXlzOjkxLGhvdXJzOjkxKjI0LG1pbnV0ZXM6OTEqMjQqNjAsc2Vjb25kczo5MSoyNCo2MCo2MCxtaWxsaXNlY29uZHM6OTEqMjQqNjAqNjAqMWUzfSxtb250aHM6e3dlZWtzOjQsZGF5czozMCxob3VyczozMCoyNCxtaW51dGVzOjMwKjI0KjYwLHNlY29uZHM6MzAqMjQqNjAqNjAsbWlsbGlzZWNvbmRzOjMwKjI0KjYwKjYwKjFlM30sLi4ub3J9LGZlPTE0NjA5Ny80MDAsYXQ9MTQ2MDk3LzQ4MDAsQ2w9e3llYXJzOntxdWFydGVyczo0LG1vbnRoczoxMix3ZWVrczpmZS83LGRheXM6ZmUsaG91cnM6ZmUqMjQsbWludXRlczpmZSoyNCo2MCxzZWNvbmRzOmZlKjI0KjYwKjYwLG1pbGxpc2Vjb25kczpmZSoyNCo2MCo2MCoxZTN9LHF1YXJ0ZXJzOnttb250aHM6Myx3ZWVrczpmZS8yOCxkYXlzOmZlLzQsaG91cnM6ZmUqMjQvNCxtaW51dGVzOmZlKjI0KjYwLzQsc2Vjb25kczpmZSoyNCo2MCo2MC80LG1pbGxpc2Vjb25kczpmZSoyNCo2MCo2MCoxZTMvNH0sbW9udGhzOnt3ZWVrczphdC83LGRheXM6YXQsaG91cnM6YXQqMjQsbWludXRlczphdCoyNCo2MCxzZWNvbmRzOmF0KjI0KjYwKjYwLG1pbGxpc2Vjb25kczphdCoyNCo2MCo2MCoxZTN9LC4uLm9yfSxqZT1bInllYXJzIiwicXVhcnRlcnMiLCJtb250aHMiLCJ3ZWVrcyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIl0sTGw9amUuc2xpY2UoMCkucmV2ZXJzZSgpO2Z1bmN0aW9uIFllKGksZSx0PSExKXtjb25zdCBuPXt2YWx1ZXM6dD9lLnZhbHVlczp7Li4uaS52YWx1ZXMsLi4uZS52YWx1ZXN8fHt9fSxsb2M6aS5sb2MuY2xvbmUoZS5sb2MpLGNvbnZlcnNpb25BY2N1cmFjeTplLmNvbnZlcnNpb25BY2N1cmFjeXx8aS5jb252ZXJzaW9uQWNjdXJhY3ksbWF0cml4OmUubWF0cml4fHxpLm1hdHJpeH07cmV0dXJuIG5ldyBVKG4pfWZ1bmN0aW9uIGFyKGksZSl7bGV0IHQ9ZS5taWxsaXNlY29uZHM/PzA7Zm9yKGNvbnN0IG4gb2YgTGwuc2xpY2UoMSkpZVtuXSYmKHQrPWVbbl0qaVtuXS5taWxsaXNlY29uZHMpO3JldHVybiB0fWZ1bmN0aW9uIGxyKGksZSl7Y29uc3QgdD1hcihpLGUpPDA/LTE6MTtqZS5yZWR1Y2VSaWdodCgobixzKT0+e2lmKCQoZVtzXSkpcmV0dXJuIG47aWYobil7Y29uc3Qgcj1lW25dKnQsbz1pW3NdW25dLGE9TWF0aC5mbG9vcihyL28pO2Vbc10rPWEqdCxlW25dLT1hKm8qdH1yZXR1cm4gc30sbnVsbCksamUucmVkdWNlKChuLHMpPT57aWYoJChlW3NdKSlyZXR1cm4gbjtpZihuKXtjb25zdCByPWVbbl0lMTtlW25dLT1yLGVbc10rPXIqaVtuXVtzXX1yZXR1cm4gc30sbnVsbCl9ZnVuY3Rpb24geGwoaSl7Y29uc3QgZT17fTtmb3IoY29uc3RbdCxuXW9mIE9iamVjdC5lbnRyaWVzKGkpKW4hPT0wJiYoZVt0XT1uKTtyZXR1cm4gZX1jbGFzcyBVe2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9ZS5jb252ZXJzaW9uQWNjdXJhY3k9PT0ibG9uZ3Rlcm0ifHwhMTtsZXQgbj10P0NsOmtsO2UubWF0cml4JiYobj1lLm1hdHJpeCksdGhpcy52YWx1ZXM9ZS52YWx1ZXMsdGhpcy5sb2M9ZS5sb2N8fHEuY3JlYXRlKCksdGhpcy5jb252ZXJzaW9uQWNjdXJhY3k9dD8ibG9uZ3Rlcm0iOiJjYXN1YWwiLHRoaXMuaW52YWxpZD1lLmludmFsaWR8fG51bGwsdGhpcy5tYXRyaXg9bix0aGlzLmlzTHV4b25EdXJhdGlvbj0hMH1zdGF0aWMgZnJvbU1pbGxpcyhlLHQpe3JldHVybiBVLmZyb21PYmplY3Qoe21pbGxpc2Vjb25kczplfSx0KX1zdGF0aWMgZnJvbU9iamVjdChlLHQ9e30pe2lmKGU9PW51bGx8fHR5cGVvZiBlIT0ib2JqZWN0Iil0aHJvdyBuZXcgY2UoYER1cmF0aW9uLmZyb21PYmplY3Q6IGFyZ3VtZW50IGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCwgZ290ICR7ZT09PW51bGw/Im51bGwiOnR5cGVvZiBlfWApO3JldHVybiBuZXcgVSh7dmFsdWVzOnNuKGUsVS5ub3JtYWxpemVVbml0KSxsb2M6cS5mcm9tT2JqZWN0KHQpLGNvbnZlcnNpb25BY2N1cmFjeTp0LmNvbnZlcnNpb25BY2N1cmFjeSxtYXRyaXg6dC5tYXRyaXh9KX1zdGF0aWMgZnJvbUR1cmF0aW9uTGlrZShlKXtpZihWZShlKSlyZXR1cm4gVS5mcm9tTWlsbGlzKGUpO2lmKFUuaXNEdXJhdGlvbihlKSlyZXR1cm4gZTtpZih0eXBlb2YgZT09Im9iamVjdCIpcmV0dXJuIFUuZnJvbU9iamVjdChlKTt0aHJvdyBuZXcgY2UoYFVua25vd24gZHVyYXRpb24gYXJndW1lbnQgJHtlfSBvZiB0eXBlICR7dHlwZW9mIGV9YCl9c3RhdGljIGZyb21JU08oZSx0KXtjb25zdFtuXT1JbChlKTtyZXR1cm4gbj9VLmZyb21PYmplY3Qobix0KTpVLmludmFsaWQoInVucGFyc2FibGUiLGB0aGUgaW5wdXQgIiR7ZX0iIGNhbid0IGJlIHBhcnNlZCBhcyBJU08gODYwMWApfXN0YXRpYyBmcm9tSVNPVGltZShlLHQpe2NvbnN0W25dPUVsKGUpO3JldHVybiBuP1UuZnJvbU9iamVjdChuLHQpOlUuaW52YWxpZCgidW5wYXJzYWJsZSIsYHRoZSBpbnB1dCAiJHtlfSIgY2FuJ3QgYmUgcGFyc2VkIGFzIElTTyA4NjAxYCl9c3RhdGljIGludmFsaWQoZSx0PW51bGwpe2lmKCFlKXRocm93IG5ldyBjZSgibmVlZCB0byBzcGVjaWZ5IGEgcmVhc29uIHRoZSBEdXJhdGlvbiBpcyBpbnZhbGlkIik7Y29uc3Qgbj1lIGluc3RhbmNlb2YgVGU/ZTpuZXcgVGUoZSx0KTtpZihlZS50aHJvd09uSW52YWxpZCl0aHJvdyBuZXcgZmEobik7cmV0dXJuIG5ldyBVKHtpbnZhbGlkOm59KX1zdGF0aWMgbm9ybWFsaXplVW5pdChlKXtjb25zdCB0PXt5ZWFyOiJ5ZWFycyIseWVhcnM6InllYXJzIixxdWFydGVyOiJxdWFydGVycyIscXVhcnRlcnM6InF1YXJ0ZXJzIixtb250aDoibW9udGhzIixtb250aHM6Im1vbnRocyIsd2Vlazoid2Vla3MiLHdlZWtzOiJ3ZWVrcyIsZGF5OiJkYXlzIixkYXlzOiJkYXlzIixob3VyOiJob3VycyIsaG91cnM6ImhvdXJzIixtaW51dGU6Im1pbnV0ZXMiLG1pbnV0ZXM6Im1pbnV0ZXMiLHNlY29uZDoic2Vjb25kcyIsc2Vjb25kczoic2Vjb25kcyIsbWlsbGlzZWNvbmQ6Im1pbGxpc2Vjb25kcyIsbWlsbGlzZWNvbmRzOiJtaWxsaXNlY29uZHMifVtlJiZlLnRvTG93ZXJDYXNlKCldO2lmKCF0KXRocm93IG5ldyBoaShlKTtyZXR1cm4gdH1zdGF0aWMgaXNEdXJhdGlvbihlKXtyZXR1cm4gZSYmZS5pc0x1eG9uRHVyYXRpb258fCExfWdldCBsb2NhbGUoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMubG9jLmxvY2FsZTpudWxsfWdldCBudW1iZXJpbmdTeXN0ZW0oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMubG9jLm51bWJlcmluZ1N5c3RlbTpudWxsfXRvRm9ybWF0KGUsdD17fSl7Y29uc3Qgbj17Li4udCxmbG9vcjp0LnJvdW5kIT09ITEmJnQuZmxvb3IhPT0hMX07cmV0dXJuIHRoaXMuaXNWYWxpZD9uZS5jcmVhdGUodGhpcy5sb2MsbikuZm9ybWF0RHVyYXRpb25Gcm9tU3RyaW5nKHRoaXMsZSk6cnJ9dG9IdW1hbihlPXt9KXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiBycjtjb25zdCB0PWplLm1hcChuPT57Y29uc3Qgcz10aGlzLnZhbHVlc1tuXTtyZXR1cm4gJChzKT9udWxsOnRoaXMubG9jLm51bWJlckZvcm1hdHRlcih7c3R5bGU6InVuaXQiLHVuaXREaXNwbGF5OiJsb25nIiwuLi5lLHVuaXQ6bi5zbGljZSgwLC0xKX0pLmZvcm1hdChzKX0pLmZpbHRlcihuPT5uKTtyZXR1cm4gdGhpcy5sb2MubGlzdEZvcm1hdHRlcih7dHlwZToiY29uanVuY3Rpb24iLHN0eWxlOmUubGlzdFN0eWxlfHwibmFycm93IiwuLi5lfSkuZm9ybWF0KHQpfXRvT2JqZWN0KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD97Li4udGhpcy52YWx1ZXN9Ont9fXRvSVNPKCl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gbnVsbDtsZXQgZT0iUCI7cmV0dXJuIHRoaXMueWVhcnMhPT0wJiYoZSs9dGhpcy55ZWFycysiWSIpLCh0aGlzLm1vbnRocyE9PTB8fHRoaXMucXVhcnRlcnMhPT0wKSYmKGUrPXRoaXMubW9udGhzK3RoaXMucXVhcnRlcnMqMysiTSIpLHRoaXMud2Vla3MhPT0wJiYoZSs9dGhpcy53ZWVrcysiVyIpLHRoaXMuZGF5cyE9PTAmJihlKz10aGlzLmRheXMrIkQiKSwodGhpcy5ob3VycyE9PTB8fHRoaXMubWludXRlcyE9PTB8fHRoaXMuc2Vjb25kcyE9PTB8fHRoaXMubWlsbGlzZWNvbmRzIT09MCkmJihlKz0iVCIpLHRoaXMuaG91cnMhPT0wJiYoZSs9dGhpcy5ob3VycysiSCIpLHRoaXMubWludXRlcyE9PTAmJihlKz10aGlzLm1pbnV0ZXMrIk0iKSwodGhpcy5zZWNvbmRzIT09MHx8dGhpcy5taWxsaXNlY29uZHMhPT0wKSYmKGUrPWlzKHRoaXMuc2Vjb25kcyt0aGlzLm1pbGxpc2Vjb25kcy8xZTMsMykrIlMiKSxlPT09IlAiJiYoZSs9IlQwUyIpLGV9dG9JU09UaW1lKGU9e30pe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLnRvTWlsbGlzKCk7cmV0dXJuIHQ8MHx8dD49ODY0ZTU/bnVsbDooZT17c3VwcHJlc3NNaWxsaXNlY29uZHM6ITEsc3VwcHJlc3NTZWNvbmRzOiExLGluY2x1ZGVQcmVmaXg6ITEsZm9ybWF0OiJleHRlbmRlZCIsLi4uZSxpbmNsdWRlT2Zmc2V0OiExfSxTLmZyb21NaWxsaXModCx7em9uZToiVVRDIn0pLnRvSVNPVGltZShlKSl9dG9KU09OKCl7cmV0dXJuIHRoaXMudG9JU08oKX10b1N0cmluZygpe3JldHVybiB0aGlzLnRvSVNPKCl9dG9NaWxsaXMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP2FyKHRoaXMubWF0cml4LHRoaXMudmFsdWVzKTpOYU59dmFsdWVPZigpe3JldHVybiB0aGlzLnRvTWlsbGlzKCl9cGx1cyhlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9VS5mcm9tRHVyYXRpb25MaWtlKGUpLG49e307Zm9yKGNvbnN0IHMgb2YgamUpKHR0KHQudmFsdWVzLHMpfHx0dCh0aGlzLnZhbHVlcyxzKSkmJihuW3NdPXQuZ2V0KHMpK3RoaXMuZ2V0KHMpKTtyZXR1cm4gWWUodGhpcyx7dmFsdWVzOm59LCEwKX1taW51cyhlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9VS5mcm9tRHVyYXRpb25MaWtlKGUpO3JldHVybiB0aGlzLnBsdXModC5uZWdhdGUoKSl9bWFwVW5pdHMoZSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gdGhpcztjb25zdCB0PXt9O2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHRoaXMudmFsdWVzKSl0W25dPUhpKGUodGhpcy52YWx1ZXNbbl0sbikpO3JldHVybiBZZSh0aGlzLHt2YWx1ZXM6dH0sITApfWdldChlKXtyZXR1cm4gdGhpc1tVLm5vcm1hbGl6ZVVuaXQoZSldfXNldChlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9ey4uLnRoaXMudmFsdWVzLC4uLnNuKGUsVS5ub3JtYWxpemVVbml0KX07cmV0dXJuIFllKHRoaXMse3ZhbHVlczp0fSl9cmVjb25maWd1cmUoe2xvY2FsZTplLG51bWJlcmluZ1N5c3RlbTp0LGNvbnZlcnNpb25BY2N1cmFjeTpuLG1hdHJpeDpzfT17fSl7Y29uc3Qgbz17bG9jOnRoaXMubG9jLmNsb25lKHtsb2NhbGU6ZSxudW1iZXJpbmdTeXN0ZW06dH0pLG1hdHJpeDpzLGNvbnZlcnNpb25BY2N1cmFjeTpufTtyZXR1cm4gWWUodGhpcyxvKX1hcyhlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuc2hpZnRUbyhlKS5nZXQoZSk6TmFOfW5vcm1hbGl6ZSgpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgZT10aGlzLnRvT2JqZWN0KCk7cmV0dXJuIGxyKHRoaXMubWF0cml4LGUpLFllKHRoaXMse3ZhbHVlczplfSwhMCl9cmVzY2FsZSgpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgZT14bCh0aGlzLm5vcm1hbGl6ZSgpLnNoaWZ0VG9BbGwoKS50b09iamVjdCgpKTtyZXR1cm4gWWUodGhpcyx7dmFsdWVzOmV9LCEwKX1zaGlmdFRvKC4uLmUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7aWYoZS5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2U9ZS5tYXAobz0+VS5ub3JtYWxpemVVbml0KG8pKTtjb25zdCB0PXt9LG49e30scz10aGlzLnRvT2JqZWN0KCk7bGV0IHI7Zm9yKGNvbnN0IG8gb2YgamUpaWYoZS5pbmRleE9mKG8pPj0wKXtyPW87bGV0IGE9MDtmb3IoY29uc3QgdSBpbiBuKWErPXRoaXMubWF0cml4W3VdW29dKm5bdV0sblt1XT0wO1ZlKHNbb10pJiYoYSs9c1tvXSk7Y29uc3QgbD1NYXRoLnRydW5jKGEpO3Rbb109bCxuW29dPShhKjFlMy1sKjFlMykvMWUzfWVsc2UgVmUoc1tvXSkmJihuW29dPXNbb10pO2Zvcihjb25zdCBvIGluIG4pbltvXSE9PTAmJih0W3JdKz1vPT09cj9uW29dOm5bb10vdGhpcy5tYXRyaXhbcl1bb10pO3JldHVybiBscih0aGlzLm1hdHJpeCx0KSxZZSh0aGlzLHt2YWx1ZXM6dH0sITApfXNoaWZ0VG9BbGwoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuc2hpZnRUbygieWVhcnMiLCJtb250aHMiLCJ3ZWVrcyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIik6dGhpc31uZWdhdGUoKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy52YWx1ZXMpKWVbdF09dGhpcy52YWx1ZXNbdF09PT0wPzA6LXRoaXMudmFsdWVzW3RdO3JldHVybiBZZSh0aGlzLHt2YWx1ZXM6ZX0sITApfWdldCB5ZWFycygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMueWVhcnN8fDA6TmFOfWdldCBxdWFydGVycygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMucXVhcnRlcnN8fDA6TmFOfWdldCBtb250aHMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLm1vbnRoc3x8MDpOYU59Z2V0IHdlZWtzKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnZhbHVlcy53ZWVrc3x8MDpOYU59Z2V0IGRheXMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLmRheXN8fDA6TmFOfWdldCBob3Vycygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMuaG91cnN8fDA6TmFOfWdldCBtaW51dGVzKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnZhbHVlcy5taW51dGVzfHwwOk5hTn1nZXQgc2Vjb25kcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMuc2Vjb25kc3x8MDpOYU59Z2V0IG1pbGxpc2Vjb25kcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMubWlsbGlzZWNvbmRzfHwwOk5hTn1nZXQgaXNWYWxpZCgpe3JldHVybiB0aGlzLmludmFsaWQ9PT1udWxsfWdldCBpbnZhbGlkUmVhc29uKCl7cmV0dXJuIHRoaXMuaW52YWxpZD90aGlzLmludmFsaWQucmVhc29uOm51bGx9Z2V0IGludmFsaWRFeHBsYW5hdGlvbigpe3JldHVybiB0aGlzLmludmFsaWQ/dGhpcy5pbnZhbGlkLmV4cGxhbmF0aW9uOm51bGx9ZXF1YWxzKGUpe2lmKCF0aGlzLmlzVmFsaWR8fCFlLmlzVmFsaWR8fCF0aGlzLmxvYy5lcXVhbHMoZS5sb2MpKXJldHVybiExO2Z1bmN0aW9uIHQobixzKXtyZXR1cm4gbj09PXZvaWQgMHx8bj09PTA/cz09PXZvaWQgMHx8cz09PTA6bj09PXN9Zm9yKGNvbnN0IG4gb2YgamUpaWYoIXQodGhpcy52YWx1ZXNbbl0sZS52YWx1ZXNbbl0pKXJldHVybiExO3JldHVybiEwfX1jb25zdCBsdD0iSW52YWxpZCBJbnRlcnZhbCI7ZnVuY3Rpb24gWWwoaSxlKXtyZXR1cm4haXx8IWkuaXNWYWxpZD9KLmludmFsaWQoIm1pc3Npbmcgb3IgaW52YWxpZCBzdGFydCIpOiFlfHwhZS5pc1ZhbGlkP0ouaW52YWxpZCgibWlzc2luZyBvciBpbnZhbGlkIGVuZCIpOmU8aT9KLmludmFsaWQoImVuZCBiZWZvcmUgc3RhcnQiLGBUaGUgZW5kIG9mIGFuIGludGVydmFsIG11c3QgYmUgYWZ0ZXIgaXRzIHN0YXJ0LCBidXQgeW91IGhhZCBzdGFydD0ke2kudG9JU08oKX0gYW5kIGVuZD0ke2UudG9JU08oKX1gKTpudWxsfWNsYXNzIEp7Y29uc3RydWN0b3IoZSl7dGhpcy5zPWUuc3RhcnQsdGhpcy5lPWUuZW5kLHRoaXMuaW52YWxpZD1lLmludmFsaWR8fG51bGwsdGhpcy5pc0x1eG9uSW50ZXJ2YWw9ITB9c3RhdGljIGludmFsaWQoZSx0PW51bGwpe2lmKCFlKXRocm93IG5ldyBjZSgibmVlZCB0byBzcGVjaWZ5IGEgcmVhc29uIHRoZSBJbnRlcnZhbCBpcyBpbnZhbGlkIik7Y29uc3Qgbj1lIGluc3RhbmNlb2YgVGU/ZTpuZXcgVGUoZSx0KTtpZihlZS50aHJvd09uSW52YWxpZCl0aHJvdyBuZXcgY2Eobik7cmV0dXJuIG5ldyBKKHtpbnZhbGlkOm59KX1zdGF0aWMgZnJvbURhdGVUaW1lcyhlLHQpe2NvbnN0IG49RnQoZSkscz1GdCh0KSxyPVlsKG4scyk7cmV0dXJuIHI/P25ldyBKKHtzdGFydDpuLGVuZDpzfSl9c3RhdGljIGFmdGVyKGUsdCl7Y29uc3Qgbj1VLmZyb21EdXJhdGlvbkxpa2UodCkscz1GdChlKTtyZXR1cm4gSi5mcm9tRGF0ZVRpbWVzKHMscy5wbHVzKG4pKX1zdGF0aWMgYmVmb3JlKGUsdCl7Y29uc3Qgbj1VLmZyb21EdXJhdGlvbkxpa2UodCkscz1GdChlKTtyZXR1cm4gSi5mcm9tRGF0ZVRpbWVzKHMubWludXMobikscyl9c3RhdGljIGZyb21JU08oZSx0KXtjb25zdFtuLHNdPShlfHwiIikuc3BsaXQoIi8iLDIpO2lmKG4mJnMpe2xldCByLG87dHJ5e3I9Uy5mcm9tSVNPKG4sdCksbz1yLmlzVmFsaWR9Y2F0Y2h7bz0hMX1sZXQgYSxsO3RyeXthPVMuZnJvbUlTTyhzLHQpLGw9YS5pc1ZhbGlkfWNhdGNoe2w9ITF9aWYobyYmbClyZXR1cm4gSi5mcm9tRGF0ZVRpbWVzKHIsYSk7aWYobyl7Y29uc3QgdT1VLmZyb21JU08ocyx0KTtpZih1LmlzVmFsaWQpcmV0dXJuIEouYWZ0ZXIocix1KX1lbHNlIGlmKGwpe2NvbnN0IHU9VS5mcm9tSVNPKG4sdCk7aWYodS5pc1ZhbGlkKXJldHVybiBKLmJlZm9yZShhLHUpfX1yZXR1cm4gSi5pbnZhbGlkKCJ1bnBhcnNhYmxlIixgdGhlIGlucHV0ICIke2V9IiBjYW4ndCBiZSBwYXJzZWQgYXMgSVNPIDg2MDFgKX1zdGF0aWMgaXNJbnRlcnZhbChlKXtyZXR1cm4gZSYmZS5pc0x1eG9uSW50ZXJ2YWx8fCExfWdldCBzdGFydCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5zOm51bGx9Z2V0IGVuZCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5lOm51bGx9Z2V0IGlzVmFsaWQoKXtyZXR1cm4gdGhpcy5pbnZhbGlkUmVhc29uPT09bnVsbH1nZXQgaW52YWxpZFJlYXNvbigpe3JldHVybiB0aGlzLmludmFsaWQ/dGhpcy5pbnZhbGlkLnJlYXNvbjpudWxsfWdldCBpbnZhbGlkRXhwbGFuYXRpb24oKXtyZXR1cm4gdGhpcy5pbnZhbGlkP3RoaXMuaW52YWxpZC5leHBsYW5hdGlvbjpudWxsfWxlbmd0aChlPSJtaWxsaXNlY29uZHMiKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudG9EdXJhdGlvbihlKS5nZXQoZSk6TmFOfWNvdW50KGU9Im1pbGxpc2Vjb25kcyIpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIE5hTjtjb25zdCB0PXRoaXMuc3RhcnQuc3RhcnRPZihlKSxuPXRoaXMuZW5kLnN0YXJ0T2YoZSk7cmV0dXJuIE1hdGguZmxvb3Iobi5kaWZmKHQsZSkuZ2V0KGUpKSsobi52YWx1ZU9mKCkhPT10aGlzLmVuZC52YWx1ZU9mKCkpfWhhc1NhbWUoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmlzRW1wdHkoKXx8dGhpcy5lLm1pbnVzKDEpLmhhc1NhbWUodGhpcy5zLGUpOiExfWlzRW1wdHkoKXtyZXR1cm4gdGhpcy5zLnZhbHVlT2YoKT09PXRoaXMuZS52YWx1ZU9mKCl9aXNBZnRlcihlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMucz5lOiExfWlzQmVmb3JlKGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5lPD1lOiExfWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5zPD1lJiZ0aGlzLmU+ZTohMX1zZXQoe3N0YXJ0OmUsZW5kOnR9PXt9KXtyZXR1cm4gdGhpcy5pc1ZhbGlkP0ouZnJvbURhdGVUaW1lcyhlfHx0aGlzLnMsdHx8dGhpcy5lKTp0aGlzfXNwbGl0QXQoLi4uZSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm5bXTtjb25zdCB0PWUubWFwKEZ0KS5maWx0ZXIobz0+dGhpcy5jb250YWlucyhvKSkuc29ydCgpLG49W107bGV0e3N9PXRoaXMscj0wO2Zvcig7czx0aGlzLmU7KXtjb25zdCBvPXRbcl18fHRoaXMuZSxhPStvPit0aGlzLmU/dGhpcy5lOm87bi5wdXNoKEouZnJvbURhdGVUaW1lcyhzLGEpKSxzPWEscis9MX1yZXR1cm4gbn1zcGxpdEJ5KGUpe2NvbnN0IHQ9VS5mcm9tRHVyYXRpb25MaWtlKGUpO2lmKCF0aGlzLmlzVmFsaWR8fCF0LmlzVmFsaWR8fHQuYXMoIm1pbGxpc2Vjb25kcyIpPT09MClyZXR1cm5bXTtsZXR7czpufT10aGlzLHM9MSxyO2NvbnN0IG89W107Zm9yKDtuPHRoaXMuZTspe2NvbnN0IGE9dGhpcy5zdGFydC5wbHVzKHQubWFwVW5pdHMobD0+bCpzKSk7cj0rYT4rdGhpcy5lP3RoaXMuZTphLG8ucHVzaChKLmZyb21EYXRlVGltZXMobixyKSksbj1yLHMrPTF9cmV0dXJuIG99ZGl2aWRlRXF1YWxseShlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuc3BsaXRCeSh0aGlzLmxlbmd0aCgpL2UpLnNsaWNlKDAsZSk6W119b3ZlcmxhcHMoZSl7cmV0dXJuIHRoaXMuZT5lLnMmJnRoaXMuczxlLmV9YWJ1dHNTdGFydChlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkPyt0aGlzLmU9PStlLnM6ITF9YWJ1dHNFbmQoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD8rZS5lPT0rdGhpcy5zOiExfWVuZ3VsZnMoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnM8PWUucyYmdGhpcy5lPj1lLmU6ITF9ZXF1YWxzKGUpe3JldHVybiF0aGlzLmlzVmFsaWR8fCFlLmlzVmFsaWQ/ITE6dGhpcy5zLmVxdWFscyhlLnMpJiZ0aGlzLmUuZXF1YWxzKGUuZSl9aW50ZXJzZWN0aW9uKGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnM+ZS5zP3RoaXMuczplLnMsbj10aGlzLmU8ZS5lP3RoaXMuZTplLmU7cmV0dXJuIHQ+PW4/bnVsbDpKLmZyb21EYXRlVGltZXModCxuKX11bmlvbihlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5zPGUucz90aGlzLnM6ZS5zLG49dGhpcy5lPmUuZT90aGlzLmU6ZS5lO3JldHVybiBKLmZyb21EYXRlVGltZXModCxuKX1zdGF0aWMgbWVyZ2UoZSl7Y29uc3RbdCxuXT1lLnNvcnQoKHMscik9PnMucy1yLnMpLnJlZHVjZSgoW3Mscl0sbyk9PnI/ci5vdmVybGFwcyhvKXx8ci5hYnV0c1N0YXJ0KG8pP1tzLHIudW5pb24obyldOltzLmNvbmNhdChbcl0pLG9dOltzLG9dLFtbXSxudWxsXSk7cmV0dXJuIG4mJnQucHVzaChuKSx0fXN0YXRpYyB4b3IoZSl7bGV0IHQ9bnVsbCxuPTA7Y29uc3Qgcz1bXSxyPWUubWFwKGw9Plt7dGltZTpsLnMsdHlwZToicyJ9LHt0aW1lOmwuZSx0eXBlOiJlIn1dKSxvPUFycmF5LnByb3RvdHlwZS5jb25jYXQoLi4uciksYT1vLnNvcnQoKGwsdSk9PmwudGltZS11LnRpbWUpO2Zvcihjb25zdCBsIG9mIGEpbis9bC50eXBlPT09InMiPzE6LTEsbj09PTE/dD1sLnRpbWU6KHQmJit0IT0rbC50aW1lJiZzLnB1c2goSi5mcm9tRGF0ZVRpbWVzKHQsbC50aW1lKSksdD1udWxsKTtyZXR1cm4gSi5tZXJnZShzKX1kaWZmZXJlbmNlKC4uLmUpe3JldHVybiBKLnhvcihbdGhpc10uY29uY2F0KGUpKS5tYXAodD0+dGhpcy5pbnRlcnNlY3Rpb24odCkpLmZpbHRlcih0PT50JiYhdC5pc0VtcHR5KCkpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gWyR7dGhpcy5zLnRvSVNPKCl9IOKAkyAke3RoaXMuZS50b0lTTygpfSlgOmx0fXRvTG9jYWxlU3RyaW5nKGU9WnQsdD17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9uZS5jcmVhdGUodGhpcy5zLmxvYy5jbG9uZSh0KSxlKS5mb3JtYXRJbnRlcnZhbCh0aGlzKTpsdH10b0lTTyhlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP2Ake3RoaXMucy50b0lTTyhlKX0vJHt0aGlzLmUudG9JU08oZSl9YDpsdH10b0lTT0RhdGUoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP2Ake3RoaXMucy50b0lTT0RhdGUoKX0vJHt0aGlzLmUudG9JU09EYXRlKCl9YDpsdH10b0lTT1RpbWUoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gJHt0aGlzLnMudG9JU09UaW1lKGUpfS8ke3RoaXMuZS50b0lTT1RpbWUoZSl9YDpsdH10b0Zvcm1hdChlLHtzZXBhcmF0b3I6dD0iIOKAkyAifT17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gJHt0aGlzLnMudG9Gb3JtYXQoZSl9JHt0fSR7dGhpcy5lLnRvRm9ybWF0KGUpfWA6bHR9dG9EdXJhdGlvbihlLHQpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5lLmRpZmYodGhpcy5zLGUsdCk6VS5pbnZhbGlkKHRoaXMuaW52YWxpZFJlYXNvbil9bWFwRW5kcG9pbnRzKGUpe3JldHVybiBKLmZyb21EYXRlVGltZXMoZSh0aGlzLnMpLGUodGhpcy5lKSl9fWNsYXNzIG9ue3N0YXRpYyBoYXNEU1QoZT1lZS5kZWZhdWx0Wm9uZSl7Y29uc3QgdD1TLm5vdygpLnNldFpvbmUoZSkuc2V0KHttb250aDoxMn0pO3JldHVybiFlLmlzVW5pdmVyc2FsJiZ0Lm9mZnNldCE9PXQuc2V0KHttb250aDo2fSkub2Zmc2V0fXN0YXRpYyBpc1ZhbGlkSUFOQVpvbmUoZSl7cmV0dXJuIERlLmlzVmFsaWRab25lKGUpfXN0YXRpYyBub3JtYWxpemVab25lKGUpe3JldHVybiBMZShlLGVlLmRlZmF1bHRab25lKX1zdGF0aWMgbW9udGhzKGU9ImxvbmciLHtsb2NhbGU6dD1udWxsLG51bWJlcmluZ1N5c3RlbTpuPW51bGwsbG9jT2JqOnM9bnVsbCxvdXRwdXRDYWxlbmRhcjpyPSJncmVnb3J5In09e30pe3JldHVybihzfHxxLmNyZWF0ZSh0LG4scikpLm1vbnRocyhlKX1zdGF0aWMgbW9udGhzRm9ybWF0KGU9ImxvbmciLHtsb2NhbGU6dD1udWxsLG51bWJlcmluZ1N5c3RlbTpuPW51bGwsbG9jT2JqOnM9bnVsbCxvdXRwdXRDYWxlbmRhcjpyPSJncmVnb3J5In09e30pe3JldHVybihzfHxxLmNyZWF0ZSh0LG4scikpLm1vbnRocyhlLCEwKX1zdGF0aWMgd2Vla2RheXMoZT0ibG9uZyIse2xvY2FsZTp0PW51bGwsbnVtYmVyaW5nU3lzdGVtOm49bnVsbCxsb2NPYmo6cz1udWxsfT17fSl7cmV0dXJuKHN8fHEuY3JlYXRlKHQsbixudWxsKSkud2Vla2RheXMoZSl9c3RhdGljIHdlZWtkYXlzRm9ybWF0KGU9ImxvbmciLHtsb2NhbGU6dD1udWxsLG51bWJlcmluZ1N5c3RlbTpuPW51bGwsbG9jT2JqOnM9bnVsbH09e30pe3JldHVybihzfHxxLmNyZWF0ZSh0LG4sbnVsbCkpLndlZWtkYXlzKGUsITApfXN0YXRpYyBtZXJpZGllbXMoe2xvY2FsZTplPW51bGx9PXt9KXtyZXR1cm4gcS5jcmVhdGUoZSkubWVyaWRpZW1zKCl9c3RhdGljIGVyYXMoZT0ic2hvcnQiLHtsb2NhbGU6dD1udWxsfT17fSl7cmV0dXJuIHEuY3JlYXRlKHQsbnVsbCwiZ3JlZ29yeSIpLmVyYXMoZSl9c3RhdGljIGZlYXR1cmVzKCl7cmV0dXJue3JlbGF0aXZlOiRpKCl9fX1mdW5jdGlvbiB1cihpLGUpe2NvbnN0IHQ9cz0+cy50b1VUQygwLHtrZWVwTG9jYWxUaW1lOiEwfSkuc3RhcnRPZigiZGF5IikudmFsdWVPZigpLG49dChlKS10KGkpO3JldHVybiBNYXRoLmZsb29yKFUuZnJvbU1pbGxpcyhuKS5hcygiZGF5cyIpKX1mdW5jdGlvbiB6bChpLGUsdCl7Y29uc3Qgbj1bWyJ5ZWFycyIsKGwsdSk9PnUueWVhci1sLnllYXJdLFsicXVhcnRlcnMiLChsLHUpPT51LnF1YXJ0ZXItbC5xdWFydGVyKyh1LnllYXItbC55ZWFyKSo0XSxbIm1vbnRocyIsKGwsdSk9PnUubW9udGgtbC5tb250aCsodS55ZWFyLWwueWVhcikqMTJdLFsid2Vla3MiLChsLHUpPT57Y29uc3QgaD11cihsLHUpO3JldHVybihoLWglNykvN31dLFsiZGF5cyIsdXJdXSxzPXt9LHI9aTtsZXQgbyxhO2Zvcihjb25zdFtsLHVdb2Ygbil0LmluZGV4T2YobCk+PTAmJihvPWwsc1tsXT11KGksZSksYT1yLnBsdXMocyksYT5lPyhzW2xdLS0saT1yLnBsdXMocyksaT5lJiYoYT1pLHNbbF0tLSxpPXIucGx1cyhzKSkpOmk9YSk7cmV0dXJuW2kscyxhLG9dfWZ1bmN0aW9uIEZsKGksZSx0LG4pe2xldFtzLHIsbyxhXT16bChpLGUsdCk7Y29uc3QgbD1lLXMsdT10LmZpbHRlcihjPT5bImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiXS5pbmRleE9mKGMpPj0wKTt1Lmxlbmd0aD09PTAmJihvPGUmJihvPXMucGx1cyh7W2FdOjF9KSksbyE9PXMmJihyW2FdPShyW2FdfHwwKStsLyhvLXMpKSk7Y29uc3QgaD1VLmZyb21PYmplY3QocixuKTtyZXR1cm4gdS5sZW5ndGg+MD9VLmZyb21NaWxsaXMobCxuKS5zaGlmdFRvKC4uLnUpLnBsdXMoaCk6aH1jb25zdCB1cz17YXJhYjoiW9mgLdmpXSIsYXJhYmV4dDoiW9uwLdu5XSIsYmFsaToiW+GtkC3hrZldIixiZW5nOiJb4KemLeCnr10iLGRldmE6IlvgpaYt4KWvXSIsZnVsbHdpZGU6IlvvvJAt77yZXSIsZ3VqcjoiW+Crpi3gq69dIixoYW5pZGVjOiJb44CHfOS4gHzkuox85LiJfOWbm3zkupR85YWtfOS4g3zlhat85LmdXSIsa2htcjoiW+GfoC3hn6ldIixrbmRhOiJb4LOmLeCzr10iLGxhb286Ilvgu5At4LuZXSIsbGltYjoiW+Glhi3hpY9dIixtbHltOiJb4LWmLeC1r10iLG1vbmc6IlvhoJAt4aCZXSIsbXltcjoiW+GBgC3hgYldIixvcnlhOiJb4K2mLeCtr10iLHRhbWxkZWM6Ilvgr6Yt4K+vXSIsdGVsdToiW+Cxpi3gsa9dIix0aGFpOiJb4LmQLeC5mV0iLHRpYnQ6IlvgvKAt4LypXSIsbGF0bjoiXFxkIn0sY3I9e2FyYWI6WzE2MzIsMTY0MV0sYXJhYmV4dDpbMTc3NiwxNzg1XSxiYWxpOls2OTkyLDcwMDFdLGJlbmc6WzI1MzQsMjU0M10sZGV2YTpbMjQwNiwyNDE1XSxmdWxsd2lkZTpbNjUyOTYsNjUzMDNdLGd1anI6WzI3OTAsMjc5OV0sa2htcjpbNjExMiw2MTIxXSxrbmRhOlszMzAyLDMzMTFdLGxhb286WzM3OTIsMzgwMV0sbGltYjpbNjQ3MCw2NDc5XSxtbHltOlszNDMwLDM0MzldLG1vbmc6WzYxNjAsNjE2OV0sbXltcjpbNDE2MCw0MTY5XSxvcnlhOlsyOTE4LDI5MjddLHRhbWxkZWM6WzMwNDYsMzA1NV0sdGVsdTpbMzE3NCwzMTgzXSx0aGFpOlszNjY0LDM2NzNdLHRpYnQ6WzM4NzIsMzg4MV19LFJsPXVzLmhhbmlkZWMucmVwbGFjZSgvW1xbfFxdXS9nLCIiKS5zcGxpdCgiIik7ZnVuY3Rpb24gUGwoaSl7bGV0IGU9cGFyc2VJbnQoaSwxMCk7aWYoaXNOYU4oZSkpe2U9IiI7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IG49aS5jaGFyQ29kZUF0KHQpO2lmKGlbdF0uc2VhcmNoKHVzLmhhbmlkZWMpIT09LTEpZSs9UmwuaW5kZXhPZihpW3RdKTtlbHNlIGZvcihjb25zdCBzIGluIGNyKXtjb25zdFtyLG9dPWNyW3NdO24+PXImJm48PW8mJihlKz1uLXIpfX1yZXR1cm4gcGFyc2VJbnQoZSwxMCl9ZWxzZSByZXR1cm4gZX1mdW5jdGlvbiB3ZSh7bnVtYmVyaW5nU3lzdGVtOml9LGU9IiIpe3JldHVybiBuZXcgUmVnRXhwKGAke3VzW2l8fCJsYXRuIl19JHtlfWApfWNvbnN0ICRsPSJtaXNzaW5nIEludGwuRGF0ZVRpbWVGb3JtYXQuZm9ybWF0VG9QYXJ0cyBzdXBwb3J0IjtmdW5jdGlvbiBCKGksZT10PT50KXtyZXR1cm57cmVnZXg6aSxkZXNlcjooW3RdKT0+ZShQbCh0KSl9fWNvbnN0IGZyPSJbIMKgXSIsaHI9bmV3IFJlZ0V4cChmciwiZyIpO2Z1bmN0aW9uIFVsKGkpe3JldHVybiBpLnJlcGxhY2UoL1wuL2csIlxcLj8iKS5yZXBsYWNlKGhyLGZyKX1mdW5jdGlvbiBkcihpKXtyZXR1cm4gaS5yZXBsYWNlKC9cLi9nLCIiKS5yZXBsYWNlKGhyLCIgIikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB2ZShpLGUpe3JldHVybiBpPT09bnVsbD9udWxsOntyZWdleDpSZWdFeHAoaS5tYXAoVWwpLmpvaW4oInwiKSksZGVzZXI6KFt0XSk9PmkuZmluZEluZGV4KG49PmRyKHQpPT09ZHIobikpK2V9fWZ1bmN0aW9uIG1yKGksZSl7cmV0dXJue3JlZ2V4OmksZGVzZXI6KFssdCxuXSk9Pm5uKHQsbiksZ3JvdXBzOmV9fWZ1bmN0aW9uIGFuKGkpe3JldHVybntyZWdleDppLGRlc2VyOihbZV0pPT5lfX1mdW5jdGlvbiBCbChpKXtyZXR1cm4gaS5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9ZnVuY3Rpb24gSGwoaSxlKXtjb25zdCB0PXdlKGUpLG49d2UoZSwiezJ9Iikscz13ZShlLCJ7M30iKSxyPXdlKGUsIns0fSIpLG89d2UoZSwiezZ9IiksYT13ZShlLCJ7MSwyfSIpLGw9d2UoZSwiezEsM30iKSx1PXdlKGUsInsxLDZ9IiksaD13ZShlLCJ7MSw5fSIpLGM9d2UoZSwiezIsNH0iKSxkPXdlKGUsIns0LDZ9IiksZj15PT4oe3JlZ2V4OlJlZ0V4cChCbCh5LnZhbCkpLGRlc2VyOihbVF0pPT5ULGxpdGVyYWw6ITB9KSxtPSh5PT57aWYoaS5saXRlcmFsKXJldHVybiBmKHkpO3N3aXRjaCh5LnZhbCl7Y2FzZSJHIjpyZXR1cm4gdmUoZS5lcmFzKCJzaG9ydCIpLDApO2Nhc2UiR0ciOnJldHVybiB2ZShlLmVyYXMoImxvbmciKSwwKTtjYXNlInkiOnJldHVybiBCKHUpO2Nhc2UieXkiOnJldHVybiBCKGMscnMpO2Nhc2UieXl5eSI6cmV0dXJuIEIocik7Y2FzZSJ5eXl5eSI6cmV0dXJuIEIoZCk7Y2FzZSJ5eXl5eXkiOnJldHVybiBCKG8pO2Nhc2UiTSI6cmV0dXJuIEIoYSk7Y2FzZSJNTSI6cmV0dXJuIEIobik7Y2FzZSJNTU0iOnJldHVybiB2ZShlLm1vbnRocygic2hvcnQiLCEwKSwxKTtjYXNlIk1NTU0iOnJldHVybiB2ZShlLm1vbnRocygibG9uZyIsITApLDEpO2Nhc2UiTCI6cmV0dXJuIEIoYSk7Y2FzZSJMTCI6cmV0dXJuIEIobik7Y2FzZSJMTEwiOnJldHVybiB2ZShlLm1vbnRocygic2hvcnQiLCExKSwxKTtjYXNlIkxMTEwiOnJldHVybiB2ZShlLm1vbnRocygibG9uZyIsITEpLDEpO2Nhc2UiZCI6cmV0dXJuIEIoYSk7Y2FzZSJkZCI6cmV0dXJuIEIobik7Y2FzZSJvIjpyZXR1cm4gQihsKTtjYXNlIm9vbyI6cmV0dXJuIEIocyk7Y2FzZSJISCI6cmV0dXJuIEIobik7Y2FzZSJIIjpyZXR1cm4gQihhKTtjYXNlImhoIjpyZXR1cm4gQihuKTtjYXNlImgiOnJldHVybiBCKGEpO2Nhc2UibW0iOnJldHVybiBCKG4pO2Nhc2UibSI6cmV0dXJuIEIoYSk7Y2FzZSJxIjpyZXR1cm4gQihhKTtjYXNlInFxIjpyZXR1cm4gQihuKTtjYXNlInMiOnJldHVybiBCKGEpO2Nhc2Uic3MiOnJldHVybiBCKG4pO2Nhc2UiUyI6cmV0dXJuIEIobCk7Y2FzZSJTU1MiOnJldHVybiBCKHMpO2Nhc2UidSI6cmV0dXJuIGFuKGgpO2Nhc2UidXUiOnJldHVybiBhbihhKTtjYXNlInV1dSI6cmV0dXJuIEIodCk7Y2FzZSJhIjpyZXR1cm4gdmUoZS5tZXJpZGllbXMoKSwwKTtjYXNlImtra2siOnJldHVybiBCKHIpO2Nhc2Uia2siOnJldHVybiBCKGMscnMpO2Nhc2UiVyI6cmV0dXJuIEIoYSk7Y2FzZSJXVyI6cmV0dXJuIEIobik7Y2FzZSJFIjpjYXNlImMiOnJldHVybiBCKHQpO2Nhc2UiRUVFIjpyZXR1cm4gdmUoZS53ZWVrZGF5cygic2hvcnQiLCExKSwxKTtjYXNlIkVFRUUiOnJldHVybiB2ZShlLndlZWtkYXlzKCJsb25nIiwhMSksMSk7Y2FzZSJjY2MiOnJldHVybiB2ZShlLndlZWtkYXlzKCJzaG9ydCIsITApLDEpO2Nhc2UiY2NjYyI6cmV0dXJuIHZlKGUud2Vla2RheXMoImxvbmciLCEwKSwxKTtjYXNlIloiOmNhc2UiWloiOnJldHVybiBtcihuZXcgUmVnRXhwKGAoWystXSR7YS5zb3VyY2V9KSg/OjooJHtuLnNvdXJjZX0pKT9gKSwyKTtjYXNlIlpaWiI6cmV0dXJuIG1yKG5ldyBSZWdFeHAoYChbKy1dJHthLnNvdXJjZX0pKCR7bi5zb3VyY2V9KT9gKSwyKTtjYXNlInoiOnJldHVybiBhbigvW2Etel8rLS9dezEsMjU2fT8vaSk7Y2FzZSIgIjpyZXR1cm4gYW4oL1teXFNcblxyXS8pO2RlZmF1bHQ6cmV0dXJuIGYoeSl9fSkoaSl8fHtpbnZhbGlkUmVhc29uOiRsfTtyZXR1cm4gbS50b2tlbj1pLG19Y29uc3QgVmw9e3llYXI6eyIyLWRpZ2l0IjoieXkiLG51bWVyaWM6Inl5eXl5In0sbW9udGg6e251bWVyaWM6Ik0iLCIyLWRpZ2l0IjoiTU0iLHNob3J0OiJNTU0iLGxvbmc6Ik1NTU0ifSxkYXk6e251bWVyaWM6ImQiLCIyLWRpZ2l0IjoiZGQifSx3ZWVrZGF5OntzaG9ydDoiRUVFIixsb25nOiJFRUVFIn0sZGF5cGVyaW9kOiJhIixkYXlQZXJpb2Q6ImEiLGhvdXIxMjp7bnVtZXJpYzoiaCIsIjItZGlnaXQiOiJoaCJ9LGhvdXIyNDp7bnVtZXJpYzoiSCIsIjItZGlnaXQiOiJISCJ9LG1pbnV0ZTp7bnVtZXJpYzoibSIsIjItZGlnaXQiOiJtbSJ9LHNlY29uZDp7bnVtZXJpYzoicyIsIjItZGlnaXQiOiJzcyJ9LHRpbWVab25lTmFtZTp7bG9uZzoiWlpaWloiLHNob3J0OiJaWloifX07ZnVuY3Rpb24gV2woaSxlLHQpe2NvbnN0e3R5cGU6bix2YWx1ZTpzfT1pO2lmKG49PT0ibGl0ZXJhbCIpe2NvbnN0IGw9L15ccyskLy50ZXN0KHMpO3JldHVybntsaXRlcmFsOiFsLHZhbDpsPyIgIjpzfX1jb25zdCByPWVbbl07bGV0IG89bjtuPT09ImhvdXIiJiYoZS5ob3VyMTIhPW51bGw/bz1lLmhvdXIxMj8iaG91cjEyIjoiaG91cjI0IjplLmhvdXJDeWNsZSE9bnVsbD9lLmhvdXJDeWNsZT09PSJoMTEifHxlLmhvdXJDeWNsZT09PSJoMTIiP289ImhvdXIxMiI6bz0iaG91cjI0IjpvPXQuaG91cjEyPyJob3VyMTIiOiJob3VyMjQiKTtsZXQgYT1WbFtvXTtpZih0eXBlb2YgYT09Im9iamVjdCImJihhPWFbcl0pLGEpcmV0dXJue2xpdGVyYWw6ITEsdmFsOmF9fWZ1bmN0aW9uIGpsKGkpe3JldHVybltgXiR7aS5tYXAodD0+dC5yZWdleCkucmVkdWNlKCh0LG4pPT5gJHt0fSgke24uc291cmNlfSlgLCIiKX0kYCxpXX1mdW5jdGlvbiBxbChpLGUsdCl7Y29uc3Qgbj1pLm1hdGNoKGUpO2lmKG4pe2NvbnN0IHM9e307bGV0IHI9MTtmb3IoY29uc3QgbyBpbiB0KWlmKHR0KHQsbykpe2NvbnN0IGE9dFtvXSxsPWEuZ3JvdXBzP2EuZ3JvdXBzKzE6MTshYS5saXRlcmFsJiZhLnRva2VuJiYoc1thLnRva2VuLnZhbFswXV09YS5kZXNlcihuLnNsaWNlKHIscitsKSkpLHIrPWx9cmV0dXJuW24sc119ZWxzZSByZXR1cm5bbix7fV19ZnVuY3Rpb24gWmwoaSl7Y29uc3QgZT1yPT57c3dpdGNoKHIpe2Nhc2UiUyI6cmV0dXJuIm1pbGxpc2Vjb25kIjtjYXNlInMiOnJldHVybiJzZWNvbmQiO2Nhc2UibSI6cmV0dXJuIm1pbnV0ZSI7Y2FzZSJoIjpjYXNlIkgiOnJldHVybiJob3VyIjtjYXNlImQiOnJldHVybiJkYXkiO2Nhc2UibyI6cmV0dXJuIm9yZGluYWwiO2Nhc2UiTCI6Y2FzZSJNIjpyZXR1cm4ibW9udGgiO2Nhc2UieSI6cmV0dXJuInllYXIiO2Nhc2UiRSI6Y2FzZSJjIjpyZXR1cm4id2Vla2RheSI7Y2FzZSJXIjpyZXR1cm4id2Vla051bWJlciI7Y2FzZSJrIjpyZXR1cm4id2Vla1llYXIiO2Nhc2UicSI6cmV0dXJuInF1YXJ0ZXIiO2RlZmF1bHQ6cmV0dXJuIG51bGx9fTtsZXQgdD1udWxsLG47cmV0dXJuICQoaS56KXx8KHQ9RGUuY3JlYXRlKGkueikpLCQoaS5aKXx8KHR8fCh0PW5ldyBpZShpLlopKSxuPWkuWiksJChpLnEpfHwoaS5NPShpLnEtMSkqMysxKSwkKGkuaCl8fChpLmg8MTImJmkuYT09PTE/aS5oKz0xMjppLmg9PT0xMiYmaS5hPT09MCYmKGkuaD0wKSksaS5HPT09MCYmaS55JiYoaS55PS1pLnkpLCQoaS51KXx8KGkuUz1zcyhpLnUpKSxbT2JqZWN0LmtleXMoaSkucmVkdWNlKChyLG8pPT57Y29uc3QgYT1lKG8pO3JldHVybiBhJiYoclthXT1pW29dKSxyfSx7fSksdCxuXX1sZXQgY3M9bnVsbDtmdW5jdGlvbiBLbCgpe3JldHVybiBjc3x8KGNzPVMuZnJvbU1pbGxpcygxNTU1NTU1NTU1NTU1KSksY3N9ZnVuY3Rpb24gR2woaSxlKXtpZihpLmxpdGVyYWwpcmV0dXJuIGk7Y29uc3QgdD1uZS5tYWNyb1Rva2VuVG9Gb3JtYXRPcHRzKGkudmFsKSxuPWdyKHQsZSk7cmV0dXJuIG49PW51bGx8fG4uaW5jbHVkZXModm9pZCAwKT9pOm59ZnVuY3Rpb24gcHIoaSxlKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5pLm1hcCh0PT5HbCh0LGUpKSl9ZnVuY3Rpb24geXIoaSxlLHQpe2NvbnN0IG49cHIobmUucGFyc2VGb3JtYXQodCksaSkscz1uLm1hcChvPT5IbChvLGkpKSxyPXMuZmluZChvPT5vLmludmFsaWRSZWFzb24pO2lmKHIpcmV0dXJue2lucHV0OmUsdG9rZW5zOm4saW52YWxpZFJlYXNvbjpyLmludmFsaWRSZWFzb259O3tjb25zdFtvLGFdPWpsKHMpLGw9UmVnRXhwKG8sImkiKSxbdSxoXT1xbChlLGwsYSksW2MsZCxmXT1oP1psKGgpOltudWxsLG51bGwsdm9pZCAwXTtpZih0dChoLCJhIikmJnR0KGgsIkgiKSl0aHJvdyBuZXcgRHQoIkNhbid0IGluY2x1ZGUgbWVyaWRpZW0gd2hlbiBzcGVjaWZ5aW5nIDI0LWhvdXIgZm9ybWF0Iik7cmV0dXJue2lucHV0OmUsdG9rZW5zOm4scmVnZXg6bCxyYXdNYXRjaGVzOnUsbWF0Y2hlczpoLHJlc3VsdDpjLHpvbmU6ZCxzcGVjaWZpY09mZnNldDpmfX19ZnVuY3Rpb24gSmwoaSxlLHQpe2NvbnN0e3Jlc3VsdDpuLHpvbmU6cyxzcGVjaWZpY09mZnNldDpyLGludmFsaWRSZWFzb246b309eXIoaSxlLHQpO3JldHVybltuLHMscixvXX1mdW5jdGlvbiBncihpLGUpe2lmKCFpKXJldHVybiBudWxsO2NvbnN0IG49bmUuY3JlYXRlKGUsaSkuZHRGb3JtYXR0ZXIoS2woKSkscz1uLmZvcm1hdFRvUGFydHMoKSxyPW4ucmVzb2x2ZWRPcHRpb25zKCk7cmV0dXJuIHMubWFwKG89PldsKG8saSxyKSl9Y29uc3QgVHI9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0sd3I9WzAsMzEsNjAsOTEsMTIxLDE1MiwxODIsMjEzLDI0NCwyNzQsMzA1LDMzNV07ZnVuY3Rpb24gaGUoaSxlKXtyZXR1cm4gbmV3IFRlKCJ1bml0IG91dCBvZiByYW5nZSIsYHlvdSBzcGVjaWZpZWQgJHtlfSAob2YgdHlwZSAke3R5cGVvZiBlfSkgYXMgYSAke2l9LCB3aGljaCBpcyBpbnZhbGlkYCl9ZnVuY3Rpb24gdnIoaSxlLHQpe2NvbnN0IG49bmV3IERhdGUoRGF0ZS5VVEMoaSxlLTEsdCkpO2k8MTAwJiZpPj0wJiZuLnNldFVUQ0Z1bGxZZWFyKG4uZ2V0VVRDRnVsbFllYXIoKS0xOTAwKTtjb25zdCBzPW4uZ2V0VVRDRGF5KCk7cmV0dXJuIHM9PT0wPzc6c31mdW5jdGlvbiBicihpLGUsdCl7cmV0dXJuIHQrKGt0KGkpP3dyOlRyKVtlLTFdfWZ1bmN0aW9uIF9yKGksZSl7Y29uc3QgdD1rdChpKT93cjpUcixuPXQuZmluZEluZGV4KHI9PnI8ZSkscz1lLXRbbl07cmV0dXJue21vbnRoOm4rMSxkYXk6c319ZnVuY3Rpb24gZnMoaSl7Y29uc3R7eWVhcjplLG1vbnRoOnQsZGF5Om59PWkscz1icihlLHQsbikscj12cihlLHQsbik7bGV0IG89TWF0aC5mbG9vcigocy1yKzEwKS83KSxhO3JldHVybiBvPDE/KGE9ZS0xLG89dG4oYSkpOm8+dG4oZSk/KGE9ZSsxLG89MSk6YT1lLHt3ZWVrWWVhcjphLHdlZWtOdW1iZXI6byx3ZWVrZGF5OnIsLi4ucm4oaSl9fWZ1bmN0aW9uIE9yKGkpe2NvbnN0e3dlZWtZZWFyOmUsd2Vla051bWJlcjp0LHdlZWtkYXk6bn09aSxzPXZyKGUsMSw0KSxyPUN0KGUpO2xldCBvPXQqNytuLXMtMyxhO288MT8oYT1lLTEsbys9Q3QoYSkpOm8+cj8oYT1lKzEsby09Q3QoZSkpOmE9ZTtjb25zdHttb250aDpsLGRheTp1fT1fcihhLG8pO3JldHVybnt5ZWFyOmEsbW9udGg6bCxkYXk6dSwuLi5ybihpKX19ZnVuY3Rpb24gaHMoaSl7Y29uc3R7eWVhcjplLG1vbnRoOnQsZGF5Om59PWkscz1icihlLHQsbik7cmV0dXJue3llYXI6ZSxvcmRpbmFsOnMsLi4ucm4oaSl9fWZ1bmN0aW9uIElyKGkpe2NvbnN0e3llYXI6ZSxvcmRpbmFsOnR9PWkse21vbnRoOm4sZGF5OnN9PV9yKGUsdCk7cmV0dXJue3llYXI6ZSxtb250aDpuLGRheTpzLC4uLnJuKGkpfX1mdW5jdGlvbiBYbChpKXtjb25zdCBlPVh0KGkud2Vla1llYXIpLHQ9TWUoaS53ZWVrTnVtYmVyLDEsdG4oaS53ZWVrWWVhcikpLG49TWUoaS53ZWVrZGF5LDEsNyk7cmV0dXJuIGU/dD9uPyExOmhlKCJ3ZWVrZGF5IixpLndlZWtkYXkpOmhlKCJ3ZWVrIixpLndlZWspOmhlKCJ3ZWVrWWVhciIsaS53ZWVrWWVhcil9ZnVuY3Rpb24gUWwoaSl7Y29uc3QgZT1YdChpLnllYXIpLHQ9TWUoaS5vcmRpbmFsLDEsQ3QoaS55ZWFyKSk7cmV0dXJuIGU/dD8hMTpoZSgib3JkaW5hbCIsaS5vcmRpbmFsKTpoZSgieWVhciIsaS55ZWFyKX1mdW5jdGlvbiBTcihpKXtjb25zdCBlPVh0KGkueWVhciksdD1NZShpLm1vbnRoLDEsMTIpLG49TWUoaS5kYXksMSxRdChpLnllYXIsaS5tb250aCkpO3JldHVybiBlP3Q/bj8hMTpoZSgiZGF5IixpLmRheSk6aGUoIm1vbnRoIixpLm1vbnRoKTpoZSgieWVhciIsaS55ZWFyKX1mdW5jdGlvbiBFcihpKXtjb25zdHtob3VyOmUsbWludXRlOnQsc2Vjb25kOm4sbWlsbGlzZWNvbmQ6c309aSxyPU1lKGUsMCwyMyl8fGU9PT0yNCYmdD09PTAmJm49PT0wJiZzPT09MCxvPU1lKHQsMCw1OSksYT1NZShuLDAsNTkpLGw9TWUocywwLDk5OSk7cmV0dXJuIHI/bz9hP2w/ITE6aGUoIm1pbGxpc2Vjb25kIixzKTpoZSgic2Vjb25kIixuKTpoZSgibWludXRlIix0KTpoZSgiaG91ciIsZSl9Y29uc3QgZHM9IkludmFsaWQgRGF0ZVRpbWUiLERyPTg2NGUxMztmdW5jdGlvbiBsbihpKXtyZXR1cm4gbmV3IFRlKCJ1bnN1cHBvcnRlZCB6b25lIixgdGhlIHpvbmUgIiR7aS5uYW1lfSIgaXMgbm90IHN1cHBvcnRlZGApfWZ1bmN0aW9uIG1zKGkpe3JldHVybiBpLndlZWtEYXRhPT09bnVsbCYmKGkud2Vla0RhdGE9ZnMoaS5jKSksaS53ZWVrRGF0YX1mdW5jdGlvbiBxZShpLGUpe2NvbnN0IHQ9e3RzOmkudHMsem9uZTppLnpvbmUsYzppLmMsbzppLm8sbG9jOmkubG9jLGludmFsaWQ6aS5pbnZhbGlkfTtyZXR1cm4gbmV3IFMoey4uLnQsLi4uZSxvbGQ6dH0pfWZ1bmN0aW9uIE1yKGksZSx0KXtsZXQgbj1pLWUqNjAqMWUzO2NvbnN0IHM9dC5vZmZzZXQobik7aWYoZT09PXMpcmV0dXJuW24sZV07bi09KHMtZSkqNjAqMWUzO2NvbnN0IHI9dC5vZmZzZXQobik7cmV0dXJuIHM9PT1yP1tuLHNdOltpLU1hdGgubWluKHMscikqNjAqMWUzLE1hdGgubWF4KHMscildfWZ1bmN0aW9uIHVuKGksZSl7aSs9ZSo2MCoxZTM7Y29uc3QgdD1uZXcgRGF0ZShpKTtyZXR1cm57eWVhcjp0LmdldFVUQ0Z1bGxZZWFyKCksbW9udGg6dC5nZXRVVENNb250aCgpKzEsZGF5OnQuZ2V0VVRDRGF0ZSgpLGhvdXI6dC5nZXRVVENIb3VycygpLG1pbnV0ZTp0LmdldFVUQ01pbnV0ZXMoKSxzZWNvbmQ6dC5nZXRVVENTZWNvbmRzKCksbWlsbGlzZWNvbmQ6dC5nZXRVVENNaWxsaXNlY29uZHMoKX19ZnVuY3Rpb24gY24oaSxlLHQpe3JldHVybiBNcihlbihpKSxlLHQpfWZ1bmN0aW9uIEFyKGksZSl7Y29uc3QgdD1pLm8sbj1pLmMueWVhcitNYXRoLnRydW5jKGUueWVhcnMpLHM9aS5jLm1vbnRoK01hdGgudHJ1bmMoZS5tb250aHMpK01hdGgudHJ1bmMoZS5xdWFydGVycykqMyxyPXsuLi5pLmMseWVhcjpuLG1vbnRoOnMsZGF5Ok1hdGgubWluKGkuYy5kYXksUXQobixzKSkrTWF0aC50cnVuYyhlLmRheXMpK01hdGgudHJ1bmMoZS53ZWVrcykqN30sbz1VLmZyb21PYmplY3Qoe3llYXJzOmUueWVhcnMtTWF0aC50cnVuYyhlLnllYXJzKSxxdWFydGVyczplLnF1YXJ0ZXJzLU1hdGgudHJ1bmMoZS5xdWFydGVycyksbW9udGhzOmUubW9udGhzLU1hdGgudHJ1bmMoZS5tb250aHMpLHdlZWtzOmUud2Vla3MtTWF0aC50cnVuYyhlLndlZWtzKSxkYXlzOmUuZGF5cy1NYXRoLnRydW5jKGUuZGF5cyksaG91cnM6ZS5ob3VycyxtaW51dGVzOmUubWludXRlcyxzZWNvbmRzOmUuc2Vjb25kcyxtaWxsaXNlY29uZHM6ZS5taWxsaXNlY29uZHN9KS5hcygibWlsbGlzZWNvbmRzIiksYT1lbihyKTtsZXRbbCx1XT1NcihhLHQsaS56b25lKTtyZXR1cm4gbyE9PTAmJihsKz1vLHU9aS56b25lLm9mZnNldChsKSkse3RzOmwsbzp1fX1mdW5jdGlvbiB6dChpLGUsdCxuLHMscil7Y29uc3R7c2V0Wm9uZTpvLHpvbmU6YX09dDtpZihpJiZPYmplY3Qua2V5cyhpKS5sZW5ndGghPT0wfHxlKXtjb25zdCBsPWV8fGEsdT1TLmZyb21PYmplY3QoaSx7Li4udCx6b25lOmwsc3BlY2lmaWNPZmZzZXQ6cn0pO3JldHVybiBvP3U6dS5zZXRab25lKGEpfWVsc2UgcmV0dXJuIFMuaW52YWxpZChuZXcgVGUoInVucGFyc2FibGUiLGB0aGUgaW5wdXQgIiR7c30iIGNhbid0IGJlIHBhcnNlZCBhcyAke259YCkpfWZ1bmN0aW9uIGZuKGksZSx0PSEwKXtyZXR1cm4gaS5pc1ZhbGlkP25lLmNyZWF0ZShxLmNyZWF0ZSgiZW4tVVMiKSx7YWxsb3daOnQsZm9yY2VTaW1wbGU6ITB9KS5mb3JtYXREYXRlVGltZUZyb21TdHJpbmcoaSxlKTpudWxsfWZ1bmN0aW9uIHBzKGksZSl7Y29uc3QgdD1pLmMueWVhcj45OTk5fHxpLmMueWVhcjwwO2xldCBuPSIiO3JldHVybiB0JiZpLmMueWVhcj49MCYmKG4rPSIrIiksbis9dGUoaS5jLnllYXIsdD82OjQpLGU/KG4rPSItIixuKz10ZShpLmMubW9udGgpLG4rPSItIixuKz10ZShpLmMuZGF5KSk6KG4rPXRlKGkuYy5tb250aCksbis9dGUoaS5jLmRheSkpLG59ZnVuY3Rpb24gTnIoaSxlLHQsbixzLHIpe2xldCBvPXRlKGkuYy5ob3VyKTtyZXR1cm4gZT8obys9IjoiLG8rPXRlKGkuYy5taW51dGUpLChpLmMubWlsbGlzZWNvbmQhPT0wfHxpLmMuc2Vjb25kIT09MHx8IXQpJiYobys9IjoiKSk6bys9dGUoaS5jLm1pbnV0ZSksKGkuYy5taWxsaXNlY29uZCE9PTB8fGkuYy5zZWNvbmQhPT0wfHwhdCkmJihvKz10ZShpLmMuc2Vjb25kKSwoaS5jLm1pbGxpc2Vjb25kIT09MHx8IW4pJiYobys9Ii4iLG8rPXRlKGkuYy5taWxsaXNlY29uZCwzKSkpLHMmJihpLmlzT2Zmc2V0Rml4ZWQmJmkub2Zmc2V0PT09MCYmIXI/bys9IloiOmkubzwwPyhvKz0iLSIsbys9dGUoTWF0aC50cnVuYygtaS5vLzYwKSksbys9IjoiLG8rPXRlKE1hdGgudHJ1bmMoLWkubyU2MCkpKToobys9IisiLG8rPXRlKE1hdGgudHJ1bmMoaS5vLzYwKSksbys9IjoiLG8rPXRlKE1hdGgudHJ1bmMoaS5vJTYwKSkpKSxyJiYobys9IlsiK2kuem9uZS5pYW5hTmFtZSsiXSIpLG99Y29uc3Qga3I9e21vbnRoOjEsZGF5OjEsaG91cjowLG1pbnV0ZTowLHNlY29uZDowLG1pbGxpc2Vjb25kOjB9LGV1PXt3ZWVrTnVtYmVyOjEsd2Vla2RheToxLGhvdXI6MCxtaW51dGU6MCxzZWNvbmQ6MCxtaWxsaXNlY29uZDowfSx0dT17b3JkaW5hbDoxLGhvdXI6MCxtaW51dGU6MCxzZWNvbmQ6MCxtaWxsaXNlY29uZDowfSxDcj1bInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCJdLG51PVsid2Vla1llYXIiLCJ3ZWVrTnVtYmVyIiwid2Vla2RheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCJdLHN1PVsieWVhciIsIm9yZGluYWwiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiXTtmdW5jdGlvbiBMcihpKXtjb25zdCBlPXt5ZWFyOiJ5ZWFyIix5ZWFyczoieWVhciIsbW9udGg6Im1vbnRoIixtb250aHM6Im1vbnRoIixkYXk6ImRheSIsZGF5czoiZGF5Iixob3VyOiJob3VyIixob3VyczoiaG91ciIsbWludXRlOiJtaW51dGUiLG1pbnV0ZXM6Im1pbnV0ZSIscXVhcnRlcjoicXVhcnRlciIscXVhcnRlcnM6InF1YXJ0ZXIiLHNlY29uZDoic2Vjb25kIixzZWNvbmRzOiJzZWNvbmQiLG1pbGxpc2Vjb25kOiJtaWxsaXNlY29uZCIsbWlsbGlzZWNvbmRzOiJtaWxsaXNlY29uZCIsd2Vla2RheToid2Vla2RheSIsd2Vla2RheXM6IndlZWtkYXkiLHdlZWtudW1iZXI6IndlZWtOdW1iZXIiLHdlZWtzbnVtYmVyOiJ3ZWVrTnVtYmVyIix3ZWVrbnVtYmVyczoid2Vla051bWJlciIsd2Vla3llYXI6IndlZWtZZWFyIix3ZWVreWVhcnM6IndlZWtZZWFyIixvcmRpbmFsOiJvcmRpbmFsIn1baS50b0xvd2VyQ2FzZSgpXTtpZighZSl0aHJvdyBuZXcgaGkoaSk7cmV0dXJuIGV9ZnVuY3Rpb24geHIoaSxlKXtjb25zdCB0PUxlKGUuem9uZSxlZS5kZWZhdWx0Wm9uZSksbj1xLmZyb21PYmplY3QoZSkscz1lZS5ub3coKTtsZXQgcixvO2lmKCQoaS55ZWFyKSlyPXM7ZWxzZXtmb3IoY29uc3QgdSBvZiBDcikkKGlbdV0pJiYoaVt1XT1rclt1XSk7Y29uc3QgYT1TcihpKXx8RXIoaSk7aWYoYSlyZXR1cm4gUy5pbnZhbGlkKGEpO2NvbnN0IGw9dC5vZmZzZXQocyk7W3Isb109Y24oaSxsLHQpfXJldHVybiBuZXcgUyh7dHM6cix6b25lOnQsbG9jOm4sb30pfWZ1bmN0aW9uIFlyKGksZSx0KXtjb25zdCBuPSQodC5yb3VuZCk/ITA6dC5yb3VuZCxzPShvLGEpPT4obz1pcyhvLG58fHQuY2FsZW5kYXJ5PzA6MiwhMCksZS5sb2MuY2xvbmUodCkucmVsRm9ybWF0dGVyKHQpLmZvcm1hdChvLGEpKSxyPW89PnQuY2FsZW5kYXJ5P2UuaGFzU2FtZShpLG8pPzA6ZS5zdGFydE9mKG8pLmRpZmYoaS5zdGFydE9mKG8pLG8pLmdldChvKTplLmRpZmYoaSxvKS5nZXQobyk7aWYodC51bml0KXJldHVybiBzKHIodC51bml0KSx0LnVuaXQpO2Zvcihjb25zdCBvIG9mIHQudW5pdHMpe2NvbnN0IGE9cihvKTtpZihNYXRoLmFicyhhKT49MSlyZXR1cm4gcyhhLG8pfXJldHVybiBzKGk+ZT8tMDowLHQudW5pdHNbdC51bml0cy5sZW5ndGgtMV0pfWZ1bmN0aW9uIHpyKGkpe2xldCBlPXt9LHQ7cmV0dXJuIGkubGVuZ3RoPjAmJnR5cGVvZiBpW2kubGVuZ3RoLTFdPT0ib2JqZWN0Ij8oZT1pW2kubGVuZ3RoLTFdLHQ9QXJyYXkuZnJvbShpKS5zbGljZSgwLGkubGVuZ3RoLTEpKTp0PUFycmF5LmZyb20oaSksW2UsdF19Y2xhc3MgU3tjb25zdHJ1Y3RvcihlKXtjb25zdCB0PWUuem9uZXx8ZWUuZGVmYXVsdFpvbmU7bGV0IG49ZS5pbnZhbGlkfHwoTnVtYmVyLmlzTmFOKGUudHMpP25ldyBUZSgiaW52YWxpZCBpbnB1dCIpOm51bGwpfHwodC5pc1ZhbGlkP251bGw6bG4odCkpO3RoaXMudHM9JChlLnRzKT9lZS5ub3coKTplLnRzO2xldCBzPW51bGwscj1udWxsO2lmKCFuKWlmKGUub2xkJiZlLm9sZC50cz09PXRoaXMudHMmJmUub2xkLnpvbmUuZXF1YWxzKHQpKVtzLHJdPVtlLm9sZC5jLGUub2xkLm9dO2Vsc2V7Y29uc3QgYT10Lm9mZnNldCh0aGlzLnRzKTtzPXVuKHRoaXMudHMsYSksbj1OdW1iZXIuaXNOYU4ocy55ZWFyKT9uZXcgVGUoImludmFsaWQgaW5wdXQiKTpudWxsLHM9bj9udWxsOnMscj1uP251bGw6YX10aGlzLl96b25lPXQsdGhpcy5sb2M9ZS5sb2N8fHEuY3JlYXRlKCksdGhpcy5pbnZhbGlkPW4sdGhpcy53ZWVrRGF0YT1udWxsLHRoaXMuYz1zLHRoaXMubz1yLHRoaXMuaXNMdXhvbkRhdGVUaW1lPSEwfXN0YXRpYyBub3coKXtyZXR1cm4gbmV3IFMoe30pfXN0YXRpYyBsb2NhbCgpe2NvbnN0W2UsdF09enIoYXJndW1lbnRzKSxbbixzLHIsbyxhLGwsdV09dDtyZXR1cm4geHIoe3llYXI6bixtb250aDpzLGRheTpyLGhvdXI6byxtaW51dGU6YSxzZWNvbmQ6bCxtaWxsaXNlY29uZDp1fSxlKX1zdGF0aWMgdXRjKCl7Y29uc3RbZSx0XT16cihhcmd1bWVudHMpLFtuLHMscixvLGEsbCx1XT10O3JldHVybiBlLnpvbmU9aWUudXRjSW5zdGFuY2UseHIoe3llYXI6bixtb250aDpzLGRheTpyLGhvdXI6byxtaW51dGU6YSxzZWNvbmQ6bCxtaWxsaXNlY29uZDp1fSxlKX1zdGF0aWMgZnJvbUpTRGF0ZShlLHQ9e30pe2NvbnN0IG49Q2EoZSk/ZS52YWx1ZU9mKCk6TmFOO2lmKE51bWJlci5pc05hTihuKSlyZXR1cm4gUy5pbnZhbGlkKCJpbnZhbGlkIGlucHV0Iik7Y29uc3Qgcz1MZSh0LnpvbmUsZWUuZGVmYXVsdFpvbmUpO3JldHVybiBzLmlzVmFsaWQ/bmV3IFMoe3RzOm4sem9uZTpzLGxvYzpxLmZyb21PYmplY3QodCl9KTpTLmludmFsaWQobG4ocykpfXN0YXRpYyBmcm9tTWlsbGlzKGUsdD17fSl7aWYoVmUoZSkpcmV0dXJuIGU8LURyfHxlPkRyP1MuaW52YWxpZCgiVGltZXN0YW1wIG91dCBvZiByYW5nZSIpOm5ldyBTKHt0czplLHpvbmU6TGUodC56b25lLGVlLmRlZmF1bHRab25lKSxsb2M6cS5mcm9tT2JqZWN0KHQpfSk7dGhyb3cgbmV3IGNlKGBmcm9tTWlsbGlzIHJlcXVpcmVzIGEgbnVtZXJpY2FsIGlucHV0LCBidXQgcmVjZWl2ZWQgYSAke3R5cGVvZiBlfSB3aXRoIHZhbHVlICR7ZX1gKX1zdGF0aWMgZnJvbVNlY29uZHMoZSx0PXt9KXtpZihWZShlKSlyZXR1cm4gbmV3IFMoe3RzOmUqMWUzLHpvbmU6TGUodC56b25lLGVlLmRlZmF1bHRab25lKSxsb2M6cS5mcm9tT2JqZWN0KHQpfSk7dGhyb3cgbmV3IGNlKCJmcm9tU2Vjb25kcyByZXF1aXJlcyBhIG51bWVyaWNhbCBpbnB1dCIpfXN0YXRpYyBmcm9tT2JqZWN0KGUsdD17fSl7ZT1lfHx7fTtjb25zdCBuPUxlKHQuem9uZSxlZS5kZWZhdWx0Wm9uZSk7aWYoIW4uaXNWYWxpZClyZXR1cm4gUy5pbnZhbGlkKGxuKG4pKTtjb25zdCBzPWVlLm5vdygpLHI9JCh0LnNwZWNpZmljT2Zmc2V0KT9uLm9mZnNldChzKTp0LnNwZWNpZmljT2Zmc2V0LG89c24oZSxMciksYT0hJChvLm9yZGluYWwpLGw9ISQoby55ZWFyKSx1PSEkKG8ubW9udGgpfHwhJChvLmRheSksaD1sfHx1LGM9by53ZWVrWWVhcnx8by53ZWVrTnVtYmVyLGQ9cS5mcm9tT2JqZWN0KHQpO2lmKChofHxhKSYmYyl0aHJvdyBuZXcgRHQoIkNhbid0IG1peCB3ZWVrWWVhci93ZWVrTnVtYmVyIHVuaXRzIHdpdGggeWVhci9tb250aC9kYXkgb3Igb3JkaW5hbHMiKTtpZih1JiZhKXRocm93IG5ldyBEdCgiQ2FuJ3QgbWl4IG9yZGluYWwgZGF0ZXMgd2l0aCBtb250aC9kYXkiKTtjb25zdCBmPWN8fG8ud2Vla2RheSYmIWg7bGV0IHAsbSx5PXVuKHMscik7Zj8ocD1udSxtPWV1LHk9ZnMoeSkpOmE/KHA9c3UsbT10dSx5PWhzKHkpKToocD1DcixtPWtyKTtsZXQgVD0hMTtmb3IoY29uc3QgRSBvZiBwKXtjb25zdCBDPW9bRV07JChDKT9UP29bRV09bVtFXTpvW0VdPXlbRV06VD0hMH1jb25zdCB2PWY/WGwobyk6YT9RbChvKTpTcihvKSxfPXZ8fEVyKG8pO2lmKF8pcmV0dXJuIFMuaW52YWxpZChfKTtjb25zdCBPPWY/T3Iobyk6YT9JcihvKTpvLFtJLHddPWNuKE8scixuKSxBPW5ldyBTKHt0czpJLHpvbmU6bixvOncsbG9jOmR9KTtyZXR1cm4gby53ZWVrZGF5JiZoJiZlLndlZWtkYXkhPT1BLndlZWtkYXk/Uy5pbnZhbGlkKCJtaXNtYXRjaGVkIHdlZWtkYXkiLGB5b3UgY2FuJ3Qgc3BlY2lmeSBib3RoIGEgd2Vla2RheSBvZiAke28ud2Vla2RheX0gYW5kIGEgZGF0ZSBvZiAke0EudG9JU08oKX1gKTpBfXN0YXRpYyBmcm9tSVNPKGUsdD17fSl7Y29uc3RbbixzXT1ibChlKTtyZXR1cm4genQobixzLHQsIklTTyA4NjAxIixlKX1zdGF0aWMgZnJvbVJGQzI4MjIoZSx0PXt9KXtjb25zdFtuLHNdPV9sKGUpO3JldHVybiB6dChuLHMsdCwiUkZDIDI4MjIiLGUpfXN0YXRpYyBmcm9tSFRUUChlLHQ9e30pe2NvbnN0W24sc109T2woZSk7cmV0dXJuIHp0KG4scyx0LCJIVFRQIix0KX1zdGF0aWMgZnJvbUZvcm1hdChlLHQsbj17fSl7aWYoJChlKXx8JCh0KSl0aHJvdyBuZXcgY2UoImZyb21Gb3JtYXQgcmVxdWlyZXMgYW4gaW5wdXQgc3RyaW5nIGFuZCBhIGZvcm1hdCIpO2NvbnN0e2xvY2FsZTpzPW51bGwsbnVtYmVyaW5nU3lzdGVtOnI9bnVsbH09bixvPXEuZnJvbU9wdHMoe2xvY2FsZTpzLG51bWJlcmluZ1N5c3RlbTpyLGRlZmF1bHRUb0VOOiEwfSksW2EsbCx1LGhdPUpsKG8sZSx0KTtyZXR1cm4gaD9TLmludmFsaWQoaCk6enQoYSxsLG4sYGZvcm1hdCAke3R9YCxlLHUpfXN0YXRpYyBmcm9tU3RyaW5nKGUsdCxuPXt9KXtyZXR1cm4gUy5mcm9tRm9ybWF0KGUsdCxuKX1zdGF0aWMgZnJvbVNRTChlLHQ9e30pe2NvbnN0W24sc109TmwoZSk7cmV0dXJuIHp0KG4scyx0LCJTUUwiLGUpfXN0YXRpYyBpbnZhbGlkKGUsdD1udWxsKXtpZighZSl0aHJvdyBuZXcgY2UoIm5lZWQgdG8gc3BlY2lmeSBhIHJlYXNvbiB0aGUgRGF0ZVRpbWUgaXMgaW52YWxpZCIpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIFRlP2U6bmV3IFRlKGUsdCk7aWYoZWUudGhyb3dPbkludmFsaWQpdGhyb3cgbmV3IHVhKG4pO3JldHVybiBuZXcgUyh7aW52YWxpZDpufSl9c3RhdGljIGlzRGF0ZVRpbWUoZSl7cmV0dXJuIGUmJmUuaXNMdXhvbkRhdGVUaW1lfHwhMX1zdGF0aWMgcGFyc2VGb3JtYXRGb3JPcHRzKGUsdD17fSl7Y29uc3Qgbj1ncihlLHEuZnJvbU9iamVjdCh0KSk7cmV0dXJuIG4/bi5tYXAocz0+cz9zLnZhbDpudWxsKS5qb2luKCIiKTpudWxsfXN0YXRpYyBleHBhbmRGb3JtYXQoZSx0PXt9KXtyZXR1cm4gcHIobmUucGFyc2VGb3JtYXQoZSkscS5mcm9tT2JqZWN0KHQpKS5tYXAocz0+cy52YWwpLmpvaW4oIiIpfWdldChlKXtyZXR1cm4gdGhpc1tlXX1nZXQgaXNWYWxpZCgpe3JldHVybiB0aGlzLmludmFsaWQ9PT1udWxsfWdldCBpbnZhbGlkUmVhc29uKCl7cmV0dXJuIHRoaXMuaW52YWxpZD90aGlzLmludmFsaWQucmVhc29uOm51bGx9Z2V0IGludmFsaWRFeHBsYW5hdGlvbigpe3JldHVybiB0aGlzLmludmFsaWQ/dGhpcy5pbnZhbGlkLmV4cGxhbmF0aW9uOm51bGx9Z2V0IGxvY2FsZSgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5sb2MubG9jYWxlOm51bGx9Z2V0IG51bWJlcmluZ1N5c3RlbSgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5sb2MubnVtYmVyaW5nU3lzdGVtOm51bGx9Z2V0IG91dHB1dENhbGVuZGFyKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmxvYy5vdXRwdXRDYWxlbmRhcjpudWxsfWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9Z2V0IHpvbmVOYW1lKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnpvbmUubmFtZTpudWxsfWdldCB5ZWFyKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmMueWVhcjpOYU59Z2V0IHF1YXJ0ZXIoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP01hdGguY2VpbCh0aGlzLmMubW9udGgvMyk6TmFOfWdldCBtb250aCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5jLm1vbnRoOk5hTn1nZXQgZGF5KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmMuZGF5Ok5hTn1nZXQgaG91cigpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5jLmhvdXI6TmFOfWdldCBtaW51dGUoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuYy5taW51dGU6TmFOfWdldCBzZWNvbmQoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuYy5zZWNvbmQ6TmFOfWdldCBtaWxsaXNlY29uZCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5jLm1pbGxpc2Vjb25kOk5hTn1nZXQgd2Vla1llYXIoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP21zKHRoaXMpLndlZWtZZWFyOk5hTn1nZXQgd2Vla051bWJlcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/bXModGhpcykud2Vla051bWJlcjpOYU59Z2V0IHdlZWtkYXkoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP21zKHRoaXMpLndlZWtkYXk6TmFOfWdldCBvcmRpbmFsKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9ocyh0aGlzLmMpLm9yZGluYWw6TmFOfWdldCBtb250aFNob3J0KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9vbi5tb250aHMoInNob3J0Iix7bG9jT2JqOnRoaXMubG9jfSlbdGhpcy5tb250aC0xXTpudWxsfWdldCBtb250aExvbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP29uLm1vbnRocygibG9uZyIse2xvY09iajp0aGlzLmxvY30pW3RoaXMubW9udGgtMV06bnVsbH1nZXQgd2Vla2RheVNob3J0KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9vbi53ZWVrZGF5cygic2hvcnQiLHtsb2NPYmo6dGhpcy5sb2N9KVt0aGlzLndlZWtkYXktMV06bnVsbH1nZXQgd2Vla2RheUxvbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP29uLndlZWtkYXlzKCJsb25nIix7bG9jT2JqOnRoaXMubG9jfSlbdGhpcy53ZWVrZGF5LTFdOm51bGx9Z2V0IG9mZnNldCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/K3RoaXMubzpOYU59Z2V0IG9mZnNldE5hbWVTaG9ydCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy56b25lLm9mZnNldE5hbWUodGhpcy50cyx7Zm9ybWF0OiJzaG9ydCIsbG9jYWxlOnRoaXMubG9jYWxlfSk6bnVsbH1nZXQgb2Zmc2V0TmFtZUxvbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuem9uZS5vZmZzZXROYW1lKHRoaXMudHMse2Zvcm1hdDoibG9uZyIsbG9jYWxlOnRoaXMubG9jYWxlfSk6bnVsbH1nZXQgaXNPZmZzZXRGaXhlZCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy56b25lLmlzVW5pdmVyc2FsOm51bGx9Z2V0IGlzSW5EU1QoKXtyZXR1cm4gdGhpcy5pc09mZnNldEZpeGVkPyExOnRoaXMub2Zmc2V0PnRoaXMuc2V0KHttb250aDoxLGRheToxfSkub2Zmc2V0fHx0aGlzLm9mZnNldD50aGlzLnNldCh7bW9udGg6NX0pLm9mZnNldH1nZXRQb3NzaWJsZU9mZnNldHMoKXtpZighdGhpcy5pc1ZhbGlkfHx0aGlzLmlzT2Zmc2V0Rml4ZWQpcmV0dXJuW3RoaXNdO2NvbnN0IGU9ODY0ZTUsdD02ZTQsbj1lbih0aGlzLmMpLHM9dGhpcy56b25lLm9mZnNldChuLWUpLHI9dGhpcy56b25lLm9mZnNldChuK2UpLG89dGhpcy56b25lLm9mZnNldChuLXMqdCksYT10aGlzLnpvbmUub2Zmc2V0KG4tcip0KTtpZihvPT09YSlyZXR1cm5bdGhpc107Y29uc3QgbD1uLW8qdCx1PW4tYSp0LGg9dW4obCxvKSxjPXVuKHUsYSk7cmV0dXJuIGguaG91cj09PWMuaG91ciYmaC5taW51dGU9PT1jLm1pbnV0ZSYmaC5zZWNvbmQ9PT1jLnNlY29uZCYmaC5taWxsaXNlY29uZD09PWMubWlsbGlzZWNvbmQ/W3FlKHRoaXMse3RzOmx9KSxxZSh0aGlzLHt0czp1fSldOlt0aGlzXX1nZXQgaXNJbkxlYXBZZWFyKCl7cmV0dXJuIGt0KHRoaXMueWVhcil9Z2V0IGRheXNJbk1vbnRoKCl7cmV0dXJuIFF0KHRoaXMueWVhcix0aGlzLm1vbnRoKX1nZXQgZGF5c0luWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/Q3QodGhpcy55ZWFyKTpOYU59Z2V0IHdlZWtzSW5XZWVrWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/dG4odGhpcy53ZWVrWWVhcik6TmFOfXJlc29sdmVkTG9jYWxlT3B0aW9ucyhlPXt9KXtjb25zdHtsb2NhbGU6dCxudW1iZXJpbmdTeXN0ZW06bixjYWxlbmRhcjpzfT1uZS5jcmVhdGUodGhpcy5sb2MuY2xvbmUoZSksZSkucmVzb2x2ZWRPcHRpb25zKHRoaXMpO3JldHVybntsb2NhbGU6dCxudW1iZXJpbmdTeXN0ZW06bixvdXRwdXRDYWxlbmRhcjpzfX10b1VUQyhlPTAsdD17fSl7cmV0dXJuIHRoaXMuc2V0Wm9uZShpZS5pbnN0YW5jZShlKSx0KX10b0xvY2FsKCl7cmV0dXJuIHRoaXMuc2V0Wm9uZShlZS5kZWZhdWx0Wm9uZSl9c2V0Wm9uZShlLHtrZWVwTG9jYWxUaW1lOnQ9ITEsa2VlcENhbGVuZGFyVGltZTpuPSExfT17fSl7aWYoZT1MZShlLGVlLmRlZmF1bHRab25lKSxlLmVxdWFscyh0aGlzLnpvbmUpKXJldHVybiB0aGlzO2lmKGUuaXNWYWxpZCl7bGV0IHM9dGhpcy50cztpZih0fHxuKXtjb25zdCByPWUub2Zmc2V0KHRoaXMudHMpLG89dGhpcy50b09iamVjdCgpO1tzXT1jbihvLHIsZSl9cmV0dXJuIHFlKHRoaXMse3RzOnMsem9uZTplfSl9ZWxzZSByZXR1cm4gUy5pbnZhbGlkKGxuKGUpKX1yZWNvbmZpZ3VyZSh7bG9jYWxlOmUsbnVtYmVyaW5nU3lzdGVtOnQsb3V0cHV0Q2FsZW5kYXI6bn09e30pe2NvbnN0IHM9dGhpcy5sb2MuY2xvbmUoe2xvY2FsZTplLG51bWJlcmluZ1N5c3RlbTp0LG91dHB1dENhbGVuZGFyOm59KTtyZXR1cm4gcWUodGhpcyx7bG9jOnN9KX1zZXRMb2NhbGUoZSl7cmV0dXJuIHRoaXMucmVjb25maWd1cmUoe2xvY2FsZTplfSl9c2V0KGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD1zbihlLExyKSxuPSEkKHQud2Vla1llYXIpfHwhJCh0LndlZWtOdW1iZXIpfHwhJCh0LndlZWtkYXkpLHM9ISQodC5vcmRpbmFsKSxyPSEkKHQueWVhciksbz0hJCh0Lm1vbnRoKXx8ISQodC5kYXkpLGE9cnx8byxsPXQud2Vla1llYXJ8fHQud2Vla051bWJlcjtpZigoYXx8cykmJmwpdGhyb3cgbmV3IER0KCJDYW4ndCBtaXggd2Vla1llYXIvd2Vla051bWJlciB1bml0cyB3aXRoIHllYXIvbW9udGgvZGF5IG9yIG9yZGluYWxzIik7aWYobyYmcyl0aHJvdyBuZXcgRHQoIkNhbid0IG1peCBvcmRpbmFsIGRhdGVzIHdpdGggbW9udGgvZGF5Iik7bGV0IHU7bj91PU9yKHsuLi5mcyh0aGlzLmMpLC4uLnR9KTokKHQub3JkaW5hbCk/KHU9ey4uLnRoaXMudG9PYmplY3QoKSwuLi50fSwkKHQuZGF5KSYmKHUuZGF5PU1hdGgubWluKFF0KHUueWVhcix1Lm1vbnRoKSx1LmRheSkpKTp1PUlyKHsuLi5ocyh0aGlzLmMpLC4uLnR9KTtjb25zdFtoLGNdPWNuKHUsdGhpcy5vLHRoaXMuem9uZSk7cmV0dXJuIHFlKHRoaXMse3RzOmgsbzpjfSl9cGx1cyhlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9VS5mcm9tRHVyYXRpb25MaWtlKGUpO3JldHVybiBxZSh0aGlzLEFyKHRoaXMsdCkpfW1pbnVzKGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD1VLmZyb21EdXJhdGlvbkxpa2UoZSkubmVnYXRlKCk7cmV0dXJuIHFlKHRoaXMsQXIodGhpcyx0KSl9c3RhcnRPZihlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9e30sbj1VLm5vcm1hbGl6ZVVuaXQoZSk7c3dpdGNoKG4pe2Nhc2UieWVhcnMiOnQubW9udGg9MTtjYXNlInF1YXJ0ZXJzIjpjYXNlIm1vbnRocyI6dC5kYXk9MTtjYXNlIndlZWtzIjpjYXNlImRheXMiOnQuaG91cj0wO2Nhc2UiaG91cnMiOnQubWludXRlPTA7Y2FzZSJtaW51dGVzIjp0LnNlY29uZD0wO2Nhc2Uic2Vjb25kcyI6dC5taWxsaXNlY29uZD0wO2JyZWFrfWlmKG49PT0id2Vla3MiJiYodC53ZWVrZGF5PTEpLG49PT0icXVhcnRlcnMiKXtjb25zdCBzPU1hdGguY2VpbCh0aGlzLm1vbnRoLzMpO3QubW9udGg9KHMtMSkqMysxfXJldHVybiB0aGlzLnNldCh0KX1lbmRPZihlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMucGx1cyh7W2VdOjF9KS5zdGFydE9mKGUpLm1pbnVzKDEpOnRoaXN9dG9Gb3JtYXQoZSx0PXt9KXtyZXR1cm4gdGhpcy5pc1ZhbGlkP25lLmNyZWF0ZSh0aGlzLmxvYy5yZWRlZmF1bHRUb0VOKHQpKS5mb3JtYXREYXRlVGltZUZyb21TdHJpbmcodGhpcyxlKTpkc310b0xvY2FsZVN0cmluZyhlPVp0LHQ9e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/bmUuY3JlYXRlKHRoaXMubG9jLmNsb25lKHQpLGUpLmZvcm1hdERhdGVUaW1lKHRoaXMpOmRzfXRvTG9jYWxlUGFydHMoZT17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9uZS5jcmVhdGUodGhpcy5sb2MuY2xvbmUoZSksZSkuZm9ybWF0RGF0ZVRpbWVQYXJ0cyh0aGlzKTpbXX10b0lTTyh7Zm9ybWF0OmU9ImV4dGVuZGVkIixzdXBwcmVzc1NlY29uZHM6dD0hMSxzdXBwcmVzc01pbGxpc2Vjb25kczpuPSExLGluY2x1ZGVPZmZzZXQ6cz0hMCxleHRlbmRlZFpvbmU6cj0hMX09e30pe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIG51bGw7Y29uc3Qgbz1lPT09ImV4dGVuZGVkIjtsZXQgYT1wcyh0aGlzLG8pO3JldHVybiBhKz0iVCIsYSs9TnIodGhpcyxvLHQsbixzLHIpLGF9dG9JU09EYXRlKHtmb3JtYXQ6ZT0iZXh0ZW5kZWQifT17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9wcyh0aGlzLGU9PT0iZXh0ZW5kZWQiKTpudWxsfXRvSVNPV2Vla0RhdGUoKXtyZXR1cm4gZm4odGhpcywia2tray0nVydXVy1jIil9dG9JU09UaW1lKHtzdXBwcmVzc01pbGxpc2Vjb25kczplPSExLHN1cHByZXNzU2Vjb25kczp0PSExLGluY2x1ZGVPZmZzZXQ6bj0hMCxpbmNsdWRlUHJlZml4OnM9ITEsZXh0ZW5kZWRab25lOnI9ITEsZm9ybWF0Om89ImV4dGVuZGVkIn09e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/KHM/IlQiOiIiKStOcih0aGlzLG89PT0iZXh0ZW5kZWQiLHQsZSxuLHIpOm51bGx9dG9SRkMyODIyKCl7cmV0dXJuIGZuKHRoaXMsIkVFRSwgZGQgTExMIHl5eXkgSEg6bW06c3MgWlpaIiwhMSl9dG9IVFRQKCl7cmV0dXJuIGZuKHRoaXMudG9VVEMoKSwiRUVFLCBkZCBMTEwgeXl5eSBISDptbTpzcyAnR01UJyIpfXRvU1FMRGF0ZSgpe3JldHVybiB0aGlzLmlzVmFsaWQ/cHModGhpcywhMCk6bnVsbH10b1NRTFRpbWUoe2luY2x1ZGVPZmZzZXQ6ZT0hMCxpbmNsdWRlWm9uZTp0PSExLGluY2x1ZGVPZmZzZXRTcGFjZTpuPSEwfT17fSl7bGV0IHM9IkhIOm1tOnNzLlNTUyI7cmV0dXJuKHR8fGUpJiYobiYmKHMrPSIgIiksdD9zKz0ieiI6ZSYmKHMrPSJaWiIpKSxmbih0aGlzLHMsITApfXRvU1FMKGU9e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/YCR7dGhpcy50b1NRTERhdGUoKX0gJHt0aGlzLnRvU1FMVGltZShlKX1gOm51bGx9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudG9JU08oKTpkc312YWx1ZU9mKCl7cmV0dXJuIHRoaXMudG9NaWxsaXMoKX10b01pbGxpcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy50czpOYU59dG9TZWNvbmRzKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnRzLzFlMzpOYU59dG9Vbml4SW50ZWdlcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/TWF0aC5mbG9vcih0aGlzLnRzLzFlMyk6TmFOfXRvSlNPTigpe3JldHVybiB0aGlzLnRvSVNPKCl9dG9CU09OKCl7cmV0dXJuIHRoaXMudG9KU0RhdGUoKX10b09iamVjdChlPXt9KXtpZighdGhpcy5pc1ZhbGlkKXJldHVybnt9O2NvbnN0IHQ9ey4uLnRoaXMuY307cmV0dXJuIGUuaW5jbHVkZUNvbmZpZyYmKHQub3V0cHV0Q2FsZW5kYXI9dGhpcy5vdXRwdXRDYWxlbmRhcix0Lm51bWJlcmluZ1N5c3RlbT10aGlzLmxvYy5udW1iZXJpbmdTeXN0ZW0sdC5sb2NhbGU9dGhpcy5sb2MubG9jYWxlKSx0fXRvSlNEYXRlKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuaXNWYWxpZD90aGlzLnRzOk5hTil9ZGlmZihlLHQ9Im1pbGxpc2Vjb25kcyIsbj17fSl7aWYoIXRoaXMuaXNWYWxpZHx8IWUuaXNWYWxpZClyZXR1cm4gVS5pbnZhbGlkKCJjcmVhdGVkIGJ5IGRpZmZpbmcgYW4gaW52YWxpZCBEYXRlVGltZSIpO2NvbnN0IHM9e2xvY2FsZTp0aGlzLmxvY2FsZSxudW1iZXJpbmdTeXN0ZW06dGhpcy5udW1iZXJpbmdTeXN0ZW0sLi4ubn0scj1MYSh0KS5tYXAoVS5ub3JtYWxpemVVbml0KSxvPWUudmFsdWVPZigpPnRoaXMudmFsdWVPZigpLGE9bz90aGlzOmUsbD1vP2U6dGhpcyx1PUZsKGEsbCxyLHMpO3JldHVybiBvP3UubmVnYXRlKCk6dX1kaWZmTm93KGU9Im1pbGxpc2Vjb25kcyIsdD17fSl7cmV0dXJuIHRoaXMuZGlmZihTLm5vdygpLGUsdCl9dW50aWwoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9KLmZyb21EYXRlVGltZXModGhpcyxlKTp0aGlzfWhhc1NhbWUoZSx0KXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiExO2NvbnN0IG49ZS52YWx1ZU9mKCkscz10aGlzLnNldFpvbmUoZS56b25lLHtrZWVwTG9jYWxUaW1lOiEwfSk7cmV0dXJuIHMuc3RhcnRPZih0KTw9biYmbjw9cy5lbmRPZih0KX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZCYmZS5pc1ZhbGlkJiZ0aGlzLnZhbHVlT2YoKT09PWUudmFsdWVPZigpJiZ0aGlzLnpvbmUuZXF1YWxzKGUuem9uZSkmJnRoaXMubG9jLmVxdWFscyhlLmxvYyl9dG9SZWxhdGl2ZShlPXt9KXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5iYXNlfHxTLmZyb21PYmplY3Qoe30se3pvbmU6dGhpcy56b25lfSksbj1lLnBhZGRpbmc/dGhpczx0Py1lLnBhZGRpbmc6ZS5wYWRkaW5nOjA7bGV0IHM9WyJ5ZWFycyIsIm1vbnRocyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIl0scj1lLnVuaXQ7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS51bml0KSYmKHM9ZS51bml0LHI9dm9pZCAwKSxZcih0LHRoaXMucGx1cyhuKSx7Li4uZSxudW1lcmljOiJhbHdheXMiLHVuaXRzOnMsdW5pdDpyfSl9dG9SZWxhdGl2ZUNhbGVuZGFyKGU9e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/WXIoZS5iYXNlfHxTLmZyb21PYmplY3Qoe30se3pvbmU6dGhpcy56b25lfSksdGhpcyx7Li4uZSxudW1lcmljOiJhdXRvIix1bml0czpbInllYXJzIiwibW9udGhzIiwiZGF5cyJdLGNhbGVuZGFyeTohMH0pOm51bGx9c3RhdGljIG1pbiguLi5lKXtpZighZS5ldmVyeShTLmlzRGF0ZVRpbWUpKXRocm93IG5ldyBjZSgibWluIHJlcXVpcmVzIGFsbCBhcmd1bWVudHMgYmUgRGF0ZVRpbWVzIik7cmV0dXJuIFVpKGUsdD0+dC52YWx1ZU9mKCksTWF0aC5taW4pfXN0YXRpYyBtYXgoLi4uZSl7aWYoIWUuZXZlcnkoUy5pc0RhdGVUaW1lKSl0aHJvdyBuZXcgY2UoIm1heCByZXF1aXJlcyBhbGwgYXJndW1lbnRzIGJlIERhdGVUaW1lcyIpO3JldHVybiBVaShlLHQ9PnQudmFsdWVPZigpLE1hdGgubWF4KX1zdGF0aWMgZnJvbUZvcm1hdEV4cGxhaW4oZSx0LG49e30pe2NvbnN0e2xvY2FsZTpzPW51bGwsbnVtYmVyaW5nU3lzdGVtOnI9bnVsbH09bixvPXEuZnJvbU9wdHMoe2xvY2FsZTpzLG51bWJlcmluZ1N5c3RlbTpyLGRlZmF1bHRUb0VOOiEwfSk7cmV0dXJuIHlyKG8sZSx0KX1zdGF0aWMgZnJvbVN0cmluZ0V4cGxhaW4oZSx0LG49e30pe3JldHVybiBTLmZyb21Gb3JtYXRFeHBsYWluKGUsdCxuKX1zdGF0aWMgZ2V0IERBVEVfU0hPUlQoKXtyZXR1cm4gWnR9c3RhdGljIGdldCBEQVRFX01FRCgpe3JldHVybiBkaX1zdGF0aWMgZ2V0IERBVEVfTUVEX1dJVEhfV0VFS0RBWSgpe3JldHVybiBoYX1zdGF0aWMgZ2V0IERBVEVfRlVMTCgpe3JldHVybiBtaX1zdGF0aWMgZ2V0IERBVEVfSFVHRSgpe3JldHVybiBwaX1zdGF0aWMgZ2V0IFRJTUVfU0lNUExFKCl7cmV0dXJuIHlpfXN0YXRpYyBnZXQgVElNRV9XSVRIX1NFQ09ORFMoKXtyZXR1cm4gZ2l9c3RhdGljIGdldCBUSU1FX1dJVEhfU0hPUlRfT0ZGU0VUKCl7cmV0dXJuIFRpfXN0YXRpYyBnZXQgVElNRV9XSVRIX0xPTkdfT0ZGU0VUKCl7cmV0dXJuIHdpfXN0YXRpYyBnZXQgVElNRV8yNF9TSU1QTEUoKXtyZXR1cm4gdml9c3RhdGljIGdldCBUSU1FXzI0X1dJVEhfU0VDT05EUygpe3JldHVybiBiaX1zdGF0aWMgZ2V0IFRJTUVfMjRfV0lUSF9TSE9SVF9PRkZTRVQoKXtyZXR1cm4gX2l9c3RhdGljIGdldCBUSU1FXzI0X1dJVEhfTE9OR19PRkZTRVQoKXtyZXR1cm4gT2l9c3RhdGljIGdldCBEQVRFVElNRV9TSE9SVCgpe3JldHVybiBJaX1zdGF0aWMgZ2V0IERBVEVUSU1FX1NIT1JUX1dJVEhfU0VDT05EUygpe3JldHVybiBTaX1zdGF0aWMgZ2V0IERBVEVUSU1FX01FRCgpe3JldHVybiBFaX1zdGF0aWMgZ2V0IERBVEVUSU1FX01FRF9XSVRIX1NFQ09ORFMoKXtyZXR1cm4gRGl9c3RhdGljIGdldCBEQVRFVElNRV9NRURfV0lUSF9XRUVLREFZKCl7cmV0dXJuIGRhfXN0YXRpYyBnZXQgREFURVRJTUVfRlVMTCgpe3JldHVybiBNaX1zdGF0aWMgZ2V0IERBVEVUSU1FX0ZVTExfV0lUSF9TRUNPTkRTKCl7cmV0dXJuIEFpfXN0YXRpYyBnZXQgREFURVRJTUVfSFVHRSgpe3JldHVybiBOaX1zdGF0aWMgZ2V0IERBVEVUSU1FX0hVR0VfV0lUSF9TRUNPTkRTKCl7cmV0dXJuIGtpfX1mdW5jdGlvbiBGdChpKXtpZihTLmlzRGF0ZVRpbWUoaSkpcmV0dXJuIGk7aWYoaSYmaS52YWx1ZU9mJiZWZShpLnZhbHVlT2YoKSkpcmV0dXJuIFMuZnJvbUpTRGF0ZShpKTtpZihpJiZ0eXBlb2YgaT09Im9iamVjdCIpcmV0dXJuIFMuZnJvbU9iamVjdChpKTt0aHJvdyBuZXcgY2UoYFVua25vd24gZGF0ZXRpbWUgYXJndW1lbnQ6ICR7aX0sIG9mIHR5cGUgJHt0eXBlb2YgaX1gKX1jbGFzcyBobntjb25zdHJ1Y3RvcihlKXt0aGlzLnZhbHVlPWV9fWNvbnN0IHlzPS8obWlsbGlzZWNvbmRzfG1zKS9pLGdzPS8oc2Vjb25kc3xzZWNvbmR8c2Vjc3xzZWN8cykvaSxUcz0vKG1pbnV0ZXN8bWludXRlfG1pbnN8bWluKS9pLHdzPS8oaG91cnN8aG91cnxoKS9pLHZzPS8oPzood2Vla1xzKnx3b3JrXHMqfGJ1c2luZXNzXHMqKT8oZGF5c3xkYXl8ZCkpL2ksYnM9Lyh3ZWVrc3x3ZWVrfHcpL2ksX3M9Lyhtb250aHN8bW9udGgpL2ksT3M9Lyh5ZWFyc3x5ZWFyfHkpL2ksSXM9bmV3IFJlZ0V4cChgKFxcZCtcXFcqKSgke3lzLnNvdXJjZX18JHtncy5zb3VyY2V9fCR7VHMuc291cmNlfXwke3dzLnNvdXJjZX18JHt2cy5zb3VyY2V9fCR7YnMuc291cmNlfXwke19zLnNvdXJjZX18JHtPcy5zb3VyY2V9KSg/OlxccyosXFxzKnxcXHMqKWAsImciKSxGcj0vKD86XFd8XikoIVx3KykvLFNzPW5ldyBSZWdFeHAoYChieXxiZWZvcmV8YWZ0ZXIpPyhcXHMqJHtGci5zb3VyY2V9XFxzKik/KD86cGx1c3xcXCspP1xccyooJHtJcy5zb3VyY2V9KSpgKSxpdT0vamFudWFyeXxmZWJydWFyeXxtYXJjaHxhcHJpbHxtYXl8anVuZXxqdWx5fGF1Z3VzdHxzZXB0ZW1iZXJ8b2N0b2Jlcnxub3ZlbWJlcnxkZWNlbWJlci8scnU9L2phbnxmZWJ8bWFyfGFwcnxtYXl8anVufGp1bHxhdWd8c2VwfG9jdHxub3Z8ZGVjLyxFcz1uZXcgUmVnRXhwKGAoPzooJHtpdS5zb3VyY2V9KXwoJHtydS5zb3VyY2V9KSlgKSxvdT1uZXcgUmVnRXhwKGAoKFswLTNdP1swLTldKVxccyske0VzLnNvdXJjZX0pYCksYXU9bmV3IFJlZ0V4cChgKCR7RXMuc291cmNlfVxccysoWzAtM10/WzAtOV0oPyFcXGQpKSlgKSxkbj0vKCgxfDJ8M3w0fDV8Nnw3fDh8OXwxMHwxMXwxMikoOlxkezJ9KT8oW2FwXW0pfChbMDEyXT9bMC05XSkoOlxkezJ9KT8pLyxsdT1uZXcgUmVnRXhwKGAoPzooPzoke291LnNvdXJjZX18JHthdS5zb3VyY2V9KSw/KD86XFxzKyhcXGR7NH0pLD8pPyg/Olxccyske2RuLnNvdXJjZX0pPyl8KCR7RXMuc291cmNlfSg/OlxccysoXFxkezEsNH0pKT8pYCksdXU9L1xkezR9LVxkezJ9LVxkezJ9VFxkezJ9OlxkezJ9OlxkezIsfSg/OlwuXGQqKT9aLyxEcz0vbm93LyxjdT1uZXcgUmVnRXhwKGAoXFxkezEsNX0oXFwvXFxkezEsNX0oXFwvXFxkezEsNX0oPzooPzosfFxccykrJHtkbi5zb3VyY2V9KT8pPyk/KWApLFJyPW5ldyBSZWdFeHAoYCgke3V1LnNvdXJjZX0pfCgke0RzLnNvdXJjZX0pfCR7ZG4uc291cmNlfXwoJHtjdS5zb3VyY2V9KXwoJHtTcy5zb3VyY2V9KXwke2x1LnNvdXJjZX1gKSxmdT1uZXcgUmVnRXhwKGAoPzooXFxkK3xvdGhlcik/XFxzKikoJHt5cy5zb3VyY2V9fCR7Z3Muc291cmNlfXwke1RzLnNvdXJjZX18JHt3cy5zb3VyY2V9fCR7dnMuc291cmNlfXwke2JzLnNvdXJjZX18JHtfcy5zb3VyY2V9fCR7T3Muc291cmNlfSlgLCJnIiksaHU9bmV3IFJlZ0V4cChgKChcXHMrZm9yXFxzKyhcXGQrXFxXKikoJHt5cy5zb3VyY2V9fCR7Z3Muc291cmNlfXwke1RzLnNvdXJjZX18JHt3cy5zb3VyY2V9fCR7dnMuc291cmNlfXwke2JzLnNvdXJjZX18JHtfcy5zb3VyY2V9fCR7T3Muc291cmNlfXwodGltZXMpKSl8KFxccyt4XFxzKihcXGQrKSkpP2ApLFByPW5ldyBSZWdFeHAoYFxccypldmVyeVxccyske2Z1LnNvdXJjZX0ke2h1LnNvdXJjZX1gKSxkdT1uZXcgUmVnRXhwKGAoKCR7UnIuc291cmNlfSkoPzpcXHMqKD86LXx0bylcXHMqKCR7UnIuc291cmNlfSkpPykoJHtQci5zb3VyY2V9KT9cXHMqOmApLE1zPW5ldyBSZWdFeHAoYF4oXFxzKikke2R1LnNvdXJjZX0oLiopYCwiaSIpO2xldCBiPTA7KytiO2NvbnN0IG11PSsrYixwdT0rK2I7KytiO2NvbnN0IHl1PSsrYixndT0rK2IsVHU9KytiLHd1PSsrYix2dT0rK2IsYnU9KytiLF91PSsrYixPdT0rK2I7KytiLCsrYiwrK2I7Y29uc3QgSXU9KytiLFN1PSsrYixFdT0rK2IsRHU9KytiLE11PSsrYixBdT0rK2IsTnU9KytiLGt1PSsrYjsrK2I7Y29uc3QgQ3U9KytiOysrYiwrK2IsKytiLCsrYiwrK2IsKytiLCsrYiwrK2IsKytiLCsrYiwrK2IsKytiLCsrYjtjb25zdCBMdT0rK2IseHU9KytiLFl1PSsrYjsrK2I7Y29uc3QgenU9KytiLEZ1PSsrYixSdT0rK2IsUHU9KytiLCR1PSsrYixVdT0rK2IsQnU9KytiLEh1PSsrYixWdT0rK2IsV3U9KytiOysrYjtjb25zdCBqdT0rK2IscXU9KytiLFp1PSsrYixLdT0rK2I7KytiO2NvbnN0IEd1PSsrYixKdT0rK2IsWHU9KytiLFF1PSsrYixlYz0rK2IsdGM9KytiLG5jPSsrYixzYz0rK2I7KytiLCsrYiwrK2I7Y29uc3QgaWM9KytiLHJjPSsrYixvYz0rK2IsYWM9KytiLGxjPSsrYix1Yz0rK2IsY2M9KytiLGZjPSsrYjsrK2I7Y29uc3QgaGM9KytiOysrYiwrK2IsKytiLCsrYiwrK2IsKytiLCsrYiwrK2IsKytiLCsrYiwrK2IsKytiLCsrYjtjb25zdCBkYz0rK2IsbWM9KytiLHBjPSsrYjsrK2I7Y29uc3QgeWM9KytiLGdjPSsrYixUYz0rK2Isd2M9KytiLHZjPSsrYixiYz0rK2IsX2M9KytiLE9jPSsrYixJYz0rK2IsU2M9KytiOysrYjtjb25zdCBFYz0rK2IsRGM9KytiLE1jPSsrYixBYz0rK2IsJHI9KytiOysrYjtjb25zdCBOYz0rK2Isa2M9KytiLENjPSsrYixMYz0rK2IseGM9KytiLFljPSsrYix6Yz0rK2IsRmM9KytiLFJjPSsrYixQYz0rK2IsJGM9KytiLFVjPSsrYjsrK2I7Y29uc3QgQmM9KytiLEhjPSsrYixWYz0rK2IsV2M9KytiLGpjPSsrYixxYz0rK2IsWmM9KytiLEtjPSsrYixHYz0rK2IsSmM9KytiOysrYjtjb25zdCBYYz0rK2IsVXI9KytiLEFzPS9eXHMqXC9cLy4qLyxtbj0vKD86XnxccykjKD8hXGQrKD86XHN8JCkpKFx3KykvZyxwbj0vXihccyopKGdyb3VwfHNlY3Rpb24pKD86XHN8JCkvaSxCcj0vXihccyopZW5kKD86R3JvdXB8U2VjdGlvbik/L2ksUWM9L14tIC4qLyxlZj0vXi0gKFxbKHh8WHwgKT9cXSkuKi8sdGY9L15ccyooXFsoeHxYfCApP1xdKS4qLyxIcj1uZXcgUmVnRXhwKGAoXFxkezR9KC1cXGR7Mn0oLVxcZHsyfSg/Olxccyske2RuLnNvdXJjZX0pPyk/KT8pYCksbmY9bmV3IFJlZ0V4cChgKCg/OiR7SHIuc291cmNlfXwoJHtTcy5zb3VyY2V9KXwoJHtEcy5zb3VyY2V9KSkoXFxzKi9cXHMqKD86JHtIci5zb3VyY2V9fCgke1NzLnNvdXJjZX0pfCgke0RzLnNvdXJjZX0pKSk/KSgke1ByLnNvdXJjZX0pP1xccyo6YCksTnM9bmV3IFJlZ0V4cChgXihcXHMqKSR7bmYuc291cmNlfSguKilgLCJpIik7bGV0IEQ9MDsrK0Q7Y29uc3Qgc2Y9KytELHJmPSsrRCxvZj0rK0QsYWY9KytELGxmPSsrRCx1Zj0rK0QsY2Y9KytELGZmPSsrRCxoZj0rK0QsZGY9KytELG1mPSsrRCxwZj0rK0Q7KytEO2NvbnN0IHlmPSsrRDsrK0QsKytELCsrRCwrK0QsKytELCsrRCwrK0QsKytELCsrRCwrK0QsKytELCsrRDtjb25zdCBnZj0rK0QsVGY9KytELHdmPSsrRCx2Zj0rK0QsYmY9KytELF9mPSsrRCxPZj0rK0QsSWY9KytELFNmPSsrRCxFZj0rK0QsRGY9KytELE1mPSsrRCxBZj0rK0Q7KytEO2NvbnN0IE5mPSsrRDsrK0QsKytELCsrRCwrK0QsKytELCsrRCwrK0QsKytELCsrRCwrK0QsKytELCsrRDtjb25zdCBrZj0rK0QsQ2Y9KytELExmPSsrRDsrK0Q7Y29uc3QgeGY9KytELFlmPSsrRCx6Zj0rK0QsRmY9KytELFJmPSsrRCxQZj0rK0QsJGY9KytELFVmPSsrRCxCZj0rK0QsSGY9KytELFZmPSsrRCxXZj0rK0Q7KytEO2NvbnN0IGpmPSsrRCxxZj0rK0QsWmY9KytELEtmPSsrRCxHZj0rK0QsSmY9KytELFhmPSsrRCxRZj0rK0QsZWg9KytELHRoPSsrRDsrK0Q7Y29uc3Qgbmg9KytELFZyPSsrRDtmdW5jdGlvbiBXcihpKXtyZXR1cm4gaS5zdGFydHNXaXRoKCJodHRwOi8vIil8fGkuc3RhcnRzV2l0aCgiaHR0cHM6Ly8iKXx8aS5zdGFydHNXaXRoKCIvIik/aTpgaHR0cDovLyR7aX1gfWNvbnN0IHluPSJNL2QveSIsc2g9ImQvTS95IixpaD0iTS95IixyaD0ieSI7Y2xhc3MgZGV7c3RhdGljIGRpZmZGcm9tU3RyaW5nKGUpe2NvbnN0IHQ9ZS5tYXRjaEFsbChJcyk7bGV0IG49dC5uZXh0KCk7Y29uc3Qgcz17fTtmb3IoO24udmFsdWU7KXtjb25zdCByPW4udmFsdWUsbz1wYXJzZUludChyWzFdKTtyWzNdP3MubWlsbGlzZWNvbmRzPShzLm1pbGxpc2Vjb25kcz8/MCkrbzpyWzRdP3Muc2Vjb25kcz0ocy5zZWNvbmRzPz8wKStvOnJbNV0/cy5taW51dGVzPShzLm1pbnV0ZXM/PzApK286cls2XT9zLmhvdXJzPShzLmhvdXJzPz8wKStvOnJbN118fChyWzhdP3MuZGF5cz0ocy5kYXlzPz8wKStvOnJbOV0/cy53ZWVrcz0ocy53ZWVrcz8/MCkrbzpyWzEwXT9zLm1vbnRocz0ocy5tb250aHM/PzApK286clsxMV0mJihzLnllYXJzPShzLnllYXJzPz8wKStvKSksbj10Lm5leHQoKX1yZXR1cm4gc31zdGF0aWMgZnJvbShlLHQsbj0hMSl7Y29uc3Qgcz1lLm1hdGNoQWxsKElzKTtsZXQgcj1zLm5leHQoKTtjb25zdCBvPW4/Im1pbnVzIjoicGx1cyI7Zm9yKDtyLnZhbHVlOyl7Y29uc3QgYT1yLnZhbHVlLGw9cGFyc2VJbnQoYVsxXSk7YVszXT90PXRbb10oe21pbGxpc2Vjb25kczpsfSk6YVs0XT90PXRbb10oe3NlY29uZHM6bH0pOmFbNV0/dD10W29dKHttaW51dGVzOmx9KTphWzZdP3Q9dFtvXSh7aG91cnM6bH0pOmFbN10/dD1uP29oKGwsdCk6YWgobCx0KTphWzhdP3Q9dFtvXSh7ZGF5czpsfSk6YVs5XT90PXRbb10oe3dlZWtzOmx9KTphWzEwXT90PXRbb10oe21vbnRoczpsfSk6YVsxMV0mJih0PXRbb10oe3llYXJzOmx9KSkscj1zLm5leHQoKX1yZXR1cm4gdH19ZnVuY3Rpb24gb2goaSxlKXtjb25zdCB0PWUud2Vla2RheS0xLG49aS10O2lmKG48PTApcmV0dXJuIGUubWludXMoe2RheXM6aX0pO2NvbnN0IHM9MixyPTcsbz01LGE9dCxsPX5+KG4vbyksdT1uJW8saD1sKnIsYz11P3MrdTowO3JldHVybiBlLm1pbnVzKHtkYXlzOmEraCtjfSl9ZnVuY3Rpb24gYWgoaSxlKXtjb25zdCBzPTYtZS53ZWVrZGF5LHI9aS1zO2lmKHI8PTApcmV0dXJuIGUucGx1cyh7ZGF5czppfSk7e2NvbnN0IHU9cyxoPX5+KHIvNSksYz1yJTUsZD1oKjcsZj1jPzIrYzowO3JldHVybiBlLnBsdXMoe2RheXM6dStkK2Z9KX19Y2xhc3MgZ257Y29uc3RydWN0b3IoZSx0LG4scyxyLG8pe3RoaXMuZnJvbURhdGVUaW1lPWUsdGhpcy50b0RhdGVUaW1lPXQsdGhpcy5vcmlnaW5hbFN0cmluZz1uLHRoaXMuZGF0ZVJhbmdlSW5UZXh0PXMsdGhpcy5ldmVudFRleHQ9cix0aGlzLnJlY3VycmVuY2U9bz09bnVsbD92b2lkIDA6by5yZWN1cnJlbmNlLHRoaXMucmVjdXJyZW5jZVJhbmdlSW5UZXh0PW89PW51bGw/dm9pZCAwOm8ucmFuZ2V9fWNvbnN0IGxoPS9cWyhbXlxdXSspXF1cKChsb2NhdGlvbnxtYXApXCkvZyxqcj0vIVxbKFteXF1cPFw+XSopXF1cKCgoaHR0cHM/OlwvXC8pP1tcd1xkLi9cJlw/PVwtIzosX10rKVwpLyx1aD0vKD86XHN8XikoXGR7MSwzfSklKD86XHN8JCkvO3ZhciBaZTsoZnVuY3Rpb24oaSl7aS5URVhUPSJ0ZXh0IixpLkxJU1RfSVRFTT0ibGlzdEl0ZW0iLGkuQ0hFQ0tCT1g9ImNoZWNrYm94IixpLklNQUdFPSJpbWFnZSJ9KShaZXx8KFplPXt9KSk7Y2xhc3MgY2h7Y29uc3RydWN0b3IoZSl7dGhpcy5yYXc9ZSxlLnN0YXJ0c1dpdGgoIi0gW10iKT8odGhpcy50eXBlPVplLkNIRUNLQk9YLHRoaXMudmFsdWU9ITEsdGhpcy5yYXc9ZS5zdWJzdHJpbmcoNCkudHJpbSgpKTplLnN0YXJ0c1dpdGgoIi0gWyBdIik/KHRoaXMudHlwZT1aZS5DSEVDS0JPWCx0aGlzLnZhbHVlPSExLHRoaXMucmF3PWUuc3Vic3RyaW5nKDUpLnRyaW0oKSk6ZS5zdGFydHNXaXRoKCItIFt4XSIpPyh0aGlzLnR5cGU9WmUuQ0hFQ0tCT1gsdGhpcy52YWx1ZT0hMCx0aGlzLnJhdz1lLnN1YnN0cmluZyg1KS50cmltKCkpOmUuc3RhcnRzV2l0aCgiLSAiKT8odGhpcy50eXBlPVplLkxJU1RfSVRFTSx0aGlzLnJhdz1lLnN1YnN0cmluZygyKSk6dGhpcy50eXBlPVplLlRFWFR9fWNsYXNzIHFye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPSJpbWFnZSIsdGhpcy5hbHRUZXh0PWUsdGhpcy5saW5rPXR9fWNsYXNzIGZoe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnRhZ3M9W10sdGhpcy5zdXBwbGVtZW50YWw9W10sdGhpcy5sb2NhdGlvbnM9W10sdGhpcy5tYXRjaGVkTGlzdEl0ZW1zPXQ7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2xldCByPWVbc107aWYoIXIubWF0Y2goQXMpKXtpZihzPT09MCYmKHI9ci5yZXBsYWNlKGpyLChvLGEsbCk9Pih0aGlzLnN1cHBsZW1lbnRhbC5wdXNoKG5ldyBxcihhLFdyKGwpKSksIiIpKSkscj1yLnJlcGxhY2UobGgsKG8sYSk9Pih0aGlzLmxvY2F0aW9ucy5wdXNoKGEpLCIiKSkscj1yLnJlcGxhY2UobW4sKG8sYSk9Pih0aGlzLnRhZ3MuaW5jbHVkZXMoYSl8fHRoaXMudGFncy5wdXNoKGEpLCIiKSkscj1yLnJlcGxhY2UoRnIsKG8sYSk9PnRoaXMuaWQ/YToodGhpcy5pZD1hLCIiKSksIXRoaXMucGVyY2VudCl7Y29uc3Qgbz1yLm1hdGNoKHVoKTtvJiYodGhpcy5wZXJjZW50PXBhcnNlSW50KG9bMF0pKX1lW3NdPXJ9fXRoaXMuZXZlbnREZXNjcmlwdGlvbj1lWzBdLHRoaXMuc3VwcGxlbWVudGFsPXRoaXMuc3VwcGxlbWVudGFsLmNvbmNhdChlLnNsaWNlKDEpLmZpbHRlcihzPT4hcy5tYXRjaChBcykmJiEhcy50cmltKCkpLm1hcChzPT57cz1zLnJlcGxhY2UobW4sKG8sYSk9Pih0aGlzLnRhZ3MuaW5jbHVkZXMoYSl8fHRoaXMudGFncy5wdXNoKGEpLCIiKSk7Y29uc3Qgcj1zLm1hdGNoKGpyKTtyZXR1cm4gcj9uZXcgcXIoclsxXSxXcihyWzJdKSk6bmV3IGNoKHMudHJpbSgpKX0pKSx0aGlzLmNvbXBsZXRlZD1ufX12YXIgSDsoZnVuY3Rpb24oaSl7aS5Db21tZW50PSJjb21tZW50IixpLkNoZWNrYm94SXRlbUluZGljYXRvcj0iY2hlY2tib3hJdGVtSW5kaWNhdG9yIixpLmxpc3RJdGVtSW5kaWNhdG9yPSJsaXN0SXRlbUluZGljYXRvciIsaS5MaXN0SXRlbUNvbnRlbnRzPSJsaXN0SXRlbUNvbnRlbnRzIixpLlRhZz0idGFnIixpLnRhZ0RlZmluaXRpb249InRhZ0RlZmluaXRpb24iLGkuVGl0bGU9InRpdGxlIixpLlZpZXc9InZpZXciLGkuVmlld2VyPSJ2aWV3ZXIiLGkuRGVzY3JpcHRpb249ImRlc2NyaXB0aW9uIixpLlNlY3Rpb249InNlY3Rpb24iLGkuRGF0ZVJhbmdlPSJkYXRlUmFuZ2UiLGkuRGF0ZVJhbmdlQ29sb249ImRhdGVSYW5nZUNvbG9uIixpLkV2ZW50PSJldmVudCIsaS5FZGl0PSJlZGl0IixpLkVkaXRvcj0iZWRpdG9yIixpLlJlY3VycmVuY2U9InJlY3VycmVuY2UiLGkuRnJvbnRtYXR0ZXJEZWxpbWl0ZXI9ImZyb250TWF0dGVyRGVsaW1pdGVyIixpLkhlYWRlcktleT0iaGVhZGVyS2V5IixpLkhlYWRlcktleUNvbG9uPSJoZWFkZXJLZXlDb2xvbiIsaS5IZWFkZXJWYWx1ZT0iaGVhZGVyVmFsdWUifSkoSHx8KEg9e30pKTtjb25zdCBoaD1pPT4oe2Zyb21EYXRlVGltZUlzbzppLmZyb21EYXRlVGltZS50b0lTTygpLHRvRGF0ZVRpbWVJc286aS50b0RhdGVUaW1lLnRvSVNPKCl9KSxiZT1pPT4oe2Zyb21EYXRlVGltZTpTLmZyb21JU08oaS5mcm9tRGF0ZVRpbWVJc28pLHRvRGF0ZVRpbWU6Uy5mcm9tSVNPKGkudG9EYXRlVGltZUlzbyl9KTtjbGFzcyBkaHtjb25zdHJ1Y3RvcihlLHQsbixzLHIsbyl7dGhpcy5ldmVudFN0cmluZz1lLHRoaXMuZXZlbnRUZXh0PXQuZXZlbnRUZXh0LHRoaXMuZGF0ZVJhbmdlSXNvPWhoKHQpLHRoaXMucmVjdXJyZW5jZT10LnJlY3VycmVuY2UsdGhpcy5yZWN1cnJlbmNlUmFuZ2VJblRleHQ9dC5yZWN1cnJlbmNlUmFuZ2VJblRleHQsdGhpcy5yYW5nZUluVGV4dD1uLHRoaXMuZXZlbnREZXNjcmlwdGlvbj1yLHRoaXMuZGF0ZVRleHQ9byx0aGlzLmRhdGVSYW5nZUluVGV4dD1zfX1mdW5jdGlvbiBtaCgpe2NvbnN0IGk9Uy5ub3coKTtyZXR1cm57ZXZlbnRzOm5ldyBobihbXSkscmFuZ2VzOltdLGZvbGRhYmxlczpbXSxpZHM6e30saGVhZGVyOntkYXRlRm9ybWF0OnlufSxtZXRhZGF0YTp7ZWFybGllc3RUaW1lOmkubWludXMoe3llYXJzOjV9KS50b0lTTygpLGxhdGVzdFRpbWU6aS5wbHVzKHt5ZWFyczo1fSkudG9JU08oKSxtYXhEdXJhdGlvbkRheXM6aS5kaWZmKGkubWludXMoe3llYXJzOjF9KSkuYXMoImRheXMiKSxzdGFydExpbmVJbmRleDowLGVuZExpbmVJbmRleDowLHN0YXJ0U3RyaW5nSW5kZXg6MCxlbmRTdHJpbmdJbmRleDowLHByZWZlcnJlZEludGVycG9sYXRpb25Gb3JtYXQ6dm9pZCAwfX19ZnVuY3Rpb24gemUoaSxlLHQsbixzLHIpe2NvbnN0IG89aVtlXSxhPWlbdF18fCI6MDAiO2xldCBsPWlbbl07aWYoIWwpe2NvbnN0IGM9cGFyc2VJbnQobyk7aXNOYU4oYykmJihsPSJhbSIpLGM8OXx8Yz09PTEyP2w9InBtIjpsPSJhbSJ9aWYobylyZXR1cm57ZGF0ZVRpbWVJc286Uy5mcm9tRm9ybWF0KGAke299JHthfSR7bH1gLCJoOm1tYSIpLnRvSVNPKCksZ3JhbnVsYXJpdHk6YT09PSI6MDAiPyJob3VyIjoibWludXRlIn07Y29uc3QgdT1pW3NdLGg9aVtyXXx8IjowMCI7cmV0dXJue2RhdGVUaW1lSXNvOlMuZnJvbUZvcm1hdChgJHt1fSR7aH1gLGAke3UubGVuZ3RoPT09MiYmdVswXT09PSIwIj8iSEgiOiJIIn06bW1gKS50b0lTTygpLGdyYW51bGFyaXR5Omg9PT0iOjAwIj8iaG91ciI6Im1pbnV0ZSJ9fWZ1bmN0aW9uIHBoKGkpe3JldHVybiB6ZShpLFN1LEV1LER1LE11LEF1KX1mdW5jdGlvbiB5aChpKXtyZXR1cm4gemUoaSxyYyxvYyxhYyxsYyx1Yyl9ZnVuY3Rpb24gZ2goaSl7cmV0dXJuIHplKGksVXUsQnUsSHUsVnUsV3UpfWZ1bmN0aW9uIFRoKGkpe3JldHVybiB6ZShpLGJjLF9jLE9jLEljLFNjKX1mdW5jdGlvbiB3aChpLGUpe2xldCB0PWlbenVdLG49aVtSdV0scz1pW1B1XXx8YCR7Uy5ub3coKS55ZWFyfWAscj1pWyR1XSYmZ2goaSksbz10JiZuJiZUbihgJHtzfSAke3R9ICR7cGFyc2VJbnQobil9YCxlKTtpZih0PWlbRnVdLG89b3x8dCYmbiYmd24oYCR7c30gJHt0fSAke3BhcnNlSW50KG4pfWAsZSksbj1pW0x1XSx0PWlbeHVdLG89b3x8dCYmbiYmVG4oYCR7c30gJHt0fSAke3BhcnNlSW50KG4pfWAsZSksdD1pW1l1XSxvPW98fHQmJm4mJnduKGAke3N9ICR7dH0gJHtwYXJzZUludChuKX1gLGUpLG8pe2lmKHIpe2NvbnN0IGE9Uy5mcm9tSVNPKG8uZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSksbD1TLmZyb21JU08oci5kYXRlVGltZUlzbyx7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KTtvLmRhdGVUaW1lSXNvPWEuc2V0KHtob3VyOmwuaG91cixtaW51dGU6bC5taW51dGV9KS50b0lTTygpLG8uZ3JhbnVsYXJpdHk9ci5ncmFudWxhcml0eX1yZXR1cm4gb31pZihzPWlbWnVdfHxgJHtTLm5vdygpLnllYXJ9YCx0PWlbanVdLHQpcmV0dXJue2RhdGVUaW1lSXNvOlMuZnJvbUZvcm1hdChgJHtzfSAke3R9YCwieSBNTU1NIix7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KS50b0lTTygpLGdyYW51bGFyaXR5OiJtb250aCJ9O2lmKHQ9aVtxdV0sdClyZXR1cm57ZGF0ZVRpbWVJc286Uy5mcm9tRm9ybWF0KGAke3N9ICR7dH1gLCJ5IE1NTSIse3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSkudG9JU08oKSxncmFudWxhcml0eToibW9udGgifX1mdW5jdGlvbiB2aChpLGUpe2xldCB0PWlbeWNdLG49aVtUY10scz1pW3djXXx8YCR7Uy5ub3coKS55ZWFyfWAscj1pW3ZjXSYmVGgoaSksbz10JiZuJiZUbihgJHtzfSAke3R9ICR7cGFyc2VJbnQobil9YCxlKTtpZih0PWlbZ2NdLG89b3x8dCYmbiYmd24oYCR7c30gJHt0fSAke3BhcnNlSW50KG4pfWAsZSksbj1pW2RjXSx0PWlbbWNdLG89b3x8dCYmbiYmVG4oYCR7c30gJHt0fSAke3BhcnNlSW50KG4pfWAsZSksdD1pW3BjXSxvPW98fHQmJm4mJnduKGAke3N9ICR7dH0gJHtwYXJzZUludChuKX1gLGUpLG8pe2lmKHImJnIpe2NvbnN0IGE9Uy5mcm9tSVNPKG8uZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSksbD1TLmZyb21JU08oci5kYXRlVGltZUlzbyx7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KTtvLmRhdGVUaW1lSXNvPWEuc2V0KHtob3VyOmwuaG91cixtaW51dGU6bC5taW51dGV9KS50b0lTTygpLG8uZ3JhbnVsYXJpdHk9ci5ncmFudWxhcml0eX1yZXR1cm4gb31pZihzPWlbTWNdfHxgJHtTLm5vdygpLnllYXJ9YCx0PWlbRWNdLHQpcmV0dXJue2RhdGVUaW1lSXNvOlMuZnJvbUZvcm1hdChgJHtzfSAke3R9YCwieSBNTU1NIix7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KS50b0lTTygpLGdyYW51bGFyaXR5OiJtb250aCJ9O2lmKHQ9aVtEY10sdClyZXR1cm57ZGF0ZVRpbWVJc286Uy5mcm9tRm9ybWF0KGAke3N9ICR7dH1gLCJ5IE1NTSIse3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSkudG9JU08oKSxncmFudWxhcml0eToibW9udGgifX1mdW5jdGlvbiBUbihpLGUpe3JldHVybntkYXRlVGltZUlzbzpTLmZyb21Gb3JtYXQoaSwieSBNTU1NIGQiLHtzZXRab25lOiEwLHpvbmU6ZS50aW1lem9uZX0pLnRvSVNPKCksZ3JhbnVsYXJpdHk6ImRheSJ9fWZ1bmN0aW9uIHduKGksZSl7cmV0dXJue2RhdGVUaW1lSXNvOlMuZnJvbUZvcm1hdChpLCJ5IE1NTSBkIix7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KS50b0lTTygpLGdyYW51bGFyaXR5OiJkYXkifX1mdW5jdGlvbiBiaChpLGUsdCl7Y29uc3Qgbj1uZXcgaG4oW10pO3JldHVybiBuLnRhZ3M9W10sbi5zdHlsZT0iZ3JvdXAiLG4ucmFuZ2VJblRleHQ9dCxpPWkucmVwbGFjZShwbiwocyxyLG8pPT4obi5zdGFydEV4cGFuZGVkPSFyLmxlbmd0aCxuLnN0eWxlPW8sIiIpKS5yZXBsYWNlKG1uLChzLHIpPT4obi50YWdzLmluY2x1ZGVzKHIpfHxuLnRhZ3MucHVzaChyKSwiIikpLG4udGl0bGU9aS50cmltKCksbn1mdW5jdGlvbiBrcyhpKXt2YXIgZTtyZXR1cm4oZT1pLnRhaWwpPT1udWxsP3ZvaWQgMDplLnZhbHVlfWZ1bmN0aW9uIF9oKGkpe2NvbnN0IGU9a3MoaSk7aWYoZSlyZXR1cm4gYmUoZS5kYXRlUmFuZ2VJc28pLnRvRGF0ZVRpbWV9ZnVuY3Rpb24gWnIoaSxlLHQsbil7Y29uc3Qgcz1KU09OLnN0cmluZ2lmeSh7czppLGZ1bGxGb3JtYXQ6ZX0pLHI9bj09bnVsbD92b2lkIDA6bi56b25lKHQudGltZXpvbmUpLnNsYXNoRGF0ZS5nZXQocyk7aWYocilyZXR1cm4gcjtjb25zdCBvPVtbZSwiZGF5Il0sW2loLCJtb250aCJdLFtyaCwieWVhciJdXTtmb3IoY29uc3QgYSBvZiBvKXtsZXQgbD1TLmZyb21Gb3JtYXQoaSxhWzBdLHtzZXRab25lOiEwLHpvbmU6dC50aW1lem9uZX0pO2lmKGwuaXNWYWxpZCl7Y29uc3QgdT17ZGF0ZVRpbWVJc286bC50b0lTTygpLGdyYW51bGFyaXR5OmFbMV19O3JldHVybiBuPT1udWxsfHxuLnpvbmUodC50aW1lem9uZSkuc2xhc2hEYXRlLnNldChzLHUpLHV9fX1mdW5jdGlvbiBLZShpLGUsdCl7Y29uc3Qgbj1KU09OLnN0cmluZ2lmeShpKSxzPXQ9PW51bGw/dm9pZCAwOnQuem9uZShlLnRpbWV6b25lKS5yb3VuZERhdGVVcC5nZXQobik7aWYocylyZXR1cm4gcztjb25zdCByPWE9Pih0PT1udWxsfHx0LnpvbmUoZS50aW1lem9uZSkucm91bmREYXRlVXAuc2V0KG4sYSksYSksbz1TLmZyb21JU08oaS5kYXRlVGltZUlzbyx7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KTtyZXR1cm4hby5pc1ZhbGlkfHxbImluc3RhbnQiLCJob3VyIiwibWludXRlIiwic2Vjb25kIl0uaW5jbHVkZXMoaS5ncmFudWxhcml0eSk/cihpLmRhdGVUaW1lSXNvKTpyKG8ucGx1cyh7W2kuZ3JhbnVsYXJpdHldOjF9KS50b0lTTygpKX1jb25zdCBLcj1bInllYXJzIiwibW9udGhzIiwid2Vla3MiLCJ3ZWVrZGF5cyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIl0sR3I9KGksZSx0KT0+e2NvbnN0IG49aVtDZl07aWYoIW4pcmV0dXJuO2NvbnN0IHM9aVswXS5pbmRleE9mKG4pLHI9e3R5cGU6SC5SZWN1cnJlbmNlLGZyb206ZVt0XStzLHRvOmVbdF0rcytuLmxlbmd0aCxjb250ZW50Om59O2xldCBvO2NvbnN0IGE9aVtMZl07YT9hLnRyaW0oKS50b0xvd2VyQ2FzZSgpPT09Im90aGVyIj9vPTI6bz1wYXJzZUludChhLnRyaW0oKSk6bz0xO2NvbnN0IGw9W0JmLFVmLCRmLFJmLFBmLEZmLHpmLFlmLHhmXS5maW5kSW5kZXgoYz0+ISFpW2NdKSxoPXtbS3JbbF1dOm99O2lmKGlbSGZdKWlmKGlbVmZdKXtjb25zdCBjPXBhcnNlSW50KGlbV2ZdLnRyaW0oKSksZD1bLi4uS3IsInRpbWVzIl0sZj1bZWgsUWYsWGYsR2YsSmYsS2YsWmYscWYsamYsdGhdLmZpbmRJbmRleChtPT5pW21dKSxwPWRbZl07cmV0dXJue3JlY3VycmVuY2U6e2V2ZXJ5OmgsZm9yOntbcF06Y319LHJhbmdlOnJ9fWVsc2V7Y29uc3QgYz1wYXJzZUludChpW25oXS50cmltKCkpO3JldHVybntyZWN1cnJlbmNlOntldmVyeTpoLGZvcjp7dGltZXM6Y319LHJhbmdlOnJ9fXJldHVybntyZWN1cnJlbmNlOntldmVyeTpofSxyYW5nZTpyfX0sSnI9KGksZSx0KT0+e2NvbnN0IG49aVtBY107aWYoIW4pcmV0dXJuO2NvbnN0IHM9aVswXS5pbmRleE9mKG4pLHI9e3R5cGU6SC5SZWN1cnJlbmNlLGZyb206ZVt0XStzLHRvOmVbdF0rcytuLmxlbmd0aCxjb250ZW50Om59O2xldCBvO2lmKGlbJHJdKXtjb25zdCBjPWlbJHJdLnRyaW0oKTtjLnRvTG93ZXJDYXNlKCk9PT0ib3RoZXIiP289MjpvPXBhcnNlSW50KGMpfWVsc2Ugbz0xO2NvbnN0IGE9WyJ5ZWFycyIsIm1vbnRocyIsIndlZWtzIiwid2Vla2RheXMiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsIm1pbGxpc2Vjb25kcyJdLGw9W1JjLEZjLHpjLHhjLFljLExjLENjLGtjLE5jXS5maW5kSW5kZXgoYz0+ISFpW2NdKSxoPXtbYVtsXV06b307aWYoaVtQY10paWYoaVskY10pe2NvbnN0IGM9cGFyc2VJbnQoaVtVY10udHJpbSgpKSxkPVsieWVhcnMiLCJtb250aHMiLCJ3ZWVrcyIsIndlZWtkYXlzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJ0aW1lcyJdLGY9W0djLEtjLFpjLGpjLHFjLFdjLFZjLEhjLEJjLEpjXS5maW5kSW5kZXgobT0+aVttXSkscD1kW2ZdO3JldHVybntyZWN1cnJlbmNlOntldmVyeTpoLGZvcjp7W3BdOmN9fSxyYW5nZTpyfX1lbHNle2NvbnN0IGM9cGFyc2VJbnQoaVtYY10udHJpbSgpKTtyZXR1cm57cmVjdXJyZW5jZTp7ZXZlcnk6aCxmb3I6e3RpbWVzOmN9fSxyYW5nZTpyfX1yZXR1cm57cmVjdXJyZW5jZTp7ZXZlcnk6aH0scmFuZ2U6cn19O2Z1bmN0aW9uIE9oKGksZSx0LG4scyl7Y29uc3Qgcj1pLm1hdGNoKE1zKTtpZighcilyZXR1cm47Y29uc3Qgbz1yW211XSxhPXJbcHVdLGw9cltLdV0sdT1yW051XSxoPXJba3VdLGM9WyJiZWZvcmUiLCJieSJdLmluY2x1ZGVzKGh8fCIiKT8iYmVmb3JlIjoiYWZ0ZXIiLGQ9cltjY107cltmY107Y29uc3QgZj13aChyLG4pLHA9dmgocixuKSxtPXJbT3VdLHk9cltzY10sVD1yW2d1XSx2PXJbSnVdLF89clt5dV0sTz1yW0d1XTtsZXQgSSx3LEE9Imluc3RhbnQiLEU9ITA7Y29uc3QgQz1pLmluZGV4T2YobyksUD17dHlwZTpILkRhdGVSYW5nZSxmcm9tOnRbZV0rQyx0bzp0W2VdK0Mrby5sZW5ndGh9O24ucmFuZ2VzLnB1c2goUCk7Y29uc3QgWT1pLmluZGV4T2YoIjoiLEMrby5sZW5ndGgpLHg9Uj0+KHt0eXBlOlIsZnJvbTp0W2VdK1ksdG86dFtlXStZKzF9KSxaPXM9PW51bGw/dm9pZCAwOnMuem9uZShuLnRpbWV6b25lKS5yYW5nZXMuZ2V0KG8pO2lmKFope2NvbnN0IFI9SnIocix0LGUpO3JldHVybiBSJiZuLnJhbmdlcy5wdXNoKFIucmFuZ2UpLG4ucmFuZ2VzLnB1c2goeChILkRhdGVSYW5nZUNvbG9uKSksbmV3IGduKFMuZnJvbUlTTyhaLmZyb21EYXRlVGltZUlzbyx7c2V0Wm9uZTohMH0pLFMuZnJvbUlTTyhaLnRvRGF0ZVRpbWVJc28se3NldFpvbmU6ITB9KSxvLFAscltVcl0sUil9aWYodSl7RT0hMTtjb25zdCBSPXJbQ3VdO2xldCBrPVImJihjPT09ImFmdGVyIj9uLmlkc1tSXT9iZShuLmlkc1tSXS5kYXRlUmFuZ2VJc28pLnRvRGF0ZVRpbWU6dm9pZCAwOm4uaWRzW1JdP2JlKG4uaWRzW1JdLmRhdGVSYW5nZUlzbykuZnJvbURhdGVUaW1lOnZvaWQgMCk7aWYoIWspe2NvbnN0IGc9a3Mobik7Zz9rPWM9PT0iYWZ0ZXIiP2JlKGcuZGF0ZVJhbmdlSXNvKS50b0RhdGVUaW1lOmJlKGcuZGF0ZVJhbmdlSXNvKS5mcm9tRGF0ZVRpbWU6az1uLm5vd30hZCYmIWw/Yz09PSJiZWZvcmUiPyh3PWssST1kZS5mcm9tKHUsaywhMCkpOihJPWssdz1kZS5mcm9tKHUsaykpOmM9PT0iYmVmb3JlIj9kJiYodz1kZS5mcm9tKHUsaywhMCksST1kZS5mcm9tKGQsdywhMCkpOkk9ZGUuZnJvbSh1LGspLEE9Imluc3RhbnQifWVsc2UgaWYoZilJPVMuZnJvbUlTTyhmLmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6bi50aW1lem9uZX0pLEE9Zi5ncmFudWxhcml0eTtlbHNlIGlmKG0pe2NvbnN0IFI9cltJdV07bGV0IGs9bTtSJiYoaz1rLnN1YnN0cmluZygwLGsuaW5kZXhPZihSKSkudHJpbSgpLnJlcGxhY2UoLywvZywiIikpO2NvbnN0IGc9WnIoayxuLmhlYWRlci5kYXRlRm9ybWF0LG4scyk7aWYoZyl7aWYoUil7Y29uc3QgTT1waChyKSx6PVMuZnJvbUlTTyhNLmRhdGVUaW1lSXNvKTtJPVMuZnJvbUlTTyhnLmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6bi50aW1lem9uZX0pLnNldCh7aG91cjp6LmhvdXIsbWludXRlOnoubWludXRlfSksQT1NLmdyYW51bGFyaXR5fWVsc2UgST1TLmZyb21JU08oZy5kYXRlVGltZUlzbyx7c2V0Wm9uZTohMCx6b25lOm4udGltZXpvbmV9KSxBPWcuZ3JhbnVsYXJpdHk7bi5wcmVmZXJyZWRJbnRlcnBvbGF0aW9uRm9ybWF0PW4uaGVhZGVyLmRhdGVGb3JtYXR9ZWxzZSBjb25zb2xlLmVycm9yKCJXYXMgc3VwcG9zZWQgdG8gaGF2ZSBzbGFzaCBkYXRlIGJ1dCBjb3VsZG4ndCBwYXJzZSBpdC4iKX1lbHNlIGlmKFQpe0U9ITE7Y29uc3QgUj16ZShyLFR1LHd1LHZ1LGJ1LF91KSxrPV9oKG4pfHxTLm5vdygpLGc9Uy5mcm9tSVNPKFIuZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTpuLnRpbWV6b25lfSk7bGV0IE09ay5zZXQoe2hvdXI6Zy5ob3VyLG1pbnV0ZTpnLm1pbnV0ZX0pO008az8oTT1NLnBsdXMoe2RheXM6MX0pLEk9TSxBPVIuZ3JhbnVsYXJpdHkpOihJPU0sQT1SLmdyYW51bGFyaXR5KX1lbHNlIF8/KEk9bi5ub3cuc2V0Wm9uZShuLnRpbWV6b25lKSxBPSJpbnN0YW50Iik6KEk9Uy5mcm9tSVNPKGEse3pvbmU6bi50aW1lem9uZSxzZXRab25lOiEwfSksQT0iaW5zdGFudCIpO2lmKCghSXx8IUkuaXNWYWxpZCkmJihJPW4ubm93LnNldFpvbmUobi50aW1lem9uZSksQT0iaW5zdGFudCIpLCF3KWlmKGQpe0U9ITE7Y29uc3QgUj1yW2hjXTtsZXQgaz1SJiZuLmlkc1tSXSYmYmUobi5pZHNbUl0uZGF0ZVJhbmdlSXNvKS50b0RhdGVUaW1lO2t8fChrPUkpLHc9ZGUuZnJvbShsLGspfWVsc2UgaWYocCl3PVMuZnJvbUlTTyhLZShwLG4scykse3NldFpvbmU6ITAsem9uZTpuLnRpbWV6b25lfSk7ZWxzZSBpZih5KXtjb25zdCBSPXJbaWNdO2xldCBrPXk7UiYmKGs9ay5zdWJzdHJpbmcoMCxrLmluZGV4T2YoUikpLnRyaW0oKS5yZXBsYWNlKC8sL2csIiIpKTtjb25zdCBnPVpyKGssbi5oZWFkZXIuZGF0ZUZvcm1hdCxuLHMpO2lmKGcpe2lmKFIpe2NvbnN0IE09Uy5mcm9tSVNPKGcuZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTpuLnRpbWV6b25lfSksej15aChyKSxMPVMuZnJvbUlTTyh6LmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6bi50aW1lem9uZX0pO3c9TS5zZXQoe2hvdXI6TC5ob3VyLG1pbnV0ZTpMLm1pbnV0ZX0pLHc9Uy5mcm9tSVNPKEtlKHtkYXRlVGltZUlzbzp3LnRvSVNPKCksZ3JhbnVsYXJpdHk6ei5ncmFudWxhcml0eX0sbixzKSx7c2V0Wm9uZTohMCx6b25lOm4udGltZXpvbmV9KX1lbHNlIHc9Uy5mcm9tSVNPKEtlKGcsbixzKSx7c2V0Wm9uZTohMCx6b25lOm4udGltZXpvbmV9KTtuLnByZWZlcnJlZEludGVycG9sYXRpb25Gb3JtYXQ9bi5oZWFkZXIuZGF0ZUZvcm1hdH1lbHNlIGNvbnNvbGUuZXJyb3IoIldhcyBzdXBwb3NlZCB0byBoYXZlIHNsYXNoIGRhdGUgYnV0IGNvdWxkbid0IHBhcnNlIGl0LiIpfWVsc2UgaWYodil7Y29uc3QgUj16ZShyLFh1LFF1LGVjLHRjLG5jKSxrPVMuZnJvbUlTTyhSLmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6bi50aW1lem9uZX0pO2xldCBnPUkuc2V0KHtob3VyOmsuaG91cixtaW51dGU6ay5taW51dGV9KTtnPEkmJihnPWcucGx1cyh7ZGF5czoxfSkpLHc9ZyxBPVIuZ3JhbnVsYXJpdHl9ZWxzZSBPPyh3PVMubm93KCksQT0iaW5zdGFudCIpOnc9Uy5mcm9tSVNPKEtlKHtkYXRlVGltZUlzbzpsLGdyYW51bGFyaXR5OiJpbnN0YW50In0sbixzKSx7c2V0Wm9uZTohMCx6b25lOm4udGltZXpvbmV9KTsoIXd8fCF3LmlzVmFsaWQpJiYodz1TLmZyb21JU08oS2Uoe2RhdGVUaW1lSXNvOkkudG9JU08oKSxncmFudWxhcml0eTpBfSxuLHMpLHtzZXRab25lOiEwLHpvbmU6bi50aW1lem9uZX0pKTtjb25zdCBWPUpyKHIsdCxlKTtWJiZuLnJhbmdlcy5wdXNoKFYucmFuZ2UpLG4ucmFuZ2VzLnB1c2goeChILkRhdGVSYW5nZUNvbG9uKSk7Y29uc3QgVz1uZXcgZ24oSSx3LG8sUCxyW1VyXSxWKTtyZXR1cm4gRSYmKHM9PW51bGx8fHMuem9uZShuLnRpbWV6b25lKS5yYW5nZXMuc2V0KG8se2Zyb21EYXRlVGltZUlzbzpJLnRvSVNPKCksdG9EYXRlVGltZUlzbzp3LnRvSVNPKCl9KSksV31mdW5jdGlvbiBJaChpLGUsdCxuLHMpe2NvbnN0IHI9aS5tYXRjaChOcyk7aWYoIXIpcmV0dXJuO2NvbnN0IG89cltzZl0sYT1yW3JmXSxsPSEhcltvZl0sdT0hIXJbYWZdLGg9ISFyW2xmXSxjPXJbVGZdLGQ9clt3Zl0sZj0hIXJbdmZdLHA9ISFyW2JmXSxtPSEhcltfZl0seT1yW3BmXTtyW0FmXTtjb25zdCBUPXJbbWZdLHY9WyJiZWZvcmUiLCJieSJdLmluY2x1ZGVzKHl8fCIiKT8iYmVmb3JlIjoiYWZ0ZXIiLF89cltNZl0sTz1yW2dmXSxJPXJba2ZdLHc9aS5pbmRleE9mKG8pLEE9e3R5cGU6SC5EYXRlUmFuZ2UsZnJvbTp0W2VdK3csdG86dFtlXSt3K28ubGVuZ3RofTtuLnJhbmdlcy5wdXNoKEEpO2NvbnN0IEU9aS5pbmRleE9mKCI6Iix3K28ubGVuZ3RoKSxDPWs9Pih7dHlwZTprLGZyb206dFtlXStFLHRvOnRbZV0rRSsxfSksUD1zPT1udWxsP3ZvaWQgMDpzLnpvbmUobi50aW1lem9uZSkucmFuZ2VzLmdldChvKTtpZihQKXtjb25zdCBrPUdyKHIsdCxlKTtyZXR1cm4gayYmbi5yYW5nZXMucHVzaChrLnJhbmdlKSxuLnJhbmdlcy5wdXNoKEMoSC5EYXRlUmFuZ2VDb2xvbikpLG5ldyBnbihTLmZyb21JU08oUC5mcm9tRGF0ZVRpbWVJc28se3NldFpvbmU6ITB9KSxTLmZyb21JU08oUC50b0RhdGVUaW1lSXNvLHtzZXRab25lOiEwfSksbyxBLHJbVnJdLGspfWxldCBZLHgsWj0iaW5zdGFudCIsVj0hMDtpZihhKWlmKGgpe2NvbnN0IGs9emUocix1ZixjZixmZixoZixkZiksZz1TLmZyb21JU08oay5kYXRlVGltZUlzbyk7WT1TLmZyb21JU08oYS5zdWJzdHJpbmcoMCwxMCkse3pvbmU6bi50aW1lem9uZX0pLnNldCh7aG91cjpnLmhvdXIsbWludXRlOmcubWludXRlfSksWj1rLmdyYW51bGFyaXR5fWVsc2UgWT1TLmZyb21JU08oYSx7em9uZTpuLnRpbWV6b25lfSksWj11PyJkYXkiOmw/Im1vbnRoIjoieWVhciI7ZWxzZSBpZihUKXtWPSExO2NvbnN0IGs9clt5Zl07bGV0IGc9ayYmKHY9PT0iYWZ0ZXIiP24uaWRzW2tdP2JlKG4uaWRzW2tdLmRhdGVSYW5nZUlzbykudG9EYXRlVGltZTp2b2lkIDA6bi5pZHNba10/YmUobi5pZHNba10uZGF0ZVJhbmdlSXNvKS5mcm9tRGF0ZVRpbWU6dm9pZCAwKTtpZighZyl7Y29uc3QgTT1rcyhuKTtNP2c9dj09PSJhZnRlciI/YmUoTS5kYXRlUmFuZ2VJc28pLnRvRGF0ZVRpbWU6YmUoTS5kYXRlUmFuZ2VJc28pLmZyb21EYXRlVGltZTpnPW4ubm93fSFfJiYhYz92PT09ImJlZm9yZSI/KHg9ZyxZPWRlLmZyb20oVCxnLCEwKSk6KFk9Zyx4PWRlLmZyb20oVCxnKSk6dj09PSJiZWZvcmUiP18mJih4PWRlLmZyb20oVCxnLCEwKSxZPWRlLmZyb20oXyx4LCEwKSk6WT1kZS5mcm9tKFQsZyksWj0iaW5zdGFudCJ9ZWxzZSBPPyhZPW4ubm93LnNldFpvbmUobi50aW1lem9uZSksWj0iaW5zdGFudCIpOihZPVMuZnJvbUlTTyhhLHt6b25lOm4udGltZXpvbmV9KSxaPSJpbnN0YW50Iik7aWYoKCFZfHwhKFkhPW51bGwmJlkuaXNWYWxpZCkpJiYoWT1uLm5vdy5zZXRab25lKG4udGltZXpvbmUpLFo9Imluc3RhbnQiKSwheCl7aWYoXyl7Vj0hMTtjb25zdCBrPXJbTmZdO2xldCBnPWsmJm4uaWRzW2tdJiZiZShuLmlkc1trXS5kYXRlUmFuZ2VJc28pLnRvRGF0ZVRpbWU7Z3x8KGc9WSkseD1kZS5mcm9tKF8sZyl9ZWxzZSBpZihJKXg9bi5ub3cuc2V0Wm9uZShuLnRpbWV6b25lKSxaPSJpbnN0YW50IjtlbHNlIGlmKGQpaWYobSl7Y29uc3Qgaz16ZShyLE9mLElmLFNmLEVmLERmKSxnPVMuZnJvbUlTTyhrLmRhdGVUaW1lSXNvKTt4PVMuZnJvbUlTTyhhLnN1YnN0cmluZygwLDEwKSx7em9uZTpuLnRpbWV6b25lfSkuc2V0KHtob3VyOmcuaG91cixtaW51dGU6Zy5taW51dGV9KX1lbHNlIHg9Uy5mcm9tSVNPKEtlKHtkYXRlVGltZUlzbzpkLGdyYW51bGFyaXR5OnA/ImRheSI6Zj8ibW9udGgiOiJ5ZWFyIn0sbixzKSx7c2V0Wm9uZTohMCx6b25lOm4udGltZXpvbmV9KX0oIXh8fCF4LmlzVmFsaWQpJiYoeD1TLmZyb21JU08oS2Uoe2RhdGVUaW1lSXNvOlkudG9JU08oKSxncmFudWxhcml0eTpafSxuLHMpLHtzZXRab25lOiEwLHpvbmU6bi50aW1lem9uZX0pKTtjb25zdCBXPUdyKHIsdCxlKTtXJiZuLnJhbmdlcy5wdXNoKFcucmFuZ2UpLG4ucmFuZ2VzLnB1c2goQyhILkRhdGVSYW5nZUNvbG9uKSk7Y29uc3QgUj1uZXcgZ24oWSx4LG8sQSxyW1ZyXSxXKTtyZXR1cm4gViYmKHM9PW51bGx8fHMuem9uZShuLnRpbWV6b25lKS5yYW5nZXMuc2V0KG8se2Zyb21EYXRlVGltZUlzbzpZLnRvSVNPKCksdG9EYXRlVGltZUlzbzp4LnRvSVNPKCl9KSksUn1jb25zdCBSdD10eXBlb2YgcGVyZm9ybWFuY2U9PSJvYmplY3QiJiZwZXJmb3JtYW5jZSYmdHlwZW9mIHBlcmZvcm1hbmNlLm5vdz09ImZ1bmN0aW9uIj9wZXJmb3JtYW5jZTpEYXRlLHZuPXR5cGVvZiBBYm9ydENvbnRyb2xsZXI9PSJmdW5jdGlvbiI/QWJvcnRDb250cm9sbGVyOmNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zaWduYWw9bmV3IFhyfWFib3J0KGU9bmV3IEVycm9yKCJUaGlzIG9wZXJhdGlvbiB3YXMgYWJvcnRlZCIpKXt0aGlzLnNpZ25hbC5yZWFzb249dGhpcy5zaWduYWwucmVhc29ufHxlLHRoaXMuc2lnbmFsLmFib3J0ZWQ9ITAsdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh7dHlwZToiYWJvcnQiLHRhcmdldDp0aGlzLnNpZ25hbH0pfX0sU2g9dHlwZW9mIEFib3J0U2lnbmFsPT0iZnVuY3Rpb24iLEVoPXR5cGVvZiB2bi5BYm9ydFNpZ25hbD09ImZ1bmN0aW9uIixYcj1TaD9BYm9ydFNpZ25hbDpFaD92bi5BYm9ydENvbnRyb2xsZXI6Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnJlYXNvbj12b2lkIDAsdGhpcy5hYm9ydGVkPSExLHRoaXMuX2xpc3RlbmVycz1bXX1kaXNwYXRjaEV2ZW50KGUpe2UudHlwZT09PSJhYm9ydCImJih0aGlzLmFib3J0ZWQ9ITAsdGhpcy5vbmFib3J0KGUpLHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKHQ9PnQoZSksdGhpcykpfW9uYWJvcnQoKXt9YWRkRXZlbnRMaXN0ZW5lcihlLHQpe2U9PT0iYWJvcnQiJiZ0aGlzLl9saXN0ZW5lcnMucHVzaCh0KX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl7ZT09PSJhYm9ydCImJih0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzLmZpbHRlcihuPT5uIT09dCkpfX0sQ3M9bmV3IFNldCxMcz0oaSxlKT0+e2NvbnN0IHQ9YExSVV9DQUNIRV9PUFRJT05fJHtpfWA7Ym4odCkmJllzKHQsYCR7aX0gb3B0aW9uYCxgb3B0aW9ucy4ke2V9YCxHZSl9LHhzPShpLGUpPT57Y29uc3QgdD1gTFJVX0NBQ0hFX01FVEhPRF8ke2l9YDtpZihibih0KSl7Y29uc3R7cHJvdG90eXBlOm59PUdlLHtnZXQ6c309T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpO1lzKHQsYCR7aX0gbWV0aG9kYCxgY2FjaGUuJHtlfSgpYCxzKX19LERoPShpLGUpPT57Y29uc3QgdD1gTFJVX0NBQ0hFX1BST1BFUlRZXyR7aX1gO2lmKGJuKHQpKXtjb25zdHtwcm90b3R5cGU6bn09R2Use2dldDpzfT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSk7WXModCxgJHtpfSBwcm9wZXJ0eWAsYGNhY2hlLiR7ZX1gLHMpfX0sUXI9KC4uLmkpPT57dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZwcm9jZXNzJiZ0eXBlb2YgcHJvY2Vzcy5lbWl0V2FybmluZz09ImZ1bmN0aW9uIj9wcm9jZXNzLmVtaXRXYXJuaW5nKC4uLmkpOmNvbnNvbGUuZXJyb3IoLi4uaSl9LGJuPWk9PiFDcy5oYXMoaSksWXM9KGksZSx0LG4pPT57Q3MuYWRkKGkpO2NvbnN0IHM9YFRoZSAke2V9IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJHt0fSBpbnN0ZWFkLmA7UXIocywiRGVwcmVjYXRpb25XYXJuaW5nIixpLG4pfSxGZT1pPT5pJiZpPT09TWF0aC5mbG9vcihpKSYmaT4wJiZpc0Zpbml0ZShpKSxlbz1pPT5GZShpKT9pPD1NYXRoLnBvdygyLDgpP1VpbnQ4QXJyYXk6aTw9TWF0aC5wb3coMiwxNik/VWludDE2QXJyYXk6aTw9TWF0aC5wb3coMiwzMik/VWludDMyQXJyYXk6aTw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/X246bnVsbDpudWxsO2NsYXNzIF9uIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5maWxsKDApfX1jbGFzcyBNaHtjb25zdHJ1Y3RvcihlKXtpZihlPT09MClyZXR1cm5bXTtjb25zdCB0PWVvKGUpO3RoaXMuaGVhcD1uZXcgdChlKSx0aGlzLmxlbmd0aD0wfXB1c2goZSl7dGhpcy5oZWFwW3RoaXMubGVuZ3RoKytdPWV9cG9wKCl7cmV0dXJuIHRoaXMuaGVhcFstLXRoaXMubGVuZ3RoXX19Y2xhc3MgR2V7Y29uc3RydWN0b3IoZT17fSl7Y29uc3R7bWF4OnQ9MCx0dGw6bix0dGxSZXNvbHV0aW9uOnM9MSx0dGxBdXRvcHVyZ2U6cix1cGRhdGVBZ2VPbkdldDpvLHVwZGF0ZUFnZU9uSGFzOmEsYWxsb3dTdGFsZTpsLGRpc3Bvc2U6dSxkaXNwb3NlQWZ0ZXI6aCxub0Rpc3Bvc2VPblNldDpjLG5vVXBkYXRlVFRMOmQsbWF4U2l6ZTpmPTAsbWF4RW50cnlTaXplOnA9MCxzaXplQ2FsY3VsYXRpb246bSxmZXRjaE1ldGhvZDp5LGZldGNoQ29udGV4dDpULG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjp2LG5vRGVsZXRlT25TdGFsZUdldDpfLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOk8sYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpJLGlnbm9yZUZldGNoQWJvcnQ6d309ZSx7bGVuZ3RoOkEsbWF4QWdlOkUsc3RhbGU6Q309ZSBpbnN0YW5jZW9mIEdlP3t9OmU7aWYodCE9PTAmJiFGZSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXggb3B0aW9uIG11c3QgYmUgYSBub25uZWdhdGl2ZSBpbnRlZ2VyIik7Y29uc3QgUD10P2VvKHQpOkFycmF5O2lmKCFQKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBtYXggdmFsdWU6ICIrdCk7aWYodGhpcy5tYXg9dCx0aGlzLm1heFNpemU9Zix0aGlzLm1heEVudHJ5U2l6ZT1wfHx0aGlzLm1heFNpemUsdGhpcy5zaXplQ2FsY3VsYXRpb249bXx8QSx0aGlzLnNpemVDYWxjdWxhdGlvbil7aWYoIXRoaXMubWF4U2l6ZSYmIXRoaXMubWF4RW50cnlTaXplKXRocm93IG5ldyBUeXBlRXJyb3IoImNhbm5vdCBzZXQgc2l6ZUNhbGN1bGF0aW9uIHdpdGhvdXQgc2V0dGluZyBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZSIpO2lmKHR5cGVvZiB0aGlzLnNpemVDYWxjdWxhdGlvbiE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplQ2FsY3VsYXRpb24gc2V0IHRvIG5vbi1mdW5jdGlvbiIpfWlmKHRoaXMuZmV0Y2hNZXRob2Q9eXx8bnVsbCx0aGlzLmZldGNoTWV0aG9kJiZ0eXBlb2YgdGhpcy5mZXRjaE1ldGhvZCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJmZXRjaE1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgc3BlY2lmaWVkIik7aWYodGhpcy5mZXRjaENvbnRleHQ9VCwhdGhpcy5mZXRjaE1ldGhvZCYmVCE9PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKCJjYW5ub3Qgc2V0IGZldGNoQ29udGV4dCB3aXRob3V0IGZldGNoTWV0aG9kIik7aWYodGhpcy5rZXlNYXA9bmV3IE1hcCx0aGlzLmtleUxpc3Q9bmV3IEFycmF5KHQpLmZpbGwobnVsbCksdGhpcy52YWxMaXN0PW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMubmV4dD1uZXcgUCh0KSx0aGlzLnByZXY9bmV3IFAodCksdGhpcy5oZWFkPTAsdGhpcy50YWlsPTAsdGhpcy5mcmVlPW5ldyBNaCh0KSx0aGlzLmluaXRpYWxGaWxsPTEsdGhpcy5zaXplPTAsdHlwZW9mIHU9PSJmdW5jdGlvbiImJih0aGlzLmRpc3Bvc2U9dSksdHlwZW9mIGg9PSJmdW5jdGlvbiI/KHRoaXMuZGlzcG9zZUFmdGVyPWgsdGhpcy5kaXNwb3NlZD1bXSk6KHRoaXMuZGlzcG9zZUFmdGVyPW51bGwsdGhpcy5kaXNwb3NlZD1udWxsKSx0aGlzLm5vRGlzcG9zZU9uU2V0PSEhYyx0aGlzLm5vVXBkYXRlVFRMPSEhZCx0aGlzLm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbj0hIXYsdGhpcy5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbj0hIU8sdGhpcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0PSEhSSx0aGlzLmlnbm9yZUZldGNoQWJvcnQ9ISF3LHRoaXMubWF4RW50cnlTaXplIT09MCl7aWYodGhpcy5tYXhTaXplIT09MCYmIUZlKHRoaXMubWF4U2l6ZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigibWF4U2l6ZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQiKTtpZighRmUodGhpcy5tYXhFbnRyeVNpemUpKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heEVudHJ5U2l6ZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQiKTt0aGlzLmluaXRpYWxpemVTaXplVHJhY2tpbmcoKX1pZih0aGlzLmFsbG93U3RhbGU9ISFsfHwhIUMsdGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQ9ISFfLHRoaXMudXBkYXRlQWdlT25HZXQ9ISFvLHRoaXMudXBkYXRlQWdlT25IYXM9ISFhLHRoaXMudHRsUmVzb2x1dGlvbj1GZShzKXx8cz09PTA/czoxLHRoaXMudHRsQXV0b3B1cmdlPSEhcix0aGlzLnR0bD1ufHxFfHwwLHRoaXMudHRsKXtpZighRmUodGhpcy50dGwpKXRocm93IG5ldyBUeXBlRXJyb3IoInR0bCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQiKTt0aGlzLmluaXRpYWxpemVUVExUcmFja2luZygpfWlmKHRoaXMubWF4PT09MCYmdGhpcy50dGw9PT0wJiZ0aGlzLm1heFNpemU9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIkF0IGxlYXN0IG9uZSBvZiBtYXgsIG1heFNpemUsIG9yIHR0bCBpcyByZXF1aXJlZCIpO2lmKCF0aGlzLnR0bEF1dG9wdXJnZSYmIXRoaXMubWF4JiYhdGhpcy5tYXhTaXplKXtjb25zdCBZPSJMUlVfQ0FDSEVfVU5CT1VOREVEIjtibihZKSYmKENzLmFkZChZKSxRcigiVFRMIGNhY2hpbmcgd2l0aG91dCB0dGxBdXRvcHVyZ2UsIG1heCwgb3IgbWF4U2l6ZSBjYW4gcmVzdWx0IGluIHVuYm91bmRlZCBtZW1vcnkgY29uc3VtcHRpb24uIiwiVW5ib3VuZGVkQ2FjaGVXYXJuaW5nIixZLEdlKSl9QyYmTHMoInN0YWxlIiwiYWxsb3dTdGFsZSIpLEUmJkxzKCJtYXhBZ2UiLCJ0dGwiKSxBJiZMcygibGVuZ3RoIiwic2l6ZUNhbGN1bGF0aW9uIil9Z2V0UmVtYWluaW5nVFRMKGUpe3JldHVybiB0aGlzLmhhcyhlLHt1cGRhdGVBZ2VPbkhhczohMX0pPzEvMDowfWluaXRpYWxpemVUVExUcmFja2luZygpe3RoaXMudHRscz1uZXcgX24odGhpcy5tYXgpLHRoaXMuc3RhcnRzPW5ldyBfbih0aGlzLm1heCksdGhpcy5zZXRJdGVtVFRMPShuLHMscj1SdC5ub3coKSk9PntpZih0aGlzLnN0YXJ0c1tuXT1zIT09MD9yOjAsdGhpcy50dGxzW25dPXMscyE9PTAmJnRoaXMudHRsQXV0b3B1cmdlKXtjb25zdCBvPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmlzU3RhbGUobikmJnRoaXMuZGVsZXRlKHRoaXMua2V5TGlzdFtuXSl9LHMrMSk7by51bnJlZiYmby51bnJlZigpfX0sdGhpcy51cGRhdGVJdGVtQWdlPW49Pnt0aGlzLnN0YXJ0c1tuXT10aGlzLnR0bHNbbl0hPT0wP1J0Lm5vdygpOjB9LHRoaXMuc3RhdHVzVFRMPShuLHMpPT57biYmKG4udHRsPXRoaXMudHRsc1tzXSxuLnN0YXJ0PXRoaXMuc3RhcnRzW3NdLG4ubm93PWV8fHQoKSxuLnJlbWFpbmluZ1RUTD1uLm5vdytuLnR0bC1uLnN0YXJ0KX07bGV0IGU9MDtjb25zdCB0PSgpPT57Y29uc3Qgbj1SdC5ub3coKTtpZih0aGlzLnR0bFJlc29sdXRpb24+MCl7ZT1uO2NvbnN0IHM9c2V0VGltZW91dCgoKT0+ZT0wLHRoaXMudHRsUmVzb2x1dGlvbik7cy51bnJlZiYmcy51bnJlZigpfXJldHVybiBufTt0aGlzLmdldFJlbWFpbmluZ1RUTD1uPT57Y29uc3Qgcz10aGlzLmtleU1hcC5nZXQobik7cmV0dXJuIHM9PT12b2lkIDA/MDp0aGlzLnR0bHNbc109PT0wfHx0aGlzLnN0YXJ0c1tzXT09PTA/MS8wOnRoaXMuc3RhcnRzW3NdK3RoaXMudHRsc1tzXS0oZXx8dCgpKX0sdGhpcy5pc1N0YWxlPW49PnRoaXMudHRsc1tuXSE9PTAmJnRoaXMuc3RhcnRzW25dIT09MCYmKGV8fHQoKSktdGhpcy5zdGFydHNbbl0+dGhpcy50dGxzW25dfXVwZGF0ZUl0ZW1BZ2UoZSl7fXN0YXR1c1RUTChlLHQpe31zZXRJdGVtVFRMKGUsdCxuKXt9aXNTdGFsZShlKXtyZXR1cm4hMX1pbml0aWFsaXplU2l6ZVRyYWNraW5nKCl7dGhpcy5jYWxjdWxhdGVkU2l6ZT0wLHRoaXMuc2l6ZXM9bmV3IF9uKHRoaXMubWF4KSx0aGlzLnJlbW92ZUl0ZW1TaXplPWU9Pnt0aGlzLmNhbGN1bGF0ZWRTaXplLT10aGlzLnNpemVzW2VdLHRoaXMuc2l6ZXNbZV09MH0sdGhpcy5yZXF1aXJlU2l6ZT0oZSx0LG4scyk9PntpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKHQpKXJldHVybiAwO2lmKCFGZShuKSlpZihzKXtpZih0eXBlb2YgcyE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplQ2FsY3VsYXRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYobj1zKHQsZSksIUZlKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoInNpemVDYWxjdWxhdGlvbiByZXR1cm4gaW52YWxpZCAoZXhwZWN0IHBvc2l0aXZlIGludGVnZXIpIil9ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHNpemUgdmFsdWUgKG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcikuIFdoZW4gbWF4U2l6ZSBvciBtYXhFbnRyeVNpemUgaXMgdXNlZCwgc2l6ZUNhbGN1bGF0aW9uIG9yIHNpemUgbXVzdCBiZSBzZXQuIik7cmV0dXJuIG59LHRoaXMuYWRkSXRlbVNpemU9KGUsdCxuKT0+e2lmKHRoaXMuc2l6ZXNbZV09dCx0aGlzLm1heFNpemUpe2NvbnN0IHM9dGhpcy5tYXhTaXplLXRoaXMuc2l6ZXNbZV07Zm9yKDt0aGlzLmNhbGN1bGF0ZWRTaXplPnM7KXRoaXMuZXZpY3QoITApfXRoaXMuY2FsY3VsYXRlZFNpemUrPXRoaXMuc2l6ZXNbZV0sbiYmKG4uZW50cnlTaXplPXQsbi50b3RhbENhbGN1bGF0ZWRTaXplPXRoaXMuY2FsY3VsYXRlZFNpemUpfX1yZW1vdmVJdGVtU2l6ZShlKXt9YWRkSXRlbVNpemUoZSx0KXt9cmVxdWlyZVNpemUoZSx0LG4scyl7aWYobnx8cyl0aHJvdyBuZXcgVHlwZUVycm9yKCJjYW5ub3Qgc2V0IHNpemUgd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplIG9uIGNhY2hlIil9KmluZGV4ZXMoe2FsbG93U3RhbGU6ZT10aGlzLmFsbG93U3RhbGV9PXt9KXtpZih0aGlzLnNpemUpZm9yKGxldCB0PXRoaXMudGFpbDshKCF0aGlzLmlzVmFsaWRJbmRleCh0KXx8KChlfHwhdGhpcy5pc1N0YWxlKHQpKSYmKHlpZWxkIHQpLHQ9PT10aGlzLmhlYWQpKTspdD10aGlzLnByZXZbdF19KnJpbmRleGVzKHthbGxvd1N0YWxlOmU9dGhpcy5hbGxvd1N0YWxlfT17fSl7aWYodGhpcy5zaXplKWZvcihsZXQgdD10aGlzLmhlYWQ7ISghdGhpcy5pc1ZhbGlkSW5kZXgodCl8fCgoZXx8IXRoaXMuaXNTdGFsZSh0KSkmJih5aWVsZCB0KSx0PT09dGhpcy50YWlsKSk7KXQ9dGhpcy5uZXh0W3RdfWlzVmFsaWRJbmRleChlKXtyZXR1cm4gZSE9PXZvaWQgMCYmdGhpcy5rZXlNYXAuZ2V0KHRoaXMua2V5TGlzdFtlXSk9PT1lfSplbnRyaWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pbmRleGVzKCkpdGhpcy52YWxMaXN0W2VdIT09dm9pZCAwJiZ0aGlzLmtleUxpc3RbZV0hPT12b2lkIDAmJiF0aGlzLmlzQmFja2dyb3VuZEZldGNoKHRoaXMudmFsTGlzdFtlXSkmJih5aWVsZFt0aGlzLmtleUxpc3RbZV0sdGhpcy52YWxMaXN0W2VdXSl9KnJlbnRyaWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5yaW5kZXhlcygpKXRoaXMudmFsTGlzdFtlXSE9PXZvaWQgMCYmdGhpcy5rZXlMaXN0W2VdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbZV0pJiYoeWllbGRbdGhpcy5rZXlMaXN0W2VdLHRoaXMudmFsTGlzdFtlXV0pfSprZXlzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pbmRleGVzKCkpdGhpcy5rZXlMaXN0W2VdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbZV0pJiYoeWllbGQgdGhpcy5rZXlMaXN0W2VdKX0qcmtleXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnJpbmRleGVzKCkpdGhpcy5rZXlMaXN0W2VdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbZV0pJiYoeWllbGQgdGhpcy5rZXlMaXN0W2VdKX0qdmFsdWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pbmRleGVzKCkpdGhpcy52YWxMaXN0W2VdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbZV0pJiYoeWllbGQgdGhpcy52YWxMaXN0W2VdKX0qcnZhbHVlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMucmluZGV4ZXMoKSl0aGlzLnZhbExpc3RbZV0hPT12b2lkIDAmJiF0aGlzLmlzQmFja2dyb3VuZEZldGNoKHRoaXMudmFsTGlzdFtlXSkmJih5aWVsZCB0aGlzLnZhbExpc3RbZV0pfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfWZpbmQoZSx0KXtmb3IoY29uc3QgbiBvZiB0aGlzLmluZGV4ZXMoKSl7Y29uc3Qgcz10aGlzLnZhbExpc3Rbbl0scj10aGlzLmlzQmFja2dyb3VuZEZldGNoKHMpP3MuX19zdGFsZVdoaWxlRmV0Y2hpbmc6cztpZihyIT09dm9pZCAwJiZlKHIsdGhpcy5rZXlMaXN0W25dLHRoaXMpKXJldHVybiB0aGlzLmdldCh0aGlzLmtleUxpc3Rbbl0sdCl9fWZvckVhY2goZSx0PXRoaXMpe2Zvcihjb25zdCBuIG9mIHRoaXMuaW5kZXhlcygpKXtjb25zdCBzPXRoaXMudmFsTGlzdFtuXSxyPXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2gocyk/cy5fX3N0YWxlV2hpbGVGZXRjaGluZzpzO3IhPT12b2lkIDAmJmUuY2FsbCh0LHIsdGhpcy5rZXlMaXN0W25dLHRoaXMpfX1yZm9yRWFjaChlLHQ9dGhpcyl7Zm9yKGNvbnN0IG4gb2YgdGhpcy5yaW5kZXhlcygpKXtjb25zdCBzPXRoaXMudmFsTGlzdFtuXSxyPXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2gocyk/cy5fX3N0YWxlV2hpbGVGZXRjaGluZzpzO3IhPT12b2lkIDAmJmUuY2FsbCh0LHIsdGhpcy5rZXlMaXN0W25dLHRoaXMpfX1nZXQgcHJ1bmUoKXtyZXR1cm4geHMoInBydW5lIiwicHVyZ2VTdGFsZSIpLHRoaXMucHVyZ2VTdGFsZX1wdXJnZVN0YWxlKCl7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5yaW5kZXhlcyh7YWxsb3dTdGFsZTohMH0pKXRoaXMuaXNTdGFsZSh0KSYmKHRoaXMuZGVsZXRlKHRoaXMua2V5TGlzdFt0XSksZT0hMCk7cmV0dXJuIGV9ZHVtcCgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5pbmRleGVzKHthbGxvd1N0YWxlOiEwfSkpe2NvbnN0IG49dGhpcy5rZXlMaXN0W3RdLHM9dGhpcy52YWxMaXN0W3RdLHI9dGhpcy5pc0JhY2tncm91bmRGZXRjaChzKT9zLl9fc3RhbGVXaGlsZUZldGNoaW5nOnM7aWYocj09PXZvaWQgMCljb250aW51ZTtjb25zdCBvPXt2YWx1ZTpyfTtpZih0aGlzLnR0bHMpe28udHRsPXRoaXMudHRsc1t0XTtjb25zdCBhPVJ0Lm5vdygpLXRoaXMuc3RhcnRzW3RdO28uc3RhcnQ9TWF0aC5mbG9vcihEYXRlLm5vdygpLWEpfXRoaXMuc2l6ZXMmJihvLnNpemU9dGhpcy5zaXplc1t0XSksZS51bnNoaWZ0KFtuLG9dKX1yZXR1cm4gZX1sb2FkKGUpe3RoaXMuY2xlYXIoKTtmb3IoY29uc3RbdCxuXW9mIGUpe2lmKG4uc3RhcnQpe2NvbnN0IHM9RGF0ZS5ub3coKS1uLnN0YXJ0O24uc3RhcnQ9UnQubm93KCktc310aGlzLnNldCh0LG4udmFsdWUsbil9fWRpc3Bvc2UoZSx0LG4pe31zZXQoZSx0LHt0dGw6bj10aGlzLnR0bCxzdGFydDpzLG5vRGlzcG9zZU9uU2V0OnI9dGhpcy5ub0Rpc3Bvc2VPblNldCxzaXplOm89MCxzaXplQ2FsY3VsYXRpb246YT10aGlzLnNpemVDYWxjdWxhdGlvbixub1VwZGF0ZVRUTDpsPXRoaXMubm9VcGRhdGVUVEwsc3RhdHVzOnV9PXt9KXtpZihvPXRoaXMucmVxdWlyZVNpemUoZSx0LG8sYSksdGhpcy5tYXhFbnRyeVNpemUmJm8+dGhpcy5tYXhFbnRyeVNpemUpcmV0dXJuIHUmJih1LnNldD0ibWlzcyIsdS5tYXhFbnRyeVNpemVFeGNlZWRlZD0hMCksdGhpcy5kZWxldGUoZSksdGhpcztsZXQgaD10aGlzLnNpemU9PT0wP3ZvaWQgMDp0aGlzLmtleU1hcC5nZXQoZSk7aWYoaD09PXZvaWQgMCloPXRoaXMubmV3SW5kZXgoKSx0aGlzLmtleUxpc3RbaF09ZSx0aGlzLnZhbExpc3RbaF09dCx0aGlzLmtleU1hcC5zZXQoZSxoKSx0aGlzLm5leHRbdGhpcy50YWlsXT1oLHRoaXMucHJldltoXT10aGlzLnRhaWwsdGhpcy50YWlsPWgsdGhpcy5zaXplKyssdGhpcy5hZGRJdGVtU2l6ZShoLG8sdSksdSYmKHUuc2V0PSJhZGQiKSxsPSExO2Vsc2V7dGhpcy5tb3ZlVG9UYWlsKGgpO2NvbnN0IGM9dGhpcy52YWxMaXN0W2hdO2lmKHQhPT1jKXtpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKGMpP2MuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJyZXBsYWNlZCIpKTpyfHwodGhpcy5kaXNwb3NlKGMsZSwic2V0IiksdGhpcy5kaXNwb3NlQWZ0ZXImJnRoaXMuZGlzcG9zZWQucHVzaChbYyxlLCJzZXQiXSkpLHRoaXMucmVtb3ZlSXRlbVNpemUoaCksdGhpcy52YWxMaXN0W2hdPXQsdGhpcy5hZGRJdGVtU2l6ZShoLG8sdSksdSl7dS5zZXQ9InJlcGxhY2UiO2NvbnN0IGQ9YyYmdGhpcy5pc0JhY2tncm91bmRGZXRjaChjKT9jLl9fc3RhbGVXaGlsZUZldGNoaW5nOmM7ZCE9PXZvaWQgMCYmKHUub2xkVmFsdWU9ZCl9fWVsc2UgdSYmKHUuc2V0PSJ1cGRhdGUiKX1pZihuIT09MCYmdGhpcy50dGw9PT0wJiYhdGhpcy50dGxzJiZ0aGlzLmluaXRpYWxpemVUVExUcmFja2luZygpLGx8fHRoaXMuc2V0SXRlbVRUTChoLG4scyksdGhpcy5zdGF0dXNUVEwodSxoKSx0aGlzLmRpc3Bvc2VBZnRlcilmb3IoO3RoaXMuZGlzcG9zZWQubGVuZ3RoOyl0aGlzLmRpc3Bvc2VBZnRlciguLi50aGlzLmRpc3Bvc2VkLnNoaWZ0KCkpO3JldHVybiB0aGlzfW5ld0luZGV4KCl7cmV0dXJuIHRoaXMuc2l6ZT09PTA/dGhpcy50YWlsOnRoaXMuc2l6ZT09PXRoaXMubWF4JiZ0aGlzLm1heCE9PTA/dGhpcy5ldmljdCghMSk6dGhpcy5mcmVlLmxlbmd0aCE9PTA/dGhpcy5mcmVlLnBvcCgpOnRoaXMuaW5pdGlhbEZpbGwrK31wb3AoKXtpZih0aGlzLnNpemUpe2NvbnN0IGU9dGhpcy52YWxMaXN0W3RoaXMuaGVhZF07cmV0dXJuIHRoaXMuZXZpY3QoITApLGV9fWV2aWN0KGUpe2NvbnN0IHQ9dGhpcy5oZWFkLG49dGhpcy5rZXlMaXN0W3RdLHM9dGhpcy52YWxMaXN0W3RdO3JldHVybiB0aGlzLmlzQmFja2dyb3VuZEZldGNoKHMpP3MuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJldmljdGVkIikpOih0aGlzLmRpc3Bvc2UocyxuLCJldmljdCIpLHRoaXMuZGlzcG9zZUFmdGVyJiZ0aGlzLmRpc3Bvc2VkLnB1c2goW3MsbiwiZXZpY3QiXSkpLHRoaXMucmVtb3ZlSXRlbVNpemUodCksZSYmKHRoaXMua2V5TGlzdFt0XT1udWxsLHRoaXMudmFsTGlzdFt0XT1udWxsLHRoaXMuZnJlZS5wdXNoKHQpKSx0aGlzLmhlYWQ9dGhpcy5uZXh0W3RdLHRoaXMua2V5TWFwLmRlbGV0ZShuKSx0aGlzLnNpemUtLSx0fWhhcyhlLHt1cGRhdGVBZ2VPbkhhczp0PXRoaXMudXBkYXRlQWdlT25IYXMsc3RhdHVzOm59PXt9KXtjb25zdCBzPXRoaXMua2V5TWFwLmdldChlKTtpZihzIT09dm9pZCAwKWlmKHRoaXMuaXNTdGFsZShzKSluJiYobi5oYXM9InN0YWxlIix0aGlzLnN0YXR1c1RUTChuLHMpKTtlbHNlIHJldHVybiB0JiZ0aGlzLnVwZGF0ZUl0ZW1BZ2UocyksbiYmKG4uaGFzPSJoaXQiKSx0aGlzLnN0YXR1c1RUTChuLHMpLCEwO2Vsc2UgbiYmKG4uaGFzPSJtaXNzIik7cmV0dXJuITF9cGVlayhlLHthbGxvd1N0YWxlOnQ9dGhpcy5hbGxvd1N0YWxlfT17fSl7Y29uc3Qgbj10aGlzLmtleU1hcC5nZXQoZSk7aWYobiE9PXZvaWQgMCYmKHR8fCF0aGlzLmlzU3RhbGUobikpKXtjb25zdCBzPXRoaXMudmFsTGlzdFtuXTtyZXR1cm4gdGhpcy5pc0JhY2tncm91bmRGZXRjaChzKT9zLl9fc3RhbGVXaGlsZUZldGNoaW5nOnN9fWJhY2tncm91bmRGZXRjaChlLHQsbixzKXtjb25zdCByPXQ9PT12b2lkIDA/dm9pZCAwOnRoaXMudmFsTGlzdFt0XTtpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKHIpKXJldHVybiByO2NvbnN0IG89bmV3IHZuO24uc2lnbmFsJiZuLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKCk9Pm8uYWJvcnQobi5zaWduYWwucmVhc29uKSk7Y29uc3QgYT17c2lnbmFsOm8uc2lnbmFsLG9wdGlvbnM6bixjb250ZXh0OnN9LGw9KGYscD0hMSk9Pntjb25zdHthYm9ydGVkOm19PW8uc2lnbmFsLHk9bi5pZ25vcmVGZXRjaEFib3J0JiZmIT09dm9pZCAwO3JldHVybiBuLnN0YXR1cyYmKG0mJiFwPyhuLnN0YXR1cy5mZXRjaEFib3J0ZWQ9ITAsbi5zdGF0dXMuZmV0Y2hFcnJvcj1vLnNpZ25hbC5yZWFzb24seSYmKG4uc3RhdHVzLmZldGNoQWJvcnRJZ25vcmVkPSEwKSk6bi5zdGF0dXMuZmV0Y2hSZXNvbHZlZD0hMCksbSYmIXkmJiFwP2goby5zaWduYWwucmVhc29uKToodGhpcy52YWxMaXN0W3RdPT09ZCYmKGY9PT12b2lkIDA/ZC5fX3N0YWxlV2hpbGVGZXRjaGluZz90aGlzLnZhbExpc3RbdF09ZC5fX3N0YWxlV2hpbGVGZXRjaGluZzp0aGlzLmRlbGV0ZShlKToobi5zdGF0dXMmJihuLnN0YXR1cy5mZXRjaFVwZGF0ZWQ9ITApLHRoaXMuc2V0KGUsZixhLm9wdGlvbnMpKSksZil9LHU9Zj0+KG4uc3RhdHVzJiYobi5zdGF0dXMuZmV0Y2hSZWplY3RlZD0hMCxuLnN0YXR1cy5mZXRjaEVycm9yPWYpLGgoZikpLGg9Zj0+e2NvbnN0e2Fib3J0ZWQ6cH09by5zaWduYWwsbT1wJiZuLmFsbG93U3RhbGVPbkZldGNoQWJvcnQseT1tfHxuLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uLFQ9eXx8bi5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb247aWYodGhpcy52YWxMaXN0W3RdPT09ZCYmKCFUfHxkLl9fc3RhbGVXaGlsZUZldGNoaW5nPT09dm9pZCAwP3RoaXMuZGVsZXRlKGUpOm18fCh0aGlzLnZhbExpc3RbdF09ZC5fX3N0YWxlV2hpbGVGZXRjaGluZykpLHkpcmV0dXJuIG4uc3RhdHVzJiZkLl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwJiYobi5zdGF0dXMucmV0dXJuZWRTdGFsZT0hMCksZC5fX3N0YWxlV2hpbGVGZXRjaGluZztpZihkLl9fcmV0dXJuZWQ9PT1kKXRocm93IGZ9LGM9KGYscCk9Pnt0aGlzLmZldGNoTWV0aG9kKGUscixhKS50aGVuKG09PmYobSkscCksby5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLCgpPT57KCFuLmlnbm9yZUZldGNoQWJvcnR8fG4uYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCkmJihmKCksbi5hbGxvd1N0YWxlT25GZXRjaEFib3J0JiYoZj1tPT5sKG0sITApKSl9KX07bi5zdGF0dXMmJihuLnN0YXR1cy5mZXRjaERpc3BhdGNoZWQ9ITApO2NvbnN0IGQ9bmV3IFByb21pc2UoYykudGhlbihsLHUpO3JldHVybiBkLl9fYWJvcnRDb250cm9sbGVyPW8sZC5fX3N0YWxlV2hpbGVGZXRjaGluZz1yLGQuX19yZXR1cm5lZD1udWxsLHQ9PT12b2lkIDA/KHRoaXMuc2V0KGUsZCx7Li4uYS5vcHRpb25zLHN0YXR1czp2b2lkIDB9KSx0PXRoaXMua2V5TWFwLmdldChlKSk6dGhpcy52YWxMaXN0W3RdPWQsZH1pc0JhY2tncm91bmRGZXRjaChlKXtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiZ0eXBlb2YgZS50aGVuPT0iZnVuY3Rpb24iJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwiX19zdGFsZVdoaWxlRmV0Y2hpbmciKSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIl9fcmV0dXJuZWQiKSYmKGUuX19yZXR1cm5lZD09PWV8fGUuX19yZXR1cm5lZD09PW51bGwpfWFzeW5jIGZldGNoKGUse2FsbG93U3RhbGU6dD10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6bj10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDpzPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHR0bDpyPXRoaXMudHRsLG5vRGlzcG9zZU9uU2V0Om89dGhpcy5ub0Rpc3Bvc2VPblNldCxzaXplOmE9MCxzaXplQ2FsY3VsYXRpb246bD10aGlzLnNpemVDYWxjdWxhdGlvbixub1VwZGF0ZVRUTDp1PXRoaXMubm9VcGRhdGVUVEwsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOmg9dGhpcy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24sYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246Yz10aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uLGlnbm9yZUZldGNoQWJvcnQ6ZD10aGlzLmlnbm9yZUZldGNoQWJvcnQsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpmPXRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCxmZXRjaENvbnRleHQ6cD10aGlzLmZldGNoQ29udGV4dCxmb3JjZVJlZnJlc2g6bT0hMSxzdGF0dXM6eSxzaWduYWw6VH09e30pe2lmKCF0aGlzLmZldGNoTWV0aG9kKXJldHVybiB5JiYoeS5mZXRjaD0iZ2V0IiksdGhpcy5nZXQoZSx7YWxsb3dTdGFsZTp0LHVwZGF0ZUFnZU9uR2V0Om4sbm9EZWxldGVPblN0YWxlR2V0OnMsc3RhdHVzOnl9KTtjb25zdCB2PXthbGxvd1N0YWxlOnQsdXBkYXRlQWdlT25HZXQ6bixub0RlbGV0ZU9uU3RhbGVHZXQ6cyx0dGw6cixub0Rpc3Bvc2VPblNldDpvLHNpemU6YSxzaXplQ2FsY3VsYXRpb246bCxub1VwZGF0ZVRUTDp1LG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjpoLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOmMsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpmLGlnbm9yZUZldGNoQWJvcnQ6ZCxzdGF0dXM6eSxzaWduYWw6VH07bGV0IF89dGhpcy5rZXlNYXAuZ2V0KGUpO2lmKF89PT12b2lkIDApe3kmJih5LmZldGNoPSJtaXNzIik7Y29uc3QgTz10aGlzLmJhY2tncm91bmRGZXRjaChlLF8sdixwKTtyZXR1cm4gTy5fX3JldHVybmVkPU99ZWxzZXtjb25zdCBPPXRoaXMudmFsTGlzdFtfXTtpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKE8pKXtjb25zdCBDPXQmJk8uX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDA7cmV0dXJuIHkmJih5LmZldGNoPSJpbmZsaWdodCIsQyYmKHkucmV0dXJuZWRTdGFsZT0hMCkpLEM/Ty5fX3N0YWxlV2hpbGVGZXRjaGluZzpPLl9fcmV0dXJuZWQ9T31jb25zdCBJPXRoaXMuaXNTdGFsZShfKTtpZighbSYmIUkpcmV0dXJuIHkmJih5LmZldGNoPSJoaXQiKSx0aGlzLm1vdmVUb1RhaWwoXyksbiYmdGhpcy51cGRhdGVJdGVtQWdlKF8pLHRoaXMuc3RhdHVzVFRMKHksXyksTztjb25zdCB3PXRoaXMuYmFja2dyb3VuZEZldGNoKGUsXyx2LHApLEE9dy5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCxFPUEmJnQ7cmV0dXJuIHkmJih5LmZldGNoPUEmJkk/InN0YWxlIjoicmVmcmVzaCIsRSYmSSYmKHkucmV0dXJuZWRTdGFsZT0hMCkpLEU/dy5fX3N0YWxlV2hpbGVGZXRjaGluZzp3Ll9fcmV0dXJuZWQ9d319Z2V0KGUse2FsbG93U3RhbGU6dD10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6bj10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDpzPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHN0YXR1czpyfT17fSl7Y29uc3Qgbz10aGlzLmtleU1hcC5nZXQoZSk7aWYobyE9PXZvaWQgMCl7Y29uc3QgYT10aGlzLnZhbExpc3Rbb10sbD10aGlzLmlzQmFja2dyb3VuZEZldGNoKGEpO3JldHVybiB0aGlzLnN0YXR1c1RUTChyLG8pLHRoaXMuaXNTdGFsZShvKT8ociYmKHIuZ2V0PSJzdGFsZSIpLGw/KHImJihyLnJldHVybmVkU3RhbGU9dCYmYS5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCksdD9hLl9fc3RhbGVXaGlsZUZldGNoaW5nOnZvaWQgMCk6KHN8fHRoaXMuZGVsZXRlKGUpLHImJihyLnJldHVybmVkU3RhbGU9dCksdD9hOnZvaWQgMCkpOihyJiYoci5nZXQ9ImhpdCIpLGw/YS5fX3N0YWxlV2hpbGVGZXRjaGluZzoodGhpcy5tb3ZlVG9UYWlsKG8pLG4mJnRoaXMudXBkYXRlSXRlbUFnZShvKSxhKSl9ZWxzZSByJiYoci5nZXQ9Im1pc3MiKX1jb25uZWN0KGUsdCl7dGhpcy5wcmV2W3RdPWUsdGhpcy5uZXh0W2VdPXR9bW92ZVRvVGFpbChlKXtlIT09dGhpcy50YWlsJiYoZT09PXRoaXMuaGVhZD90aGlzLmhlYWQ9dGhpcy5uZXh0W2VdOnRoaXMuY29ubmVjdCh0aGlzLnByZXZbZV0sdGhpcy5uZXh0W2VdKSx0aGlzLmNvbm5lY3QodGhpcy50YWlsLGUpLHRoaXMudGFpbD1lKX1nZXQgZGVsKCl7cmV0dXJuIHhzKCJkZWwiLCJkZWxldGUiKSx0aGlzLmRlbGV0ZX1kZWxldGUoZSl7bGV0IHQ9ITE7aWYodGhpcy5zaXplIT09MCl7Y29uc3Qgbj10aGlzLmtleU1hcC5nZXQoZSk7aWYobiE9PXZvaWQgMClpZih0PSEwLHRoaXMuc2l6ZT09PTEpdGhpcy5jbGVhcigpO2Vsc2V7dGhpcy5yZW1vdmVJdGVtU2l6ZShuKTtjb25zdCBzPXRoaXMudmFsTGlzdFtuXTt0aGlzLmlzQmFja2dyb3VuZEZldGNoKHMpP3MuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJkZWxldGVkIikpOih0aGlzLmRpc3Bvc2UocyxlLCJkZWxldGUiKSx0aGlzLmRpc3Bvc2VBZnRlciYmdGhpcy5kaXNwb3NlZC5wdXNoKFtzLGUsImRlbGV0ZSJdKSksdGhpcy5rZXlNYXAuZGVsZXRlKGUpLHRoaXMua2V5TGlzdFtuXT1udWxsLHRoaXMudmFsTGlzdFtuXT1udWxsLG49PT10aGlzLnRhaWw/dGhpcy50YWlsPXRoaXMucHJldltuXTpuPT09dGhpcy5oZWFkP3RoaXMuaGVhZD10aGlzLm5leHRbbl06KHRoaXMubmV4dFt0aGlzLnByZXZbbl1dPXRoaXMubmV4dFtuXSx0aGlzLnByZXZbdGhpcy5uZXh0W25dXT10aGlzLnByZXZbbl0pLHRoaXMuc2l6ZS0tLHRoaXMuZnJlZS5wdXNoKG4pfX1pZih0aGlzLmRpc3Bvc2VkKWZvcig7dGhpcy5kaXNwb3NlZC5sZW5ndGg7KXRoaXMuZGlzcG9zZUFmdGVyKC4uLnRoaXMuZGlzcG9zZWQuc2hpZnQoKSk7cmV0dXJuIHR9Y2xlYXIoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnJpbmRleGVzKHthbGxvd1N0YWxlOiEwfSkpe2NvbnN0IHQ9dGhpcy52YWxMaXN0W2VdO2lmKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godCkpdC5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoImRlbGV0ZWQiKSk7ZWxzZXtjb25zdCBuPXRoaXMua2V5TGlzdFtlXTt0aGlzLmRpc3Bvc2UodCxuLCJkZWxldGUiKSx0aGlzLmRpc3Bvc2VBZnRlciYmdGhpcy5kaXNwb3NlZC5wdXNoKFt0LG4sImRlbGV0ZSJdKX19aWYodGhpcy5rZXlNYXAuY2xlYXIoKSx0aGlzLnZhbExpc3QuZmlsbChudWxsKSx0aGlzLmtleUxpc3QuZmlsbChudWxsKSx0aGlzLnR0bHMmJih0aGlzLnR0bHMuZmlsbCgwKSx0aGlzLnN0YXJ0cy5maWxsKDApKSx0aGlzLnNpemVzJiZ0aGlzLnNpemVzLmZpbGwoMCksdGhpcy5oZWFkPTAsdGhpcy50YWlsPTAsdGhpcy5pbml0aWFsRmlsbD0xLHRoaXMuZnJlZS5sZW5ndGg9MCx0aGlzLmNhbGN1bGF0ZWRTaXplPTAsdGhpcy5zaXplPTAsdGhpcy5kaXNwb3NlZClmb3IoO3RoaXMuZGlzcG9zZWQubGVuZ3RoOyl0aGlzLmRpc3Bvc2VBZnRlciguLi50aGlzLmRpc3Bvc2VkLnNoaWZ0KCkpfWdldCByZXNldCgpe3JldHVybiB4cygicmVzZXQiLCJjbGVhciIpLHRoaXMuY2xlYXJ9Z2V0IGxlbmd0aCgpe3JldHVybiBEaCgibGVuZ3RoIiwic2l6ZSIpLHRoaXMuc2l6ZX1zdGF0aWMgZ2V0IEFib3J0Q29udHJvbGxlcigpe3JldHVybiB2bn1zdGF0aWMgZ2V0IEFib3J0U2lnbmFsKCl7cmV0dXJuIFhyfX1jb25zdCBPbj0oKT0+bmV3IEdlKHttYXg6MWUzfSk7Y2xhc3MgQWh7Y29uc3RydWN0b3IoKXt0aGlzLnNsYXNoRGF0ZT1PbigpLHRoaXMucm91bmREYXRlVXA9T24oKSx0aGlzLnJhbmdlcz1PbigpfX1jbGFzcyB0b3tjb25zdHJ1Y3Rvcigpe3RoaXMuY2FjaGVzPXt9LHRoaXMuem9uZXM9T24oKX16b25lKGUpe2NvbnN0IHQ9ZS5uYW1lLG49dGhpcy5jYWNoZXNbdF07cmV0dXJuIG58fCh0aGlzLmNhY2hlc1t0XT1uZXcgQWgsdGhpcy5jYWNoZXNbdF0pfX1mdW5jdGlvbiB6cyhpLGUsdCxuKXtpZihpLm1hdGNoKEFzKSl7Y29uc3Qgcz10W2VdLHI9cytpLmxlbmd0aDtuLnJhbmdlcy5wdXNoKHt0eXBlOkguQ29tbWVudCxmcm9tOnMsdG86cn0pO2NvbnN0IG89bi5jdXJyZW50Rm9sZGFibGVDb21tZW50KCk7aWYobylvLmVuZEluZGV4PXI7ZWxzZXtjb25zdCBhPWkuaW5kZXhPZigiLy8iKTtuLnN0YXJ0Rm9sZGFibGUoe3N0YXJ0SW5kZXg6cyxzdGFydExpbmU6ZSxlbmRJbmRleDpyLHR5cGU6ImNvbW1lbnQiLGZvbGRTdGFydEluZGV4OnMrKGE+LTE/YSsyOjApfSl9cmV0dXJuITB9ZWxzZSByZXR1cm4gbi5maW5pc2hGb2xkYWJsZUNvbW1lbnQoZSksITF9ZnVuY3Rpb24gTmgoaSxlLHQsbil7Y29uc3Qgcz1pLm1hdGNoKGVmKTtpZihzKXtjb25zdCByPXRbZV0sbz1pLmluZGV4T2Yoc1sxXSkrc1sxXS5sZW5ndGgsYT1yK28sbD17dHlwZTpILkNoZWNrYm94SXRlbUluZGljYXRvcixmcm9tOnIsdG86YSxjb250ZW50OnMuaW5jbHVkZXMoIngiKXx8cy5pbmNsdWRlcygiWCIpfSx1PXt0eXBlOkguTGlzdEl0ZW1Db250ZW50cyxmcm9tOmEsdG86citpLmxlbmd0aC0xfTtyZXR1cm4gbi5yYW5nZXMucHVzaChsLHUpLFtsLHVdfWVsc2UgaWYoaS5tYXRjaChRYykpe2NvbnN0IHI9dFtlXSxvPXt0eXBlOkgubGlzdEl0ZW1JbmRpY2F0b3IsZnJvbTp0W2VdLHRvOnIrMX0sYT17dHlwZTpILkxpc3RJdGVtQ29udGVudHMsZnJvbTpyLHRvOnIraS5sZW5ndGgtMX07cmV0dXJuIG4ucmFuZ2VzLnB1c2gobyxhKSxbbyxhXX1yZXR1cm4hMX1mdW5jdGlvbiBraChpLGUsdCxuKXtjb25zdCBzPShyLG8sYSxsLHUpPT57aWYobD09PTApe2NvbnN0IGg9dFtlXStsK28ubGVuZ3RoO24ucmFuZ2VzLnB1c2goe3R5cGU6SC5UYWcsZnJvbTpoLHRvOmgrYS5sZW5ndGgrMSxjb250ZW50Ont0YWc6YX19KX1yZXR1cm5gJHtvfSkke2F9YH07cmV0dXJuIGkucmVwbGFjZSgvKF58XFcrKSMoXHcrKS9nLHMpfWZ1bmN0aW9uIG5vKGksZSx0LG4pe2NvbnN0IHM9aS5tYXRjaEFsbChtbik7aWYocylmb3IobGV0IHIgb2Ygcyl7Y29uc3Qgbz1pLmluZGV4T2YoIiMiK3JbMV0pLGE9dFtlXStvO24ucmFuZ2VzLnB1c2goe3R5cGU6SC5UYWcsZnJvbTphLHRvOmErclsxXS5sZW5ndGgrMSxjb250ZW50Ont0YWc6clsxXX19KSxuLmhlYWRlclsiKSIrclsxXV18fChuLmhlYWRlclsiKSIrclsxXV09dm9pZCAwKX1yZXR1cm4hMX1mdW5jdGlvbiBJbihpLGUpe2NvbnN0IHQ9YCR7aX1gLG49ZT09bnVsbD92b2lkIDA6ZS56b25lcy5nZXQodCk7aWYobilyZXR1cm4gbjt7Y29uc3Qgcz1bInoiLCJaWloiLCJaWiIsIloiXTtsZXQgcjtmb3IoY29uc3QgbyBvZiBzKWlmKHI9Uy5mcm9tRm9ybWF0KHQsbyx7c2V0Wm9uZTohMH0pLHIuaXNWYWxpZCYmci56b25lLmlzVmFsaWR8fG8hPT0ieiImJihyPVMuZnJvbUZvcm1hdChgKyR7dH1gLG8se3NldFpvbmU6ITB9KSxyLmlzVmFsaWQmJnIuem9uZS5pc1ZhbGlkKSlyZXR1cm4gZT09bnVsbHx8ZS56b25lcy5zZXQodCxyLnpvbmUpLHIuem9uZX19ZnVuY3Rpb24gQ2goaSxlLHQpe2lmKHR5cGVvZiBpLnRpbWV6b25lPCJ1Iil7Y29uc3Qgbj1JbihpLnRpbWV6b25lLHQpO24mJihlLnRpbWV6b25lU3RhY2s9W25dKX19ZnVuY3Rpb24gTGgoaSxlLHQpe2kuZXZlbnREZXNjcmlwdGlvbi5pZCYmIXQuaWRzW2kuZXZlbnREZXNjcmlwdGlvbi5pZF0mJih0Lmlkc1tpLmV2ZW50RGVzY3JpcHRpb24uaWRdPWkpLCghdC5lYXJsaWVzdHx8ZS5mcm9tRGF0ZVRpbWU8dC5lYXJsaWVzdCkmJih0LmVhcmxpZXN0PWUuZnJvbURhdGVUaW1lKSwoIXQubGF0ZXN0fHxlLnRvRGF0ZVRpbWU+dC5sYXRlc3QpJiYodC5sYXRlc3Q9ZS50b0RhdGVUaW1lKTtjb25zdCBuPStlLnRvRGF0ZVRpbWUtK2UuZnJvbURhdGVUaW1lOyh0eXBlb2YgdC5tYXhEdXJhdGlvbj4idSJ8fG4+dC5tYXhEdXJhdGlvbikmJih0Lm1heER1cmF0aW9uPW4pfWZ1bmN0aW9uIHhoKGksZSx0KXtjb25zdCBuPWkuZXZlbnRUZXh0Lm1hdGNoKHRmKSxzPWUuaW5kZXhPZihpLmV2ZW50VGV4dCk7bGV0IHI7aWYobil7Y29uc3Qgbz1zK2kuZXZlbnRUZXh0LmluZGV4T2YoblswXSksYT1vK2kuZXZlbnRUZXh0LmluZGV4T2YoblsxXSkrblsxXS5sZW5ndGg7cj1bIlgiLCJ4Il0uc29tZSh1PT5uLmluY2x1ZGVzKHUpKTtjb25zdCBsPXt0eXBlOkguQ2hlY2tib3hJdGVtSW5kaWNhdG9yLGZyb206aS5kYXRlUmFuZ2VJblRleHQuZnJvbStvLHRvOmkuZGF0ZVJhbmdlSW5UZXh0LmZyb20rYSxjb250ZW50OnJ9O3QucmFuZ2VzLnB1c2gobCl9cmV0dXJuIHJ9ZnVuY3Rpb24gWWgoaSxlLHQsbixzLHIpe2xldCBvPUloKGksdCxuLHMscik7aWYob3x8KG89T2goaSx0LG4scyxyKSksIW8pcmV0dXJuIHQ7bGV0IGE9dCxsO2NvbnN0IHU9W107Zm9yKDtsPWVbKythXSwhKHR5cGVvZiBsIT0ic3RyaW5nInx8bC5tYXRjaChOcyl8fGwubWF0Y2goTXMpfHxsLm1hdGNoKHBuKXx8cy5jdXJyZW50UGF0aC5sZW5ndGg+MSYmbC5tYXRjaChCcikpOyl7enMobCxhLG4scyksbm8obCxhLG4scyk7Y29uc3QgeT1OaChsLGEsbixzKTt5JiZ1LnB1c2goLi4ueSl9Y29uc3QgaD1lLnNsaWNlKHQsYSksYz17ZnJvbTpvLmRhdGVSYW5nZUluVGV4dC5mcm9tLHRvOm5bYV0sdHlwZTpILkV2ZW50fSxkPXhoKG8saSxzKTtoWzBdPW8uZXZlbnRUZXh0LnRyaW0oKTtjb25zdCBmPW5ldyBmaChoLHUsZCkscD1mLnRhZ3MubGVuZ3RoJiZzLmhlYWRlcltgKSR7Zi50YWdzW2YudGFncy5sZW5ndGgtMV19YF07aWYodHlwZW9mIHA9PSJvYmplY3QiJiZ0eXBlb2YgcC50aW1lem9uZTwidSIpe2NvbnN0IHk9SW4ocC50aW1lem9uZSxyKTt5JiYoby5mcm9tRGF0ZVRpbWU9by5mcm9tRGF0ZVRpbWUuc2V0Wm9uZSh5LHtrZWVwTG9jYWxUaW1lOiEwfSksby50b0RhdGVUaW1lPW8udG9EYXRlVGltZS5zZXRab25lKHkse2tlZXBMb2NhbFRpbWU6ITB9KSl9Y29uc3QgbT1uZXcgZGgoaSxvLGMsby5kYXRlUmFuZ2VJblRleHQsZixvLm9yaWdpbmFsU3RyaW5nKTtyZXR1cm4gbSYmKHMucHVzaChuZXcgaG4obSkpLExoKG0sbyxzKSxhLXQ+MSYmKHMuZm9sZGFibGVzW25bdF1dPXtzdGFydEluZGV4Om5bdCsxXS0xLGVuZEluZGV4Om5bYV0tMSx0eXBlOiJldmVudCIsZm9sZFN0YXJ0SW5kZXg6blt0KzFdLTEsc3RhcnRMaW5lOnR9KSksYS0xfWNvbnN0IHNvPShpLGUsdCxuKT0+e2lmKCF0fHwhdC5sZW5ndGgpe2lmKEFycmF5LmlzQXJyYXkoZS52YWx1ZSkpcmV0dXJuIGUudmFsdWUucHVzaChpKSxBcnJheS5pc0FycmF5KGkudmFsdWUpP3twYXRoOltlLnZhbHVlLmxlbmd0aC0xLGkudmFsdWUubGVuZ3RoXSx0YWlsOm59OntwYXRoOltlLnZhbHVlLmxlbmd0aC0xXSx0YWlsOml9O3Rocm93IG5ldyBFcnJvcigiQ2FuJ3QgcHVzaCBvbnRvIGV2ZW50IG5vZGUiKX1lbHNle2NvbnN0e3RhaWw6cyxwYXRoOnJ9PXNvKGksZS52YWx1ZVt0WzBdXSx0LnNsaWNlKDEpLG4pO3JldHVybntwYXRoOlt0WzBdLC4uLnJdLHRhaWw6c319fSxpbz0oaSxlKT0+e2lmKCFlLmxlbmd0aClyZXR1cm4gaTtjb25zdCB0PWkudmFsdWU7aWYoISghdC5sZW5ndGh8fHQubGVuZ3RoLTE8ZVswXSkpcmV0dXJuIGlvKHRbZVswXV0sZS5zbGljZSgxKSl9LHpoPWk9PiFBcnJheS5pc0FycmF5KGkudmFsdWUpO2NsYXNzIEZoe2NvbnN0cnVjdG9yKCl7dGhpcy5ub3c9Uy5ub3coKSx0aGlzLmV2ZW50cz1uZXcgaG4oW10pLHRoaXMuaWRzPXt9LHRoaXMucGFsZXR0ZUluZGV4PTAsdGhpcy5lYXJsaWVzdD12b2lkIDAsdGhpcy5sYXRlc3Q9dm9pZCAwLHRoaXMubWF4RHVyYXRpb249dm9pZCAwLHRoaXMuY3VycmVudFBhdGg9W10sdGhpcy5mb2xkYWJsZXM9e30sdGhpcy5mb2xkYWJsZVNlY3Rpb25zPVtdLHRoaXMucmFuZ2VzPVtdLHRoaXMuaGVhZGVyPXtkYXRlRm9ybWF0OnlufSx0aGlzLnRpbWV6b25lU3RhY2s9W25ldyBBdF19Z2V0IHRpbWV6b25lKCl7cmV0dXJuIHRoaXMudGltZXpvbmVTdGFja1t0aGlzLnRpbWV6b25lU3RhY2subGVuZ3RoLTFdfWN1cnJlbnRGb2xkYWJsZVNlY3Rpb24oKXtyZXR1cm4gdGhpcy5mb2xkYWJsZVNlY3Rpb25zW3RoaXMuZm9sZGFibGVTZWN0aW9ucy5sZW5ndGgtMV19Y3VycmVudEZvbGRhYmxlQ29tbWVudCgpe3JldHVybiB0aGlzLmZvbGRhYmxlcy5jb21tZW50fXN0YXJ0Rm9sZGFibGVTZWN0aW9uKGUpe3RoaXMuZm9sZGFibGVTZWN0aW9ucy5wdXNoKGUpfXN0YXJ0Rm9sZGFibGUoZSl7dGhpcy5mb2xkYWJsZXNbZS50eXBlXT1lfWZpbmlzaEZvbGRhYmxlU2VjdGlvbihlLHQpe2NvbnN0IG49dGhpcy5mb2xkYWJsZVNlY3Rpb25zLnBvcCgpO24mJm4uc3RhcnRMaW5lPGUtMSYmKHRoaXMuZm9sZGFibGVzW24uc3RhcnRJbmRleF09ey4uLm4sZW5kSW5kZXg6dH0pfWZpbmlzaEZvbGRhYmxlQ29tbWVudChlKXtjb25zdCB0PXRoaXMuY3VycmVudEZvbGRhYmxlQ29tbWVudCgpO3QmJih0LnN0YXJ0TGluZTxlLTEmJih0aGlzLmZvbGRhYmxlc1t0LnN0YXJ0SW5kZXhdPXsuLi50fSksZGVsZXRlIHRoaXMuZm9sZGFibGVzLmNvbW1lbnQpfXB1c2goZSl7Y29uc3R7cGF0aDp0LHRhaWw6bn09c28oZSx0aGlzLmV2ZW50cyx0aGlzLmN1cnJlbnRQYXRoLnNsaWNlKDAsLTEpLHRoaXMudGFpbCk7biYmKHRoaXMuaGVhZHx8KHRoaXMuaGVhZD1uKSx0aGlzLnRhaWw9biksdGhpcy5jdXJyZW50UGF0aD10fWVuZEN1cnJlbnRHcm91cChlLHQsbil7dmFyIHM7aWYodGhpcy5jdXJyZW50UGF0aC5wb3AoKSx0aGlzLnRpbWV6b25lU3RhY2subGVuZ3RoPjEpe2NvbnN0IHI9aW8odGhpcy5ldmVudHMsdGhpcy5jdXJyZW50UGF0aCk7aWYociYmIXpoKHIpKXtjb25zdCBvPSgocz1yLnRhZ3MpPT1udWxsP3ZvaWQgMDpzLmxlbmd0aCkmJnRoaXMuaGVhZGVyW2ApJHtyLnRhZ3Nbci50YWdzLmxlbmd0aC0xXX1gXTtpZih0eXBlb2Ygbz09Im9iamVjdCImJnR5cGVvZiBvLnRpbWV6b25lPCJ1Iil7Y29uc3QgYT1JbihvLnRpbWV6b25lLG4pO2EmJnRoaXMudGltZXpvbmUuZXF1YWxzKGEpJiZ0aGlzLnRpbWV6b25lU3RhY2sucG9wKCl9fX10aGlzLmZpbmlzaEZvbGRhYmxlU2VjdGlvbih0LmxpbmUsZSl9dG9UaW1lbGluZShlLHQsbil7Y29uc3Qgcz10aGlzLm1heER1cmF0aW9uP3RoaXMubWF4RHVyYXRpb24vMWUzLzYwLzYwLzI0OnRoaXMubm93LmRpZmYodGhpcy5ub3cubWludXMoe3llYXJzOjF9KSkuYXMoImRheXMiKTtyZXR1cm57ZXZlbnRzOnRoaXMuZXZlbnRzLGhlYWQ6dGhpcy5oZWFkLHRhaWw6dGhpcy50YWlsLGlkczp0aGlzLmlkcyxyYW5nZXM6dGhpcy5yYW5nZXMsZm9sZGFibGVzOnRoaXMuZm9sZGFibGVzLGhlYWRlcjp0aGlzLmhlYWRlcixtZXRhZGF0YTp7ZWFybGllc3RUaW1lOih0aGlzLmVhcmxpZXN0fHx0aGlzLm5vdy5taW51cyh7eWVhcnM6NX0pKS50b0lTTygpLGxhdGVzdFRpbWU6KHRoaXMubGF0ZXN0fHx0aGlzLm5vdy5wbHVzKHt5ZWFyczo1fSkpLnRvSVNPKCksbWF4RHVyYXRpb25EYXlzOnMsc3RhcnRMaW5lSW5kZXg6MCxzdGFydFN0cmluZ0luZGV4OmVbMF0sZW5kTGluZUluZGV4OnQscHJlZmVycmVkSW50ZXJwb2xhdGlvbkZvcm1hdDp0aGlzLnByZWZlcnJlZEludGVycG9sYXRpb25Gb3JtYXQsZW5kU3RyaW5nSW5kZXg6biwuLi50aGlzLnRpdGxlP3t0aXRsZTp0aGlzLnRpdGxlfTp7fSwuLi50aGlzLmRlc2NyaXB0aW9uP3tkZXNjcmlwdGlvbjp0aGlzLmRlc2NyaXB0aW9ufTp7fX19fX1mdW5jdGlvbiBSaChpLGUsdCxuLHMpe3JldHVybiBuLmN1cnJlbnRQYXRoLmxlbmd0aD4xJiZpLm1hdGNoKEJyKT8obi5yYW5nZXMucHVzaCh7ZnJvbTp0W2VdLHRvOnRbZV0raS5sZW5ndGgsdHlwZTpILlNlY3Rpb259KSxuLmVuZEN1cnJlbnRHcm91cCh0W2VdK2kubGVuZ3RoLHtsaW5lOmUsaW5kZXg6aS5sZW5ndGh9LHMpLCEwKTohMX1mdW5jdGlvbiBQaChpLGUsdCxuLHMpe3ZhciBvO2NvbnN0IHI9aS5tYXRjaChwbik7aWYocil7Y29uc3QgYT17ZnJvbTp0W2VdLHRvOnRbZV0rclswXS5sZW5ndGgsdHlwZTpILlNlY3Rpb259O24ucmFuZ2VzLnB1c2goYSk7Y29uc3QgbD1iaChpLHIsYSksdT0oKG89bC50YWdzKT09bnVsbD92b2lkIDA6by5sZW5ndGgpJiZuLmhlYWRlcltgKSR7bC50YWdzW2wudGFncy5sZW5ndGgtMV19YF07aWYodHlwZW9mIHU9PSJvYmplY3QiJiZ0eXBlb2YgdS50aW1lem9uZTwidSIpe2NvbnN0IGg9SW4odS50aW1lem9uZSxzKTtoJiZuLnRpbWV6b25lU3RhY2sucHVzaChoKX1yZXR1cm4gbi5wdXNoKGwpLG4uc3RhcnRGb2xkYWJsZVNlY3Rpb24oe3R5cGU6SC5TZWN0aW9uLHN0YXJ0TGluZTplLHN0YXJ0SW5kZXg6dFtlXSxlbmRJbmRleDp0W2VdK2kubGVuZ3RoLGZvbGRTdGFydEluZGV4OnRbZV0raS5sZW5ndGh9KSwhMH1yZXR1cm4hMX1mdW5jdGlvbiAkaChpLGUsdCxuLHMpe3JldHVyblt6cyxubyxQaCxSaF0uc29tZShyPT5yKGksZSx0LG4scykpfWNvbnN0IEZzPVN5bWJvbC5mb3IoInlhbWwuYWxpYXMiKSxScz1TeW1ib2wuZm9yKCJ5YW1sLmRvY3VtZW50IiksUmU9U3ltYm9sLmZvcigieWFtbC5tYXAiKSxybz1TeW1ib2wuZm9yKCJ5YW1sLnBhaXIiKSxBZT1TeW1ib2wuZm9yKCJ5YW1sLnNjYWxhciIpLHV0PVN5bWJvbC5mb3IoInlhbWwuc2VxIiksbWU9U3ltYm9sLmZvcigieWFtbC5ub2RlLnR5cGUiKSxKZT1pPT4hIWkmJnR5cGVvZiBpPT0ib2JqZWN0IiYmaVttZV09PT1GcyxjdD1pPT4hIWkmJnR5cGVvZiBpPT0ib2JqZWN0IiYmaVttZV09PT1ScyxmdD1pPT4hIWkmJnR5cGVvZiBpPT0ib2JqZWN0IiYmaVttZV09PT1SZSxLPWk9PiEhaSYmdHlwZW9mIGk9PSJvYmplY3QiJiZpW21lXT09PXJvLGo9aT0+ISFpJiZ0eXBlb2YgaT09Im9iamVjdCImJmlbbWVdPT09QWUsaHQ9aT0+ISFpJiZ0eXBlb2YgaT09Im9iamVjdCImJmlbbWVdPT09dXQ7ZnVuY3Rpb24gRyhpKXtpZihpJiZ0eXBlb2YgaT09Im9iamVjdCIpc3dpdGNoKGlbbWVdKXtjYXNlIFJlOmNhc2UgdXQ6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gUShpKXtpZihpJiZ0eXBlb2YgaT09Im9iamVjdCIpc3dpdGNoKGlbbWVdKXtjYXNlIEZzOmNhc2UgUmU6Y2FzZSBBZTpjYXNlIHV0OnJldHVybiEwfXJldHVybiExfWNvbnN0IFVoPWk9PihqKGkpfHxHKGkpKSYmISFpLmFuY2hvcixvZT1TeW1ib2woImJyZWFrIHZpc2l0Iiksb289U3ltYm9sKCJza2lwIGNoaWxkcmVuIiksRWU9U3ltYm9sKCJyZW1vdmUgbm9kZSIpO2Z1bmN0aW9uIFBlKGksZSl7Y29uc3QgdD1hbyhlKTtjdChpKT9kdChudWxsLGkuY29udGVudHMsdCxPYmplY3QuZnJlZXplKFtpXSkpPT09RWUmJihpLmNvbnRlbnRzPW51bGwpOmR0KG51bGwsaSx0LE9iamVjdC5mcmVlemUoW10pKX1QZS5CUkVBSz1vZSxQZS5TS0lQPW9vLFBlLlJFTU9WRT1FZTtmdW5jdGlvbiBkdChpLGUsdCxuKXtjb25zdCBzPWxvKGksZSx0LG4pO2lmKFEocyl8fEsocykpcmV0dXJuIHVvKGksbixzKSxkdChpLHMsdCxuKTtpZih0eXBlb2YgcyE9InN5bWJvbCIpe2lmKEcoZSkpe249T2JqZWN0LmZyZWV6ZShuLmNvbmNhdChlKSk7Zm9yKGxldCByPTA7cjxlLml0ZW1zLmxlbmd0aDsrK3Ipe2NvbnN0IG89ZHQocixlLml0ZW1zW3JdLHQsbik7aWYodHlwZW9mIG89PSJudW1iZXIiKXI9by0xO2Vsc2V7aWYobz09PW9lKXJldHVybiBvZTtvPT09RWUmJihlLml0ZW1zLnNwbGljZShyLDEpLHItPTEpfX19ZWxzZSBpZihLKGUpKXtuPU9iamVjdC5mcmVlemUobi5jb25jYXQoZSkpO2NvbnN0IHI9ZHQoImtleSIsZS5rZXksdCxuKTtpZihyPT09b2UpcmV0dXJuIG9lO3I9PT1FZSYmKGUua2V5PW51bGwpO2NvbnN0IG89ZHQoInZhbHVlIixlLnZhbHVlLHQsbik7aWYobz09PW9lKXJldHVybiBvZTtvPT09RWUmJihlLnZhbHVlPW51bGwpfX1yZXR1cm4gc31hc3luYyBmdW5jdGlvbiBTbihpLGUpe2NvbnN0IHQ9YW8oZSk7Y3QoaSk/YXdhaXQgbXQobnVsbCxpLmNvbnRlbnRzLHQsT2JqZWN0LmZyZWV6ZShbaV0pKT09PUVlJiYoaS5jb250ZW50cz1udWxsKTphd2FpdCBtdChudWxsLGksdCxPYmplY3QuZnJlZXplKFtdKSl9U24uQlJFQUs9b2UsU24uU0tJUD1vbyxTbi5SRU1PVkU9RWU7YXN5bmMgZnVuY3Rpb24gbXQoaSxlLHQsbil7Y29uc3Qgcz1hd2FpdCBsbyhpLGUsdCxuKTtpZihRKHMpfHxLKHMpKXJldHVybiB1byhpLG4scyksbXQoaSxzLHQsbik7aWYodHlwZW9mIHMhPSJzeW1ib2wiKXtpZihHKGUpKXtuPU9iamVjdC5mcmVlemUobi5jb25jYXQoZSkpO2ZvcihsZXQgcj0wO3I8ZS5pdGVtcy5sZW5ndGg7KytyKXtjb25zdCBvPWF3YWl0IG10KHIsZS5pdGVtc1tyXSx0LG4pO2lmKHR5cGVvZiBvPT0ibnVtYmVyIilyPW8tMTtlbHNle2lmKG89PT1vZSlyZXR1cm4gb2U7bz09PUVlJiYoZS5pdGVtcy5zcGxpY2UociwxKSxyLT0xKX19fWVsc2UgaWYoSyhlKSl7bj1PYmplY3QuZnJlZXplKG4uY29uY2F0KGUpKTtjb25zdCByPWF3YWl0IG10KCJrZXkiLGUua2V5LHQsbik7aWYocj09PW9lKXJldHVybiBvZTtyPT09RWUmJihlLmtleT1udWxsKTtjb25zdCBvPWF3YWl0IG10KCJ2YWx1ZSIsZS52YWx1ZSx0LG4pO2lmKG89PT1vZSlyZXR1cm4gb2U7bz09PUVlJiYoZS52YWx1ZT1udWxsKX19cmV0dXJuIHN9ZnVuY3Rpb24gYW8oaSl7cmV0dXJuIHR5cGVvZiBpPT0ib2JqZWN0IiYmKGkuQ29sbGVjdGlvbnx8aS5Ob2RlfHxpLlZhbHVlKT9PYmplY3QuYXNzaWduKHtBbGlhczppLk5vZGUsTWFwOmkuTm9kZSxTY2FsYXI6aS5Ob2RlLFNlcTppLk5vZGV9LGkuVmFsdWUmJntNYXA6aS5WYWx1ZSxTY2FsYXI6aS5WYWx1ZSxTZXE6aS5WYWx1ZX0saS5Db2xsZWN0aW9uJiZ7TWFwOmkuQ29sbGVjdGlvbixTZXE6aS5Db2xsZWN0aW9ufSxpKTppfWZ1bmN0aW9uIGxvKGksZSx0LG4pe3ZhciBzLHIsbyxhLGw7aWYodHlwZW9mIHQ9PSJmdW5jdGlvbiIpcmV0dXJuIHQoaSxlLG4pO2lmKGZ0KGUpKXJldHVybihzPXQuTWFwKT09bnVsbD92b2lkIDA6cy5jYWxsKHQsaSxlLG4pO2lmKGh0KGUpKXJldHVybihyPXQuU2VxKT09bnVsbD92b2lkIDA6ci5jYWxsKHQsaSxlLG4pO2lmKEsoZSkpcmV0dXJuKG89dC5QYWlyKT09bnVsbD92b2lkIDA6by5jYWxsKHQsaSxlLG4pO2lmKGooZSkpcmV0dXJuKGE9dC5TY2FsYXIpPT1udWxsP3ZvaWQgMDphLmNhbGwodCxpLGUsbik7aWYoSmUoZSkpcmV0dXJuKGw9dC5BbGlhcyk9PW51bGw/dm9pZCAwOmwuY2FsbCh0LGksZSxuKX1mdW5jdGlvbiB1byhpLGUsdCl7Y29uc3Qgbj1lW2UubGVuZ3RoLTFdO2lmKEcobikpbi5pdGVtc1tpXT10O2Vsc2UgaWYoSyhuKSlpPT09ImtleSI/bi5rZXk9dDpuLnZhbHVlPXQ7ZWxzZSBpZihjdChuKSluLmNvbnRlbnRzPXQ7ZWxzZXtjb25zdCBzPUplKG4pPyJhbGlhcyI6InNjYWxhciI7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVwbGFjZSBub2RlIHdpdGggJHtzfSBwYXJlbnRgKX19Y29uc3QgQmg9eyIhIjoiJTIxIiwiLCI6IiUyQyIsIlsiOiIlNUIiLCJdIjoiJTVEIiwieyI6IiU3QiIsIn0iOiIlN0QifSxIaD1pPT5pLnJlcGxhY2UoL1shLFtcXXt9XS9nLGU9PkJoW2VdKTtjbGFzcyByZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZG9jU3RhcnQ9bnVsbCx0aGlzLmRvY0VuZD0hMSx0aGlzLnlhbWw9T2JqZWN0LmFzc2lnbih7fSxyZS5kZWZhdWx0WWFtbCxlKSx0aGlzLnRhZ3M9T2JqZWN0LmFzc2lnbih7fSxyZS5kZWZhdWx0VGFncyx0KX1jbG9uZSgpe2NvbnN0IGU9bmV3IHJlKHRoaXMueWFtbCx0aGlzLnRhZ3MpO3JldHVybiBlLmRvY1N0YXJ0PXRoaXMuZG9jU3RhcnQsZX1hdERvY3VtZW50KCl7Y29uc3QgZT1uZXcgcmUodGhpcy55YW1sLHRoaXMudGFncyk7c3dpdGNoKHRoaXMueWFtbC52ZXJzaW9uKXtjYXNlIjEuMSI6dGhpcy5hdE5leHREb2N1bWVudD0hMDticmVhaztjYXNlIjEuMiI6dGhpcy5hdE5leHREb2N1bWVudD0hMSx0aGlzLnlhbWw9e2V4cGxpY2l0OnJlLmRlZmF1bHRZYW1sLmV4cGxpY2l0LHZlcnNpb246IjEuMiJ9LHRoaXMudGFncz1PYmplY3QuYXNzaWduKHt9LHJlLmRlZmF1bHRUYWdzKTticmVha31yZXR1cm4gZX1hZGQoZSx0KXt0aGlzLmF0TmV4dERvY3VtZW50JiYodGhpcy55YW1sPXtleHBsaWNpdDpyZS5kZWZhdWx0WWFtbC5leHBsaWNpdCx2ZXJzaW9uOiIxLjEifSx0aGlzLnRhZ3M9T2JqZWN0LmFzc2lnbih7fSxyZS5kZWZhdWx0VGFncyksdGhpcy5hdE5leHREb2N1bWVudD0hMSk7Y29uc3Qgbj1lLnRyaW0oKS5zcGxpdCgvWyBcdF0rLykscz1uLnNoaWZ0KCk7c3dpdGNoKHMpe2Nhc2UiJVRBRyI6e2lmKG4ubGVuZ3RoIT09MiYmKHQoMCwiJVRBRyBkaXJlY3RpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSB0d28gcGFydHMiKSxuLmxlbmd0aDwyKSlyZXR1cm4hMTtjb25zdFtyLG9dPW47cmV0dXJuIHRoaXMudGFnc1tyXT1vLCEwfWNhc2UiJVlBTUwiOntpZih0aGlzLnlhbWwuZXhwbGljaXQ9ITAsbi5sZW5ndGghPT0xKXJldHVybiB0KDAsIiVZQU1MIGRpcmVjdGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBwYXJ0IiksITE7Y29uc3Rbcl09bjtpZihyPT09IjEuMSJ8fHI9PT0iMS4yIilyZXR1cm4gdGhpcy55YW1sLnZlcnNpb249ciwhMDt7Y29uc3Qgbz0vXlxkK1wuXGQrJC8udGVzdChyKTtyZXR1cm4gdCg2LGBVbnN1cHBvcnRlZCBZQU1MIHZlcnNpb24gJHtyfWAsbyksITF9fWRlZmF1bHQ6cmV0dXJuIHQoMCxgVW5rbm93biBkaXJlY3RpdmUgJHtzfWAsITApLCExfX10YWdOYW1lKGUsdCl7aWYoZT09PSIhIilyZXR1cm4iISI7aWYoZVswXSE9PSIhIilyZXR1cm4gdChgTm90IGEgdmFsaWQgdGFnOiAke2V9YCksbnVsbDtpZihlWzFdPT09IjwiKXtjb25zdCBvPWUuc2xpY2UoMiwtMSk7cmV0dXJuIG89PT0iISJ8fG89PT0iISEiPyh0KGBWZXJiYXRpbSB0YWdzIGFyZW4ndCByZXNvbHZlZCwgc28gJHtlfSBpcyBpbnZhbGlkLmApLG51bGwpOihlW2UubGVuZ3RoLTFdIT09Ij4iJiZ0KCJWZXJiYXRpbSB0YWdzIG11c3QgZW5kIHdpdGggYSA+Iiksbyl9Y29uc3RbLG4sc109ZS5tYXRjaCgvXiguKiEpKFteIV0qKSQvKTtzfHx0KGBUaGUgJHtlfSB0YWcgaGFzIG5vIHN1ZmZpeGApO2NvbnN0IHI9dGhpcy50YWdzW25dO3JldHVybiByP3IrZGVjb2RlVVJJQ29tcG9uZW50KHMpOm49PT0iISI/ZToodChgQ291bGQgbm90IHJlc29sdmUgdGFnOiAke2V9YCksbnVsbCl9dGFnU3RyaW5nKGUpe2Zvcihjb25zdFt0LG5db2YgT2JqZWN0LmVudHJpZXModGhpcy50YWdzKSlpZihlLnN0YXJ0c1dpdGgobikpcmV0dXJuIHQrSGgoZS5zdWJzdHJpbmcobi5sZW5ndGgpKTtyZXR1cm4gZVswXT09PSIhIj9lOmAhPCR7ZX0+YH10b1N0cmluZyhlKXtjb25zdCB0PXRoaXMueWFtbC5leHBsaWNpdD9bYCVZQU1MICR7dGhpcy55YW1sLnZlcnNpb258fCIxLjIifWBdOltdLG49T2JqZWN0LmVudHJpZXModGhpcy50YWdzKTtsZXQgcztpZihlJiZuLmxlbmd0aD4wJiZRKGUuY29udGVudHMpKXtjb25zdCByPXt9O1BlKGUuY29udGVudHMsKG8sYSk9PntRKGEpJiZhLnRhZyYmKHJbYS50YWddPSEwKX0pLHM9T2JqZWN0LmtleXMocil9ZWxzZSBzPVtdO2Zvcihjb25zdFtyLG9db2YgbilyPT09IiEhIiYmbz09PSJ0YWc6eWFtbC5vcmcsMjAwMjoifHwoIWV8fHMuc29tZShhPT5hLnN0YXJ0c1dpdGgobykpKSYmdC5wdXNoKGAlVEFHICR7cn0gJHtvfWApO3JldHVybiB0LmpvaW4oYApgKX19cmUuZGVmYXVsdFlhbWw9e2V4cGxpY2l0OiExLHZlcnNpb246IjEuMiJ9LHJlLmRlZmF1bHRUYWdzPXsiISEiOiJ0YWc6eWFtbC5vcmcsMjAwMjoifTtmdW5jdGlvbiBjbyhpKXtpZigvW1x4MDAtXHgxOVxzLFtcXXt9XS8udGVzdChpKSl7Y29uc3QgdD1gQW5jaG9yIG11c3Qgbm90IGNvbnRhaW4gd2hpdGVzcGFjZSBvciBjb250cm9sIGNoYXJhY3RlcnM6ICR7SlNPTi5zdHJpbmdpZnkoaSl9YDt0aHJvdyBuZXcgRXJyb3IodCl9cmV0dXJuITB9ZnVuY3Rpb24gZm8oaSl7Y29uc3QgZT1uZXcgU2V0O3JldHVybiBQZShpLHtWYWx1ZSh0LG4pe24uYW5jaG9yJiZlLmFkZChuLmFuY2hvcil9fSksZX1mdW5jdGlvbiBobyhpLGUpe2ZvcihsZXQgdD0xOzsrK3Qpe2NvbnN0IG49YCR7aX0ke3R9YDtpZighZS5oYXMobikpcmV0dXJuIG59fWZ1bmN0aW9uIFZoKGksZSl7Y29uc3QgdD1bXSxuPW5ldyBNYXA7bGV0IHM9bnVsbDtyZXR1cm57b25BbmNob3I6cj0+e3QucHVzaChyKSxzfHwocz1mbyhpKSk7Y29uc3Qgbz1obyhlLHMpO3JldHVybiBzLmFkZChvKSxvfSxzZXRBbmNob3JzOigpPT57Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3Qgbz1uLmdldChyKTtpZih0eXBlb2Ygbz09Im9iamVjdCImJm8uYW5jaG9yJiYoaihvLm5vZGUpfHxHKG8ubm9kZSkpKW8ubm9kZS5hbmNob3I9by5hbmNob3I7ZWxzZXtjb25zdCBhPW5ldyBFcnJvcigiRmFpbGVkIHRvIHJlc29sdmUgcmVwZWF0ZWQgb2JqZWN0ICh0aGlzIHNob3VsZCBub3QgaGFwcGVuKSIpO3Rocm93IGEuc291cmNlPXIsYX19fSxzb3VyY2VPYmplY3RzOm59fWZ1bmN0aW9uIHB0KGksZSx0LG4pe2lmKG4mJnR5cGVvZiBuPT0ib2JqZWN0IilpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgcz0wLHI9bi5sZW5ndGg7czxyOysrcyl7Y29uc3Qgbz1uW3NdLGE9cHQoaSxuLFN0cmluZyhzKSxvKTthPT09dm9pZCAwP2RlbGV0ZSBuW3NdOmEhPT1vJiYobltzXT1hKX1lbHNlIGlmKG4gaW5zdGFuY2VvZiBNYXApZm9yKGNvbnN0IHMgb2YgQXJyYXkuZnJvbShuLmtleXMoKSkpe2NvbnN0IHI9bi5nZXQocyksbz1wdChpLG4scyxyKTtvPT09dm9pZCAwP24uZGVsZXRlKHMpOm8hPT1yJiZuLnNldChzLG8pfWVsc2UgaWYobiBpbnN0YW5jZW9mIFNldClmb3IoY29uc3QgcyBvZiBBcnJheS5mcm9tKG4pKXtjb25zdCByPXB0KGksbixzLHMpO3I9PT12b2lkIDA/bi5kZWxldGUocyk6ciE9PXMmJihuLmRlbGV0ZShzKSxuLmFkZChyKSl9ZWxzZSBmb3IoY29uc3RbcyxyXW9mIE9iamVjdC5lbnRyaWVzKG4pKXtjb25zdCBvPXB0KGksbixzLHIpO289PT12b2lkIDA/ZGVsZXRlIG5bc106byE9PXImJihuW3NdPW8pfXJldHVybiBpLmNhbGwoZSx0LG4pfWZ1bmN0aW9uIHBlKGksZSx0KXtpZihBcnJheS5pc0FycmF5KGkpKXJldHVybiBpLm1hcCgobixzKT0+cGUobixTdHJpbmcocyksdCkpO2lmKGkmJnR5cGVvZiBpLnRvSlNPTj09ImZ1bmN0aW9uIil7aWYoIXR8fCFVaChpKSlyZXR1cm4gaS50b0pTT04oZSx0KTtjb25zdCBuPXthbGlhc0NvdW50OjAsY291bnQ6MSxyZXM6dm9pZCAwfTt0LmFuY2hvcnMuc2V0KGksbiksdC5vbkNyZWF0ZT1yPT57bi5yZXM9cixkZWxldGUgdC5vbkNyZWF0ZX07Y29uc3Qgcz1pLnRvSlNPTihlLHQpO3JldHVybiB0Lm9uQ3JlYXRlJiZ0Lm9uQ3JlYXRlKHMpLHN9cmV0dXJuIHR5cGVvZiBpPT0iYmlnaW50IiYmISh0IT1udWxsJiZ0LmtlZXApP051bWJlcihpKTppfWNsYXNzIFBze2NvbnN0cnVjdG9yKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLG1lLHt2YWx1ZTplfSl9Y2xvbmUoKXtjb25zdCBlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRoaXMpKTtyZXR1cm4gdGhpcy5yYW5nZSYmKGUucmFuZ2U9dGhpcy5yYW5nZS5zbGljZSgpKSxlfXRvSlMoZSx7bWFwQXNNYXA6dCxtYXhBbGlhc0NvdW50Om4sb25BbmNob3I6cyxyZXZpdmVyOnJ9PXt9KXtpZighY3QoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBkb2N1bWVudCBhcmd1bWVudCBpcyByZXF1aXJlZCIpO2NvbnN0IG89e2FuY2hvcnM6bmV3IE1hcCxkb2M6ZSxrZWVwOiEwLG1hcEFzTWFwOnQ9PT0hMCxtYXBLZXlXYXJuZWQ6ITEsbWF4QWxpYXNDb3VudDp0eXBlb2Ygbj09Im51bWJlciI/bjoxMDB9LGE9cGUodGhpcywiIixvKTtpZih0eXBlb2Ygcz09ImZ1bmN0aW9uIilmb3IoY29uc3R7Y291bnQ6bCxyZXM6dX1vZiBvLmFuY2hvcnMudmFsdWVzKCkpcyh1LGwpO3JldHVybiB0eXBlb2Ygcj09ImZ1bmN0aW9uIj9wdChyLHsiIjphfSwiIixhKTphfX1jbGFzcyBFbiBleHRlbmRzIFBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKEZzKSx0aGlzLnNvdXJjZT1lLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJ0YWciLHtzZXQoKXt0aHJvdyBuZXcgRXJyb3IoIkFsaWFzIG5vZGVzIGNhbm5vdCBoYXZlIHRhZ3MiKX19KX1yZXNvbHZlKGUpe2xldCB0O3JldHVybiBQZShlLHtOb2RlOihuLHMpPT57aWYocz09PXRoaXMpcmV0dXJuIFBlLkJSRUFLO3MuYW5jaG9yPT09dGhpcy5zb3VyY2UmJih0PXMpfX0pLHR9dG9KU09OKGUsdCl7aWYoIXQpcmV0dXJue3NvdXJjZTp0aGlzLnNvdXJjZX07Y29uc3R7YW5jaG9yczpuLGRvYzpzLG1heEFsaWFzQ291bnQ6cn09dCxvPXRoaXMucmVzb2x2ZShzKTtpZighbyl7Y29uc3QgbD1gVW5yZXNvbHZlZCBhbGlhcyAodGhlIGFuY2hvciBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIGFsaWFzKTogJHt0aGlzLnNvdXJjZX1gO3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihsKX1sZXQgYT1uLmdldChvKTtpZihhfHwocGUobyxudWxsLHQpLGE9bi5nZXQobykpLCFhfHxhLnJlcz09PXZvaWQgMCl7Y29uc3QgbD0iVGhpcyBzaG91bGQgbm90IGhhcHBlbjogQWxpYXMgYW5jaG9yIHdhcyBub3QgcmVzb2x2ZWQ/Ijt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IobCl9aWYocj49MCYmKGEuY291bnQrPTEsYS5hbGlhc0NvdW50PT09MCYmKGEuYWxpYXNDb3VudD1EbihzLG8sbikpLGEuY291bnQqYS5hbGlhc0NvdW50PnIpKXtjb25zdCBsPSJFeGNlc3NpdmUgYWxpYXMgY291bnQgaW5kaWNhdGVzIGEgcmVzb3VyY2UgZXhoYXVzdGlvbiBhdHRhY2siO3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihsKX1yZXR1cm4gYS5yZXN9dG9TdHJpbmcoZSx0LG4pe2NvbnN0IHM9YCoke3RoaXMuc291cmNlfWA7aWYoZSl7aWYoY28odGhpcy5zb3VyY2UpLGUub3B0aW9ucy52ZXJpZnlBbGlhc09yZGVyJiYhZS5hbmNob3JzLmhhcyh0aGlzLnNvdXJjZSkpe2NvbnN0IHI9YFVucmVzb2x2ZWQgYWxpYXMgKHRoZSBhbmNob3IgbXVzdCBiZSBzZXQgYmVmb3JlIHRoZSBhbGlhcyk6ICR7dGhpcy5zb3VyY2V9YDt0aHJvdyBuZXcgRXJyb3Iocil9aWYoZS5pbXBsaWNpdEtleSlyZXR1cm5gJHtzfSBgfXJldHVybiBzfX1mdW5jdGlvbiBEbihpLGUsdCl7aWYoSmUoZSkpe2NvbnN0IG49ZS5yZXNvbHZlKGkpLHM9dCYmbiYmdC5nZXQobik7cmV0dXJuIHM/cy5jb3VudCpzLmFsaWFzQ291bnQ6MH1lbHNlIGlmKEcoZSkpe2xldCBuPTA7Zm9yKGNvbnN0IHMgb2YgZS5pdGVtcyl7Y29uc3Qgcj1EbihpLHMsdCk7cj5uJiYobj1yKX1yZXR1cm4gbn1lbHNlIGlmKEsoZSkpe2NvbnN0IG49RG4oaSxlLmtleSx0KSxzPURuKGksZS52YWx1ZSx0KTtyZXR1cm4gTWF0aC5tYXgobixzKX1yZXR1cm4gMX1jb25zdCBtbz1pPT4haXx8dHlwZW9mIGkhPSJmdW5jdGlvbiImJnR5cGVvZiBpIT0ib2JqZWN0IjtjbGFzcyBGIGV4dGVuZHMgUHN7Y29uc3RydWN0b3IoZSl7c3VwZXIoQWUpLHRoaXMudmFsdWU9ZX10b0pTT04oZSx0KXtyZXR1cm4gdCE9bnVsbCYmdC5rZWVwP3RoaXMudmFsdWU6cGUodGhpcy52YWx1ZSxlLHQpfXRvU3RyaW5nKCl7cmV0dXJuIFN0cmluZyh0aGlzLnZhbHVlKX19Ri5CTE9DS19GT0xERUQ9IkJMT0NLX0ZPTERFRCIsRi5CTE9DS19MSVRFUkFMPSJCTE9DS19MSVRFUkFMIixGLlBMQUlOPSJQTEFJTiIsRi5RVU9URV9ET1VCTEU9IlFVT1RFX0RPVUJMRSIsRi5RVU9URV9TSU5HTEU9IlFVT1RFX1NJTkdMRSI7Y29uc3QgV2g9InRhZzp5YW1sLm9yZywyMDAyOiI7ZnVuY3Rpb24gamgoaSxlLHQpe2lmKGUpe2NvbnN0IG49dC5maWx0ZXIocj0+ci50YWc9PT1lKSxzPW4uZmluZChyPT4hci5mb3JtYXQpPz9uWzBdO2lmKCFzKXRocm93IG5ldyBFcnJvcihgVGFnICR7ZX0gbm90IGZvdW5kYCk7cmV0dXJuIHN9cmV0dXJuIHQuZmluZChuPT57dmFyIHM7cmV0dXJuKChzPW4uaWRlbnRpZnkpPT1udWxsP3ZvaWQgMDpzLmNhbGwobixpKSkmJiFuLmZvcm1hdH0pfWZ1bmN0aW9uIFB0KGksZSx0KXt2YXIgYyxkLGY7aWYoY3QoaSkmJihpPWkuY29udGVudHMpLFEoaSkpcmV0dXJuIGk7aWYoSyhpKSl7Y29uc3QgcD0oZD0oYz10LnNjaGVtYVtSZV0pLmNyZWF0ZU5vZGUpPT1udWxsP3ZvaWQgMDpkLmNhbGwoYyx0LnNjaGVtYSxudWxsLHQpO3JldHVybiBwLml0ZW1zLnB1c2goaSkscH0oaSBpbnN0YW5jZW9mIFN0cmluZ3x8aSBpbnN0YW5jZW9mIE51bWJlcnx8aSBpbnN0YW5jZW9mIEJvb2xlYW58fHR5cGVvZiBCaWdJbnQ8InUiJiZpIGluc3RhbmNlb2YgQmlnSW50KSYmKGk9aS52YWx1ZU9mKCkpO2NvbnN0e2FsaWFzRHVwbGljYXRlT2JqZWN0czpuLG9uQW5jaG9yOnMsb25UYWdPYmo6cixzY2hlbWE6byxzb3VyY2VPYmplY3RzOmF9PXQ7bGV0IGw7aWYobiYmaSYmdHlwZW9mIGk9PSJvYmplY3QiKXtpZihsPWEuZ2V0KGkpLGwpcmV0dXJuIGwuYW5jaG9yfHwobC5hbmNob3I9cyhpKSksbmV3IEVuKGwuYW5jaG9yKTtsPXthbmNob3I6bnVsbCxub2RlOm51bGx9LGEuc2V0KGksbCl9ZSE9bnVsbCYmZS5zdGFydHNXaXRoKCIhISIpJiYoZT1XaCtlLnNsaWNlKDIpKTtsZXQgdT1qaChpLGUsby50YWdzKTtpZighdSl7aWYoaSYmdHlwZW9mIGkudG9KU09OPT0iZnVuY3Rpb24iJiYoaT1pLnRvSlNPTigpKSwhaXx8dHlwZW9mIGkhPSJvYmplY3QiKXtjb25zdCBwPW5ldyBGKGkpO3JldHVybiBsJiYobC5ub2RlPXApLHB9dT1pIGluc3RhbmNlb2YgTWFwP29bUmVdOlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaSk/b1t1dF06b1tSZV19ciYmKHIodSksZGVsZXRlIHQub25UYWdPYmopO2NvbnN0IGg9dSE9bnVsbCYmdS5jcmVhdGVOb2RlP3UuY3JlYXRlTm9kZSh0LnNjaGVtYSxpLHQpOnR5cGVvZigoZj11PT1udWxsP3ZvaWQgMDp1Lm5vZGVDbGFzcyk9PW51bGw/dm9pZCAwOmYuZnJvbSk9PSJmdW5jdGlvbiI/dS5ub2RlQ2xhc3MuZnJvbSh0LnNjaGVtYSxpLHQpOm5ldyBGKGkpO3JldHVybiBlP2gudGFnPWU6dS5kZWZhdWx0fHwoaC50YWc9dS50YWcpLGwmJihsLm5vZGU9aCksaH1mdW5jdGlvbiBNbihpLGUsdCl7bGV0IG49dDtmb3IobGV0IHM9ZS5sZW5ndGgtMTtzPj0wOy0tcyl7Y29uc3Qgcj1lW3NdO2lmKHR5cGVvZiByPT0ibnVtYmVyIiYmTnVtYmVyLmlzSW50ZWdlcihyKSYmcj49MCl7Y29uc3Qgbz1bXTtvW3JdPW4sbj1vfWVsc2Ugbj1uZXcgTWFwKFtbcixuXV0pfXJldHVybiBQdChuLHZvaWQgMCx7YWxpYXNEdXBsaWNhdGVPYmplY3RzOiExLGtlZXBVbmRlZmluZWQ6ITEsb25BbmNob3I6KCk9Pnt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgc2hvdWxkIG5vdCBoYXBwZW4sIHBsZWFzZSByZXBvcnQgYSBidWcuIil9LHNjaGVtYTppLHNvdXJjZU9iamVjdHM6bmV3IE1hcH0pfWNvbnN0ICR0PWk9Pmk9PW51bGx8fHR5cGVvZiBpPT0ib2JqZWN0IiYmISFpW1N5bWJvbC5pdGVyYXRvcl0oKS5uZXh0KCkuZG9uZTtjbGFzcyBBbiBleHRlbmRzIFBze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNjaGVtYSIse3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1jbG9uZShlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRoaXMpKTtyZXR1cm4gZSYmKHQuc2NoZW1hPWUpLHQuaXRlbXM9dC5pdGVtcy5tYXAobj0+UShuKXx8SyhuKT9uLmNsb25lKGUpOm4pLHRoaXMucmFuZ2UmJih0LnJhbmdlPXRoaXMucmFuZ2Uuc2xpY2UoKSksdH1hZGRJbihlLHQpe2lmKCR0KGUpKXRoaXMuYWRkKHQpO2Vsc2V7Y29uc3RbbiwuLi5zXT1lLHI9dGhpcy5nZXQobiwhMCk7aWYoRyhyKSlyLmFkZEluKHMsdCk7ZWxzZSBpZihyPT09dm9pZCAwJiZ0aGlzLnNjaGVtYSl0aGlzLnNldChuLE1uKHRoaXMuc2NoZW1hLHMsdCkpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBZQU1MIGNvbGxlY3Rpb24gYXQgJHtufS4gUmVtYWluaW5nIHBhdGg6ICR7c31gKX19ZGVsZXRlSW4oZSl7Y29uc3RbdCwuLi5uXT1lO2lmKG4ubGVuZ3RoPT09MClyZXR1cm4gdGhpcy5kZWxldGUodCk7Y29uc3Qgcz10aGlzLmdldCh0LCEwKTtpZihHKHMpKXJldHVybiBzLmRlbGV0ZUluKG4pO3Rocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgWUFNTCBjb2xsZWN0aW9uIGF0ICR7dH0uIFJlbWFpbmluZyBwYXRoOiAke259YCl9Z2V0SW4oZSx0KXtjb25zdFtuLC4uLnNdPWUscj10aGlzLmdldChuLCEwKTtyZXR1cm4gcy5sZW5ndGg9PT0wPyF0JiZqKHIpP3IudmFsdWU6cjpHKHIpP3IuZ2V0SW4ocyx0KTp2b2lkIDB9aGFzQWxsTnVsbFZhbHVlcyhlKXtyZXR1cm4gdGhpcy5pdGVtcy5ldmVyeSh0PT57aWYoIUsodCkpcmV0dXJuITE7Y29uc3Qgbj10LnZhbHVlO3JldHVybiBuPT1udWxsfHxlJiZqKG4pJiZuLnZhbHVlPT1udWxsJiYhbi5jb21tZW50QmVmb3JlJiYhbi5jb21tZW50JiYhbi50YWd9KX1oYXNJbihlKXtjb25zdFt0LC4uLm5dPWU7aWYobi5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmhhcyh0KTtjb25zdCBzPXRoaXMuZ2V0KHQsITApO3JldHVybiBHKHMpP3MuaGFzSW4obik6ITF9c2V0SW4oZSx0KXtjb25zdFtuLC4uLnNdPWU7aWYocy5sZW5ndGg9PT0wKXRoaXMuc2V0KG4sdCk7ZWxzZXtjb25zdCByPXRoaXMuZ2V0KG4sITApO2lmKEcocikpci5zZXRJbihzLHQpO2Vsc2UgaWYocj09PXZvaWQgMCYmdGhpcy5zY2hlbWEpdGhpcy5zZXQobixNbih0aGlzLnNjaGVtYSxzLHQpKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgWUFNTCBjb2xsZWN0aW9uIGF0ICR7bn0uIFJlbWFpbmluZyBwYXRoOiAke3N9YCl9fX1Bbi5tYXhGbG93U3RyaW5nU2luZ2xlTGluZUxlbmd0aD02MDtjb25zdCBxaD1pPT5pLnJlcGxhY2UoL14oPyEkKSg/OiAkKT8vZ20sIiMiKTtmdW5jdGlvbiBOZShpLGUpe3JldHVybi9eXG4rJC8udGVzdChpKT9pLnN1YnN0cmluZygxKTplP2kucmVwbGFjZSgvXig/ISAqJCkvZ20sZSk6aX1jb25zdCAkZT0oaSxlLHQpPT5pLmVuZHNXaXRoKGAKYCk/TmUodCxlKTp0LmluY2x1ZGVzKGAKYCk/YApgK05lKHQsZSk6KGkuZW5kc1dpdGgoIiAiKT8iIjoiICIpK3QscG89ImZsb3ciLCRzPSJibG9jayIsTm49InF1b3RlZCI7ZnVuY3Rpb24ga24oaSxlLHQ9ImZsb3ciLHtpbmRlbnRBdFN0YXJ0Om4sbGluZVdpZHRoOnM9ODAsbWluQ29udGVudFdpZHRoOnI9MjAsb25Gb2xkOm8sb25PdmVyZmxvdzphfT17fSl7aWYoIXN8fHM8MClyZXR1cm4gaTtjb25zdCBsPU1hdGgubWF4KDErciwxK3MtZS5sZW5ndGgpO2lmKGkubGVuZ3RoPD1sKXJldHVybiBpO2NvbnN0IHU9W10saD17fTtsZXQgYz1zLWUubGVuZ3RoO3R5cGVvZiBuPT0ibnVtYmVyIiYmKG4+cy1NYXRoLm1heCgyLHIpP3UucHVzaCgwKTpjPXMtbik7bGV0IGQsZixwPSExLG09LTEseT0tMSxUPS0xO3Q9PT0kcyYmKG09eW8oaSxtKSxtIT09LTEmJihjPW0rbCkpO2ZvcihsZXQgXztfPWlbbSs9MV07KXtpZih0PT09Tm4mJl89PT0iXFwiKXtzd2l0Y2goeT1tLGlbbSsxXSl7Y2FzZSJ4IjptKz0zO2JyZWFrO2Nhc2UidSI6bSs9NTticmVhaztjYXNlIlUiOm0rPTk7YnJlYWs7ZGVmYXVsdDptKz0xfVQ9bX1pZihfPT09YApgKXQ9PT0kcyYmKG09eW8oaSxtKSksYz1tK2wsZD12b2lkIDA7ZWxzZXtpZihfPT09IiAiJiZmJiZmIT09IiAiJiZmIT09YApgJiZmIT09IgkiKXtjb25zdCBPPWlbbSsxXTtPJiZPIT09IiAiJiZPIT09YApgJiZPIT09IgkiJiYoZD1tKX1pZihtPj1jKWlmKGQpdS5wdXNoKGQpLGM9ZCtsLGQ9dm9pZCAwO2Vsc2UgaWYodD09PU5uKXtmb3IoO2Y9PT0iICJ8fGY9PT0iCSI7KWY9XyxfPWlbbSs9MV0scD0hMDtjb25zdCBPPW0+VCsxP20tMjp5LTE7aWYoaFtPXSlyZXR1cm4gaTt1LnB1c2goTyksaFtPXT0hMCxjPU8rbCxkPXZvaWQgMH1lbHNlIHA9ITB9Zj1ffWlmKHAmJmEmJmEoKSx1Lmxlbmd0aD09PTApcmV0dXJuIGk7byYmbygpO2xldCB2PWkuc2xpY2UoMCx1WzBdKTtmb3IobGV0IF89MDtfPHUubGVuZ3RoOysrXyl7Y29uc3QgTz11W19dLEk9dVtfKzFdfHxpLmxlbmd0aDtPPT09MD92PWAKJHtlfSR7aS5zbGljZSgwLEkpfWA6KHQ9PT1ObiYmaFtPXSYmKHYrPWAke2lbT119XFxgKSx2Kz1gCiR7ZX0ke2kuc2xpY2UoTysxLEkpfWApfXJldHVybiB2fWZ1bmN0aW9uIHlvKGksZSl7bGV0IHQ9aVtlKzFdO2Zvcig7dD09PSIgInx8dD09PSIJIjspe2RvIHQ9aVtlKz0xXTt3aGlsZSh0JiZ0IT09YApgKTt0PWlbZSsxXX1yZXR1cm4gZX1jb25zdCBDbj0oaSxlKT0+KHtpbmRlbnRBdFN0YXJ0OmU/aS5pbmRlbnQubGVuZ3RoOmkuaW5kZW50QXRTdGFydCxsaW5lV2lkdGg6aS5vcHRpb25zLmxpbmVXaWR0aCxtaW5Db250ZW50V2lkdGg6aS5vcHRpb25zLm1pbkNvbnRlbnRXaWR0aH0pLExuPWk9Pi9eKCV8LS0tfFwuXC5cLikvbS50ZXN0KGkpO2Z1bmN0aW9uIFpoKGksZSx0KXtpZighZXx8ZTwwKXJldHVybiExO2NvbnN0IG49ZS10LHM9aS5sZW5ndGg7aWYoczw9bilyZXR1cm4hMTtmb3IobGV0IHI9MCxvPTA7cjxzOysrcilpZihpW3JdPT09YApgKXtpZihyLW8+bilyZXR1cm4hMDtpZihvPXIrMSxzLW88PW4pcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gVXQoaSxlKXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGkpO2lmKGUub3B0aW9ucy5kb3VibGVRdW90ZWRBc0pTT04pcmV0dXJuIHQ7Y29uc3R7aW1wbGljaXRLZXk6bn09ZSxzPWUub3B0aW9ucy5kb3VibGVRdW90ZWRNaW5NdWx0aUxpbmVMZW5ndGgscj1lLmluZGVudHx8KExuKGkpPyIgICI6IiIpO2xldCBvPSIiLGE9MDtmb3IobGV0IGw9MCx1PXRbbF07dTt1PXRbKytsXSlpZih1PT09IiAiJiZ0W2wrMV09PT0iXFwiJiZ0W2wrMl09PT0ibiImJihvKz10LnNsaWNlKGEsbCkrIlxcICIsbCs9MSxhPWwsdT0iXFwiKSx1PT09IlxcIilzd2l0Y2godFtsKzFdKXtjYXNlInUiOntvKz10LnNsaWNlKGEsbCk7Y29uc3QgaD10LnN1YnN0cihsKzIsNCk7c3dpdGNoKGgpe2Nhc2UiMDAwMCI6bys9IlxcMCI7YnJlYWs7Y2FzZSIwMDA3IjpvKz0iXFxhIjticmVhaztjYXNlIjAwMGIiOm8rPSJcXHYiO2JyZWFrO2Nhc2UiMDAxYiI6bys9IlxcZSI7YnJlYWs7Y2FzZSIwMDg1IjpvKz0iXFxOIjticmVhaztjYXNlIjAwYTAiOm8rPSJcXF8iO2JyZWFrO2Nhc2UiMjAyOCI6bys9IlxcTCI7YnJlYWs7Y2FzZSIyMDI5IjpvKz0iXFxQIjticmVhaztkZWZhdWx0Omguc3Vic3RyKDAsMik9PT0iMDAiP28rPSJcXHgiK2guc3Vic3RyKDIpOm8rPXQuc3Vic3RyKGwsNil9bCs9NSxhPWwrMX1icmVhaztjYXNlIm4iOmlmKG58fHRbbCsyXT09PSciJ3x8dC5sZW5ndGg8cylsKz0xO2Vsc2V7Zm9yKG8rPXQuc2xpY2UoYSxsKStgCgpgO3RbbCsyXT09PSJcXCImJnRbbCszXT09PSJuIiYmdFtsKzRdIT09JyInOylvKz1gCmAsbCs9MjtvKz1yLHRbbCsyXT09PSIgIiYmKG8rPSJcXCIpLGwrPTEsYT1sKzF9YnJlYWs7ZGVmYXVsdDpsKz0xfXJldHVybiBvPWE/byt0LnNsaWNlKGEpOnQsbj9vOmtuKG8scixObixDbihlLCExKSl9ZnVuY3Rpb24gVXMoaSxlKXtpZihlLm9wdGlvbnMuc2luZ2xlUXVvdGU9PT0hMXx8ZS5pbXBsaWNpdEtleSYmaS5pbmNsdWRlcyhgCmApfHwvWyBcdF1cbnxcblsgXHRdLy50ZXN0KGkpKXJldHVybiBVdChpLGUpO2NvbnN0IHQ9ZS5pbmRlbnR8fChMbihpKT8iICAiOiIiKSxuPSInIitpLnJlcGxhY2UoLycvZywiJyciKS5yZXBsYWNlKC9cbisvZyxgJCYKJHt0fWApKyInIjtyZXR1cm4gZS5pbXBsaWNpdEtleT9uOmtuKG4sdCxwbyxDbihlLCExKSl9ZnVuY3Rpb24geXQoaSxlKXtjb25zdHtzaW5nbGVRdW90ZTp0fT1lLm9wdGlvbnM7bGV0IG47aWYodD09PSExKW49VXQ7ZWxzZXtjb25zdCBzPWkuaW5jbHVkZXMoJyInKSxyPWkuaW5jbHVkZXMoIiciKTtzJiYhcj9uPVVzOnImJiFzP249VXQ6bj10P1VzOlV0fXJldHVybiBuKGksZSl9bGV0IEJzO3RyeXtCcz1uZXcgUmVnRXhwKGAoXnwoPzwhCikpCisoPyEKfCQpYCwiZyIpfWNhdGNoe0JzPS9cbisoPyFcbnwkKS9nfWZ1bmN0aW9uIHhuKHtjb21tZW50OmksdHlwZTplLHZhbHVlOnR9LG4scyxyKXtjb25zdHtibG9ja1F1b3RlOm8sY29tbWVudFN0cmluZzphLGxpbmVXaWR0aDpsfT1uLm9wdGlvbnM7aWYoIW98fC9cbltcdCBdKyQvLnRlc3QodCl8fC9eXHMqJC8udGVzdCh0KSlyZXR1cm4geXQodCxuKTtjb25zdCB1PW4uaW5kZW50fHwobi5mb3JjZUJsb2NrSW5kZW50fHxMbih0KT8iICAiOiIiKSxoPW89PT0ibGl0ZXJhbCI/ITA6bz09PSJmb2xkZWQifHxlPT09Ri5CTE9DS19GT0xERUQ/ITE6ZT09PUYuQkxPQ0tfTElURVJBTD8hMDohWmgodCxsLHUubGVuZ3RoKTtpZighdClyZXR1cm4gaD9gfApgOmA+CmA7bGV0IGMsZDtmb3IoZD10Lmxlbmd0aDtkPjA7LS1kKXtjb25zdCB3PXRbZC0xXTtpZih3IT09YApgJiZ3IT09IgkiJiZ3IT09IiAiKWJyZWFrfWxldCBmPXQuc3Vic3RyaW5nKGQpO2NvbnN0IHA9Zi5pbmRleE9mKGAKYCk7cD09PS0xP2M9Ii0iOnQ9PT1mfHxwIT09Zi5sZW5ndGgtMT8oYz0iKyIsciYmcigpKTpjPSIiLGYmJih0PXQuc2xpY2UoMCwtZi5sZW5ndGgpLGZbZi5sZW5ndGgtMV09PT1gCmAmJihmPWYuc2xpY2UoMCwtMSkpLGY9Zi5yZXBsYWNlKEJzLGAkJiR7dX1gKSk7bGV0IG09ITEseSxUPS0xO2Zvcih5PTA7eTx0Lmxlbmd0aDsrK3kpe2NvbnN0IHc9dFt5XTtpZih3PT09IiAiKW09ITA7ZWxzZSBpZih3PT09YApgKVQ9eTtlbHNlIGJyZWFrfWxldCB2PXQuc3Vic3RyaW5nKDAsVDx5P1QrMTp5KTt2JiYodD10LnN1YnN0cmluZyh2Lmxlbmd0aCksdj12LnJlcGxhY2UoL1xuKy9nLGAkJiR7dX1gKSk7bGV0IE89KGg/InwiOiI+IikrKG0/dT8iMiI6IjEiOiIiKStjO2lmKGkmJihPKz0iICIrYShpLnJlcGxhY2UoLyA/W1xyXG5dKy9nLCIgIikpLHMmJnMoKSksaClyZXR1cm4gdD10LnJlcGxhY2UoL1xuKy9nLGAkJiR7dX1gKSxgJHtPfQoke3V9JHt2fSR7dH0ke2Z9YDt0PXQucmVwbGFjZSgvXG4rL2csYAokJmApLnJlcGxhY2UoLyg/Ol58XG4pKFtcdCBdLiopKD86KFtcblx0IF0qKVxuKD8hW1xuXHQgXSkpPy9nLCIkMSQyIikucmVwbGFjZSgvXG4rL2csYCQmJHt1fWApO2NvbnN0IEk9a24oYCR7dn0ke3R9JHtmfWAsdSwkcyxDbihuLCEwKSk7cmV0dXJuYCR7T30KJHt1fSR7SX1gfWZ1bmN0aW9uIEtoKGksZSx0LG4pe2NvbnN0e3R5cGU6cyx2YWx1ZTpyfT1pLHthY3R1YWxTdHJpbmc6byxpbXBsaWNpdEtleTphLGluZGVudDpsLGluZGVudFN0ZXA6dSxpbkZsb3c6aH09ZTtpZihhJiYvW1xuW1xde30sXS8udGVzdChyKXx8aCYmL1tbXF17fSxdLy50ZXN0KHIpKXJldHVybiB5dChyLGUpO2lmKCFyfHwvXltcblx0ICxbXF17fSMmKiF8PiciJUBgXXxeWz8tXSR8Xls/LV1bIFx0XXxbXG46XVsgXHRdfFsgXHRdXG58W1xuXHQgXSN8W1xuXHQgOl0kLy50ZXN0KHIpKXJldHVybiBhfHxofHwhci5pbmNsdWRlcyhgCmApP3l0KHIsZSk6eG4oaSxlLHQsbik7aWYoIWEmJiFoJiZzIT09Ri5QTEFJTiYmci5pbmNsdWRlcyhgCmApKXJldHVybiB4bihpLGUsdCxuKTtpZihMbihyKSl7aWYobD09PSIiKXJldHVybiBlLmZvcmNlQmxvY2tJbmRlbnQ9ITAseG4oaSxlLHQsbik7aWYoYSYmbD09PXUpcmV0dXJuIHl0KHIsZSl9Y29uc3QgYz1yLnJlcGxhY2UoL1xuKy9nLGAkJgoke2x9YCk7aWYobyl7Y29uc3QgZD1tPT57dmFyIHk7cmV0dXJuIG0uZGVmYXVsdCYmbS50YWchPT0idGFnOnlhbWwub3JnLDIwMDI6c3RyIiYmKCh5PW0udGVzdCk9PW51bGw/dm9pZCAwOnkudGVzdChjKSl9LHtjb21wYXQ6Zix0YWdzOnB9PWUuZG9jLnNjaGVtYTtpZihwLnNvbWUoZCl8fGYhPW51bGwmJmYuc29tZShkKSlyZXR1cm4geXQocixlKX1yZXR1cm4gYT9jOmtuKGMsbCxwbyxDbihlLCExKSl9ZnVuY3Rpb24gQnQoaSxlLHQsbil7Y29uc3R7aW1wbGljaXRLZXk6cyxpbkZsb3c6cn09ZSxvPXR5cGVvZiBpLnZhbHVlPT0ic3RyaW5nIj9pOk9iamVjdC5hc3NpZ24oe30saSx7dmFsdWU6U3RyaW5nKGkudmFsdWUpfSk7bGV0e3R5cGU6YX09aTthIT09Ri5RVU9URV9ET1VCTEUmJi9bXHgwMC1ceDA4XHgwYi1ceDFmXHg3Zi1ceDlmXHV7RDgwMH0tXHV7REZGRn1dL3UudGVzdChvLnZhbHVlKSYmKGE9Ri5RVU9URV9ET1VCTEUpO2NvbnN0IGw9aD0+e3N3aXRjaChoKXtjYXNlIEYuQkxPQ0tfRk9MREVEOmNhc2UgRi5CTE9DS19MSVRFUkFMOnJldHVybiBzfHxyP3l0KG8udmFsdWUsZSk6eG4obyxlLHQsbik7Y2FzZSBGLlFVT1RFX0RPVUJMRTpyZXR1cm4gVXQoby52YWx1ZSxlKTtjYXNlIEYuUVVPVEVfU0lOR0xFOnJldHVybiBVcyhvLnZhbHVlLGUpO2Nhc2UgRi5QTEFJTjpyZXR1cm4gS2gobyxlLHQsbik7ZGVmYXVsdDpyZXR1cm4gbnVsbH19O2xldCB1PWwoYSk7aWYodT09PW51bGwpe2NvbnN0e2RlZmF1bHRLZXlUeXBlOmgsZGVmYXVsdFN0cmluZ1R5cGU6Y309ZS5vcHRpb25zLGQ9cyYmaHx8YztpZih1PWwoZCksdT09PW51bGwpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkZWZhdWx0IHN0cmluZyB0eXBlICR7ZH1gKX1yZXR1cm4gdX1mdW5jdGlvbiBnbyhpLGUpe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7YmxvY2tRdW90ZTohMCxjb21tZW50U3RyaW5nOnFoLGRlZmF1bHRLZXlUeXBlOm51bGwsZGVmYXVsdFN0cmluZ1R5cGU6IlBMQUlOIixkaXJlY3RpdmVzOm51bGwsZG91YmxlUXVvdGVkQXNKU09OOiExLGRvdWJsZVF1b3RlZE1pbk11bHRpTGluZUxlbmd0aDo0MCxmYWxzZVN0cjoiZmFsc2UiLGZsb3dDb2xsZWN0aW9uUGFkZGluZzohMCxpbmRlbnRTZXE6ITAsbGluZVdpZHRoOjgwLG1pbkNvbnRlbnRXaWR0aDoyMCxudWxsU3RyOiJudWxsIixzaW1wbGVLZXlzOiExLHNpbmdsZVF1b3RlOm51bGwsdHJ1ZVN0cjoidHJ1ZSIsdmVyaWZ5QWxpYXNPcmRlcjohMH0saS5zY2hlbWEudG9TdHJpbmdPcHRpb25zLGUpO2xldCBuO3N3aXRjaCh0LmNvbGxlY3Rpb25TdHlsZSl7Y2FzZSJibG9jayI6bj0hMTticmVhaztjYXNlImZsb3ciOm49ITA7YnJlYWs7ZGVmYXVsdDpuPW51bGx9cmV0dXJue2FuY2hvcnM6bmV3IFNldCxkb2M6aSxmbG93Q29sbGVjdGlvblBhZGRpbmc6dC5mbG93Q29sbGVjdGlvblBhZGRpbmc/IiAiOiIiLGluZGVudDoiIixpbmRlbnRTdGVwOnR5cGVvZiB0LmluZGVudD09Im51bWJlciI/IiAiLnJlcGVhdCh0LmluZGVudCk6IiAgIixpbkZsb3c6bixvcHRpb25zOnR9fWZ1bmN0aW9uIEdoKGksZSl7dmFyIHM7aWYoZS50YWcpe2NvbnN0IHI9aS5maWx0ZXIobz0+by50YWc9PT1lLnRhZyk7aWYoci5sZW5ndGg+MClyZXR1cm4gci5maW5kKG89Pm8uZm9ybWF0PT09ZS5mb3JtYXQpPz9yWzBdfWxldCB0LG47aWYoaihlKSl7bj1lLnZhbHVlO2NvbnN0IHI9aS5maWx0ZXIobz0+e3ZhciBhO3JldHVybihhPW8uaWRlbnRpZnkpPT1udWxsP3ZvaWQgMDphLmNhbGwobyxuKX0pO3Q9ci5maW5kKG89Pm8uZm9ybWF0PT09ZS5mb3JtYXQpPz9yLmZpbmQobz0+IW8uZm9ybWF0KX1lbHNlIG49ZSx0PWkuZmluZChyPT5yLm5vZGVDbGFzcyYmbiBpbnN0YW5jZW9mIHIubm9kZUNsYXNzKTtpZighdCl7Y29uc3Qgcj0oKHM9bj09bnVsbD92b2lkIDA6bi5jb25zdHJ1Y3Rvcik9PW51bGw/dm9pZCAwOnMubmFtZSk/P3R5cGVvZiBuO3Rocm93IG5ldyBFcnJvcihgVGFnIG5vdCByZXNvbHZlZCBmb3IgJHtyfSB2YWx1ZWApfXJldHVybiB0fWZ1bmN0aW9uIEpoKGksZSx7YW5jaG9yczp0LGRvYzpufSl7aWYoIW4uZGlyZWN0aXZlcylyZXR1cm4iIjtjb25zdCBzPVtdLHI9KGooaSl8fEcoaSkpJiZpLmFuY2hvcjtyJiZjbyhyKSYmKHQuYWRkKHIpLHMucHVzaChgJiR7cn1gKSk7Y29uc3Qgbz1pLnRhZz9pLnRhZzplLmRlZmF1bHQ/bnVsbDplLnRhZztyZXR1cm4gbyYmcy5wdXNoKG4uZGlyZWN0aXZlcy50YWdTdHJpbmcobykpLHMuam9pbigiICIpfWZ1bmN0aW9uIGd0KGksZSx0LG4pe3ZhciBsO2lmKEsoaSkpcmV0dXJuIGkudG9TdHJpbmcoZSx0LG4pO2lmKEplKGkpKXtpZihlLmRvYy5kaXJlY3RpdmVzKXJldHVybiBpLnRvU3RyaW5nKGUpO2lmKChsPWUucmVzb2x2ZWRBbGlhc2VzKSE9bnVsbCYmbC5oYXMoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHN0cmluZ2lmeSBjaXJjdWxhciBzdHJ1Y3R1cmUgd2l0aG91dCBhbGlhcyBub2RlcyIpO2UucmVzb2x2ZWRBbGlhc2VzP2UucmVzb2x2ZWRBbGlhc2VzLmFkZChpKTplLnJlc29sdmVkQWxpYXNlcz1uZXcgU2V0KFtpXSksaT1pLnJlc29sdmUoZS5kb2MpfWxldCBzO2NvbnN0IHI9UShpKT9pOmUuZG9jLmNyZWF0ZU5vZGUoaSx7b25UYWdPYmo6dT0+cz11fSk7c3x8KHM9R2goZS5kb2Muc2NoZW1hLnRhZ3MscikpO2NvbnN0IG89SmgocixzLGUpO28ubGVuZ3RoPjAmJihlLmluZGVudEF0U3RhcnQ9KGUuaW5kZW50QXRTdGFydD8/MCkrby5sZW5ndGgrMSk7Y29uc3QgYT10eXBlb2Ygcy5zdHJpbmdpZnk9PSJmdW5jdGlvbiI/cy5zdHJpbmdpZnkocixlLHQsbik6aihyKT9CdChyLGUsdCxuKTpyLnRvU3RyaW5nKGUsdCxuKTtyZXR1cm4gbz9qKHIpfHxhWzBdPT09InsifHxhWzBdPT09IlsiP2Ake299ICR7YX1gOmAke299CiR7ZS5pbmRlbnR9JHthfWA6YX1mdW5jdGlvbiBYaCh7a2V5OmksdmFsdWU6ZX0sdCxuLHMpe2NvbnN0e2FsbE51bGxWYWx1ZXM6cixkb2M6byxpbmRlbnQ6YSxpbmRlbnRTdGVwOmwsb3B0aW9uczp7Y29tbWVudFN0cmluZzp1LGluZGVudFNlcTpoLHNpbXBsZUtleXM6Y319PXQ7bGV0IGQ9UShpKSYmaS5jb21tZW50fHxudWxsO2lmKGMpe2lmKGQpdGhyb3cgbmV3IEVycm9yKCJXaXRoIHNpbXBsZSBrZXlzLCBrZXkgbm9kZXMgY2Fubm90IGhhdmUgY29tbWVudHMiKTtpZihHKGkpKXtjb25zdCBBPSJXaXRoIHNpbXBsZSBrZXlzLCBjb2xsZWN0aW9uIGNhbm5vdCBiZSB1c2VkIGFzIGEga2V5IHZhbHVlIjt0aHJvdyBuZXcgRXJyb3IoQSl9fWxldCBmPSFjJiYoIWl8fGQmJmU9PW51bGwmJiF0LmluRmxvd3x8RyhpKXx8KGooaSk/aS50eXBlPT09Ri5CTE9DS19GT0xERUR8fGkudHlwZT09PUYuQkxPQ0tfTElURVJBTDp0eXBlb2YgaT09Im9iamVjdCIpKTt0PU9iamVjdC5hc3NpZ24oe30sdCx7YWxsTnVsbFZhbHVlczohMSxpbXBsaWNpdEtleTohZiYmKGN8fCFyKSxpbmRlbnQ6YStsfSk7bGV0IHA9ITEsbT0hMSx5PWd0KGksdCwoKT0+cD0hMCwoKT0+bT0hMCk7aWYoIWYmJiF0LmluRmxvdyYmeS5sZW5ndGg+MTAyNCl7aWYoYyl0aHJvdyBuZXcgRXJyb3IoIldpdGggc2ltcGxlIGtleXMsIHNpbmdsZSBsaW5lIHNjYWxhciBtdXN0IG5vdCBzcGFuIG1vcmUgdGhhbiAxMDI0IGNoYXJhY3RlcnMiKTtmPSEwfWlmKHQuaW5GbG93KXtpZihyfHxlPT1udWxsKXJldHVybiBwJiZuJiZuKCkseT09PSIiPyI/IjpmP2A/ICR7eX1gOnl9ZWxzZSBpZihyJiYhY3x8ZT09bnVsbCYmZilyZXR1cm4geT1gPyAke3l9YCxkJiYhcD95Kz0kZSh5LHQuaW5kZW50LHUoZCkpOm0mJnMmJnMoKSx5O3AmJihkPW51bGwpLGY/KGQmJih5Kz0kZSh5LHQuaW5kZW50LHUoZCkpKSx5PWA/ICR7eX0KJHthfTpgKTooeT1gJHt5fTpgLGQmJih5Kz0kZSh5LHQuaW5kZW50LHUoZCkpKSk7bGV0IFQsdixfO1EoZSk/KFQ9ISFlLnNwYWNlQmVmb3JlLHY9ZS5jb21tZW50QmVmb3JlLF89ZS5jb21tZW50KTooVD0hMSx2PW51bGwsXz1udWxsLGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9by5jcmVhdGVOb2RlKGUpKSksdC5pbXBsaWNpdEtleT0hMSwhZiYmIWQmJmooZSkmJih0LmluZGVudEF0U3RhcnQ9eS5sZW5ndGgrMSksbT0hMSwhaCYmbC5sZW5ndGg+PTImJiF0LmluRmxvdyYmIWYmJmh0KGUpJiYhZS5mbG93JiYhZS50YWcmJiFlLmFuY2hvciYmKHQuaW5kZW50PXQuaW5kZW50LnN1YnN0cmluZygyKSk7bGV0IE89ITE7Y29uc3QgST1ndChlLHQsKCk9Pk89ITAsKCk9Pm09ITApO2xldCB3PSIgIjtpZihkfHxUfHx2KXtpZih3PVQ/YApgOiIiLHYpe2NvbnN0IEE9dSh2KTt3Kz1gCiR7TmUoQSx0LmluZGVudCl9YH1JPT09IiImJiF0LmluRmxvdz93PT09YApgJiYodz1gCgpgKTp3Kz1gCiR7dC5pbmRlbnR9YH1lbHNlIGlmKCFmJiZHKGUpKXtjb25zdCBBPUlbMF0sRT1JLmluZGV4T2YoYApgKSxDPUUhPT0tMSxQPXQuaW5GbG93Pz9lLmZsb3c/P2UuaXRlbXMubGVuZ3RoPT09MDtpZihDfHwhUCl7bGV0IFk9ITE7aWYoQyYmKEE9PT0iJiJ8fEE9PT0iISIpKXtsZXQgeD1JLmluZGV4T2YoIiAiKTtBPT09IiYiJiZ4IT09LTEmJng8RSYmSVt4KzFdPT09IiEiJiYoeD1JLmluZGV4T2YoIiAiLHgrMSkpLCh4PT09LTF8fEU8eCkmJihZPSEwKX1ZfHwodz1gCiR7dC5pbmRlbnR9YCl9fWVsc2UoST09PSIifHxJWzBdPT09YApgKSYmKHc9IiIpO3JldHVybiB5Kz13K0ksdC5pbkZsb3c/TyYmbiYmbigpOl8mJiFPP3krPSRlKHksdC5pbmRlbnQsdShfKSk6bSYmcyYmcygpLHl9ZnVuY3Rpb24gVG8oaSxlKXsoaT09PSJkZWJ1ZyJ8fGk9PT0id2FybiIpJiYodHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLmVtaXRXYXJuaW5nP3Byb2Nlc3MuZW1pdFdhcm5pbmcoZSk6Y29uc29sZS53YXJuKGUpKX1jb25zdCB3bz0iPDwiO2Z1bmN0aW9uIHZvKGksZSx7a2V5OnQsdmFsdWU6bn0pe2lmKGkhPW51bGwmJmkuZG9jLnNjaGVtYS5tZXJnZSYmUWgodCkpaWYobj1KZShuKT9uLnJlc29sdmUoaS5kb2MpOm4saHQobikpZm9yKGNvbnN0IHMgb2Ygbi5pdGVtcylIcyhpLGUscyk7ZWxzZSBpZihBcnJheS5pc0FycmF5KG4pKWZvcihjb25zdCBzIG9mIG4pSHMoaSxlLHMpO2Vsc2UgSHMoaSxlLG4pO2Vsc2V7Y29uc3Qgcz1wZSh0LCIiLGkpO2lmKGUgaW5zdGFuY2VvZiBNYXApZS5zZXQocyxwZShuLHMsaSkpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFNldCllLmFkZChzKTtlbHNle2NvbnN0IHI9ZWQodCxzLGkpLG89cGUobixyLGkpO3IgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTpvLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk6ZVtyXT1vfX1yZXR1cm4gZX1jb25zdCBRaD1pPT5pPT09d298fGooaSkmJmkudmFsdWU9PT13byYmKCFpLnR5cGV8fGkudHlwZT09PUYuUExBSU4pO2Z1bmN0aW9uIEhzKGksZSx0KXtjb25zdCBuPWkmJkplKHQpP3QucmVzb2x2ZShpLmRvYyk6dDtpZighZnQobikpdGhyb3cgbmV3IEVycm9yKCJNZXJnZSBzb3VyY2VzIG11c3QgYmUgbWFwcyBvciBtYXAgYWxpYXNlcyIpO2NvbnN0IHM9bi50b0pTT04obnVsbCxpLE1hcCk7Zm9yKGNvbnN0W3Isb11vZiBzKWUgaW5zdGFuY2VvZiBNYXA/ZS5oYXMocil8fGUuc2V0KHIsbyk6ZSBpbnN0YW5jZW9mIFNldD9lLmFkZChyKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6byx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO3JldHVybiBlfWZ1bmN0aW9uIGVkKGksZSx0KXtpZihlPT09bnVsbClyZXR1cm4iIjtpZih0eXBlb2YgZSE9Im9iamVjdCIpcmV0dXJuIFN0cmluZyhlKTtpZihRKGkpJiZ0JiZ0LmRvYyl7Y29uc3Qgbj1nbyh0LmRvYyx7fSk7bi5hbmNob3JzPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgdC5hbmNob3JzLmtleXMoKSluLmFuY2hvcnMuYWRkKHIuYW5jaG9yKTtuLmluRmxvdz0hMCxuLmluU3RyaW5naWZ5S2V5PSEwO2NvbnN0IHM9aS50b1N0cmluZyhuKTtpZighdC5tYXBLZXlXYXJuZWQpe2xldCByPUpTT04uc3RyaW5naWZ5KHMpO3IubGVuZ3RoPjQwJiYocj1yLnN1YnN0cmluZygwLDM2KSsnLi4uIicpLFRvKHQuZG9jLm9wdGlvbnMubG9nTGV2ZWwsYEtleXMgd2l0aCBjb2xsZWN0aW9uIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkIGR1ZSB0byBKUyBPYmplY3QgcmVzdHJpY3Rpb25zOiAke3J9LiBTZXQgbWFwQXNNYXA6IHRydWUgdG8gdXNlIG9iamVjdCBrZXlzLmApLHQubWFwS2V5V2FybmVkPSEwfXJldHVybiBzfXJldHVybiBKU09OLnN0cmluZ2lmeShlKX1mdW5jdGlvbiBWcyhpLGUsdCl7Y29uc3Qgbj1QdChpLHZvaWQgMCx0KSxzPVB0KGUsdm9pZCAwLHQpO3JldHVybiBuZXcgc2UobixzKX1jbGFzcyBzZXtjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbWUse3ZhbHVlOnJvfSksdGhpcy5rZXk9ZSx0aGlzLnZhbHVlPXR9Y2xvbmUoZSl7bGV0e2tleTp0LHZhbHVlOm59PXRoaXM7cmV0dXJuIFEodCkmJih0PXQuY2xvbmUoZSkpLFEobikmJihuPW4uY2xvbmUoZSkpLG5ldyBzZSh0LG4pfXRvSlNPTihlLHQpe2NvbnN0IG49dCE9bnVsbCYmdC5tYXBBc01hcD9uZXcgTWFwOnt9O3JldHVybiB2byh0LG4sdGhpcyl9dG9TdHJpbmcoZSx0LG4pe3JldHVybiBlIT1udWxsJiZlLmRvYz9YaCh0aGlzLGUsdCxuKTpKU09OLnN0cmluZ2lmeSh0aGlzKX19ZnVuY3Rpb24gYm8oaSxlLHQpe3JldHVybihlLmluRmxvdz8/aS5mbG93P25kOnRkKShpLGUsdCl9ZnVuY3Rpb24gdGQoe2NvbW1lbnQ6aSxpdGVtczplfSx0LHtibG9ja0l0ZW1QcmVmaXg6bixmbG93Q2hhcnM6cyxpdGVtSW5kZW50OnIsb25DaG9tcEtlZXA6byxvbkNvbW1lbnQ6YX0pe2NvbnN0e2luZGVudDpsLG9wdGlvbnM6e2NvbW1lbnRTdHJpbmc6dX19PXQsaD1PYmplY3QuYXNzaWduKHt9LHQse2luZGVudDpyLHR5cGU6bnVsbH0pO2xldCBjPSExO2NvbnN0IGQ9W107Zm9yKGxldCBwPTA7cDxlLmxlbmd0aDsrK3Ape2NvbnN0IG09ZVtwXTtsZXQgeT1udWxsO2lmKFEobSkpIWMmJm0uc3BhY2VCZWZvcmUmJmQucHVzaCgiIiksWW4odCxkLG0uY29tbWVudEJlZm9yZSxjKSxtLmNvbW1lbnQmJih5PW0uY29tbWVudCk7ZWxzZSBpZihLKG0pKXtjb25zdCB2PVEobS5rZXkpP20ua2V5Om51bGw7diYmKCFjJiZ2LnNwYWNlQmVmb3JlJiZkLnB1c2goIiIpLFluKHQsZCx2LmNvbW1lbnRCZWZvcmUsYykpfWM9ITE7bGV0IFQ9Z3QobSxoLCgpPT55PW51bGwsKCk9PmM9ITApO3kmJihUKz0kZShULHIsdSh5KSkpLGMmJnkmJihjPSExKSxkLnB1c2gobitUKX1sZXQgZjtpZihkLmxlbmd0aD09PTApZj1zLnN0YXJ0K3MuZW5kO2Vsc2V7Zj1kWzBdO2ZvcihsZXQgcD0xO3A8ZC5sZW5ndGg7KytwKXtjb25zdCBtPWRbcF07Zis9bT9gCiR7bH0ke219YDpgCmB9fXJldHVybiBpPyhmKz1gCmArTmUodShpKSxsKSxhJiZhKCkpOmMmJm8mJm8oKSxmfWZ1bmN0aW9uIG5kKHtjb21tZW50OmksaXRlbXM6ZX0sdCx7Zmxvd0NoYXJzOm4saXRlbUluZGVudDpzLG9uQ29tbWVudDpyfSl7Y29uc3R7aW5kZW50Om8saW5kZW50U3RlcDphLGZsb3dDb2xsZWN0aW9uUGFkZGluZzpsLG9wdGlvbnM6e2NvbW1lbnRTdHJpbmc6dX19PXQ7cys9YTtjb25zdCBoPU9iamVjdC5hc3NpZ24oe30sdCx7aW5kZW50OnMsaW5GbG93OiEwLHR5cGU6bnVsbH0pO2xldCBjPSExLGQ9MDtjb25zdCBmPVtdO2ZvcihsZXQgVD0wO1Q8ZS5sZW5ndGg7KytUKXtjb25zdCB2PWVbVF07bGV0IF89bnVsbDtpZihRKHYpKXYuc3BhY2VCZWZvcmUmJmYucHVzaCgiIiksWW4odCxmLHYuY29tbWVudEJlZm9yZSwhMSksdi5jb21tZW50JiYoXz12LmNvbW1lbnQpO2Vsc2UgaWYoSyh2KSl7Y29uc3QgST1RKHYua2V5KT92LmtleTpudWxsO0kmJihJLnNwYWNlQmVmb3JlJiZmLnB1c2goIiIpLFluKHQsZixJLmNvbW1lbnRCZWZvcmUsITEpLEkuY29tbWVudCYmKGM9ITApKTtjb25zdCB3PVEodi52YWx1ZSk/di52YWx1ZTpudWxsO3c/KHcuY29tbWVudCYmKF89dy5jb21tZW50KSx3LmNvbW1lbnRCZWZvcmUmJihjPSEwKSk6di52YWx1ZT09bnVsbCYmSSYmSS5jb21tZW50JiYoXz1JLmNvbW1lbnQpfV8mJihjPSEwKTtsZXQgTz1ndCh2LGgsKCk9Pl89bnVsbCk7VDxlLmxlbmd0aC0xJiYoTys9IiwiKSxfJiYoTys9JGUoTyxzLHUoXykpKSwhYyYmKGYubGVuZ3RoPmR8fE8uaW5jbHVkZXMoYApgKSkmJihjPSEwKSxmLnB1c2goTyksZD1mLmxlbmd0aH1sZXQgcDtjb25zdHtzdGFydDptLGVuZDp5fT1uO2lmKGYubGVuZ3RoPT09MClwPW0reTtlbHNlIGlmKGN8fChjPWYucmVkdWNlKCh2LF8pPT52K18ubGVuZ3RoKzIsMik+QW4ubWF4Rmxvd1N0cmluZ1NpbmdsZUxpbmVMZW5ndGgpLGMpe3A9bTtmb3IoY29uc3QgVCBvZiBmKXArPVQ/YAoke2F9JHtvfSR7VH1gOmAKYDtwKz1gCiR7b30ke3l9YH1lbHNlIHA9YCR7bX0ke2x9JHtmLmpvaW4oIiAiKX0ke2x9JHt5fWA7cmV0dXJuIGkmJihwKz0kZShwLG8sdShpKSksciYmcigpKSxwfWZ1bmN0aW9uIFluKHtpbmRlbnQ6aSxvcHRpb25zOntjb21tZW50U3RyaW5nOmV9fSx0LG4scyl7aWYobiYmcyYmKG49bi5yZXBsYWNlKC9eXG4rLywiIikpLG4pe2NvbnN0IHI9TmUoZShuKSxpKTt0LnB1c2goci50cmltU3RhcnQoKSl9fWZ1bmN0aW9uIFhlKGksZSl7Y29uc3QgdD1qKGUpP2UudmFsdWU6ZTtmb3IoY29uc3QgbiBvZiBpKWlmKEsobikmJihuLmtleT09PWV8fG4ua2V5PT09dHx8aihuLmtleSkmJm4ua2V5LnZhbHVlPT09dCkpcmV0dXJuIG59Y2xhc3MgdWUgZXh0ZW5kcyBBbntzdGF0aWMgZ2V0IHRhZ05hbWUoKXtyZXR1cm4idGFnOnlhbWwub3JnLDIwMDI6bWFwIn1jb25zdHJ1Y3RvcihlKXtzdXBlcihSZSxlKSx0aGlzLml0ZW1zPVtdfXN0YXRpYyBmcm9tKGUsdCxuKXtjb25zdHtrZWVwVW5kZWZpbmVkOnMscmVwbGFjZXI6cn09bixvPW5ldyB0aGlzKGUpLGE9KGwsdSk9PntpZih0eXBlb2Ygcj09ImZ1bmN0aW9uIil1PXIuY2FsbCh0LGwsdSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHIpJiYhci5pbmNsdWRlcyhsKSlyZXR1cm47KHUhPT12b2lkIDB8fHMpJiZvLml0ZW1zLnB1c2goVnMobCx1LG4pKX07aWYodCBpbnN0YW5jZW9mIE1hcClmb3IoY29uc3RbbCx1XW9mIHQpYShsLHUpO2Vsc2UgaWYodCYmdHlwZW9mIHQ9PSJvYmplY3QiKWZvcihjb25zdCBsIG9mIE9iamVjdC5rZXlzKHQpKWEobCx0W2xdKTtyZXR1cm4gdHlwZW9mIGUuc29ydE1hcEVudHJpZXM9PSJmdW5jdGlvbiImJm8uaXRlbXMuc29ydChlLnNvcnRNYXBFbnRyaWVzKSxvfWFkZChlLHQpe3ZhciBvO2xldCBuO0soZSk/bj1lOiFlfHx0eXBlb2YgZSE9Im9iamVjdCJ8fCEoImtleSJpbiBlKT9uPW5ldyBzZShlLGU9PW51bGw/dm9pZCAwOmUudmFsdWUpOm49bmV3IHNlKGUua2V5LGUudmFsdWUpO2NvbnN0IHM9WGUodGhpcy5pdGVtcyxuLmtleSkscj0obz10aGlzLnNjaGVtYSk9PW51bGw/dm9pZCAwOm8uc29ydE1hcEVudHJpZXM7aWYocyl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBLZXkgJHtuLmtleX0gYWxyZWFkeSBzZXRgKTtqKHMudmFsdWUpJiZtbyhuLnZhbHVlKT9zLnZhbHVlLnZhbHVlPW4udmFsdWU6cy52YWx1ZT1uLnZhbHVlfWVsc2UgaWYocil7Y29uc3QgYT10aGlzLml0ZW1zLmZpbmRJbmRleChsPT5yKG4sbCk8MCk7YT09PS0xP3RoaXMuaXRlbXMucHVzaChuKTp0aGlzLml0ZW1zLnNwbGljZShhLDAsbil9ZWxzZSB0aGlzLml0ZW1zLnB1c2gobil9ZGVsZXRlKGUpe2NvbnN0IHQ9WGUodGhpcy5pdGVtcyxlKTtyZXR1cm4gdD90aGlzLml0ZW1zLnNwbGljZSh0aGlzLml0ZW1zLmluZGV4T2YodCksMSkubGVuZ3RoPjA6ITF9Z2V0KGUsdCl7Y29uc3Qgbj1YZSh0aGlzLml0ZW1zLGUpLHM9bj09bnVsbD92b2lkIDA6bi52YWx1ZTtyZXR1cm4oIXQmJmoocyk/cy52YWx1ZTpzKT8/dm9pZCAwfWhhcyhlKXtyZXR1cm4hIVhlKHRoaXMuaXRlbXMsZSl9c2V0KGUsdCl7dGhpcy5hZGQobmV3IHNlKGUsdCksITApfXRvSlNPTihlLHQsbil7Y29uc3Qgcz1uP25ldyBuOnQhPW51bGwmJnQubWFwQXNNYXA/bmV3IE1hcDp7fTt0IT1udWxsJiZ0Lm9uQ3JlYXRlJiZ0Lm9uQ3JlYXRlKHMpO2Zvcihjb25zdCByIG9mIHRoaXMuaXRlbXMpdm8odCxzLHIpO3JldHVybiBzfXRvU3RyaW5nKGUsdCxuKXtpZighZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5pdGVtcylpZighSyhzKSl0aHJvdyBuZXcgRXJyb3IoYE1hcCBpdGVtcyBtdXN0IGFsbCBiZSBwYWlyczsgZm91bmQgJHtKU09OLnN0cmluZ2lmeShzKX0gaW5zdGVhZGApO3JldHVybiFlLmFsbE51bGxWYWx1ZXMmJnRoaXMuaGFzQWxsTnVsbFZhbHVlcyghMSkmJihlPU9iamVjdC5hc3NpZ24oe30sZSx7YWxsTnVsbFZhbHVlczohMH0pKSxibyh0aGlzLGUse2Jsb2NrSXRlbVByZWZpeDoiIixmbG93Q2hhcnM6e3N0YXJ0OiJ7IixlbmQ6In0ifSxpdGVtSW5kZW50OmUuaW5kZW50fHwiIixvbkNob21wS2VlcDpuLG9uQ29tbWVudDp0fSl9fWNvbnN0IFR0PXtjb2xsZWN0aW9uOiJtYXAiLGRlZmF1bHQ6ITAsbm9kZUNsYXNzOnVlLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6bWFwIixyZXNvbHZlKGksZSl7cmV0dXJuIGZ0KGkpfHxlKCJFeHBlY3RlZCBhIG1hcHBpbmcgZm9yIHRoaXMgdGFnIiksaX0sY3JlYXRlTm9kZTooaSxlLHQpPT51ZS5mcm9tKGksZSx0KX07Y2xhc3MgVWUgZXh0ZW5kcyBBbntzdGF0aWMgZ2V0IHRhZ05hbWUoKXtyZXR1cm4idGFnOnlhbWwub3JnLDIwMDI6c2VxIn1jb25zdHJ1Y3RvcihlKXtzdXBlcih1dCxlKSx0aGlzLml0ZW1zPVtdfWFkZChlKXt0aGlzLml0ZW1zLnB1c2goZSl9ZGVsZXRlKGUpe2NvbnN0IHQ9em4oZSk7cmV0dXJuIHR5cGVvZiB0IT0ibnVtYmVyIj8hMTp0aGlzLml0ZW1zLnNwbGljZSh0LDEpLmxlbmd0aD4wfWdldChlLHQpe2NvbnN0IG49em4oZSk7aWYodHlwZW9mIG4hPSJudW1iZXIiKXJldHVybjtjb25zdCBzPXRoaXMuaXRlbXNbbl07cmV0dXJuIXQmJmoocyk/cy52YWx1ZTpzfWhhcyhlKXtjb25zdCB0PXpuKGUpO3JldHVybiB0eXBlb2YgdD09Im51bWJlciImJnQ8dGhpcy5pdGVtcy5sZW5ndGh9c2V0KGUsdCl7Y29uc3Qgbj16bihlKTtpZih0eXBlb2YgbiE9Im51bWJlciIpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIHZhbGlkIGluZGV4LCBub3QgJHtlfS5gKTtjb25zdCBzPXRoaXMuaXRlbXNbbl07aihzKSYmbW8odCk/cy52YWx1ZT10OnRoaXMuaXRlbXNbbl09dH10b0pTT04oZSx0KXtjb25zdCBuPVtdO3QhPW51bGwmJnQub25DcmVhdGUmJnQub25DcmVhdGUobik7bGV0IHM9MDtmb3IoY29uc3QgciBvZiB0aGlzLml0ZW1zKW4ucHVzaChwZShyLFN0cmluZyhzKyspLHQpKTtyZXR1cm4gbn10b1N0cmluZyhlLHQsbil7cmV0dXJuIGU/Ym8odGhpcyxlLHtibG9ja0l0ZW1QcmVmaXg6Ii0gIixmbG93Q2hhcnM6e3N0YXJ0OiJbIixlbmQ6Il0ifSxpdGVtSW5kZW50OihlLmluZGVudHx8IiIpKyIgICIsb25DaG9tcEtlZXA6bixvbkNvbW1lbnQ6dH0pOkpTT04uc3RyaW5naWZ5KHRoaXMpfXN0YXRpYyBmcm9tKGUsdCxuKXtjb25zdHtyZXBsYWNlcjpzfT1uLHI9bmV3IHRoaXMoZSk7aWYodCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSl7bGV0IG89MDtmb3IobGV0IGEgb2YgdCl7aWYodHlwZW9mIHM9PSJmdW5jdGlvbiIpe2NvbnN0IGw9dCBpbnN0YW5jZW9mIFNldD9hOlN0cmluZyhvKyspO2E9cy5jYWxsKHQsbCxhKX1yLml0ZW1zLnB1c2goUHQoYSx2b2lkIDAsbikpfX1yZXR1cm4gcn19ZnVuY3Rpb24gem4oaSl7bGV0IGU9aihpKT9pLnZhbHVlOmk7cmV0dXJuIGUmJnR5cGVvZiBlPT0ic3RyaW5nIiYmKGU9TnVtYmVyKGUpKSx0eXBlb2YgZT09Im51bWJlciImJk51bWJlci5pc0ludGVnZXIoZSkmJmU+PTA/ZTpudWxsfWNvbnN0IHd0PXtjb2xsZWN0aW9uOiJzZXEiLGRlZmF1bHQ6ITAsbm9kZUNsYXNzOlVlLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6c2VxIixyZXNvbHZlKGksZSl7cmV0dXJuIGh0KGkpfHxlKCJFeHBlY3RlZCBhIHNlcXVlbmNlIGZvciB0aGlzIHRhZyIpLGl9LGNyZWF0ZU5vZGU6KGksZSx0KT0+VWUuZnJvbShpLGUsdCl9LEZuPXtpZGVudGlmeTppPT50eXBlb2YgaT09InN0cmluZyIsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOnN0ciIscmVzb2x2ZTppPT5pLHN0cmluZ2lmeShpLGUsdCxuKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduKHthY3R1YWxTdHJpbmc6ITB9LGUpLEJ0KGksZSx0LG4pfX0sUm49e2lkZW50aWZ5Omk9Pmk9PW51bGwsY3JlYXRlTm9kZTooKT0+bmV3IEYobnVsbCksZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOm51bGwiLHRlc3Q6L14oPzp+fFtObl11bGx8TlVMTCk/JC8scmVzb2x2ZTooKT0+bmV3IEYobnVsbCksc3RyaW5naWZ5Oih7c291cmNlOml9LGUpPT50eXBlb2YgaT09InN0cmluZyImJlJuLnRlc3QudGVzdChpKT9pOmUub3B0aW9ucy5udWxsU3RyfSxXcz17aWRlbnRpZnk6aT0+dHlwZW9mIGk9PSJib29sZWFuIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6Ym9vbCIsdGVzdDovXig/OltUdF1ydWV8VFJVRXxbRmZdYWxzZXxGQUxTRSkkLyxyZXNvbHZlOmk9Pm5ldyBGKGlbMF09PT0idCJ8fGlbMF09PT0iVCIpLHN0cmluZ2lmeSh7c291cmNlOmksdmFsdWU6ZX0sdCl7aWYoaSYmV3MudGVzdC50ZXN0KGkpKXtjb25zdCBuPWlbMF09PT0idCJ8fGlbMF09PT0iVCI7aWYoZT09PW4pcmV0dXJuIGl9cmV0dXJuIGU/dC5vcHRpb25zLnRydWVTdHI6dC5vcHRpb25zLmZhbHNlU3RyfX07ZnVuY3Rpb24gX2Uoe2Zvcm1hdDppLG1pbkZyYWN0aW9uRGlnaXRzOmUsdGFnOnQsdmFsdWU6bn0pe2lmKHR5cGVvZiBuPT0iYmlnaW50IilyZXR1cm4gU3RyaW5nKG4pO2NvbnN0IHM9dHlwZW9mIG49PSJudW1iZXIiP246TnVtYmVyKG4pO2lmKCFpc0Zpbml0ZShzKSlyZXR1cm4gaXNOYU4ocyk/Ii5uYW4iOnM8MD8iLS5pbmYiOiIuaW5mIjtsZXQgcj1KU09OLnN0cmluZ2lmeShuKTtpZighaSYmZSYmKCF0fHx0PT09InRhZzp5YW1sLm9yZywyMDAyOmZsb2F0IikmJi9eXGQvLnRlc3Qocikpe2xldCBvPXIuaW5kZXhPZigiLiIpO288MCYmKG89ci5sZW5ndGgscis9Ii4iKTtsZXQgYT1lLShyLmxlbmd0aC1vLTEpO2Zvcig7YS0tID4wOylyKz0iMCJ9cmV0dXJuIHJ9Y29uc3QgX289e2lkZW50aWZ5Omk9PnR5cGVvZiBpPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLHRlc3Q6L14oPzpbLStdP1wuKD86aW5mfEluZnxJTkZ8bmFufE5hTnxOQU4pKSQvLHJlc29sdmU6aT0+aS5zbGljZSgtMykudG9Mb3dlckNhc2UoKT09PSJuYW4iP05hTjppWzBdPT09Ii0iP051bWJlci5ORUdBVElWRV9JTkZJTklUWTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksc3RyaW5naWZ5Ol9lfSxPbz17aWRlbnRpZnk6aT0+dHlwZW9mIGk9PSJudW1iZXIiLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCIsZm9ybWF0OiJFWFAiLHRlc3Q6L15bLStdPyg/OlwuWzAtOV0rfFswLTldKyg/OlwuWzAtOV0qKT8pW2VFXVstK10/WzAtOV0rJC8scmVzb2x2ZTppPT5wYXJzZUZsb2F0KGkpLHN0cmluZ2lmeShpKXtjb25zdCBlPU51bWJlcihpLnZhbHVlKTtyZXR1cm4gaXNGaW5pdGUoZSk/ZS50b0V4cG9uZW50aWFsKCk6X2UoaSl9fSxJbz17aWRlbnRpZnk6aT0+dHlwZW9mIGk9PSJudW1iZXIiLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCIsdGVzdDovXlstK10/KD86XC5bMC05XSt8WzAtOV0rXC5bMC05XSopJC8scmVzb2x2ZShpKXtjb25zdCBlPW5ldyBGKHBhcnNlRmxvYXQoaSkpLHQ9aS5pbmRleE9mKCIuIik7cmV0dXJuIHQhPT0tMSYmaVtpLmxlbmd0aC0xXT09PSIwIiYmKGUubWluRnJhY3Rpb25EaWdpdHM9aS5sZW5ndGgtdC0xKSxlfSxzdHJpbmdpZnk6X2V9LFBuPWk9PnR5cGVvZiBpPT0iYmlnaW50Inx8TnVtYmVyLmlzSW50ZWdlcihpKSxqcz0oaSxlLHQse2ludEFzQmlnSW50Om59KT0+bj9CaWdJbnQoaSk6cGFyc2VJbnQoaS5zdWJzdHJpbmcoZSksdCk7ZnVuY3Rpb24gU28oaSxlLHQpe2NvbnN0e3ZhbHVlOm59PWk7cmV0dXJuIFBuKG4pJiZuPj0wP3Qrbi50b1N0cmluZyhlKTpfZShpKX1jb25zdCBFbz17aWRlbnRpZnk6aT0+UG4oaSkmJmk+PTAsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJPQ1QiLHRlc3Q6L14wb1swLTddKyQvLHJlc29sdmU6KGksZSx0KT0+anMoaSwyLDgsdCksc3RyaW5naWZ5Omk9PlNvKGksOCwiMG8iKX0sRG89e2lkZW50aWZ5OlBuLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjppbnQiLHRlc3Q6L15bLStdP1swLTldKyQvLHJlc29sdmU6KGksZSx0KT0+anMoaSwwLDEwLHQpLHN0cmluZ2lmeTpfZX0sTW89e2lkZW50aWZ5Omk9PlBuKGkpJiZpPj0wLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjppbnQiLGZvcm1hdDoiSEVYIix0ZXN0Oi9eMHhbMC05YS1mQS1GXSskLyxyZXNvbHZlOihpLGUsdCk9PmpzKGksMiwxNix0KSxzdHJpbmdpZnk6aT0+U28oaSwxNiwiMHgiKX0sc2Q9W1R0LHd0LEZuLFJuLFdzLEVvLERvLE1vLF9vLE9vLElvXTtmdW5jdGlvbiBBbyhpKXtyZXR1cm4gdHlwZW9mIGk9PSJiaWdpbnQifHxOdW1iZXIuaXNJbnRlZ2VyKGkpfWNvbnN0ICRuPSh7dmFsdWU6aX0pPT5KU09OLnN0cmluZ2lmeShpKSxpZD1be2lkZW50aWZ5Omk9PnR5cGVvZiBpPT0ic3RyaW5nIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6c3RyIixyZXNvbHZlOmk9Pmksc3RyaW5naWZ5OiRufSx7aWRlbnRpZnk6aT0+aT09bnVsbCxjcmVhdGVOb2RlOigpPT5uZXcgRihudWxsKSxkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6bnVsbCIsdGVzdDovXm51bGwkLyxyZXNvbHZlOigpPT5udWxsLHN0cmluZ2lmeTokbn0se2lkZW50aWZ5Omk9PnR5cGVvZiBpPT0iYm9vbGVhbiIsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmJvb2wiLHRlc3Q6L150cnVlfGZhbHNlJC8scmVzb2x2ZTppPT5pPT09InRydWUiLHN0cmluZ2lmeTokbn0se2lkZW50aWZ5OkFvLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjppbnQiLHRlc3Q6L14tPyg/OjB8WzEtOV1bMC05XSopJC8scmVzb2x2ZTooaSxlLHtpbnRBc0JpZ0ludDp0fSk9PnQ/QmlnSW50KGkpOnBhcnNlSW50KGksMTApLHN0cmluZ2lmeTooe3ZhbHVlOml9KT0+QW8oaSk/aS50b1N0cmluZygpOkpTT04uc3RyaW5naWZ5KGkpfSx7aWRlbnRpZnk6aT0+dHlwZW9mIGk9PSJudW1iZXIiLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCIsdGVzdDovXi0/KD86MHxbMS05XVswLTldKikoPzpcLlswLTldKik/KD86W2VFXVstK10/WzAtOV0rKT8kLyxyZXNvbHZlOmk9PnBhcnNlRmxvYXQoaSksc3RyaW5naWZ5OiRufV0scmQ9e2RlZmF1bHQ6ITAsdGFnOiIiLHRlc3Q6L14vLHJlc29sdmUoaSxlKXtyZXR1cm4gZShgVW5yZXNvbHZlZCBwbGFpbiBzY2FsYXIgJHtKU09OLnN0cmluZ2lmeShpKX1gKSxpfX0sb2Q9W1R0LHd0XS5jb25jYXQoaWQscmQpLHFzPXtpZGVudGlmeTppPT5pIGluc3RhbmNlb2YgVWludDhBcnJheSxkZWZhdWx0OiExLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6YmluYXJ5IixyZXNvbHZlKGksZSl7aWYodHlwZW9mIEJ1ZmZlcj09ImZ1bmN0aW9uIilyZXR1cm4gQnVmZmVyLmZyb20oaSwiYmFzZTY0Iik7aWYodHlwZW9mIGF0b2I9PSJmdW5jdGlvbiIpe2NvbnN0IHQ9YXRvYihpLnJlcGxhY2UoL1tcblxyXS9nLCIiKSksbj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDsrK3MpbltzXT10LmNoYXJDb2RlQXQocyk7cmV0dXJuIG59ZWxzZSByZXR1cm4gZSgiVGhpcyBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IHJlYWRpbmcgYmluYXJ5IHRhZ3M7IGVpdGhlciBCdWZmZXIgb3IgYXRvYiBpcyByZXF1aXJlZCIpLGl9LHN0cmluZ2lmeSh7Y29tbWVudDppLHR5cGU6ZSx2YWx1ZTp0fSxuLHMscil7Y29uc3Qgbz10O2xldCBhO2lmKHR5cGVvZiBCdWZmZXI9PSJmdW5jdGlvbiIpYT1vIGluc3RhbmNlb2YgQnVmZmVyP28udG9TdHJpbmcoImJhc2U2NCIpOkJ1ZmZlci5mcm9tKG8uYnVmZmVyKS50b1N0cmluZygiYmFzZTY0Iik7ZWxzZSBpZih0eXBlb2YgYnRvYT09ImZ1bmN0aW9uIil7bGV0IGw9IiI7Zm9yKGxldCB1PTA7dTxvLmxlbmd0aDsrK3UpbCs9U3RyaW5nLmZyb21DaGFyQ29kZShvW3VdKTthPWJ0b2EobCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCB3cml0aW5nIGJpbmFyeSB0YWdzOyBlaXRoZXIgQnVmZmVyIG9yIGJ0b2EgaXMgcmVxdWlyZWQiKTtpZihlfHwoZT1GLkJMT0NLX0xJVEVSQUwpLGUhPT1GLlFVT1RFX0RPVUJMRSl7Y29uc3QgbD1NYXRoLm1heChuLm9wdGlvbnMubGluZVdpZHRoLW4uaW5kZW50Lmxlbmd0aCxuLm9wdGlvbnMubWluQ29udGVudFdpZHRoKSx1PU1hdGguY2VpbChhLmxlbmd0aC9sKSxoPW5ldyBBcnJheSh1KTtmb3IobGV0IGM9MCxkPTA7Yzx1OysrYyxkKz1sKWhbY109YS5zdWJzdHIoZCxsKTthPWguam9pbihlPT09Ri5CTE9DS19MSVRFUkFMP2AKYDoiICIpfXJldHVybiBCdCh7Y29tbWVudDppLHR5cGU6ZSx2YWx1ZTphfSxuLHMscil9fTtmdW5jdGlvbiBObyhpLGUpe2lmKGh0KGkpKWZvcihsZXQgdD0wO3Q8aS5pdGVtcy5sZW5ndGg7Kyt0KXtsZXQgbj1pLml0ZW1zW3RdO2lmKCFLKG4pKXtpZihmdChuKSl7bi5pdGVtcy5sZW5ndGg+MSYmZSgiRWFjaCBwYWlyIG11c3QgaGF2ZSBpdHMgb3duIHNlcXVlbmNlIGluZGljYXRvciIpO2NvbnN0IHM9bi5pdGVtc1swXXx8bmV3IHNlKG5ldyBGKG51bGwpKTtpZihuLmNvbW1lbnRCZWZvcmUmJihzLmtleS5jb21tZW50QmVmb3JlPXMua2V5LmNvbW1lbnRCZWZvcmU/YCR7bi5jb21tZW50QmVmb3JlfQoke3Mua2V5LmNvbW1lbnRCZWZvcmV9YDpuLmNvbW1lbnRCZWZvcmUpLG4uY29tbWVudCl7Y29uc3Qgcj1zLnZhbHVlPz9zLmtleTtyLmNvbW1lbnQ9ci5jb21tZW50P2Ake24uY29tbWVudH0KJHtyLmNvbW1lbnR9YDpuLmNvbW1lbnR9bj1zfWkuaXRlbXNbdF09SyhuKT9uOm5ldyBzZShuKX19ZWxzZSBlKCJFeHBlY3RlZCBhIHNlcXVlbmNlIGZvciB0aGlzIHRhZyIpO3JldHVybiBpfWZ1bmN0aW9uIGtvKGksZSx0KXtjb25zdHtyZXBsYWNlcjpufT10LHM9bmV3IFVlKGkpO3MudGFnPSJ0YWc6eWFtbC5vcmcsMjAwMjpwYWlycyI7bGV0IHI9MDtpZihlJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKWZvcihsZXQgbyBvZiBlKXt0eXBlb2Ygbj09ImZ1bmN0aW9uIiYmKG89bi5jYWxsKGUsU3RyaW5nKHIrKyksbykpO2xldCBhLGw7aWYoQXJyYXkuaXNBcnJheShvKSlpZihvLmxlbmd0aD09PTIpYT1vWzBdLGw9b1sxXTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFtrZXksIHZhbHVlXSB0dXBsZTogJHtvfWApO2Vsc2UgaWYobyYmbyBpbnN0YW5jZW9mIE9iamVjdCl7Y29uc3QgdT1PYmplY3Qua2V5cyhvKTtpZih1Lmxlbmd0aD09PTEpYT11WzBdLGw9b1thXTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIHsga2V5OiB2YWx1ZSB9IHR1cGxlOiAke299YCl9ZWxzZSBhPW87cy5pdGVtcy5wdXNoKFZzKGEsbCx0KSl9cmV0dXJuIHN9Y29uc3QgWnM9e2NvbGxlY3Rpb246InNlcSIsZGVmYXVsdDohMSx0YWc6InRhZzp5YW1sLm9yZywyMDAyOnBhaXJzIixyZXNvbHZlOk5vLGNyZWF0ZU5vZGU6a299O2NsYXNzIHZ0IGV4dGVuZHMgVWV7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuYWRkPXVlLnByb3RvdHlwZS5hZGQuYmluZCh0aGlzKSx0aGlzLmRlbGV0ZT11ZS5wcm90b3R5cGUuZGVsZXRlLmJpbmQodGhpcyksdGhpcy5nZXQ9dWUucHJvdG90eXBlLmdldC5iaW5kKHRoaXMpLHRoaXMuaGFzPXVlLnByb3RvdHlwZS5oYXMuYmluZCh0aGlzKSx0aGlzLnNldD11ZS5wcm90b3R5cGUuc2V0LmJpbmQodGhpcyksdGhpcy50YWc9dnQudGFnfXRvSlNPTihlLHQpe2lmKCF0KXJldHVybiBzdXBlci50b0pTT04oZSk7Y29uc3Qgbj1uZXcgTWFwO3QhPW51bGwmJnQub25DcmVhdGUmJnQub25DcmVhdGUobik7Zm9yKGNvbnN0IHMgb2YgdGhpcy5pdGVtcyl7bGV0IHIsbztpZihLKHMpPyhyPXBlKHMua2V5LCIiLHQpLG89cGUocy52YWx1ZSxyLHQpKTpyPXBlKHMsIiIsdCksbi5oYXMocikpdGhyb3cgbmV3IEVycm9yKCJPcmRlcmVkIG1hcHMgbXVzdCBub3QgaW5jbHVkZSBkdXBsaWNhdGUga2V5cyIpO24uc2V0KHIsbyl9cmV0dXJuIG59c3RhdGljIGZyb20oZSx0LG4pe2NvbnN0IHM9a28oZSx0LG4pLHI9bmV3IHRoaXM7cmV0dXJuIHIuaXRlbXM9cy5pdGVtcyxyfX12dC50YWc9InRhZzp5YW1sLm9yZywyMDAyOm9tYXAiO2NvbnN0IEtzPXtjb2xsZWN0aW9uOiJzZXEiLGlkZW50aWZ5Omk9PmkgaW5zdGFuY2VvZiBNYXAsbm9kZUNsYXNzOnZ0LGRlZmF1bHQ6ITEsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpvbWFwIixyZXNvbHZlKGksZSl7Y29uc3QgdD1ObyhpLGUpLG49W107Zm9yKGNvbnN0e2tleTpzfW9mIHQuaXRlbXMpaihzKSYmKG4uaW5jbHVkZXMocy52YWx1ZSk/ZShgT3JkZXJlZCBtYXBzIG11c3Qgbm90IGluY2x1ZGUgZHVwbGljYXRlIGtleXM6ICR7cy52YWx1ZX1gKTpuLnB1c2gocy52YWx1ZSkpO3JldHVybiBPYmplY3QuYXNzaWduKG5ldyB2dCx0KX0sY3JlYXRlTm9kZTooaSxlLHQpPT52dC5mcm9tKGksZSx0KX07ZnVuY3Rpb24gQ28oe3ZhbHVlOmksc291cmNlOmV9LHQpe3JldHVybiBlJiYoaT9Mbzp4bykudGVzdC50ZXN0KGUpP2U6aT90Lm9wdGlvbnMudHJ1ZVN0cjp0Lm9wdGlvbnMuZmFsc2VTdHJ9Y29uc3QgTG89e2lkZW50aWZ5Omk9Pmk9PT0hMCxkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6Ym9vbCIsdGVzdDovXig/Oll8eXxbWXldZXN8WUVTfFtUdF1ydWV8VFJVRXxbT29dbnxPTikkLyxyZXNvbHZlOigpPT5uZXcgRighMCksc3RyaW5naWZ5OkNvfSx4bz17aWRlbnRpZnk6aT0+aT09PSExLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpib29sIix0ZXN0Oi9eKD86TnxufFtObl1vfE5PfFtGZl1hbHNlfEZBTFNFfFtPb11mZnxPRkYpJC9pLHJlc29sdmU6KCk9Pm5ldyBGKCExKSxzdHJpbmdpZnk6Q299LGFkPXtpZGVudGlmeTppPT50eXBlb2YgaT09Im51bWJlciIsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmZsb2F0Iix0ZXN0Oi9eWy0rXT9cLig/OmluZnxJbmZ8SU5GfG5hbnxOYU58TkFOKSQvLHJlc29sdmU6aT0+aS5zbGljZSgtMykudG9Mb3dlckNhc2UoKT09PSJuYW4iP05hTjppWzBdPT09Ii0iP051bWJlci5ORUdBVElWRV9JTkZJTklUWTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksc3RyaW5naWZ5Ol9lfSxsZD17aWRlbnRpZnk6aT0+dHlwZW9mIGk9PSJudW1iZXIiLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCIsZm9ybWF0OiJFWFAiLHRlc3Q6L15bLStdPyg/OlswLTldWzAtOV9dKik/KD86XC5bMC05X10qKT9bZUVdWy0rXT9bMC05XSskLyxyZXNvbHZlOmk9PnBhcnNlRmxvYXQoaS5yZXBsYWNlKC9fL2csIiIpKSxzdHJpbmdpZnkoaSl7Y29uc3QgZT1OdW1iZXIoaS52YWx1ZSk7cmV0dXJuIGlzRmluaXRlKGUpP2UudG9FeHBvbmVudGlhbCgpOl9lKGkpfX0sdWQ9e2lkZW50aWZ5Omk9PnR5cGVvZiBpPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLHRlc3Q6L15bLStdPyg/OlswLTldWzAtOV9dKik/XC5bMC05X10qJC8scmVzb2x2ZShpKXtjb25zdCBlPW5ldyBGKHBhcnNlRmxvYXQoaS5yZXBsYWNlKC9fL2csIiIpKSksdD1pLmluZGV4T2YoIi4iKTtpZih0IT09LTEpe2NvbnN0IG49aS5zdWJzdHJpbmcodCsxKS5yZXBsYWNlKC9fL2csIiIpO25bbi5sZW5ndGgtMV09PT0iMCImJihlLm1pbkZyYWN0aW9uRGlnaXRzPW4ubGVuZ3RoKX1yZXR1cm4gZX0sc3RyaW5naWZ5Ol9lfSxIdD1pPT50eXBlb2YgaT09ImJpZ2ludCJ8fE51bWJlci5pc0ludGVnZXIoaSk7ZnVuY3Rpb24gVW4oaSxlLHQse2ludEFzQmlnSW50Om59KXtjb25zdCBzPWlbMF07aWYoKHM9PT0iLSJ8fHM9PT0iKyIpJiYoZSs9MSksaT1pLnN1YnN0cmluZyhlKS5yZXBsYWNlKC9fL2csIiIpLG4pe3N3aXRjaCh0KXtjYXNlIDI6aT1gMGIke2l9YDticmVhaztjYXNlIDg6aT1gMG8ke2l9YDticmVhaztjYXNlIDE2Omk9YDB4JHtpfWA7YnJlYWt9Y29uc3Qgbz1CaWdJbnQoaSk7cmV0dXJuIHM9PT0iLSI/QmlnSW50KC0xKSpvOm99Y29uc3Qgcj1wYXJzZUludChpLHQpO3JldHVybiBzPT09Ii0iPy0xKnI6cn1mdW5jdGlvbiBHcyhpLGUsdCl7Y29uc3R7dmFsdWU6bn09aTtpZihIdChuKSl7Y29uc3Qgcz1uLnRvU3RyaW5nKGUpO3JldHVybiBuPDA/Ii0iK3Qrcy5zdWJzdHIoMSk6dCtzfXJldHVybiBfZShpKX1jb25zdCBjZD17aWRlbnRpZnk6SHQsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJCSU4iLHRlc3Q6L15bLStdPzBiWzAtMV9dKyQvLHJlc29sdmU6KGksZSx0KT0+VW4oaSwyLDIsdCksc3RyaW5naWZ5Omk9PkdzKGksMiwiMGIiKX0sZmQ9e2lkZW50aWZ5Okh0LGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjppbnQiLGZvcm1hdDoiT0NUIix0ZXN0Oi9eWy0rXT8wWzAtN19dKyQvLHJlc29sdmU6KGksZSx0KT0+VW4oaSwxLDgsdCksc3RyaW5naWZ5Omk9PkdzKGksOCwiMCIpfSxoZD17aWRlbnRpZnk6SHQsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsdGVzdDovXlstK10/WzAtOV1bMC05X10qJC8scmVzb2x2ZTooaSxlLHQpPT5VbihpLDAsMTAsdCksc3RyaW5naWZ5Ol9lfSxkZD17aWRlbnRpZnk6SHQsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJIRVgiLHRlc3Q6L15bLStdPzB4WzAtOWEtZkEtRl9dKyQvLHJlc29sdmU6KGksZSx0KT0+VW4oaSwyLDE2LHQpLHN0cmluZ2lmeTppPT5HcyhpLDE2LCIweCIpfTtjbGFzcyBidCBleHRlbmRzIHVle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudGFnPWJ0LnRhZ31hZGQoZSl7bGV0IHQ7SyhlKT90PWU6ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYia2V5ImluIGUmJiJ2YWx1ZSJpbiBlJiZlLnZhbHVlPT09bnVsbD90PW5ldyBzZShlLmtleSxudWxsKTp0PW5ldyBzZShlLG51bGwpLFhlKHRoaXMuaXRlbXMsdC5rZXkpfHx0aGlzLml0ZW1zLnB1c2godCl9Z2V0KGUsdCl7Y29uc3Qgbj1YZSh0aGlzLml0ZW1zLGUpO3JldHVybiF0JiZLKG4pP2oobi5rZXkpP24ua2V5LnZhbHVlOm4ua2V5Om59c2V0KGUsdCl7aWYodHlwZW9mIHQhPSJib29sZWFuIil0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGJvb2xlYW4gdmFsdWUgZm9yIHNldChrZXksIHZhbHVlKSBpbiBhIFlBTUwgc2V0LCBub3QgJHt0eXBlb2YgdH1gKTtjb25zdCBuPVhlKHRoaXMuaXRlbXMsZSk7biYmIXQ/dGhpcy5pdGVtcy5zcGxpY2UodGhpcy5pdGVtcy5pbmRleE9mKG4pLDEpOiFuJiZ0JiZ0aGlzLml0ZW1zLnB1c2gobmV3IHNlKGUpKX10b0pTT04oZSx0KXtyZXR1cm4gc3VwZXIudG9KU09OKGUsdCxTZXQpfXRvU3RyaW5nKGUsdCxuKXtpZighZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7aWYodGhpcy5oYXNBbGxOdWxsVmFsdWVzKCEwKSlyZXR1cm4gc3VwZXIudG9TdHJpbmcoT2JqZWN0LmFzc2lnbih7fSxlLHthbGxOdWxsVmFsdWVzOiEwfSksdCxuKTt0aHJvdyBuZXcgRXJyb3IoIlNldCBpdGVtcyBtdXN0IGFsbCBoYXZlIG51bGwgdmFsdWVzIil9c3RhdGljIGZyb20oZSx0LG4pe2NvbnN0e3JlcGxhY2VyOnN9PW4scj1uZXcgdGhpcyhlKTtpZih0JiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKWZvcihsZXQgbyBvZiB0KXR5cGVvZiBzPT0iZnVuY3Rpb24iJiYobz1zLmNhbGwodCxvLG8pKSxyLml0ZW1zLnB1c2goVnMobyxudWxsLG4pKTtyZXR1cm4gcn19YnQudGFnPSJ0YWc6eWFtbC5vcmcsMjAwMjpzZXQiO2NvbnN0IEpzPXtjb2xsZWN0aW9uOiJtYXAiLGlkZW50aWZ5Omk9PmkgaW5zdGFuY2VvZiBTZXQsbm9kZUNsYXNzOmJ0LGRlZmF1bHQ6ITEsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpzZXQiLGNyZWF0ZU5vZGU6KGksZSx0KT0+YnQuZnJvbShpLGUsdCkscmVzb2x2ZShpLGUpe2lmKGZ0KGkpKXtpZihpLmhhc0FsbE51bGxWYWx1ZXMoITApKXJldHVybiBPYmplY3QuYXNzaWduKG5ldyBidCxpKTtlKCJTZXQgaXRlbXMgbXVzdCBhbGwgaGF2ZSBudWxsIHZhbHVlcyIpfWVsc2UgZSgiRXhwZWN0ZWQgYSBtYXBwaW5nIGZvciB0aGlzIHRhZyIpO3JldHVybiBpfX07ZnVuY3Rpb24gWHMoaSxlKXtjb25zdCB0PWlbMF0sbj10PT09Ii0ifHx0PT09IisiP2kuc3Vic3RyaW5nKDEpOmkscz1vPT5lP0JpZ0ludChvKTpOdW1iZXIobykscj1uLnJlcGxhY2UoL18vZywiIikuc3BsaXQoIjoiKS5yZWR1Y2UoKG8sYSk9Pm8qcyg2MCkrcyhhKSxzKDApKTtyZXR1cm4gdD09PSItIj9zKC0xKSpyOnJ9ZnVuY3Rpb24gWW8oaSl7bGV0e3ZhbHVlOmV9PWksdD1vPT5vO2lmKHR5cGVvZiBlPT0iYmlnaW50Iil0PW89PkJpZ0ludChvKTtlbHNlIGlmKGlzTmFOKGUpfHwhaXNGaW5pdGUoZSkpcmV0dXJuIF9lKGkpO2xldCBuPSIiO2U8MCYmKG49Ii0iLGUqPXQoLTEpKTtjb25zdCBzPXQoNjApLHI9W2Ulc107cmV0dXJuIGU8NjA/ci51bnNoaWZ0KDApOihlPShlLXJbMF0pL3Msci51bnNoaWZ0KGUlcyksZT49NjAmJihlPShlLXJbMF0pL3Msci51bnNoaWZ0KGUpKSksbityLm1hcChvPT5TdHJpbmcobykucGFkU3RhcnQoMiwiMCIpKS5qb2luKCI6IikucmVwbGFjZSgvMDAwMDAwXGQqJC8sIiIpfWNvbnN0IHpvPXtpZGVudGlmeTppPT50eXBlb2YgaT09ImJpZ2ludCJ8fE51bWJlci5pc0ludGVnZXIoaSksZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJUSU1FIix0ZXN0Oi9eWy0rXT9bMC05XVswLTlfXSooPzo6WzAtNV0/WzAtOV0pKyQvLHJlc29sdmU6KGksZSx7aW50QXNCaWdJbnQ6dH0pPT5YcyhpLHQpLHN0cmluZ2lmeTpZb30sRm89e2lkZW50aWZ5Omk9PnR5cGVvZiBpPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLGZvcm1hdDoiVElNRSIsdGVzdDovXlstK10/WzAtOV1bMC05X10qKD86OlswLTVdP1swLTldKStcLlswLTlfXSokLyxyZXNvbHZlOmk9PlhzKGksITEpLHN0cmluZ2lmeTpZb30sQm49e2lkZW50aWZ5Omk9PmkgaW5zdGFuY2VvZiBEYXRlLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjp0aW1lc3RhbXAiLHRlc3Q6UmVnRXhwKCJeKFswLTldezR9KS0oWzAtOV17MSwyfSktKFswLTldezEsMn0pKD86KD86dHxUfFsgXFx0XSspKFswLTldezEsMn0pOihbMC05XXsxLDJ9KTooWzAtOV17MSwyfShcXC5bMC05XSspPykoPzpbIFxcdF0qKFp8Wy0rXVswMTJdP1swLTldKD86OlswLTldezJ9KT8pKT8pPyQiKSxyZXNvbHZlKGkpe2NvbnN0IGU9aS5tYXRjaChCbi50ZXN0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIiEhdGltZXN0YW1wIGV4cGVjdHMgYSBkYXRlLCBzdGFydGluZyB3aXRoIHl5eXktbW0tZGQiKTtjb25zdFssdCxuLHMscixvLGFdPWUubWFwKE51bWJlciksbD1lWzddP051bWJlcigoZVs3XSsiMDAiKS5zdWJzdHIoMSwzKSk6MDtsZXQgdT1EYXRlLlVUQyh0LG4tMSxzLHJ8fDAsb3x8MCxhfHwwLGwpO2NvbnN0IGg9ZVs4XTtpZihoJiZoIT09IloiKXtsZXQgYz1YcyhoLCExKTtNYXRoLmFicyhjKTwzMCYmKGMqPTYwKSx1LT02ZTQqY31yZXR1cm4gbmV3IERhdGUodSl9LHN0cmluZ2lmeTooe3ZhbHVlOml9KT0+aS50b0lTT1N0cmluZygpLnJlcGxhY2UoLygoVDAwOjAwKT86MDApP1wuMDAwWiQvLCIiKX0sUm89W1R0LHd0LEZuLFJuLExvLHhvLGNkLGZkLGhkLGRkLGFkLGxkLHVkLHFzLEtzLFpzLEpzLHpvLEZvLEJuXSxQbz1uZXcgTWFwKFtbImNvcmUiLHNkXSxbImZhaWxzYWZlIixbVHQsd3QsRm5dXSxbImpzb24iLG9kXSxbInlhbWwxMSIsUm9dLFsieWFtbC0xLjEiLFJvXV0pLCRvPXtiaW5hcnk6cXMsYm9vbDpXcyxmbG9hdDpJbyxmbG9hdEV4cDpPbyxmbG9hdE5hTjpfbyxmbG9hdFRpbWU6Rm8saW50OkRvLGludEhleDpNbyxpbnRPY3Q6RW8saW50VGltZTp6byxtYXA6VHQsbnVsbDpSbixvbWFwOktzLHBhaXJzOlpzLHNlcTp3dCxzZXQ6SnMsdGltZXN0YW1wOkJufSxtZD17InRhZzp5YW1sLm9yZywyMDAyOmJpbmFyeSI6cXMsInRhZzp5YW1sLm9yZywyMDAyOm9tYXAiOktzLCJ0YWc6eWFtbC5vcmcsMjAwMjpwYWlycyI6WnMsInRhZzp5YW1sLm9yZywyMDAyOnNldCI6SnMsInRhZzp5YW1sLm9yZywyMDAyOnRpbWVzdGFtcCI6Qm59O2Z1bmN0aW9uIFFzKGksZSl7bGV0IHQ9UG8uZ2V0KGUpO2lmKCF0KWlmKEFycmF5LmlzQXJyYXkoaSkpdD1bXTtlbHNle2NvbnN0IG49QXJyYXkuZnJvbShQby5rZXlzKCkpLmZpbHRlcihzPT5zIT09InlhbWwxMSIpLm1hcChzPT5KU09OLnN0cmluZ2lmeShzKSkuam9pbigiLCAiKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2NoZW1hICIke2V9IjsgdXNlIG9uZSBvZiAke259IG9yIGRlZmluZSBjdXN0b21UYWdzIGFycmF5YCl9aWYoQXJyYXkuaXNBcnJheShpKSlmb3IoY29uc3QgbiBvZiBpKXQ9dC5jb25jYXQobik7ZWxzZSB0eXBlb2YgaT09ImZ1bmN0aW9uIiYmKHQ9aSh0LnNsaWNlKCkpKTtyZXR1cm4gdC5tYXAobj0+e2lmKHR5cGVvZiBuIT0ic3RyaW5nIilyZXR1cm4gbjtjb25zdCBzPSRvW25dO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj1PYmplY3Qua2V5cygkbykubWFwKG89PkpTT04uc3RyaW5naWZ5KG8pKS5qb2luKCIsICIpO3Rocm93IG5ldyBFcnJvcihgVW5rbm93biBjdXN0b20gdGFnICIke259IjsgdXNlIG9uZSBvZiAke3J9YCl9KX1jb25zdCBwZD0oaSxlKT0+aS5rZXk8ZS5rZXk/LTE6aS5rZXk+ZS5rZXk/MTowO2NsYXNzIEhue2NvbnN0cnVjdG9yKHtjb21wYXQ6ZSxjdXN0b21UYWdzOnQsbWVyZ2U6bixyZXNvbHZlS25vd25UYWdzOnMsc2NoZW1hOnIsc29ydE1hcEVudHJpZXM6byx0b1N0cmluZ0RlZmF1bHRzOmF9KXt0aGlzLmNvbXBhdD1BcnJheS5pc0FycmF5KGUpP1FzKGUsImNvbXBhdCIpOmU/UXMobnVsbCxlKTpudWxsLHRoaXMubWVyZ2U9ISFuLHRoaXMubmFtZT10eXBlb2Ygcj09InN0cmluZyImJnJ8fCJjb3JlIix0aGlzLmtub3duVGFncz1zP21kOnt9LHRoaXMudGFncz1Rcyh0LHRoaXMubmFtZSksdGhpcy50b1N0cmluZ09wdGlvbnM9YT8/bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxSZSx7dmFsdWU6VHR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxBZSx7dmFsdWU6Rm59KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx1dCx7dmFsdWU6d3R9KSx0aGlzLnNvcnRNYXBFbnRyaWVzPXR5cGVvZiBvPT0iZnVuY3Rpb24iP286bz09PSEwP3BkOm51bGx9Y2xvbmUoKXtjb25zdCBlPU9iamVjdC5jcmVhdGUoSG4ucHJvdG90eXBlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRoaXMpKTtyZXR1cm4gZS50YWdzPXRoaXMudGFncy5zbGljZSgpLGV9fWZ1bmN0aW9uIHlkKGksZSl7dmFyIGw7Y29uc3QgdD1bXTtsZXQgbj1lLmRpcmVjdGl2ZXM9PT0hMDtpZihlLmRpcmVjdGl2ZXMhPT0hMSYmaS5kaXJlY3RpdmVzKXtjb25zdCB1PWkuZGlyZWN0aXZlcy50b1N0cmluZyhpKTt1Pyh0LnB1c2godSksbj0hMCk6aS5kaXJlY3RpdmVzLmRvY1N0YXJ0JiYobj0hMCl9biYmdC5wdXNoKCItLS0iKTtjb25zdCBzPWdvKGksZSkse2NvbW1lbnRTdHJpbmc6cn09cy5vcHRpb25zO2lmKGkuY29tbWVudEJlZm9yZSl7dC5sZW5ndGghPT0xJiZ0LnVuc2hpZnQoIiIpO2NvbnN0IHU9cihpLmNvbW1lbnRCZWZvcmUpO3QudW5zaGlmdChOZSh1LCIiKSl9bGV0IG89ITEsYT1udWxsO2lmKGkuY29udGVudHMpe2lmKFEoaS5jb250ZW50cykpe2lmKGkuY29udGVudHMuc3BhY2VCZWZvcmUmJm4mJnQucHVzaCgiIiksaS5jb250ZW50cy5jb21tZW50QmVmb3JlKXtjb25zdCBjPXIoaS5jb250ZW50cy5jb21tZW50QmVmb3JlKTt0LnB1c2goTmUoYywiIikpfXMuZm9yY2VCbG9ja0luZGVudD0hIWkuY29tbWVudCxhPWkuY29udGVudHMuY29tbWVudH1jb25zdCB1PWE/dm9pZCAwOigpPT5vPSEwO2xldCBoPWd0KGkuY29udGVudHMscywoKT0+YT1udWxsLHUpO2EmJihoKz0kZShoLCIiLHIoYSkpKSwoaFswXT09PSJ8Inx8aFswXT09PSI+IikmJnRbdC5sZW5ndGgtMV09PT0iLS0tIj90W3QubGVuZ3RoLTFdPWAtLS0gJHtofWA6dC5wdXNoKGgpfWVsc2UgdC5wdXNoKGd0KGkuY29udGVudHMscykpO2lmKChsPWkuZGlyZWN0aXZlcykhPW51bGwmJmwuZG9jRW5kKWlmKGkuY29tbWVudCl7Y29uc3QgdT1yKGkuY29tbWVudCk7dS5pbmNsdWRlcyhgCmApPyh0LnB1c2goIi4uLiIpLHQucHVzaChOZSh1LCIiKSkpOnQucHVzaChgLi4uICR7dX1gKX1lbHNlIHQucHVzaCgiLi4uIik7ZWxzZXtsZXQgdT1pLmNvbW1lbnQ7dSYmbyYmKHU9dS5yZXBsYWNlKC9eXG4rLywiIikpLHUmJigoIW98fGEpJiZ0W3QubGVuZ3RoLTFdIT09IiImJnQucHVzaCgiIiksdC5wdXNoKE5lKHIodSksIiIpKSl9cmV0dXJuIHQuam9pbihgCmApK2AKYH1jbGFzcyBfdHtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5jb21tZW50QmVmb3JlPW51bGwsdGhpcy5jb21tZW50PW51bGwsdGhpcy5lcnJvcnM9W10sdGhpcy53YXJuaW5ncz1bXSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxtZSx7dmFsdWU6UnN9KTtsZXQgcz1udWxsO3R5cGVvZiB0PT0iZnVuY3Rpb24ifHxBcnJheS5pc0FycmF5KHQpP3M9dDpuPT09dm9pZCAwJiZ0JiYobj10LHQ9dm9pZCAwKTtjb25zdCByPU9iamVjdC5hc3NpZ24oe2ludEFzQmlnSW50OiExLGtlZXBTb3VyY2VUb2tlbnM6ITEsbG9nTGV2ZWw6Indhcm4iLHByZXR0eUVycm9yczohMCxzdHJpY3Q6ITAsdW5pcXVlS2V5czohMCx2ZXJzaW9uOiIxLjIifSxuKTt0aGlzLm9wdGlvbnM9cjtsZXR7dmVyc2lvbjpvfT1yO24hPW51bGwmJm4uX2RpcmVjdGl2ZXM/KHRoaXMuZGlyZWN0aXZlcz1uLl9kaXJlY3RpdmVzLmF0RG9jdW1lbnQoKSx0aGlzLmRpcmVjdGl2ZXMueWFtbC5leHBsaWNpdCYmKG89dGhpcy5kaXJlY3RpdmVzLnlhbWwudmVyc2lvbikpOnRoaXMuZGlyZWN0aXZlcz1uZXcgcmUoe3ZlcnNpb246b30pLHRoaXMuc2V0U2NoZW1hKG8sbiksdGhpcy5jb250ZW50cz1lPT09dm9pZCAwP251bGw6dGhpcy5jcmVhdGVOb2RlKGUscyxuKX1jbG9uZSgpe2NvbnN0IGU9T2JqZWN0LmNyZWF0ZShfdC5wcm90b3R5cGUse1ttZV06e3ZhbHVlOlJzfX0pO3JldHVybiBlLmNvbW1lbnRCZWZvcmU9dGhpcy5jb21tZW50QmVmb3JlLGUuY29tbWVudD10aGlzLmNvbW1lbnQsZS5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoKSxlLndhcm5pbmdzPXRoaXMud2FybmluZ3Muc2xpY2UoKSxlLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdGlvbnMpLHRoaXMuZGlyZWN0aXZlcyYmKGUuZGlyZWN0aXZlcz10aGlzLmRpcmVjdGl2ZXMuY2xvbmUoKSksZS5zY2hlbWE9dGhpcy5zY2hlbWEuY2xvbmUoKSxlLmNvbnRlbnRzPVEodGhpcy5jb250ZW50cyk/dGhpcy5jb250ZW50cy5jbG9uZShlLnNjaGVtYSk6dGhpcy5jb250ZW50cyx0aGlzLnJhbmdlJiYoZS5yYW5nZT10aGlzLnJhbmdlLnNsaWNlKCkpLGV9YWRkKGUpe090KHRoaXMuY29udGVudHMpJiZ0aGlzLmNvbnRlbnRzLmFkZChlKX1hZGRJbihlLHQpe090KHRoaXMuY29udGVudHMpJiZ0aGlzLmNvbnRlbnRzLmFkZEluKGUsdCl9Y3JlYXRlQWxpYXMoZSx0KXtpZighZS5hbmNob3Ipe2NvbnN0IG49Zm8odGhpcyk7ZS5hbmNob3I9IXR8fG4uaGFzKHQpP2hvKHR8fCJhIixuKTp0fXJldHVybiBuZXcgRW4oZS5hbmNob3IpfWNyZWF0ZU5vZGUoZSx0LG4pe2xldCBzO2lmKHR5cGVvZiB0PT0iZnVuY3Rpb24iKWU9dC5jYWxsKHsiIjplfSwiIixlKSxzPXQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCB5PXY9PnR5cGVvZiB2PT0ibnVtYmVyInx8diBpbnN0YW5jZW9mIFN0cmluZ3x8diBpbnN0YW5jZW9mIE51bWJlcixUPXQuZmlsdGVyKHkpLm1hcChTdHJpbmcpO1QubGVuZ3RoPjAmJih0PXQuY29uY2F0KFQpKSxzPXR9ZWxzZSBuPT09dm9pZCAwJiZ0JiYobj10LHQ9dm9pZCAwKTtjb25zdHthbGlhc0R1cGxpY2F0ZU9iamVjdHM6cixhbmNob3JQcmVmaXg6byxmbG93OmEsa2VlcFVuZGVmaW5lZDpsLG9uVGFnT2JqOnUsdGFnOmh9PW4/P3t9LHtvbkFuY2hvcjpjLHNldEFuY2hvcnM6ZCxzb3VyY2VPYmplY3RzOmZ9PVZoKHRoaXMsb3x8ImEiKSxwPXthbGlhc0R1cGxpY2F0ZU9iamVjdHM6cj8/ITAsa2VlcFVuZGVmaW5lZDpsPz8hMSxvbkFuY2hvcjpjLG9uVGFnT2JqOnUscmVwbGFjZXI6cyxzY2hlbWE6dGhpcy5zY2hlbWEsc291cmNlT2JqZWN0czpmfSxtPVB0KGUsaCxwKTtyZXR1cm4gYSYmRyhtKSYmKG0uZmxvdz0hMCksZCgpLG19Y3JlYXRlUGFpcihlLHQsbj17fSl7Y29uc3Qgcz10aGlzLmNyZWF0ZU5vZGUoZSxudWxsLG4pLHI9dGhpcy5jcmVhdGVOb2RlKHQsbnVsbCxuKTtyZXR1cm4gbmV3IHNlKHMscil9ZGVsZXRlKGUpe3JldHVybiBPdCh0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmRlbGV0ZShlKTohMX1kZWxldGVJbihlKXtyZXR1cm4gJHQoZSk/dGhpcy5jb250ZW50cz09bnVsbD8hMToodGhpcy5jb250ZW50cz1udWxsLCEwKTpPdCh0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmRlbGV0ZUluKGUpOiExfWdldChlLHQpe3JldHVybiBHKHRoaXMuY29udGVudHMpP3RoaXMuY29udGVudHMuZ2V0KGUsdCk6dm9pZCAwfWdldEluKGUsdCl7cmV0dXJuICR0KGUpPyF0JiZqKHRoaXMuY29udGVudHMpP3RoaXMuY29udGVudHMudmFsdWU6dGhpcy5jb250ZW50czpHKHRoaXMuY29udGVudHMpP3RoaXMuY29udGVudHMuZ2V0SW4oZSx0KTp2b2lkIDB9aGFzKGUpe3JldHVybiBHKHRoaXMuY29udGVudHMpP3RoaXMuY29udGVudHMuaGFzKGUpOiExfWhhc0luKGUpe3JldHVybiAkdChlKT90aGlzLmNvbnRlbnRzIT09dm9pZCAwOkcodGhpcy5jb250ZW50cyk/dGhpcy5jb250ZW50cy5oYXNJbihlKTohMX1zZXQoZSx0KXt0aGlzLmNvbnRlbnRzPT1udWxsP3RoaXMuY29udGVudHM9TW4odGhpcy5zY2hlbWEsW2VdLHQpOk90KHRoaXMuY29udGVudHMpJiZ0aGlzLmNvbnRlbnRzLnNldChlLHQpfXNldEluKGUsdCl7JHQoZSk/dGhpcy5jb250ZW50cz10OnRoaXMuY29udGVudHM9PW51bGw/dGhpcy5jb250ZW50cz1Nbih0aGlzLnNjaGVtYSxBcnJheS5mcm9tKGUpLHQpOk90KHRoaXMuY29udGVudHMpJiZ0aGlzLmNvbnRlbnRzLnNldEluKGUsdCl9c2V0U2NoZW1hKGUsdD17fSl7dHlwZW9mIGU9PSJudW1iZXIiJiYoZT1TdHJpbmcoZSkpO2xldCBuO3N3aXRjaChlKXtjYXNlIjEuMSI6dGhpcy5kaXJlY3RpdmVzP3RoaXMuZGlyZWN0aXZlcy55YW1sLnZlcnNpb249IjEuMSI6dGhpcy5kaXJlY3RpdmVzPW5ldyByZSh7dmVyc2lvbjoiMS4xIn0pLG49e21lcmdlOiEwLHJlc29sdmVLbm93blRhZ3M6ITEsc2NoZW1hOiJ5YW1sLTEuMSJ9O2JyZWFrO2Nhc2UiMS4yIjpjYXNlIm5leHQiOnRoaXMuZGlyZWN0aXZlcz90aGlzLmRpcmVjdGl2ZXMueWFtbC52ZXJzaW9uPWU6dGhpcy5kaXJlY3RpdmVzPW5ldyByZSh7dmVyc2lvbjplfSksbj17bWVyZ2U6ITEscmVzb2x2ZUtub3duVGFnczohMCxzY2hlbWE6ImNvcmUifTticmVhaztjYXNlIG51bGw6dGhpcy5kaXJlY3RpdmVzJiZkZWxldGUgdGhpcy5kaXJlY3RpdmVzLG49bnVsbDticmVhaztkZWZhdWx0Ontjb25zdCBzPUpTT04uc3RyaW5naWZ5KGUpO3Rocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJzEuMScsICcxLjInIG9yIG51bGwgYXMgZmlyc3QgYXJndW1lbnQsIGJ1dCBmb3VuZDogJHtzfWApfX1pZih0LnNjaGVtYSBpbnN0YW5jZW9mIE9iamVjdCl0aGlzLnNjaGVtYT10LnNjaGVtYTtlbHNlIGlmKG4pdGhpcy5zY2hlbWE9bmV3IEhuKE9iamVjdC5hc3NpZ24obix0KSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIldpdGggYSBudWxsIFlBTUwgdmVyc2lvbiwgdGhlIHsgc2NoZW1hOiBTY2hlbWEgfSBvcHRpb24gaXMgcmVxdWlyZWQiKX10b0pTKHtqc29uOmUsanNvbkFyZzp0LG1hcEFzTWFwOm4sbWF4QWxpYXNDb3VudDpzLG9uQW5jaG9yOnIscmV2aXZlcjpvfT17fSl7Y29uc3QgYT17YW5jaG9yczpuZXcgTWFwLGRvYzp0aGlzLGtlZXA6IWUsbWFwQXNNYXA6bj09PSEwLG1hcEtleVdhcm5lZDohMSxtYXhBbGlhc0NvdW50OnR5cGVvZiBzPT0ibnVtYmVyIj9zOjEwMH0sbD1wZSh0aGlzLmNvbnRlbnRzLHQ/PyIiLGEpO2lmKHR5cGVvZiByPT0iZnVuY3Rpb24iKWZvcihjb25zdHtjb3VudDp1LHJlczpofW9mIGEuYW5jaG9ycy52YWx1ZXMoKSlyKGgsdSk7cmV0dXJuIHR5cGVvZiBvPT0iZnVuY3Rpb24iP3B0KG8seyIiOmx9LCIiLGwpOmx9dG9KU09OKGUsdCl7cmV0dXJuIHRoaXMudG9KUyh7anNvbjohMCxqc29uQXJnOmUsbWFwQXNNYXA6ITEsb25BbmNob3I6dH0pfXRvU3RyaW5nKGU9e30pe2lmKHRoaXMuZXJyb3JzLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcigiRG9jdW1lbnQgd2l0aCBlcnJvcnMgY2Fubm90IGJlIHN0cmluZ2lmaWVkIik7aWYoImluZGVudCJpbiBlJiYoIU51bWJlci5pc0ludGVnZXIoZS5pbmRlbnQpfHxOdW1iZXIoZS5pbmRlbnQpPD0wKSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlLmluZGVudCk7dGhyb3cgbmV3IEVycm9yKGAiaW5kZW50IiBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIsIG5vdCAke3R9YCl9cmV0dXJuIHlkKHRoaXMsZSl9fWZ1bmN0aW9uIE90KGkpe2lmKEcoaSkpcmV0dXJuITA7dGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBhIFlBTUwgY29sbGVjdGlvbiBhcyBkb2N1bWVudCBjb250ZW50cyIpfWNsYXNzIGVpIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LG4scyl7c3VwZXIoKSx0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9bix0aGlzLm1lc3NhZ2U9cyx0aGlzLnBvcz10fX1jbGFzcyBRZSBleHRlbmRzIGVpe2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcigiWUFNTFBhcnNlRXJyb3IiLGUsdCxuKX19Y2xhc3MgVW8gZXh0ZW5kcyBlaXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoIllBTUxXYXJuaW5nIixlLHQsbil9fWNvbnN0IFZuPShpLGUpPT50PT57aWYodC5wb3NbMF09PT0tMSlyZXR1cm47dC5saW5lUG9zPXQucG9zLm1hcChhPT5lLmxpbmVQb3MoYSkpO2NvbnN0e2xpbmU6bixjb2w6c309dC5saW5lUG9zWzBdO3QubWVzc2FnZSs9YCBhdCBsaW5lICR7bn0sIGNvbHVtbiAke3N9YDtsZXQgcj1zLTEsbz1pLnN1YnN0cmluZyhlLmxpbmVTdGFydHNbbi0xXSxlLmxpbmVTdGFydHNbbl0pLnJlcGxhY2UoL1tcblxyXSskLywiIik7aWYocj49NjAmJm8ubGVuZ3RoPjgwKXtjb25zdCBhPU1hdGgubWluKHItMzksby5sZW5ndGgtNzkpO289IuKApiIrby5zdWJzdHJpbmcoYSksci09YS0xfWlmKG8ubGVuZ3RoPjgwJiYobz1vLnN1YnN0cmluZygwLDc5KSsi4oCmIiksbj4xJiYvXiAqJC8udGVzdChvLnN1YnN0cmluZygwLHIpKSl7bGV0IGE9aS5zdWJzdHJpbmcoZS5saW5lU3RhcnRzW24tMl0sZS5saW5lU3RhcnRzW24tMV0pO2EubGVuZ3RoPjgwJiYoYT1hLnN1YnN0cmluZygwLDc5KStg4oCmCmApLG89YStvfWlmKC9bXiBdLy50ZXN0KG8pKXtsZXQgYT0xO2NvbnN0IGw9dC5saW5lUG9zWzFdO2wmJmwubGluZT09PW4mJmwuY29sPnMmJihhPU1hdGgubWF4KDEsTWF0aC5taW4obC5jb2wtcyw4MC1yKSkpO2NvbnN0IHU9IiAiLnJlcGVhdChyKSsiXiIucmVwZWF0KGEpO3QubWVzc2FnZSs9YDoKCiR7b30KJHt1fQpgfX07ZnVuY3Rpb24gSXQoaSx7ZmxvdzplLGluZGljYXRvcjp0LG5leHQ6bixvZmZzZXQ6cyxvbkVycm9yOnIsc3RhcnRPbk5ld2xpbmU6b30pe2xldCBhPSExLGw9byx1PW8saD0iIixjPSIiLGQ9ITEsZj0hMSxwPSExLG09bnVsbCx5PW51bGwsVD1udWxsLHY9bnVsbCxfPW51bGw7Zm9yKGNvbnN0IHcgb2YgaSlzd2l0Y2gocCYmKHcudHlwZSE9PSJzcGFjZSImJncudHlwZSE9PSJuZXdsaW5lIiYmdy50eXBlIT09ImNvbW1hIiYmcih3Lm9mZnNldCwiTUlTU0lOR19DSEFSIiwiVGFncyBhbmQgYW5jaG9ycyBtdXN0IGJlIHNlcGFyYXRlZCBmcm9tIHRoZSBuZXh0IHRva2VuIGJ5IHdoaXRlIHNwYWNlIikscD0hMSksdy50eXBlKXtjYXNlInNwYWNlIjohZSYmbCYmdCE9PSJkb2Mtc3RhcnQiJiZ3LnNvdXJjZVswXT09PSIJIiYmcih3LCJUQUJfQVNfSU5ERU5UIiwiVGFicyBhcmUgbm90IGFsbG93ZWQgYXMgaW5kZW50YXRpb24iKSx1PSEwO2JyZWFrO2Nhc2UiY29tbWVudCI6e3V8fHIodywiTUlTU0lOR19DSEFSIiwiQ29tbWVudHMgbXVzdCBiZSBzZXBhcmF0ZWQgZnJvbSBvdGhlciB0b2tlbnMgYnkgd2hpdGUgc3BhY2UgY2hhcmFjdGVycyIpO2NvbnN0IEE9dy5zb3VyY2Uuc3Vic3RyaW5nKDEpfHwiICI7aD9oKz1jK0E6aD1BLGM9IiIsbD0hMTticmVha31jYXNlIm5ld2xpbmUiOmw/aD9oKz13LnNvdXJjZTphPSEwOmMrPXcuc291cmNlLGw9ITAsZD0hMCwobXx8eSkmJihmPSEwKSx1PSEwO2JyZWFrO2Nhc2UiYW5jaG9yIjptJiZyKHcsIk1VTFRJUExFX0FOQ0hPUlMiLCJBIG5vZGUgY2FuIGhhdmUgYXQgbW9zdCBvbmUgYW5jaG9yIiksdy5zb3VyY2UuZW5kc1dpdGgoIjoiKSYmcih3Lm9mZnNldCt3LnNvdXJjZS5sZW5ndGgtMSwiQkFEX0FMSUFTIiwiQW5jaG9yIGVuZGluZyBpbiA6IGlzIGFtYmlndW91cyIsITApLG09dyxfPT09bnVsbCYmKF89dy5vZmZzZXQpLGw9ITEsdT0hMSxwPSEwO2JyZWFrO2Nhc2UidGFnIjp7eSYmcih3LCJNVUxUSVBMRV9UQUdTIiwiQSBub2RlIGNhbiBoYXZlIGF0IG1vc3Qgb25lIHRhZyIpLHk9dyxfPT09bnVsbCYmKF89dy5vZmZzZXQpLGw9ITEsdT0hMSxwPSEwO2JyZWFrfWNhc2UgdDoobXx8eSkmJnIodywiQkFEX1BST1BfT1JERVIiLGBBbmNob3JzIGFuZCB0YWdzIG11c3QgYmUgYWZ0ZXIgdGhlICR7dy5zb3VyY2V9IGluZGljYXRvcmApLHYmJnIodywiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuZXhwZWN0ZWQgJHt3LnNvdXJjZX0gaW4gJHtlPz8iY29sbGVjdGlvbiJ9YCksdj13LGw9ITEsdT0hMTticmVhaztjYXNlImNvbW1hIjppZihlKXtUJiZyKHcsIlVORVhQRUNURURfVE9LRU4iLGBVbmV4cGVjdGVkICwgaW4gJHtlfWApLFQ9dyxsPSExLHU9ITE7YnJlYWt9ZGVmYXVsdDpyKHcsIlVORVhQRUNURURfVE9LRU4iLGBVbmV4cGVjdGVkICR7dy50eXBlfSB0b2tlbmApLGw9ITEsdT0hMX1jb25zdCBPPWlbaS5sZW5ndGgtMV0sST1PP08ub2Zmc2V0K08uc291cmNlLmxlbmd0aDpzO3JldHVybiBwJiZuJiZuLnR5cGUhPT0ic3BhY2UiJiZuLnR5cGUhPT0ibmV3bGluZSImJm4udHlwZSE9PSJjb21tYSImJihuLnR5cGUhPT0ic2NhbGFyInx8bi5zb3VyY2UhPT0iIikmJnIobi5vZmZzZXQsIk1JU1NJTkdfQ0hBUiIsIlRhZ3MgYW5kIGFuY2hvcnMgbXVzdCBiZSBzZXBhcmF0ZWQgZnJvbSB0aGUgbmV4dCB0b2tlbiBieSB3aGl0ZSBzcGFjZSIpLHtjb21tYTpULGZvdW5kOnYsc3BhY2VCZWZvcmU6YSxjb21tZW50OmgsaGFzTmV3bGluZTpkLGhhc05ld2xpbmVBZnRlclByb3A6ZixhbmNob3I6bSx0YWc6eSxlbmQ6SSxzdGFydDpfPz9JfX1mdW5jdGlvbiBWdChpKXtpZighaSlyZXR1cm4gbnVsbDtzd2l0Y2goaS50eXBlKXtjYXNlImFsaWFzIjpjYXNlInNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6aWYoaS5zb3VyY2UuaW5jbHVkZXMoYApgKSlyZXR1cm4hMDtpZihpLmVuZCl7Zm9yKGNvbnN0IGUgb2YgaS5lbmQpaWYoZS50eXBlPT09Im5ld2xpbmUiKXJldHVybiEwfXJldHVybiExO2Nhc2UiZmxvdy1jb2xsZWN0aW9uIjpmb3IoY29uc3QgZSBvZiBpLml0ZW1zKXtmb3IoY29uc3QgdCBvZiBlLnN0YXJ0KWlmKHQudHlwZT09PSJuZXdsaW5lIilyZXR1cm4hMDtpZihlLnNlcCl7Zm9yKGNvbnN0IHQgb2YgZS5zZXApaWYodC50eXBlPT09Im5ld2xpbmUiKXJldHVybiEwfWlmKFZ0KGUua2V5KXx8VnQoZS52YWx1ZSkpcmV0dXJuITB9cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gdGkoaSxlLHQpe2lmKChlPT1udWxsP3ZvaWQgMDplLnR5cGUpPT09ImZsb3ctY29sbGVjdGlvbiIpe2NvbnN0IG49ZS5lbmRbMF07bi5pbmRlbnQ9PT1pJiYobi5zb3VyY2U9PT0iXSJ8fG4uc291cmNlPT09In0iKSYmVnQoZSkmJnQobiwiQkFEX0lOREVOVCIsIkZsb3cgZW5kIGluZGljYXRvciBzaG91bGQgYmUgbW9yZSBpbmRlbnRlZCB0aGFuIHBhcmVudCIsITApfX1mdW5jdGlvbiBCbyhpLGUsdCl7Y29uc3R7dW5pcXVlS2V5czpufT1pLm9wdGlvbnM7aWYobj09PSExKXJldHVybiExO2NvbnN0IHM9dHlwZW9mIG49PSJmdW5jdGlvbiI/bjoocixvKT0+cj09PW98fGoocikmJmoobykmJnIudmFsdWU9PT1vLnZhbHVlJiYhKHIudmFsdWU9PT0iPDwiJiZpLnNjaGVtYS5tZXJnZSk7cmV0dXJuIGUuc29tZShyPT5zKHIua2V5LHQpKX1jb25zdCBIbz0iQWxsIG1hcHBpbmcgaXRlbXMgbXVzdCBzdGFydCBhdCB0aGUgc2FtZSBjb2x1bW4iO2Z1bmN0aW9uIGdkKHtjb21wb3NlTm9kZTppLGNvbXBvc2VFbXB0eU5vZGU6ZX0sdCxuLHMscil7dmFyIGg7Y29uc3Qgbz0ocj09bnVsbD92b2lkIDA6ci5ub2RlQ2xhc3MpPz91ZSxhPW5ldyBvKHQuc2NoZW1hKTt0LmF0Um9vdCYmKHQuYXRSb290PSExKTtsZXQgbD1uLm9mZnNldCx1PW51bGw7Zm9yKGNvbnN0IGMgb2Ygbi5pdGVtcyl7Y29uc3R7c3RhcnQ6ZCxrZXk6ZixzZXA6cCx2YWx1ZTptfT1jLHk9SXQoZCx7aW5kaWNhdG9yOiJleHBsaWNpdC1rZXktaW5kIixuZXh0OmY/PyhwPT1udWxsP3ZvaWQgMDpwWzBdKSxvZmZzZXQ6bCxvbkVycm9yOnMsc3RhcnRPbk5ld2xpbmU6ITB9KSxUPSF5LmZvdW5kO2lmKFQpe2lmKGYmJihmLnR5cGU9PT0iYmxvY2stc2VxIj9zKGwsIkJMT0NLX0FTX0lNUExJQ0lUX0tFWSIsIkEgYmxvY2sgc2VxdWVuY2UgbWF5IG5vdCBiZSB1c2VkIGFzIGFuIGltcGxpY2l0IG1hcCBrZXkiKToiaW5kZW50ImluIGYmJmYuaW5kZW50IT09bi5pbmRlbnQmJnMobCwiQkFEX0lOREVOVCIsSG8pKSwheS5hbmNob3ImJiF5LnRhZyYmIXApe3U9eS5lbmQseS5jb21tZW50JiYoYS5jb21tZW50P2EuY29tbWVudCs9YApgK3kuY29tbWVudDphLmNvbW1lbnQ9eS5jb21tZW50KTtjb250aW51ZX0oeS5oYXNOZXdsaW5lQWZ0ZXJQcm9wfHxWdChmKSkmJnMoZj8/ZFtkLmxlbmd0aC0xXSwiTVVMVElMSU5FX0lNUExJQ0lUX0tFWSIsIkltcGxpY2l0IGtleXMgbmVlZCB0byBiZSBvbiBhIHNpbmdsZSBsaW5lIil9ZWxzZSgoaD15LmZvdW5kKT09bnVsbD92b2lkIDA6aC5pbmRlbnQpIT09bi5pbmRlbnQmJnMobCwiQkFEX0lOREVOVCIsSG8pO2NvbnN0IHY9eS5lbmQsXz1mP2kodCxmLHkscyk6ZSh0LHYsZCxudWxsLHkscyk7dC5zY2hlbWEuY29tcGF0JiZ0aShuLmluZGVudCxmLHMpLEJvKHQsYS5pdGVtcyxfKSYmcyh2LCJEVVBMSUNBVEVfS0VZIiwiTWFwIGtleXMgbXVzdCBiZSB1bmlxdWUiKTtjb25zdCBPPUl0KHA/P1tdLHtpbmRpY2F0b3I6Im1hcC12YWx1ZS1pbmQiLG5leHQ6bSxvZmZzZXQ6Xy5yYW5nZVsyXSxvbkVycm9yOnMsc3RhcnRPbk5ld2xpbmU6IWZ8fGYudHlwZT09PSJibG9jay1zY2FsYXIifSk7aWYobD1PLmVuZCxPLmZvdW5kKXtUJiYoKG09PW51bGw/dm9pZCAwOm0udHlwZSk9PT0iYmxvY2stbWFwIiYmIU8uaGFzTmV3bGluZSYmcyhsLCJCTE9DS19BU19JTVBMSUNJVF9LRVkiLCJOZXN0ZWQgbWFwcGluZ3MgYXJlIG5vdCBhbGxvd2VkIGluIGNvbXBhY3QgbWFwcGluZ3MiKSx0Lm9wdGlvbnMuc3RyaWN0JiZ5LnN0YXJ0PE8uZm91bmQub2Zmc2V0LTEwMjQmJnMoXy5yYW5nZSwiS0VZX09WRVJfMTAyNF9DSEFSUyIsIlRoZSA6IGluZGljYXRvciBtdXN0IGJlIGF0IG1vc3QgMTAyNCBjaGFycyBhZnRlciB0aGUgc3RhcnQgb2YgYW4gaW1wbGljaXQgYmxvY2sgbWFwcGluZyBrZXkiKSk7Y29uc3QgST1tP2kodCxtLE8scyk6ZSh0LGwscCxudWxsLE8scyk7dC5zY2hlbWEuY29tcGF0JiZ0aShuLmluZGVudCxtLHMpLGw9SS5yYW5nZVsyXTtjb25zdCB3PW5ldyBzZShfLEkpO3Qub3B0aW9ucy5rZWVwU291cmNlVG9rZW5zJiYody5zcmNUb2tlbj1jKSxhLml0ZW1zLnB1c2godyl9ZWxzZXtUJiZzKF8ucmFuZ2UsIk1JU1NJTkdfQ0hBUiIsIkltcGxpY2l0IG1hcCBrZXlzIG5lZWQgdG8gYmUgZm9sbG93ZWQgYnkgbWFwIHZhbHVlcyIpLE8uY29tbWVudCYmKF8uY29tbWVudD9fLmNvbW1lbnQrPWAKYCtPLmNvbW1lbnQ6Xy5jb21tZW50PU8uY29tbWVudCk7Y29uc3QgST1uZXcgc2UoXyk7dC5vcHRpb25zLmtlZXBTb3VyY2VUb2tlbnMmJihJLnNyY1Rva2VuPWMpLGEuaXRlbXMucHVzaChJKX19cmV0dXJuIHUmJnU8bCYmcyh1LCJJTVBPU1NJQkxFIiwiTWFwIGNvbW1lbnQgd2l0aCB0cmFpbGluZyBjb250ZW50IiksYS5yYW5nZT1bbi5vZmZzZXQsbCx1Pz9sXSxhfWZ1bmN0aW9uIFRkKHtjb21wb3NlTm9kZTppLGNvbXBvc2VFbXB0eU5vZGU6ZX0sdCxuLHMscil7Y29uc3Qgbz0ocj09bnVsbD92b2lkIDA6ci5ub2RlQ2xhc3MpPz9VZSxhPW5ldyBvKHQuc2NoZW1hKTt0LmF0Um9vdCYmKHQuYXRSb290PSExKTtsZXQgbD1uLm9mZnNldCx1PW51bGw7Zm9yKGNvbnN0e3N0YXJ0OmgsdmFsdWU6Y31vZiBuLml0ZW1zKXtjb25zdCBkPUl0KGgse2luZGljYXRvcjoic2VxLWl0ZW0taW5kIixuZXh0OmMsb2Zmc2V0Omwsb25FcnJvcjpzLHN0YXJ0T25OZXdsaW5lOiEwfSk7aWYoIWQuZm91bmQpaWYoZC5hbmNob3J8fGQudGFnfHxjKWMmJmMudHlwZT09PSJibG9jay1zZXEiP3MoZC5lbmQsIkJBRF9JTkRFTlQiLCJBbGwgc2VxdWVuY2UgaXRlbXMgbXVzdCBzdGFydCBhdCB0aGUgc2FtZSBjb2x1bW4iKTpzKGwsIk1JU1NJTkdfQ0hBUiIsIlNlcXVlbmNlIGl0ZW0gd2l0aG91dCAtIGluZGljYXRvciIpO2Vsc2V7dT1kLmVuZCxkLmNvbW1lbnQmJihhLmNvbW1lbnQ9ZC5jb21tZW50KTtjb250aW51ZX1jb25zdCBmPWM/aSh0LGMsZCxzKTplKHQsZC5lbmQsaCxudWxsLGQscyk7dC5zY2hlbWEuY29tcGF0JiZ0aShuLmluZGVudCxjLHMpLGw9Zi5yYW5nZVsyXSxhLml0ZW1zLnB1c2goZil9cmV0dXJuIGEucmFuZ2U9W24ub2Zmc2V0LGwsdT8/bF0sYX1mdW5jdGlvbiBXdChpLGUsdCxuKXtsZXQgcz0iIjtpZihpKXtsZXQgcj0hMSxvPSIiO2Zvcihjb25zdCBhIG9mIGkpe2NvbnN0e3NvdXJjZTpsLHR5cGU6dX09YTtzd2l0Y2godSl7Y2FzZSJzcGFjZSI6cj0hMDticmVhaztjYXNlImNvbW1lbnQiOnt0JiYhciYmbihhLCJNSVNTSU5HX0NIQVIiLCJDb21tZW50cyBtdXN0IGJlIHNlcGFyYXRlZCBmcm9tIG90aGVyIHRva2VucyBieSB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXJzIik7Y29uc3QgaD1sLnN1YnN0cmluZygxKXx8IiAiO3M/cys9bytoOnM9aCxvPSIiO2JyZWFrfWNhc2UibmV3bGluZSI6cyYmKG8rPWwpLHI9ITA7YnJlYWs7ZGVmYXVsdDpuKGEsIlVORVhQRUNURURfVE9LRU4iLGBVbmV4cGVjdGVkICR7dX0gYXQgbm9kZSBlbmRgKX1lKz1sLmxlbmd0aH19cmV0dXJue2NvbW1lbnQ6cyxvZmZzZXQ6ZX19Y29uc3Qgbmk9IkJsb2NrIGNvbGxlY3Rpb25zIGFyZSBub3QgYWxsb3dlZCB3aXRoaW4gZmxvdyBjb2xsZWN0aW9ucyIsc2k9aT0+aSYmKGkudHlwZT09PSJibG9jay1tYXAifHxpLnR5cGU9PT0iYmxvY2stc2VxIik7ZnVuY3Rpb24gd2Qoe2NvbXBvc2VOb2RlOmksY29tcG9zZUVtcHR5Tm9kZTplfSx0LG4scyxyKXtjb25zdCBvPW4uc3RhcnQuc291cmNlPT09InsiLGE9bz8iZmxvdyBtYXAiOiJmbG93IHNlcXVlbmNlIixsPShyPT1udWxsP3ZvaWQgMDpyLm5vZGVDbGFzcyk/PyhvP3VlOlVlKSx1PW5ldyBsKHQuc2NoZW1hKTt1LmZsb3c9ITA7Y29uc3QgaD10LmF0Um9vdDtoJiYodC5hdFJvb3Q9ITEpO2xldCBjPW4ub2Zmc2V0K24uc3RhcnQuc291cmNlLmxlbmd0aDtmb3IobGV0IHk9MDt5PG4uaXRlbXMubGVuZ3RoOysreSl7Y29uc3QgVD1uLml0ZW1zW3ldLHtzdGFydDp2LGtleTpfLHNlcDpPLHZhbHVlOkl9PVQsdz1JdCh2LHtmbG93OmEsaW5kaWNhdG9yOiJleHBsaWNpdC1rZXktaW5kIixuZXh0Ol8/PyhPPT1udWxsP3ZvaWQgMDpPWzBdKSxvZmZzZXQ6YyxvbkVycm9yOnMsc3RhcnRPbk5ld2xpbmU6ITF9KTtpZighdy5mb3VuZCl7aWYoIXcuYW5jaG9yJiYhdy50YWcmJiFPJiYhSSl7eT09PTAmJncuY29tbWE/cyh3LmNvbW1hLCJVTkVYUEVDVEVEX1RPS0VOIixgVW5leHBlY3RlZCAsIGluICR7YX1gKTp5PG4uaXRlbXMubGVuZ3RoLTEmJnMody5zdGFydCwiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuZXhwZWN0ZWQgZW1wdHkgaXRlbSBpbiAke2F9YCksdy5jb21tZW50JiYodS5jb21tZW50P3UuY29tbWVudCs9YApgK3cuY29tbWVudDp1LmNvbW1lbnQ9dy5jb21tZW50KSxjPXcuZW5kO2NvbnRpbnVlfSFvJiZ0Lm9wdGlvbnMuc3RyaWN0JiZWdChfKSYmcyhfLCJNVUxUSUxJTkVfSU1QTElDSVRfS0VZIiwiSW1wbGljaXQga2V5cyBvZiBmbG93IHNlcXVlbmNlIHBhaXJzIG5lZWQgdG8gYmUgb24gYSBzaW5nbGUgbGluZSIpfWlmKHk9PT0wKXcuY29tbWEmJnMody5jb21tYSwiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuZXhwZWN0ZWQgLCBpbiAke2F9YCk7ZWxzZSBpZih3LmNvbW1hfHxzKHcuc3RhcnQsIk1JU1NJTkdfQ0hBUiIsYE1pc3NpbmcgLCBiZXR3ZWVuICR7YX0gaXRlbXNgKSx3LmNvbW1lbnQpe2xldCBBPSIiO2U6Zm9yKGNvbnN0IEUgb2Ygdilzd2l0Y2goRS50eXBlKXtjYXNlImNvbW1hIjpjYXNlInNwYWNlIjpicmVhaztjYXNlImNvbW1lbnQiOkE9RS5zb3VyY2Uuc3Vic3RyaW5nKDEpO2JyZWFrIGU7ZGVmYXVsdDpicmVhayBlfWlmKEEpe2xldCBFPXUuaXRlbXNbdS5pdGVtcy5sZW5ndGgtMV07SyhFKSYmKEU9RS52YWx1ZT8/RS5rZXkpLEUuY29tbWVudD9FLmNvbW1lbnQrPWAKYCtBOkUuY29tbWVudD1BLHcuY29tbWVudD13LmNvbW1lbnQuc3Vic3RyaW5nKEEubGVuZ3RoKzEpfX1pZighbyYmIU8mJiF3LmZvdW5kKXtjb25zdCBBPUk/aSh0LEksdyxzKTplKHQsdy5lbmQsTyxudWxsLHcscyk7dS5pdGVtcy5wdXNoKEEpLGM9QS5yYW5nZVsyXSxzaShJKSYmcyhBLnJhbmdlLCJCTE9DS19JTl9GTE9XIixuaSl9ZWxzZXtjb25zdCBBPXcuZW5kLEU9Xz9pKHQsXyx3LHMpOmUodCxBLHYsbnVsbCx3LHMpO3NpKF8pJiZzKEUucmFuZ2UsIkJMT0NLX0lOX0ZMT1ciLG5pKTtjb25zdCBDPUl0KE8/P1tdLHtmbG93OmEsaW5kaWNhdG9yOiJtYXAtdmFsdWUtaW5kIixuZXh0Okksb2Zmc2V0OkUucmFuZ2VbMl0sb25FcnJvcjpzLHN0YXJ0T25OZXdsaW5lOiExfSk7aWYoQy5mb3VuZCl7aWYoIW8mJiF3LmZvdW5kJiZ0Lm9wdGlvbnMuc3RyaWN0KXtpZihPKWZvcihjb25zdCB4IG9mIE8pe2lmKHg9PT1DLmZvdW5kKWJyZWFrO2lmKHgudHlwZT09PSJuZXdsaW5lIil7cyh4LCJNVUxUSUxJTkVfSU1QTElDSVRfS0VZIiwiSW1wbGljaXQga2V5cyBvZiBmbG93IHNlcXVlbmNlIHBhaXJzIG5lZWQgdG8gYmUgb24gYSBzaW5nbGUgbGluZSIpO2JyZWFrfX13LnN0YXJ0PEMuZm91bmQub2Zmc2V0LTEwMjQmJnMoQy5mb3VuZCwiS0VZX09WRVJfMTAyNF9DSEFSUyIsIlRoZSA6IGluZGljYXRvciBtdXN0IGJlIGF0IG1vc3QgMTAyNCBjaGFycyBhZnRlciB0aGUgc3RhcnQgb2YgYW4gaW1wbGljaXQgZmxvdyBzZXF1ZW5jZSBrZXkiKX19ZWxzZSBJJiYoInNvdXJjZSJpbiBJJiZJLnNvdXJjZSYmSS5zb3VyY2VbMF09PT0iOiI/cyhJLCJNSVNTSU5HX0NIQVIiLGBNaXNzaW5nIHNwYWNlIGFmdGVyIDogaW4gJHthfWApOnMoQy5zdGFydCwiTUlTU0lOR19DSEFSIixgTWlzc2luZyAsIG9yIDogYmV0d2VlbiAke2F9IGl0ZW1zYCkpO2NvbnN0IFA9ST9pKHQsSSxDLHMpOkMuZm91bmQ/ZSh0LEMuZW5kLE8sbnVsbCxDLHMpOm51bGw7UD9zaShJKSYmcyhQLnJhbmdlLCJCTE9DS19JTl9GTE9XIixuaSk6Qy5jb21tZW50JiYoRS5jb21tZW50P0UuY29tbWVudCs9YApgK0MuY29tbWVudDpFLmNvbW1lbnQ9Qy5jb21tZW50KTtjb25zdCBZPW5ldyBzZShFLFApO2lmKHQub3B0aW9ucy5rZWVwU291cmNlVG9rZW5zJiYoWS5zcmNUb2tlbj1UKSxvKXtjb25zdCB4PXU7Qm8odCx4Lml0ZW1zLEUpJiZzKEEsIkRVUExJQ0FURV9LRVkiLCJNYXAga2V5cyBtdXN0IGJlIHVuaXF1ZSIpLHguaXRlbXMucHVzaChZKX1lbHNle2NvbnN0IHg9bmV3IHVlKHQuc2NoZW1hKTt4LmZsb3c9ITAseC5pdGVtcy5wdXNoKFkpLHUuaXRlbXMucHVzaCh4KX1jPVA/UC5yYW5nZVsyXTpDLmVuZH19Y29uc3QgZD1vPyJ9IjoiXSIsW2YsLi4ucF09bi5lbmQ7bGV0IG09YztpZihmJiZmLnNvdXJjZT09PWQpbT1mLm9mZnNldCtmLnNvdXJjZS5sZW5ndGg7ZWxzZXtjb25zdCB5PWFbMF0udG9VcHBlckNhc2UoKSthLnN1YnN0cmluZygxKSxUPWg/YCR7eX0gbXVzdCBlbmQgd2l0aCBhICR7ZH1gOmAke3l9IGluIGJsb2NrIGNvbGxlY3Rpb24gbXVzdCBiZSBzdWZmaWNpZW50bHkgaW5kZW50ZWQgYW5kIGVuZCB3aXRoIGEgJHtkfWA7cyhjLGg/Ik1JU1NJTkdfQ0hBUiI6IkJBRF9JTkRFTlQiLFQpLGYmJmYuc291cmNlLmxlbmd0aCE9PTEmJnAudW5zaGlmdChmKX1pZihwLmxlbmd0aD4wKXtjb25zdCB5PVd0KHAsbSx0Lm9wdGlvbnMuc3RyaWN0LHMpO3kuY29tbWVudCYmKHUuY29tbWVudD91LmNvbW1lbnQrPWAKYCt5LmNvbW1lbnQ6dS5jb21tZW50PXkuY29tbWVudCksdS5yYW5nZT1bbi5vZmZzZXQsbSx5Lm9mZnNldF19ZWxzZSB1LnJhbmdlPVtuLm9mZnNldCxtLG1dO3JldHVybiB1fWZ1bmN0aW9uIGlpKGksZSx0LG4scyxyKXtjb25zdCBvPXQudHlwZT09PSJibG9jay1tYXAiP2dkKGksZSx0LG4scik6dC50eXBlPT09ImJsb2NrLXNlcSI/VGQoaSxlLHQsbixyKTp3ZChpLGUsdCxuLHIpLGE9by5jb25zdHJ1Y3RvcjtyZXR1cm4gcz09PSIhInx8cz09PWEudGFnTmFtZT8oby50YWc9YS50YWdOYW1lLG8pOihzJiYoby50YWc9cyksbyl9ZnVuY3Rpb24gdmQoaSxlLHQsbixzKXt2YXIgYztjb25zdCByPW4/ZS5kaXJlY3RpdmVzLnRhZ05hbWUobi5zb3VyY2UsZD0+cyhuLCJUQUdfUkVTT0xWRV9GQUlMRUQiLGQpKTpudWxsLG89dC50eXBlPT09ImJsb2NrLW1hcCI/Im1hcCI6dC50eXBlPT09ImJsb2NrLXNlcSI/InNlcSI6dC5zdGFydC5zb3VyY2U9PT0ieyI/Im1hcCI6InNlcSI7aWYoIW58fCFyfHxyPT09IiEifHxyPT09dWUudGFnTmFtZSYmbz09PSJtYXAifHxyPT09VWUudGFnTmFtZSYmbz09PSJzZXEifHwhbylyZXR1cm4gaWkoaSxlLHQscyxyKTtsZXQgYT1lLnNjaGVtYS50YWdzLmZpbmQoZD0+ZC50YWc9PT1yJiZkLmNvbGxlY3Rpb249PT1vKTtpZighYSl7Y29uc3QgZD1lLnNjaGVtYS5rbm93blRhZ3Nbcl07aWYoZCYmZC5jb2xsZWN0aW9uPT09byllLnNjaGVtYS50YWdzLnB1c2goT2JqZWN0LmFzc2lnbih7fSxkLHtkZWZhdWx0OiExfSkpLGE9ZDtlbHNlIHJldHVybiBkIT1udWxsJiZkLmNvbGxlY3Rpb24/cyhuLCJCQURfQ09MTEVDVElPTl9UWVBFIixgJHtkLnRhZ30gdXNlZCBmb3IgJHtvfSBjb2xsZWN0aW9uLCBidXQgZXhwZWN0cyAke2QuY29sbGVjdGlvbn1gLCEwKTpzKG4sIlRBR19SRVNPTFZFX0ZBSUxFRCIsYFVucmVzb2x2ZWQgdGFnOiAke3J9YCwhMCksaWkoaSxlLHQscyxyKX1jb25zdCBsPWlpKGksZSx0LHMscixhKSx1PSgoYz1hLnJlc29sdmUpPT1udWxsP3ZvaWQgMDpjLmNhbGwoYSxsLGQ9PnMobiwiVEFHX1JFU09MVkVfRkFJTEVEIixkKSxlLm9wdGlvbnMpKT8/bCxoPVEodSk/dTpuZXcgRih1KTtyZXR1cm4gaC5yYW5nZT1sLnJhbmdlLGgudGFnPXIsYSE9bnVsbCYmYS5mb3JtYXQmJihoLmZvcm1hdD1hLmZvcm1hdCksaH1mdW5jdGlvbiBWbyhpLGUsdCl7Y29uc3Qgbj1pLm9mZnNldCxzPWJkKGksZSx0KTtpZighcylyZXR1cm57dmFsdWU6IiIsdHlwZTpudWxsLGNvbW1lbnQ6IiIscmFuZ2U6W24sbixuXX07Y29uc3Qgcj1zLm1vZGU9PT0iPiI/Ri5CTE9DS19GT0xERUQ6Ri5CTE9DS19MSVRFUkFMLG89aS5zb3VyY2U/X2QoaS5zb3VyY2UpOltdO2xldCBhPW8ubGVuZ3RoO2ZvcihsZXQgbT1vLmxlbmd0aC0xO20+PTA7LS1tKXtjb25zdCB5PW9bbV1bMV07aWYoeT09PSIifHx5PT09IlxyIilhPW07ZWxzZSBicmVha31pZihhPT09MCl7Y29uc3QgbT1zLmNob21wPT09IisiJiZvLmxlbmd0aD4wP2AKYC5yZXBlYXQoTWF0aC5tYXgoMSxvLmxlbmd0aC0xKSk6IiI7bGV0IHk9bitzLmxlbmd0aDtyZXR1cm4gaS5zb3VyY2UmJih5Kz1pLnNvdXJjZS5sZW5ndGgpLHt2YWx1ZTptLHR5cGU6cixjb21tZW50OnMuY29tbWVudCxyYW5nZTpbbix5LHldfX1sZXQgbD1pLmluZGVudCtzLmluZGVudCx1PWkub2Zmc2V0K3MubGVuZ3RoLGg9MDtmb3IobGV0IG09MDttPGE7KyttKXtjb25zdFt5LFRdPW9bbV07aWYoVD09PSIifHxUPT09IlxyIilzLmluZGVudD09PTAmJnkubGVuZ3RoPmwmJihsPXkubGVuZ3RoKTtlbHNle3kubGVuZ3RoPGwmJnQodSt5Lmxlbmd0aCwiTUlTU0lOR19DSEFSIiwiQmxvY2sgc2NhbGFycyB3aXRoIG1vcmUtaW5kZW50ZWQgbGVhZGluZyBlbXB0eSBsaW5lcyBtdXN0IHVzZSBhbiBleHBsaWNpdCBpbmRlbnRhdGlvbiBpbmRpY2F0b3IiKSxzLmluZGVudD09PTAmJihsPXkubGVuZ3RoKSxoPW07YnJlYWt9dSs9eS5sZW5ndGgrVC5sZW5ndGgrMX1mb3IobGV0IG09by5sZW5ndGgtMTttPj1hOy0tbSlvW21dWzBdLmxlbmd0aD5sJiYoYT1tKzEpO2xldCBjPSIiLGQ9IiIsZj0hMTtmb3IobGV0IG09MDttPGg7KyttKWMrPW9bbV1bMF0uc2xpY2UobCkrYApgO2ZvcihsZXQgbT1oO208YTsrK20pe2xldFt5LFRdPW9bbV07dSs9eS5sZW5ndGgrVC5sZW5ndGgrMTtjb25zdCB2PVRbVC5sZW5ndGgtMV09PT0iXHIiO2lmKHYmJihUPVQuc2xpY2UoMCwtMSkpLFQmJnkubGVuZ3RoPGwpe2NvbnN0IE89YEJsb2NrIHNjYWxhciBsaW5lcyBtdXN0IG5vdCBiZSBsZXNzIGluZGVudGVkIHRoYW4gdGhlaXIgJHtzLmluZGVudD8iZXhwbGljaXQgaW5kZW50YXRpb24gaW5kaWNhdG9yIjoiZmlyc3QgbGluZSJ9YDt0KHUtVC5sZW5ndGgtKHY/MjoxKSwiQkFEX0lOREVOVCIsTykseT0iIn1yPT09Ri5CTE9DS19MSVRFUkFMPyhjKz1kK3kuc2xpY2UobCkrVCxkPWAKYCk6eS5sZW5ndGg+bHx8VFswXT09PSIJIj8oZD09PSIgIj9kPWAKYDohZiYmZD09PWAKYCYmKGQ9YAoKYCksYys9ZCt5LnNsaWNlKGwpK1QsZD1gCmAsZj0hMCk6VD09PSIiP2Q9PT1gCmA/Yys9YApgOmQ9YApgOihjKz1kK1QsZD0iICIsZj0hMSl9c3dpdGNoKHMuY2hvbXApe2Nhc2UiLSI6YnJlYWs7Y2FzZSIrIjpmb3IobGV0IG09YTttPG8ubGVuZ3RoOysrbSljKz1gCmArb1ttXVswXS5zbGljZShsKTtjW2MubGVuZ3RoLTFdIT09YApgJiYoYys9YApgKTticmVhaztkZWZhdWx0OmMrPWAKYH1jb25zdCBwPW4rcy5sZW5ndGgraS5zb3VyY2UubGVuZ3RoO3JldHVybnt2YWx1ZTpjLHR5cGU6cixjb21tZW50OnMuY29tbWVudCxyYW5nZTpbbixwLHBdfX1mdW5jdGlvbiBiZCh7b2Zmc2V0OmkscHJvcHM6ZX0sdCxuKXtpZihlWzBdLnR5cGUhPT0iYmxvY2stc2NhbGFyLWhlYWRlciIpcmV0dXJuIG4oZVswXSwiSU1QT1NTSUJMRSIsIkJsb2NrIHNjYWxhciBoZWFkZXIgbm90IGZvdW5kIiksbnVsbDtjb25zdHtzb3VyY2U6c309ZVswXSxyPXNbMF07bGV0IG89MCxhPSIiLGw9LTE7Zm9yKGxldCBkPTE7ZDxzLmxlbmd0aDsrK2Qpe2NvbnN0IGY9c1tkXTtpZighYSYmKGY9PT0iLSJ8fGY9PT0iKyIpKWE9ZjtlbHNle2NvbnN0IHA9TnVtYmVyKGYpOyFvJiZwP289cDpsPT09LTEmJihsPWkrZCl9fWwhPT0tMSYmbihsLCJVTkVYUEVDVEVEX1RPS0VOIixgQmxvY2sgc2NhbGFyIGhlYWRlciBpbmNsdWRlcyBleHRyYSBjaGFyYWN0ZXJzOiAke3N9YCk7bGV0IHU9ITEsaD0iIixjPXMubGVuZ3RoO2ZvcihsZXQgZD0xO2Q8ZS5sZW5ndGg7KytkKXtjb25zdCBmPWVbZF07c3dpdGNoKGYudHlwZSl7Y2FzZSJzcGFjZSI6dT0hMDtjYXNlIm5ld2xpbmUiOmMrPWYuc291cmNlLmxlbmd0aDticmVhaztjYXNlImNvbW1lbnQiOnQmJiF1JiZuKGYsIk1JU1NJTkdfQ0hBUiIsIkNvbW1lbnRzIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gb3RoZXIgdG9rZW5zIGJ5IHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMiKSxjKz1mLnNvdXJjZS5sZW5ndGgsaD1mLnNvdXJjZS5zdWJzdHJpbmcoMSk7YnJlYWs7Y2FzZSJlcnJvciI6bihmLCJVTkVYUEVDVEVEX1RPS0VOIixmLm1lc3NhZ2UpLGMrPWYuc291cmNlLmxlbmd0aDticmVhaztkZWZhdWx0Ontjb25zdCBwPWBVbmV4cGVjdGVkIHRva2VuIGluIGJsb2NrIHNjYWxhciBoZWFkZXI6ICR7Zi50eXBlfWA7bihmLCJVTkVYUEVDVEVEX1RPS0VOIixwKTtjb25zdCBtPWYuc291cmNlO20mJnR5cGVvZiBtPT0ic3RyaW5nIiYmKGMrPW0ubGVuZ3RoKX19fXJldHVybnttb2RlOnIsaW5kZW50Om8sY2hvbXA6YSxjb21tZW50OmgsbGVuZ3RoOmN9fWZ1bmN0aW9uIF9kKGkpe2NvbnN0IGU9aS5zcGxpdCgvXG4oICopLyksdD1lWzBdLG49dC5tYXRjaCgvXiggKikvKSxyPVtuIT1udWxsJiZuWzFdP1tuWzFdLHQuc2xpY2UoblsxXS5sZW5ndGgpXTpbIiIsdF1dO2ZvcihsZXQgbz0xO288ZS5sZW5ndGg7bys9MilyLnB1c2goW2Vbb10sZVtvKzFdXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gV28oaSxlLHQpe2NvbnN0e29mZnNldDpuLHR5cGU6cyxzb3VyY2U6cixlbmQ6b309aTtsZXQgYSxsO2NvbnN0IHU9KGQsZixwKT0+dChuK2QsZixwKTtzd2l0Y2gocyl7Y2FzZSJzY2FsYXIiOmE9Ri5QTEFJTixsPU9kKHIsdSk7YnJlYWs7Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6YT1GLlFVT1RFX1NJTkdMRSxsPUlkKHIsdSk7YnJlYWs7Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6YT1GLlFVT1RFX0RPVUJMRSxsPVNkKHIsdSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdChpLCJVTkVYUEVDVEVEX1RPS0VOIixgRXhwZWN0ZWQgYSBmbG93IHNjYWxhciB2YWx1ZSwgYnV0IGZvdW5kOiAke3N9YCkse3ZhbHVlOiIiLHR5cGU6bnVsbCxjb21tZW50OiIiLHJhbmdlOltuLG4rci5sZW5ndGgsbityLmxlbmd0aF19fWNvbnN0IGg9bityLmxlbmd0aCxjPVd0KG8saCxlLHQpO3JldHVybnt2YWx1ZTpsLHR5cGU6YSxjb21tZW50OmMuY29tbWVudCxyYW5nZTpbbixoLGMub2Zmc2V0XX19ZnVuY3Rpb24gT2QoaSxlKXtsZXQgdD0iIjtzd2l0Y2goaVswXSl7Y2FzZSIJIjp0PSJhIHRhYiBjaGFyYWN0ZXIiO2JyZWFrO2Nhc2UiLCI6dD0iZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVyICwiO2JyZWFrO2Nhc2UiJSI6dD0iZGlyZWN0aXZlIGluZGljYXRvciBjaGFyYWN0ZXIgJSI7YnJlYWs7Y2FzZSJ8IjpjYXNlIj4iOnt0PWBibG9jayBzY2FsYXIgaW5kaWNhdG9yICR7aVswXX1gO2JyZWFrfWNhc2UiQCI6Y2FzZSJgIjp7dD1gcmVzZXJ2ZWQgY2hhcmFjdGVyICR7aVswXX1gO2JyZWFrfX1yZXR1cm4gdCYmZSgwLCJCQURfU0NBTEFSX1NUQVJUIixgUGxhaW4gdmFsdWUgY2Fubm90IHN0YXJ0IHdpdGggJHt0fWApLGpvKGkpfWZ1bmN0aW9uIElkKGksZSl7cmV0dXJuKGlbaS5sZW5ndGgtMV0hPT0iJyJ8fGkubGVuZ3RoPT09MSkmJmUoaS5sZW5ndGgsIk1JU1NJTkdfQ0hBUiIsIk1pc3NpbmcgY2xvc2luZyAncXVvdGUiKSxqbyhpLnNsaWNlKDEsLTEpKS5yZXBsYWNlKC8nJy9nLCInIil9ZnVuY3Rpb24gam8oaSl7bGV0IGUsdDt0cnl7ZT1uZXcgUmVnRXhwKGAoLio/KSg/PCFbIAldKVsgCV0qXHI/CmAsInN5IiksdD1uZXcgUmVnRXhwKGBbIAldKiguKj8pKD86KD88IVsgCV0pWyAJXSopP1xyPwpgLCJzeSIpfWNhdGNoe2U9LyguKj8pWyBcdF0qXHI/XG4vc3ksdD0vWyBcdF0qKC4qPylbIFx0XSpccj9cbi9zeX1sZXQgbj1lLmV4ZWMoaSk7aWYoIW4pcmV0dXJuIGk7bGV0IHM9blsxXSxyPSIgIixvPWUubGFzdEluZGV4O2Zvcih0Lmxhc3RJbmRleD1vO249dC5leGVjKGkpOyluWzFdPT09IiI/cj09PWAKYD9zKz1yOnI9YApgOihzKz1yK25bMV0scj0iICIpLG89dC5sYXN0SW5kZXg7Y29uc3QgYT0vWyBcdF0qKC4qKS9zeTtyZXR1cm4gYS5sYXN0SW5kZXg9byxuPWEuZXhlYyhpKSxzK3IrKChuPT1udWxsP3ZvaWQgMDpuWzFdKT8/IiIpfWZ1bmN0aW9uIFNkKGksZSl7bGV0IHQ9IiI7Zm9yKGxldCBuPTE7bjxpLmxlbmd0aC0xOysrbil7Y29uc3Qgcz1pW25dO2lmKCEocz09PSJcciImJmlbbisxXT09PWAKYCkpaWYocz09PWAKYCl7Y29uc3R7Zm9sZDpyLG9mZnNldDpvfT1FZChpLG4pO3QrPXIsbj1vfWVsc2UgaWYocz09PSJcXCIpe2xldCByPWlbKytuXTtjb25zdCBvPURkW3JdO2lmKG8pdCs9bztlbHNlIGlmKHI9PT1gCmApZm9yKHI9aVtuKzFdO3I9PT0iICJ8fHI9PT0iCSI7KXI9aVsrK24rMV07ZWxzZSBpZihyPT09IlxyIiYmaVtuKzFdPT09YApgKWZvcihyPWlbKytuKzFdO3I9PT0iICJ8fHI9PT0iCSI7KXI9aVsrK24rMV07ZWxzZSBpZihyPT09IngifHxyPT09InUifHxyPT09IlUiKXtjb25zdCBhPXt4OjIsdTo0LFU6OH1bcl07dCs9TWQoaSxuKzEsYSxlKSxuKz1hfWVsc2V7Y29uc3QgYT1pLnN1YnN0cihuLTEsMik7ZShuLTEsIkJBRF9EUV9FU0NBUEUiLGBJbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZSAke2F9YCksdCs9YX19ZWxzZSBpZihzPT09IiAifHxzPT09IgkiKXtjb25zdCByPW47bGV0IG89aVtuKzFdO2Zvcig7bz09PSIgInx8bz09PSIJIjspbz1pWysrbisxXTtvIT09YApgJiYhKG89PT0iXHIiJiZpW24rMl09PT1gCmApJiYodCs9bj5yP2kuc2xpY2UocixuKzEpOnMpfWVsc2UgdCs9c31yZXR1cm4oaVtpLmxlbmd0aC0xXSE9PSciJ3x8aS5sZW5ndGg9PT0xKSYmZShpLmxlbmd0aCwiTUlTU0lOR19DSEFSIiwnTWlzc2luZyBjbG9zaW5nICJxdW90ZScpLHR9ZnVuY3Rpb24gRWQoaSxlKXtsZXQgdD0iIixuPWlbZSsxXTtmb3IoOyhuPT09IiAifHxuPT09IgkifHxuPT09YApgfHxuPT09IlxyIikmJiEobj09PSJcciImJmlbZSsyXSE9PWAKYCk7KW49PT1gCmAmJih0Kz1gCmApLGUrPTEsbj1pW2UrMV07cmV0dXJuIHR8fCh0PSIgIikse2ZvbGQ6dCxvZmZzZXQ6ZX19Y29uc3QgRGQ9ezA6IlwwIixhOiJceDA3IixiOiJcYiIsZToiXHgxQiIsZjoiXGYiLG46YApgLHI6IlxyIix0OiIJIix2OiJcdiIsTjoiwoUiLF86IsKgIixMOiJcdTIwMjgiLFA6Ilx1MjAyOSIsIiAiOiIgIiwnIic6JyInLCIvIjoiLyIsIlxcIjoiXFwiLCIJIjoiCSJ9O2Z1bmN0aW9uIE1kKGksZSx0LG4pe2NvbnN0IHM9aS5zdWJzdHIoZSx0KSxvPXMubGVuZ3RoPT09dCYmL15bMC05YS1mQS1GXSskLy50ZXN0KHMpP3BhcnNlSW50KHMsMTYpOk5hTjtpZihpc05hTihvKSl7Y29uc3QgYT1pLnN1YnN0cihlLTIsdCsyKTtyZXR1cm4gbihlLTIsIkJBRF9EUV9FU0NBUEUiLGBJbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZSAke2F9YCksYX1yZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQobyl9ZnVuY3Rpb24gcW8oaSxlLHQsbil7Y29uc3R7dmFsdWU6cyx0eXBlOnIsY29tbWVudDpvLHJhbmdlOmF9PWUudHlwZT09PSJibG9jay1zY2FsYXIiP1ZvKGUsaS5vcHRpb25zLnN0cmljdCxuKTpXbyhlLGkub3B0aW9ucy5zdHJpY3QsbiksbD10P2kuZGlyZWN0aXZlcy50YWdOYW1lKHQuc291cmNlLGM9Pm4odCwiVEFHX1JFU09MVkVfRkFJTEVEIixjKSk6bnVsbCx1PXQmJmw/QWQoaS5zY2hlbWEscyxsLHQsbik6ZS50eXBlPT09InNjYWxhciI/TmQoaSxzLGUsbik6aS5zY2hlbWFbQWVdO2xldCBoO3RyeXtjb25zdCBjPXUucmVzb2x2ZShzLGQ9Pm4odD8/ZSwiVEFHX1JFU09MVkVfRkFJTEVEIixkKSxpLm9wdGlvbnMpO2g9aihjKT9jOm5ldyBGKGMpfWNhdGNoKGMpe2NvbnN0IGQ9YyBpbnN0YW5jZW9mIEVycm9yP2MubWVzc2FnZTpTdHJpbmcoYyk7bih0Pz9lLCJUQUdfUkVTT0xWRV9GQUlMRUQiLGQpLGg9bmV3IEYocyl9cmV0dXJuIGgucmFuZ2U9YSxoLnNvdXJjZT1zLHImJihoLnR5cGU9ciksbCYmKGgudGFnPWwpLHUuZm9ybWF0JiYoaC5mb3JtYXQ9dS5mb3JtYXQpLG8mJihoLmNvbW1lbnQ9byksaH1mdW5jdGlvbiBBZChpLGUsdCxuLHMpe3ZhciBhO2lmKHQ9PT0iISIpcmV0dXJuIGlbQWVdO2NvbnN0IHI9W107Zm9yKGNvbnN0IGwgb2YgaS50YWdzKWlmKCFsLmNvbGxlY3Rpb24mJmwudGFnPT09dClpZihsLmRlZmF1bHQmJmwudGVzdClyLnB1c2gobCk7ZWxzZSByZXR1cm4gbDtmb3IoY29uc3QgbCBvZiByKWlmKChhPWwudGVzdCkhPW51bGwmJmEudGVzdChlKSlyZXR1cm4gbDtjb25zdCBvPWkua25vd25UYWdzW3RdO3JldHVybiBvJiYhby5jb2xsZWN0aW9uPyhpLnRhZ3MucHVzaChPYmplY3QuYXNzaWduKHt9LG8se2RlZmF1bHQ6ITEsdGVzdDp2b2lkIDB9KSksbyk6KHMobiwiVEFHX1JFU09MVkVfRkFJTEVEIixgVW5yZXNvbHZlZCB0YWc6ICR7dH1gLHQhPT0idGFnOnlhbWwub3JnLDIwMDI6c3RyIiksaVtBZV0pfWZ1bmN0aW9uIE5kKHtkaXJlY3RpdmVzOmksc2NoZW1hOmV9LHQsbixzKXtjb25zdCByPWUudGFncy5maW5kKG89Pnt2YXIgYTtyZXR1cm4gby5kZWZhdWx0JiYoKGE9by50ZXN0KT09bnVsbD92b2lkIDA6YS50ZXN0KHQpKX0pfHxlW0FlXTtpZihlLmNvbXBhdCl7Y29uc3Qgbz1lLmNvbXBhdC5maW5kKGE9Pnt2YXIgbDtyZXR1cm4gYS5kZWZhdWx0JiYoKGw9YS50ZXN0KT09bnVsbD92b2lkIDA6bC50ZXN0KHQpKX0pPz9lW0FlXTtpZihyLnRhZyE9PW8udGFnKXtjb25zdCBhPWkudGFnU3RyaW5nKHIudGFnKSxsPWkudGFnU3RyaW5nKG8udGFnKSx1PWBWYWx1ZSBtYXkgYmUgcGFyc2VkIGFzIGVpdGhlciAke2F9IG9yICR7bH1gO3MobiwiVEFHX1JFU09MVkVfRkFJTEVEIix1LCEwKX19cmV0dXJuIHJ9ZnVuY3Rpb24ga2QoaSxlLHQpe2lmKGUpe3Q9PT1udWxsJiYodD1lLmxlbmd0aCk7Zm9yKGxldCBuPXQtMTtuPj0wOy0tbil7bGV0IHM9ZVtuXTtzd2l0Y2gocy50eXBlKXtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmNhc2UibmV3bGluZSI6aS09cy5zb3VyY2UubGVuZ3RoO2NvbnRpbnVlfWZvcihzPWVbKytuXTsocz09bnVsbD92b2lkIDA6cy50eXBlKT09PSJzcGFjZSI7KWkrPXMuc291cmNlLmxlbmd0aCxzPWVbKytuXTticmVha319cmV0dXJuIGl9Y29uc3QgQ2Q9e2NvbXBvc2VOb2RlOlpvLGNvbXBvc2VFbXB0eU5vZGU6cml9O2Z1bmN0aW9uIFpvKGksZSx0LG4pe2NvbnN0e3NwYWNlQmVmb3JlOnMsY29tbWVudDpyLGFuY2hvcjpvLHRhZzphfT10O2xldCBsLHU9ITA7c3dpdGNoKGUudHlwZSl7Y2FzZSJhbGlhcyI6bD1MZChpLGUsbiksKG98fGEpJiZuKGUsIkFMSUFTX1BST1BTIiwiQW4gYWxpYXMgbm9kZSBtdXN0IG5vdCBzcGVjaWZ5IGFueSBwcm9wZXJ0aWVzIik7YnJlYWs7Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOmNhc2UiYmxvY2stc2NhbGFyIjpsPXFvKGksZSxhLG4pLG8mJihsLmFuY2hvcj1vLnNvdXJjZS5zdWJzdHJpbmcoMSkpO2JyZWFrO2Nhc2UiYmxvY2stbWFwIjpjYXNlImJsb2NrLXNlcSI6Y2FzZSJmbG93LWNvbGxlY3Rpb24iOmw9dmQoQ2QsaSxlLGEsbiksbyYmKGwuYW5jaG9yPW8uc291cmNlLnN1YnN0cmluZygxKSk7YnJlYWs7ZGVmYXVsdDp7Y29uc3QgaD1lLnR5cGU9PT0iZXJyb3IiP2UubWVzc2FnZTpgVW5zdXBwb3J0ZWQgdG9rZW4gKHR5cGU6ICR7ZS50eXBlfSlgO24oZSwiVU5FWFBFQ1RFRF9UT0tFTiIsaCksbD1yaShpLGUub2Zmc2V0LHZvaWQgMCxudWxsLHQsbiksdT0hMX19cmV0dXJuIG8mJmwuYW5jaG9yPT09IiImJm4obywiQkFEX0FMSUFTIiwiQW5jaG9yIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmciKSxzJiYobC5zcGFjZUJlZm9yZT0hMCksciYmKGUudHlwZT09PSJzY2FsYXIiJiZlLnNvdXJjZT09PSIiP2wuY29tbWVudD1yOmwuY29tbWVudEJlZm9yZT1yKSxpLm9wdGlvbnMua2VlcFNvdXJjZVRva2VucyYmdSYmKGwuc3JjVG9rZW49ZSksbH1mdW5jdGlvbiByaShpLGUsdCxuLHtzcGFjZUJlZm9yZTpzLGNvbW1lbnQ6cixhbmNob3I6byx0YWc6YSxlbmQ6bH0sdSl7Y29uc3QgaD17dHlwZToic2NhbGFyIixvZmZzZXQ6a2QoZSx0LG4pLGluZGVudDotMSxzb3VyY2U6IiJ9LGM9cW8oaSxoLGEsdSk7cmV0dXJuIG8mJihjLmFuY2hvcj1vLnNvdXJjZS5zdWJzdHJpbmcoMSksYy5hbmNob3I9PT0iIiYmdShvLCJCQURfQUxJQVMiLCJBbmNob3IgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZyIpKSxzJiYoYy5zcGFjZUJlZm9yZT0hMCksciYmKGMuY29tbWVudD1yLGMucmFuZ2VbMl09bCksY31mdW5jdGlvbiBMZCh7b3B0aW9uczppfSx7b2Zmc2V0OmUsc291cmNlOnQsZW5kOm59LHMpe2NvbnN0IHI9bmV3IEVuKHQuc3Vic3RyaW5nKDEpKTtyLnNvdXJjZT09PSIiJiZzKGUsIkJBRF9BTElBUyIsIkFsaWFzIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmciKSxyLnNvdXJjZS5lbmRzV2l0aCgiOiIpJiZzKGUrdC5sZW5ndGgtMSwiQkFEX0FMSUFTIiwiQWxpYXMgZW5kaW5nIGluIDogaXMgYW1iaWd1b3VzIiwhMCk7Y29uc3Qgbz1lK3QubGVuZ3RoLGE9V3QobixvLGkuc3RyaWN0LHMpO3JldHVybiByLnJhbmdlPVtlLG8sYS5vZmZzZXRdLGEuY29tbWVudCYmKHIuY29tbWVudD1hLmNvbW1lbnQpLHJ9ZnVuY3Rpb24geGQoaSxlLHtvZmZzZXQ6dCxzdGFydDpuLHZhbHVlOnMsZW5kOnJ9LG8pe2NvbnN0IGE9T2JqZWN0LmFzc2lnbih7X2RpcmVjdGl2ZXM6ZX0saSksbD1uZXcgX3Qodm9pZCAwLGEpLHU9e2F0Um9vdDohMCxkaXJlY3RpdmVzOmwuZGlyZWN0aXZlcyxvcHRpb25zOmwub3B0aW9ucyxzY2hlbWE6bC5zY2hlbWF9LGg9SXQobix7aW5kaWNhdG9yOiJkb2Mtc3RhcnQiLG5leHQ6cz8/KHI9PW51bGw/dm9pZCAwOnJbMF0pLG9mZnNldDp0LG9uRXJyb3I6byxzdGFydE9uTmV3bGluZTohMH0pO2guZm91bmQmJihsLmRpcmVjdGl2ZXMuZG9jU3RhcnQ9ITAscyYmKHMudHlwZT09PSJibG9jay1tYXAifHxzLnR5cGU9PT0iYmxvY2stc2VxIikmJiFoLmhhc05ld2xpbmUmJm8oaC5lbmQsIk1JU1NJTkdfQ0hBUiIsIkJsb2NrIGNvbGxlY3Rpb24gY2Fubm90IHN0YXJ0IG9uIHNhbWUgbGluZSB3aXRoIGRpcmVjdGl2ZXMtZW5kIG1hcmtlciIpKSxsLmNvbnRlbnRzPXM/Wm8odSxzLGgsbyk6cmkodSxoLmVuZCxuLG51bGwsaCxvKTtjb25zdCBjPWwuY29udGVudHMucmFuZ2VbMl0sZD1XdChyLGMsITEsbyk7cmV0dXJuIGQuY29tbWVudCYmKGwuY29tbWVudD1kLmNvbW1lbnQpLGwucmFuZ2U9W3QsYyxkLm9mZnNldF0sbH1mdW5jdGlvbiBqdChpKXtpZih0eXBlb2YgaT09Im51bWJlciIpcmV0dXJuW2ksaSsxXTtpZihBcnJheS5pc0FycmF5KGkpKXJldHVybiBpLmxlbmd0aD09PTI/aTpbaVswXSxpWzFdXTtjb25zdHtvZmZzZXQ6ZSxzb3VyY2U6dH09aTtyZXR1cm5bZSxlKyh0eXBlb2YgdD09InN0cmluZyI/dC5sZW5ndGg6MSldfWZ1bmN0aW9uIEtvKGkpe3ZhciBzO2xldCBlPSIiLHQ9ITEsbj0hMTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoOysrcil7Y29uc3Qgbz1pW3JdO3N3aXRjaChvWzBdKXtjYXNlIiMiOmUrPShlPT09IiI/IiI6bj9gCgpgOmAKYCkrKG8uc3Vic3RyaW5nKDEpfHwiICIpLHQ9ITAsbj0hMTticmVhaztjYXNlIiUiOigocz1pW3IrMV0pPT1udWxsP3ZvaWQgMDpzWzBdKSE9PSIjIiYmKHIrPTEpLHQ9ITE7YnJlYWs7ZGVmYXVsdDp0fHwobj0hMCksdD0hMX19cmV0dXJue2NvbW1lbnQ6ZSxhZnRlckVtcHR5TGluZTpufX1jbGFzcyBvaXtjb25zdHJ1Y3RvcihlPXt9KXt0aGlzLmRvYz1udWxsLHRoaXMuYXREaXJlY3RpdmVzPSExLHRoaXMucHJlbHVkZT1bXSx0aGlzLmVycm9ycz1bXSx0aGlzLndhcm5pbmdzPVtdLHRoaXMub25FcnJvcj0odCxuLHMscik9Pntjb25zdCBvPWp0KHQpO3I/dGhpcy53YXJuaW5ncy5wdXNoKG5ldyBVbyhvLG4scykpOnRoaXMuZXJyb3JzLnB1c2gobmV3IFFlKG8sbixzKSl9LHRoaXMuZGlyZWN0aXZlcz1uZXcgcmUoe3ZlcnNpb246ZS52ZXJzaW9ufHwiMS4yIn0pLHRoaXMub3B0aW9ucz1lfWRlY29yYXRlKGUsdCl7Y29uc3R7Y29tbWVudDpuLGFmdGVyRW1wdHlMaW5lOnN9PUtvKHRoaXMucHJlbHVkZSk7aWYobil7Y29uc3Qgcj1lLmNvbnRlbnRzO2lmKHQpZS5jb21tZW50PWUuY29tbWVudD9gJHtlLmNvbW1lbnR9CiR7bn1gOm47ZWxzZSBpZihzfHxlLmRpcmVjdGl2ZXMuZG9jU3RhcnR8fCFyKWUuY29tbWVudEJlZm9yZT1uO2Vsc2UgaWYoRyhyKSYmIXIuZmxvdyYmci5pdGVtcy5sZW5ndGg+MCl7bGV0IG89ci5pdGVtc1swXTtLKG8pJiYobz1vLmtleSk7Y29uc3QgYT1vLmNvbW1lbnRCZWZvcmU7by5jb21tZW50QmVmb3JlPWE/YCR7bn0KJHthfWA6bn1lbHNle2NvbnN0IG89ci5jb21tZW50QmVmb3JlO3IuY29tbWVudEJlZm9yZT1vP2Ake259CiR7b31gOm59fXQ/KEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUuZXJyb3JzLHRoaXMuZXJyb3JzKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlLndhcm5pbmdzLHRoaXMud2FybmluZ3MpKTooZS5lcnJvcnM9dGhpcy5lcnJvcnMsZS53YXJuaW5ncz10aGlzLndhcm5pbmdzKSx0aGlzLnByZWx1ZGU9W10sdGhpcy5lcnJvcnM9W10sdGhpcy53YXJuaW5ncz1bXX1zdHJlYW1JbmZvKCl7cmV0dXJue2NvbW1lbnQ6S28odGhpcy5wcmVsdWRlKS5jb21tZW50LGRpcmVjdGl2ZXM6dGhpcy5kaXJlY3RpdmVzLGVycm9yczp0aGlzLmVycm9ycyx3YXJuaW5nczp0aGlzLndhcm5pbmdzfX0qY29tcG9zZShlLHQ9ITEsbj0tMSl7Zm9yKGNvbnN0IHMgb2YgZSl5aWVsZCp0aGlzLm5leHQocyk7eWllbGQqdGhpcy5lbmQodCxuKX0qbmV4dChlKXtzd2l0Y2goZS50eXBlKXtjYXNlImRpcmVjdGl2ZSI6dGhpcy5kaXJlY3RpdmVzLmFkZChlLnNvdXJjZSwodCxuLHMpPT57Y29uc3Qgcj1qdChlKTtyWzBdKz10LHRoaXMub25FcnJvcihyLCJCQURfRElSRUNUSVZFIixuLHMpfSksdGhpcy5wcmVsdWRlLnB1c2goZS5zb3VyY2UpLHRoaXMuYXREaXJlY3RpdmVzPSEwO2JyZWFrO2Nhc2UiZG9jdW1lbnQiOntjb25zdCB0PXhkKHRoaXMub3B0aW9ucyx0aGlzLmRpcmVjdGl2ZXMsZSx0aGlzLm9uRXJyb3IpO3RoaXMuYXREaXJlY3RpdmVzJiYhdC5kaXJlY3RpdmVzLmRvY1N0YXJ0JiZ0aGlzLm9uRXJyb3IoZSwiTUlTU0lOR19DSEFSIiwiTWlzc2luZyBkaXJlY3RpdmVzLWVuZC9kb2Mtc3RhcnQgaW5kaWNhdG9yIGxpbmUiKSx0aGlzLmRlY29yYXRlKHQsITEpLHRoaXMuZG9jJiYoeWllbGQgdGhpcy5kb2MpLHRoaXMuZG9jPXQsdGhpcy5hdERpcmVjdGl2ZXM9ITE7YnJlYWt9Y2FzZSJieXRlLW9yZGVyLW1hcmsiOmNhc2Uic3BhY2UiOmJyZWFrO2Nhc2UiY29tbWVudCI6Y2FzZSJuZXdsaW5lIjp0aGlzLnByZWx1ZGUucHVzaChlLnNvdXJjZSk7YnJlYWs7Y2FzZSJlcnJvciI6e2NvbnN0IHQ9ZS5zb3VyY2U/YCR7ZS5tZXNzYWdlfTogJHtKU09OLnN0cmluZ2lmeShlLnNvdXJjZSl9YDplLm1lc3NhZ2Usbj1uZXcgUWUoanQoZSksIlVORVhQRUNURURfVE9LRU4iLHQpO3RoaXMuYXREaXJlY3RpdmVzfHwhdGhpcy5kb2M/dGhpcy5lcnJvcnMucHVzaChuKTp0aGlzLmRvYy5lcnJvcnMucHVzaChuKTticmVha31jYXNlImRvYy1lbmQiOntpZighdGhpcy5kb2Mpe2NvbnN0IG49IlVuZXhwZWN0ZWQgZG9jLWVuZCB3aXRob3V0IHByZWNlZGluZyBkb2N1bWVudCI7dGhpcy5lcnJvcnMucHVzaChuZXcgUWUoanQoZSksIlVORVhQRUNURURfVE9LRU4iLG4pKTticmVha310aGlzLmRvYy5kaXJlY3RpdmVzLmRvY0VuZD0hMDtjb25zdCB0PVd0KGUuZW5kLGUub2Zmc2V0K2Uuc291cmNlLmxlbmd0aCx0aGlzLmRvYy5vcHRpb25zLnN0cmljdCx0aGlzLm9uRXJyb3IpO2lmKHRoaXMuZGVjb3JhdGUodGhpcy5kb2MsITApLHQuY29tbWVudCl7Y29uc3Qgbj10aGlzLmRvYy5jb21tZW50O3RoaXMuZG9jLmNvbW1lbnQ9bj9gJHtufQoke3QuY29tbWVudH1gOnQuY29tbWVudH10aGlzLmRvYy5yYW5nZVsyXT10Lm9mZnNldDticmVha31kZWZhdWx0OnRoaXMuZXJyb3JzLnB1c2gobmV3IFFlKGp0KGUpLCJVTkVYUEVDVEVEX1RPS0VOIixgVW5zdXBwb3J0ZWQgdG9rZW4gJHtlLnR5cGV9YCkpfX0qZW5kKGU9ITEsdD0tMSl7aWYodGhpcy5kb2MpdGhpcy5kZWNvcmF0ZSh0aGlzLmRvYywhMCkseWllbGQgdGhpcy5kb2MsdGhpcy5kb2M9bnVsbDtlbHNlIGlmKGUpe2NvbnN0IG49T2JqZWN0LmFzc2lnbih7X2RpcmVjdGl2ZXM6dGhpcy5kaXJlY3RpdmVzfSx0aGlzLm9wdGlvbnMpLHM9bmV3IF90KHZvaWQgMCxuKTt0aGlzLmF0RGlyZWN0aXZlcyYmdGhpcy5vbkVycm9yKHQsIk1JU1NJTkdfQ0hBUiIsIk1pc3NpbmcgZGlyZWN0aXZlcy1lbmQgaW5kaWNhdG9yIGxpbmUiKSxzLnJhbmdlPVswLHQsdF0sdGhpcy5kZWNvcmF0ZShzLCExKSx5aWVsZCBzfX19ZnVuY3Rpb24gWWQoaSxlPSEwLHQpe2lmKGkpe2NvbnN0IG49KHMscixvKT0+e2NvbnN0IGE9dHlwZW9mIHM9PSJudW1iZXIiP3M6QXJyYXkuaXNBcnJheShzKT9zWzBdOnMub2Zmc2V0O2lmKHQpdChhLHIsbyk7ZWxzZSB0aHJvdyBuZXcgUWUoW2EsYSsxXSxyLG8pfTtzd2l0Y2goaS50eXBlKXtjYXNlInNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6cmV0dXJuIFdvKGksZSxuKTtjYXNlImJsb2NrLXNjYWxhciI6cmV0dXJuIFZvKGksZSxuKX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gemQoaSxlKXtjb25zdHtpbXBsaWNpdEtleTp0PSExLGluZGVudDpuLGluRmxvdzpzPSExLG9mZnNldDpyPS0xLHR5cGU6bz0iUExBSU4ifT1lLGE9QnQoe3R5cGU6byx2YWx1ZTppfSx7aW1wbGljaXRLZXk6dCxpbmRlbnQ6bj4wPyIgIi5yZXBlYXQobik6IiIsaW5GbG93OnMsb3B0aW9uczp7YmxvY2tRdW90ZTohMCxsaW5lV2lkdGg6LTF9fSksbD1lLmVuZD8/W3t0eXBlOiJuZXdsaW5lIixvZmZzZXQ6LTEsaW5kZW50Om4sc291cmNlOmAKYH1dO3N3aXRjaChhWzBdKXtjYXNlInwiOmNhc2UiPiI6e2NvbnN0IHU9YS5pbmRleE9mKGAKYCksaD1hLnN1YnN0cmluZygwLHUpLGM9YS5zdWJzdHJpbmcodSsxKStgCmAsZD1be3R5cGU6ImJsb2NrLXNjYWxhci1oZWFkZXIiLG9mZnNldDpyLGluZGVudDpuLHNvdXJjZTpofV07cmV0dXJuIEdvKGQsbCl8fGQucHVzaCh7dHlwZToibmV3bGluZSIsb2Zmc2V0Oi0xLGluZGVudDpuLHNvdXJjZTpgCmB9KSx7dHlwZToiYmxvY2stc2NhbGFyIixvZmZzZXQ6cixpbmRlbnQ6bixwcm9wczpkLHNvdXJjZTpjfX1jYXNlJyInOnJldHVybnt0eXBlOiJkb3VibGUtcXVvdGVkLXNjYWxhciIsb2Zmc2V0OnIsaW5kZW50Om4sc291cmNlOmEsZW5kOmx9O2Nhc2UiJyI6cmV0dXJue3R5cGU6InNpbmdsZS1xdW90ZWQtc2NhbGFyIixvZmZzZXQ6cixpbmRlbnQ6bixzb3VyY2U6YSxlbmQ6bH07ZGVmYXVsdDpyZXR1cm57dHlwZToic2NhbGFyIixvZmZzZXQ6cixpbmRlbnQ6bixzb3VyY2U6YSxlbmQ6bH19fWZ1bmN0aW9uIEZkKGksZSx0PXt9KXtsZXR7YWZ0ZXJLZXk6bj0hMSxpbXBsaWNpdEtleTpzPSExLGluRmxvdzpyPSExLHR5cGU6b309dCxhPSJpbmRlbnQiaW4gaT9pLmluZGVudDpudWxsO2lmKG4mJnR5cGVvZiBhPT0ibnVtYmVyIiYmKGErPTIpLCFvKXN3aXRjaChpLnR5cGUpe2Nhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOm89IlFVT1RFX1NJTkdMRSI7YnJlYWs7Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6bz0iUVVPVEVfRE9VQkxFIjticmVhaztjYXNlImJsb2NrLXNjYWxhciI6e2NvbnN0IHU9aS5wcm9wc1swXTtpZih1LnR5cGUhPT0iYmxvY2stc2NhbGFyLWhlYWRlciIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGJsb2NrIHNjYWxhciBoZWFkZXIiKTtvPXUuc291cmNlWzBdPT09Ij4iPyJCTE9DS19GT0xERUQiOiJCTE9DS19MSVRFUkFMIjticmVha31kZWZhdWx0Om89IlBMQUlOIn1jb25zdCBsPUJ0KHt0eXBlOm8sdmFsdWU6ZX0se2ltcGxpY2l0S2V5OnN8fGE9PT1udWxsLGluZGVudDphIT09bnVsbCYmYT4wPyIgIi5yZXBlYXQoYSk6IiIsaW5GbG93OnIsb3B0aW9uczp7YmxvY2tRdW90ZTohMCxsaW5lV2lkdGg6LTF9fSk7c3dpdGNoKGxbMF0pe2Nhc2UifCI6Y2FzZSI+IjpSZChpLGwpO2JyZWFrO2Nhc2UnIic6YWkoaSxsLCJkb3VibGUtcXVvdGVkLXNjYWxhciIpO2JyZWFrO2Nhc2UiJyI6YWkoaSxsLCJzaW5nbGUtcXVvdGVkLXNjYWxhciIpO2JyZWFrO2RlZmF1bHQ6YWkoaSxsLCJzY2FsYXIiKX19ZnVuY3Rpb24gUmQoaSxlKXtjb25zdCB0PWUuaW5kZXhPZihgCmApLG49ZS5zdWJzdHJpbmcoMCx0KSxzPWUuc3Vic3RyaW5nKHQrMSkrYApgO2lmKGkudHlwZT09PSJibG9jay1zY2FsYXIiKXtjb25zdCByPWkucHJvcHNbMF07aWYoci50eXBlIT09ImJsb2NrLXNjYWxhci1oZWFkZXIiKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBibG9jayBzY2FsYXIgaGVhZGVyIik7ci5zb3VyY2U9bixpLnNvdXJjZT1zfWVsc2V7Y29uc3R7b2Zmc2V0OnJ9PWksbz0iaW5kZW50ImluIGk/aS5pbmRlbnQ6LTEsYT1be3R5cGU6ImJsb2NrLXNjYWxhci1oZWFkZXIiLG9mZnNldDpyLGluZGVudDpvLHNvdXJjZTpufV07R28oYSwiZW5kImluIGk/aS5lbmQ6dm9pZCAwKXx8YS5wdXNoKHt0eXBlOiJuZXdsaW5lIixvZmZzZXQ6LTEsaW5kZW50Om8sc291cmNlOmAKYH0pO2Zvcihjb25zdCBsIG9mIE9iamVjdC5rZXlzKGkpKWwhPT0idHlwZSImJmwhPT0ib2Zmc2V0IiYmZGVsZXRlIGlbbF07T2JqZWN0LmFzc2lnbihpLHt0eXBlOiJibG9jay1zY2FsYXIiLGluZGVudDpvLHByb3BzOmEsc291cmNlOnN9KX19ZnVuY3Rpb24gR28oaSxlKXtpZihlKWZvcihjb25zdCB0IG9mIGUpc3dpdGNoKHQudHlwZSl7Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjppLnB1c2godCk7YnJlYWs7Y2FzZSJuZXdsaW5lIjpyZXR1cm4gaS5wdXNoKHQpLCEwfXJldHVybiExfWZ1bmN0aW9uIGFpKGksZSx0KXtzd2l0Y2goaS50eXBlKXtjYXNlInNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6aS50eXBlPXQsaS5zb3VyY2U9ZTticmVhaztjYXNlImJsb2NrLXNjYWxhciI6e2NvbnN0IG49aS5wcm9wcy5zbGljZSgxKTtsZXQgcz1lLmxlbmd0aDtpLnByb3BzWzBdLnR5cGU9PT0iYmxvY2stc2NhbGFyLWhlYWRlciImJihzLT1pLnByb3BzWzBdLnNvdXJjZS5sZW5ndGgpO2Zvcihjb25zdCByIG9mIG4pci5vZmZzZXQrPXM7ZGVsZXRlIGkucHJvcHMsT2JqZWN0LmFzc2lnbihpLHt0eXBlOnQsc291cmNlOmUsZW5kOm59KTticmVha31jYXNlImJsb2NrLW1hcCI6Y2FzZSJibG9jay1zZXEiOntjb25zdCBzPXt0eXBlOiJuZXdsaW5lIixvZmZzZXQ6aS5vZmZzZXQrZS5sZW5ndGgsaW5kZW50OmkuaW5kZW50LHNvdXJjZTpgCmB9O2RlbGV0ZSBpLml0ZW1zLE9iamVjdC5hc3NpZ24oaSx7dHlwZTp0LHNvdXJjZTplLGVuZDpbc119KTticmVha31kZWZhdWx0Ontjb25zdCBuPSJpbmRlbnQiaW4gaT9pLmluZGVudDotMSxzPSJlbmQiaW4gaSYmQXJyYXkuaXNBcnJheShpLmVuZCk/aS5lbmQuZmlsdGVyKHI9PnIudHlwZT09PSJzcGFjZSJ8fHIudHlwZT09PSJjb21tZW50Inx8ci50eXBlPT09Im5ld2xpbmUiKTpbXTtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyhpKSlyIT09InR5cGUiJiZyIT09Im9mZnNldCImJmRlbGV0ZSBpW3JdO09iamVjdC5hc3NpZ24oaSx7dHlwZTp0LGluZGVudDpuLHNvdXJjZTplLGVuZDpzfSl9fX1jb25zdCBQZD1pPT4idHlwZSJpbiBpP1duKGkpOmpuKGkpO2Z1bmN0aW9uIFduKGkpe3N3aXRjaChpLnR5cGUpe2Nhc2UiYmxvY2stc2NhbGFyIjp7bGV0IGU9IiI7Zm9yKGNvbnN0IHQgb2YgaS5wcm9wcyllKz1Xbih0KTtyZXR1cm4gZStpLnNvdXJjZX1jYXNlImJsb2NrLW1hcCI6Y2FzZSJibG9jay1zZXEiOntsZXQgZT0iIjtmb3IoY29uc3QgdCBvZiBpLml0ZW1zKWUrPWpuKHQpO3JldHVybiBlfWNhc2UiZmxvdy1jb2xsZWN0aW9uIjp7bGV0IGU9aS5zdGFydC5zb3VyY2U7Zm9yKGNvbnN0IHQgb2YgaS5pdGVtcyllKz1qbih0KTtmb3IoY29uc3QgdCBvZiBpLmVuZCllKz10LnNvdXJjZTtyZXR1cm4gZX1jYXNlImRvY3VtZW50Ijp7bGV0IGU9am4oaSk7aWYoaS5lbmQpZm9yKGNvbnN0IHQgb2YgaS5lbmQpZSs9dC5zb3VyY2U7cmV0dXJuIGV9ZGVmYXVsdDp7bGV0IGU9aS5zb3VyY2U7aWYoImVuZCJpbiBpJiZpLmVuZClmb3IoY29uc3QgdCBvZiBpLmVuZCllKz10LnNvdXJjZTtyZXR1cm4gZX19fWZ1bmN0aW9uIGpuKHtzdGFydDppLGtleTplLHNlcDp0LHZhbHVlOm59KXtsZXQgcz0iIjtmb3IoY29uc3QgciBvZiBpKXMrPXIuc291cmNlO2lmKGUmJihzKz1XbihlKSksdClmb3IoY29uc3QgciBvZiB0KXMrPXIuc291cmNlO3JldHVybiBuJiYocys9V24obikpLHN9Y29uc3QgbGk9U3ltYm9sKCJicmVhayB2aXNpdCIpLCRkPVN5bWJvbCgic2tpcCBjaGlsZHJlbiIpLEpvPVN5bWJvbCgicmVtb3ZlIGl0ZW0iKTtmdW5jdGlvbiBldChpLGUpeyJ0eXBlImluIGkmJmkudHlwZT09PSJkb2N1bWVudCImJihpPXtzdGFydDppLnN0YXJ0LHZhbHVlOmkudmFsdWV9KSxYbyhPYmplY3QuZnJlZXplKFtdKSxpLGUpfWV0LkJSRUFLPWxpLGV0LlNLSVA9JGQsZXQuUkVNT1ZFPUpvLGV0Lml0ZW1BdFBhdGg9KGksZSk9PntsZXQgdD1pO2Zvcihjb25zdFtuLHNdb2YgZSl7Y29uc3Qgcj10PT1udWxsP3ZvaWQgMDp0W25dO2lmKHImJiJpdGVtcyJpbiByKXQ9ci5pdGVtc1tzXTtlbHNlIHJldHVybn1yZXR1cm4gdH0sZXQucGFyZW50Q29sbGVjdGlvbj0oaSxlKT0+e2NvbnN0IHQ9ZXQuaXRlbUF0UGF0aChpLGUuc2xpY2UoMCwtMSkpLG49ZVtlLmxlbmd0aC0xXVswXSxzPXQ9PW51bGw/dm9pZCAwOnRbbl07aWYocyYmIml0ZW1zImluIHMpcmV0dXJuIHM7dGhyb3cgbmV3IEVycm9yKCJQYXJlbnQgY29sbGVjdGlvbiBub3QgZm91bmQiKX07ZnVuY3Rpb24gWG8oaSxlLHQpe2xldCBuPXQoZSxpKTtpZih0eXBlb2Ygbj09InN5bWJvbCIpcmV0dXJuIG47Zm9yKGNvbnN0IHMgb2ZbImtleSIsInZhbHVlIl0pe2NvbnN0IHI9ZVtzXTtpZihyJiYiaXRlbXMiaW4gcil7Zm9yKGxldCBvPTA7bzxyLml0ZW1zLmxlbmd0aDsrK28pe2NvbnN0IGE9WG8oT2JqZWN0LmZyZWV6ZShpLmNvbmNhdChbW3Msb11dKSksci5pdGVtc1tvXSx0KTtpZih0eXBlb2YgYT09Im51bWJlciIpbz1hLTE7ZWxzZXtpZihhPT09bGkpcmV0dXJuIGxpO2E9PT1KbyYmKHIuaXRlbXMuc3BsaWNlKG8sMSksby09MSl9fXR5cGVvZiBuPT0iZnVuY3Rpb24iJiZzPT09ImtleSImJihuPW4oZSxpKSl9fXJldHVybiB0eXBlb2Ygbj09ImZ1bmN0aW9uIj9uKGUsaSk6bn1jb25zdCBxbj0iXHVGRUZGIixabj0iAiIsS249IhgiLHF0PSIfIixVZD1pPT4hIWkmJiJpdGVtcyJpbiBpLEJkPWk9PiEhaSYmKGkudHlwZT09PSJzY2FsYXIifHxpLnR5cGU9PT0ic2luZ2xlLXF1b3RlZC1zY2FsYXIifHxpLnR5cGU9PT0iZG91YmxlLXF1b3RlZC1zY2FsYXIifHxpLnR5cGU9PT0iYmxvY2stc2NhbGFyIik7ZnVuY3Rpb24gSGQoaSl7c3dpdGNoKGkpe2Nhc2UgcW46cmV0dXJuIjxCT00+IjtjYXNlIFpuOnJldHVybiI8RE9DPiI7Y2FzZSBLbjpyZXR1cm4iPEZMT1dfRU5EPiI7Y2FzZSBxdDpyZXR1cm4iPFNDQUxBUj4iO2RlZmF1bHQ6cmV0dXJuIEpTT04uc3RyaW5naWZ5KGkpfX1mdW5jdGlvbiBRbyhpKXtzd2l0Y2goaSl7Y2FzZSBxbjpyZXR1cm4iYnl0ZS1vcmRlci1tYXJrIjtjYXNlIFpuOnJldHVybiJkb2MtbW9kZSI7Y2FzZSBLbjpyZXR1cm4iZmxvdy1lcnJvci1lbmQiO2Nhc2UgcXQ6cmV0dXJuInNjYWxhciI7Y2FzZSItLS0iOnJldHVybiJkb2Mtc3RhcnQiO2Nhc2UiLi4uIjpyZXR1cm4iZG9jLWVuZCI7Y2FzZSIiOmNhc2VgCmA6Y2FzZWBccgpgOnJldHVybiJuZXdsaW5lIjtjYXNlIi0iOnJldHVybiJzZXEtaXRlbS1pbmQiO2Nhc2UiPyI6cmV0dXJuImV4cGxpY2l0LWtleS1pbmQiO2Nhc2UiOiI6cmV0dXJuIm1hcC12YWx1ZS1pbmQiO2Nhc2UieyI6cmV0dXJuImZsb3ctbWFwLXN0YXJ0IjtjYXNlIn0iOnJldHVybiJmbG93LW1hcC1lbmQiO2Nhc2UiWyI6cmV0dXJuImZsb3ctc2VxLXN0YXJ0IjtjYXNlIl0iOnJldHVybiJmbG93LXNlcS1lbmQiO2Nhc2UiLCI6cmV0dXJuImNvbW1hIn1zd2l0Y2goaVswXSl7Y2FzZSIgIjpjYXNlIgkiOnJldHVybiJzcGFjZSI7Y2FzZSIjIjpyZXR1cm4iY29tbWVudCI7Y2FzZSIlIjpyZXR1cm4iZGlyZWN0aXZlLWxpbmUiO2Nhc2UiKiI6cmV0dXJuImFsaWFzIjtjYXNlIiYiOnJldHVybiJhbmNob3IiO2Nhc2UiISI6cmV0dXJuInRhZyI7Y2FzZSInIjpyZXR1cm4ic2luZ2xlLXF1b3RlZC1zY2FsYXIiO2Nhc2UnIic6cmV0dXJuImRvdWJsZS1xdW90ZWQtc2NhbGFyIjtjYXNlInwiOmNhc2UiPiI6cmV0dXJuImJsb2NrLXNjYWxhci1oZWFkZXIifXJldHVybiBudWxsfXZhciBWZD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxCT006cW4sRE9DVU1FTlQ6Wm4sRkxPV19FTkQ6S24sU0NBTEFSOnF0LGNyZWF0ZVNjYWxhclRva2VuOnpkLGlzQ29sbGVjdGlvbjpVZCxpc1NjYWxhcjpCZCxwcmV0dHlUb2tlbjpIZCxyZXNvbHZlQXNTY2FsYXI6WWQsc2V0U2NhbGFyVmFsdWU6RmQsc3RyaW5naWZ5OlBkLHRva2VuVHlwZTpRbyx2aXNpdDpldH0pO2Z1bmN0aW9uIHllKGkpe3N3aXRjaChpKXtjYXNlIHZvaWQgMDpjYXNlIiAiOmNhc2VgCmA6Y2FzZSJcciI6Y2FzZSIJIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1jb25zdCBlYT0iMDEyMzQ1Njc4OUFCQ0RFRmFiY2RlZiIuc3BsaXQoIiIpLFdkPSIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei0jOy8/OkAmPSskXy4hfionKCkiLnNwbGl0KCIiKSx1aT0iLFtde30iLnNwbGl0KCIiKSxqZD1gICxbXXt9ClxyCWAuc3BsaXQoIiIpLGNpPWk9PiFpfHxqZC5pbmNsdWRlcyhpKTtjbGFzcyB0YXtjb25zdHJ1Y3Rvcigpe3RoaXMuYXRFbmQ9ITEsdGhpcy5ibG9ja1NjYWxhckluZGVudD0tMSx0aGlzLmJsb2NrU2NhbGFyS2VlcD0hMSx0aGlzLmJ1ZmZlcj0iIix0aGlzLmZsb3dLZXk9ITEsdGhpcy5mbG93TGV2ZWw9MCx0aGlzLmluZGVudE5leHQ9MCx0aGlzLmluZGVudFZhbHVlPTAsdGhpcy5saW5lRW5kUG9zPW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy5wb3M9MH0qbGV4KGUsdD0hMSl7ZSYmKHRoaXMuYnVmZmVyPXRoaXMuYnVmZmVyP3RoaXMuYnVmZmVyK2U6ZSx0aGlzLmxpbmVFbmRQb3M9bnVsbCksdGhpcy5hdEVuZD0hdDtsZXQgbj10aGlzLm5leHQ/PyJzdHJlYW0iO2Zvcig7biYmKHR8fHRoaXMuaGFzQ2hhcnMoMSkpOyluPXlpZWxkKnRoaXMucGFyc2VOZXh0KG4pfWF0TGluZUVuZCgpe2xldCBlPXRoaXMucG9zLHQ9dGhpcy5idWZmZXJbZV07Zm9yKDt0PT09IiAifHx0PT09IgkiOyl0PXRoaXMuYnVmZmVyWysrZV07cmV0dXJuIXR8fHQ9PT0iIyJ8fHQ9PT1gCmA/ITA6dD09PSJcciI/dGhpcy5idWZmZXJbZSsxXT09PWAKYDohMX1jaGFyQXQoZSl7cmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMucG9zK2VdfWNvbnRpbnVlU2NhbGFyKGUpe2xldCB0PXRoaXMuYnVmZmVyW2VdO2lmKHRoaXMuaW5kZW50TmV4dD4wKXtsZXQgbj0wO2Zvcig7dD09PSIgIjspdD10aGlzLmJ1ZmZlclsrK24rZV07aWYodD09PSJcciIpe2NvbnN0IHM9dGhpcy5idWZmZXJbbitlKzFdO2lmKHM9PT1gCmB8fCFzJiYhdGhpcy5hdEVuZClyZXR1cm4gZStuKzF9cmV0dXJuIHQ9PT1gCmB8fG4+PXRoaXMuaW5kZW50TmV4dHx8IXQmJiF0aGlzLmF0RW5kP2UrbjotMX1pZih0PT09Ii0ifHx0PT09Ii4iKXtjb25zdCBuPXRoaXMuYnVmZmVyLnN1YnN0cihlLDMpO2lmKChuPT09Ii0tLSJ8fG49PT0iLi4uIikmJnllKHRoaXMuYnVmZmVyW2UrM10pKXJldHVybi0xfXJldHVybiBlfWdldExpbmUoKXtsZXQgZT10aGlzLmxpbmVFbmRQb3M7cmV0dXJuKHR5cGVvZiBlIT0ibnVtYmVyInx8ZSE9PS0xJiZlPHRoaXMucG9zKSYmKGU9dGhpcy5idWZmZXIuaW5kZXhPZihgCmAsdGhpcy5wb3MpLHRoaXMubGluZUVuZFBvcz1lKSxlPT09LTE/dGhpcy5hdEVuZD90aGlzLmJ1ZmZlci5zdWJzdHJpbmcodGhpcy5wb3MpOm51bGw6KHRoaXMuYnVmZmVyW2UtMV09PT0iXHIiJiYoZS09MSksdGhpcy5idWZmZXIuc3Vic3RyaW5nKHRoaXMucG9zLGUpKX1oYXNDaGFycyhlKXtyZXR1cm4gdGhpcy5wb3MrZTw9dGhpcy5idWZmZXIubGVuZ3RofXNldE5leHQoZSl7cmV0dXJuIHRoaXMuYnVmZmVyPXRoaXMuYnVmZmVyLnN1YnN0cmluZyh0aGlzLnBvcyksdGhpcy5wb3M9MCx0aGlzLmxpbmVFbmRQb3M9bnVsbCx0aGlzLm5leHQ9ZSxudWxsfXBlZWsoZSl7cmV0dXJuIHRoaXMuYnVmZmVyLnN1YnN0cih0aGlzLnBvcyxlKX0qcGFyc2VOZXh0KGUpe3N3aXRjaChlKXtjYXNlInN0cmVhbSI6cmV0dXJuIHlpZWxkKnRoaXMucGFyc2VTdHJlYW0oKTtjYXNlImxpbmUtc3RhcnQiOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlTGluZVN0YXJ0KCk7Y2FzZSJibG9jay1zdGFydCI6cmV0dXJuIHlpZWxkKnRoaXMucGFyc2VCbG9ja1N0YXJ0KCk7Y2FzZSJkb2MiOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlRG9jdW1lbnQoKTtjYXNlImZsb3ciOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlRmxvd0NvbGxlY3Rpb24oKTtjYXNlInF1b3RlZC1zY2FsYXIiOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlUXVvdGVkU2NhbGFyKCk7Y2FzZSJibG9jay1zY2FsYXIiOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlQmxvY2tTY2FsYXIoKTtjYXNlInBsYWluLXNjYWxhciI6cmV0dXJuIHlpZWxkKnRoaXMucGFyc2VQbGFpblNjYWxhcigpfX0qcGFyc2VTdHJlYW0oKXtsZXQgZT10aGlzLmdldExpbmUoKTtpZihlPT09bnVsbClyZXR1cm4gdGhpcy5zZXROZXh0KCJzdHJlYW0iKTtpZihlWzBdPT09cW4mJih5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSxlPWUuc3Vic3RyaW5nKDEpKSxlWzBdPT09IiUiKXtsZXQgdD1lLmxlbmd0aDtjb25zdCBuPWUuaW5kZXhPZigiIyIpO2lmKG4hPT0tMSl7Y29uc3Qgcj1lW24tMV07KHI9PT0iICJ8fHI9PT0iCSIpJiYodD1uLTEpfWZvcig7Oyl7Y29uc3Qgcj1lW3QtMV07aWYocj09PSIgInx8cj09PSIJIil0LT0xO2Vsc2UgYnJlYWt9Y29uc3Qgcz0oeWllbGQqdGhpcy5wdXNoQ291bnQodCkpKyh5aWVsZCp0aGlzLnB1c2hTcGFjZXMoITApKTtyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQoZS5sZW5ndGgtcyksdGhpcy5wdXNoTmV3bGluZSgpLCJzdHJlYW0ifWlmKHRoaXMuYXRMaW5lRW5kKCkpe2NvbnN0IHQ9eWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKTtyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQoZS5sZW5ndGgtdCkseWllbGQqdGhpcy5wdXNoTmV3bGluZSgpLCJzdHJlYW0ifXJldHVybiB5aWVsZCBabix5aWVsZCp0aGlzLnBhcnNlTGluZVN0YXJ0KCl9KnBhcnNlTGluZVN0YXJ0KCl7Y29uc3QgZT10aGlzLmNoYXJBdCgwKTtpZighZSYmIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgibGluZS1zdGFydCIpO2lmKGU9PT0iLSJ8fGU9PT0iLiIpe2lmKCF0aGlzLmF0RW5kJiYhdGhpcy5oYXNDaGFycyg0KSlyZXR1cm4gdGhpcy5zZXROZXh0KCJsaW5lLXN0YXJ0Iik7Y29uc3QgdD10aGlzLnBlZWsoMyk7aWYodD09PSItLS0iJiZ5ZSh0aGlzLmNoYXJBdCgzKSkpcmV0dXJuIHlpZWxkKnRoaXMucHVzaENvdW50KDMpLHRoaXMuaW5kZW50VmFsdWU9MCx0aGlzLmluZGVudE5leHQ9MCwiZG9jIjtpZih0PT09Ii4uLiImJnllKHRoaXMuY2hhckF0KDMpKSlyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQoMyksInN0cmVhbSJ9cmV0dXJuIHRoaXMuaW5kZW50VmFsdWU9eWllbGQqdGhpcy5wdXNoU3BhY2VzKCExKSx0aGlzLmluZGVudE5leHQ+dGhpcy5pbmRlbnRWYWx1ZSYmIXllKHRoaXMuY2hhckF0KDEpKSYmKHRoaXMuaW5kZW50TmV4dD10aGlzLmluZGVudFZhbHVlKSx5aWVsZCp0aGlzLnBhcnNlQmxvY2tTdGFydCgpfSpwYXJzZUJsb2NrU3RhcnQoKXtjb25zdFtlLHRdPXRoaXMucGVlaygyKTtpZighdCYmIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgiYmxvY2stc3RhcnQiKTtpZigoZT09PSItInx8ZT09PSI/Inx8ZT09PSI6IikmJnllKHQpKXtjb25zdCBuPSh5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSkrKHlpZWxkKnRoaXMucHVzaFNwYWNlcyghMCkpO3JldHVybiB0aGlzLmluZGVudE5leHQ9dGhpcy5pbmRlbnRWYWx1ZSsxLHRoaXMuaW5kZW50VmFsdWUrPW4seWllbGQqdGhpcy5wYXJzZUJsb2NrU3RhcnQoKX1yZXR1cm4iZG9jIn0qcGFyc2VEb2N1bWVudCgpe3lpZWxkKnRoaXMucHVzaFNwYWNlcyghMCk7Y29uc3QgZT10aGlzLmdldExpbmUoKTtpZihlPT09bnVsbClyZXR1cm4gdGhpcy5zZXROZXh0KCJkb2MiKTtsZXQgdD15aWVsZCp0aGlzLnB1c2hJbmRpY2F0b3JzKCk7c3dpdGNoKGVbdF0pe2Nhc2UiIyI6eWllbGQqdGhpcy5wdXNoQ291bnQoZS5sZW5ndGgtdCk7Y2FzZSB2b2lkIDA6cmV0dXJuIHlpZWxkKnRoaXMucHVzaE5ld2xpbmUoKSx5aWVsZCp0aGlzLnBhcnNlTGluZVN0YXJ0KCk7Y2FzZSJ7IjpjYXNlIlsiOnJldHVybiB5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSx0aGlzLmZsb3dLZXk9ITEsdGhpcy5mbG93TGV2ZWw9MSwiZmxvdyI7Y2FzZSJ9IjpjYXNlIl0iOnJldHVybiB5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSwiZG9jIjtjYXNlIioiOnJldHVybiB5aWVsZCp0aGlzLnB1c2hVbnRpbChjaSksImRvYyI7Y2FzZSciJzpjYXNlIiciOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlUXVvdGVkU2NhbGFyKCk7Y2FzZSJ8IjpjYXNlIj4iOnJldHVybiB0Kz15aWVsZCp0aGlzLnBhcnNlQmxvY2tTY2FsYXJIZWFkZXIoKSx0Kz15aWVsZCp0aGlzLnB1c2hTcGFjZXMoITApLHlpZWxkKnRoaXMucHVzaENvdW50KGUubGVuZ3RoLXQpLHlpZWxkKnRoaXMucHVzaE5ld2xpbmUoKSx5aWVsZCp0aGlzLnBhcnNlQmxvY2tTY2FsYXIoKTtkZWZhdWx0OnJldHVybiB5aWVsZCp0aGlzLnBhcnNlUGxhaW5TY2FsYXIoKX19KnBhcnNlRmxvd0NvbGxlY3Rpb24oKXtsZXQgZSx0LG49LTE7ZG8gZT15aWVsZCp0aGlzLnB1c2hOZXdsaW5lKCksZT4wPyh0PXlpZWxkKnRoaXMucHVzaFNwYWNlcyghMSksdGhpcy5pbmRlbnRWYWx1ZT1uPXQpOnQ9MCx0Kz15aWVsZCp0aGlzLnB1c2hTcGFjZXMoITApO3doaWxlKGUrdD4wKTtjb25zdCBzPXRoaXMuZ2V0TGluZSgpO2lmKHM9PT1udWxsKXJldHVybiB0aGlzLnNldE5leHQoImZsb3ciKTtpZigobiE9PS0xJiZuPHRoaXMuaW5kZW50TmV4dCYmc1swXSE9PSIjInx8bj09PTAmJihzLnN0YXJ0c1dpdGgoIi0tLSIpfHxzLnN0YXJ0c1dpdGgoIi4uLiIpKSYmeWUoc1szXSkpJiYhKG49PT10aGlzLmluZGVudE5leHQtMSYmdGhpcy5mbG93TGV2ZWw9PT0xJiYoc1swXT09PSJdInx8c1swXT09PSJ9IikpKXJldHVybiB0aGlzLmZsb3dMZXZlbD0wLHlpZWxkIEtuLHlpZWxkKnRoaXMucGFyc2VMaW5lU3RhcnQoKTtsZXQgcj0wO2Zvcig7c1tyXT09PSIsIjspcis9eWllbGQqdGhpcy5wdXNoQ291bnQoMSkscis9eWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSx0aGlzLmZsb3dLZXk9ITE7c3dpdGNoKHIrPXlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSxzW3JdKXtjYXNlIHZvaWQgMDpyZXR1cm4iZmxvdyI7Y2FzZSIjIjpyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQocy5sZW5ndGgtciksImZsb3ciO2Nhc2UieyI6Y2FzZSJbIjpyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQoMSksdGhpcy5mbG93S2V5PSExLHRoaXMuZmxvd0xldmVsKz0xLCJmbG93IjtjYXNlIn0iOmNhc2UiXSI6cmV0dXJuIHlpZWxkKnRoaXMucHVzaENvdW50KDEpLHRoaXMuZmxvd0tleT0hMCx0aGlzLmZsb3dMZXZlbC09MSx0aGlzLmZsb3dMZXZlbD8iZmxvdyI6ImRvYyI7Y2FzZSIqIjpyZXR1cm4geWllbGQqdGhpcy5wdXNoVW50aWwoY2kpLCJmbG93IjtjYXNlJyInOmNhc2UiJyI6cmV0dXJuIHRoaXMuZmxvd0tleT0hMCx5aWVsZCp0aGlzLnBhcnNlUXVvdGVkU2NhbGFyKCk7Y2FzZSI6Ijp7Y29uc3Qgbz10aGlzLmNoYXJBdCgxKTtpZih0aGlzLmZsb3dLZXl8fHllKG8pfHxvPT09IiwiKXJldHVybiB0aGlzLmZsb3dLZXk9ITEseWllbGQqdGhpcy5wdXNoQ291bnQoMSkseWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSwiZmxvdyJ9ZGVmYXVsdDpyZXR1cm4gdGhpcy5mbG93S2V5PSExLHlpZWxkKnRoaXMucGFyc2VQbGFpblNjYWxhcigpfX0qcGFyc2VRdW90ZWRTY2FsYXIoKXtjb25zdCBlPXRoaXMuY2hhckF0KDApO2xldCB0PXRoaXMuYnVmZmVyLmluZGV4T2YoZSx0aGlzLnBvcysxKTtpZihlPT09IiciKWZvcig7dCE9PS0xJiZ0aGlzLmJ1ZmZlclt0KzFdPT09IiciOyl0PXRoaXMuYnVmZmVyLmluZGV4T2YoIiciLHQrMik7ZWxzZSBmb3IoO3QhPT0tMTspe2xldCByPTA7Zm9yKDt0aGlzLmJ1ZmZlclt0LTEtcl09PT0iXFwiOylyKz0xO2lmKHIlMj09PTApYnJlYWs7dD10aGlzLmJ1ZmZlci5pbmRleE9mKCciJyx0KzEpfWNvbnN0IG49dGhpcy5idWZmZXIuc3Vic3RyaW5nKDAsdCk7bGV0IHM9bi5pbmRleE9mKGAKYCx0aGlzLnBvcyk7aWYocyE9PS0xKXtmb3IoO3MhPT0tMTspe2NvbnN0IHI9dGhpcy5jb250aW51ZVNjYWxhcihzKzEpO2lmKHI9PT0tMSlicmVhaztzPW4uaW5kZXhPZihgCmAscil9cyE9PS0xJiYodD1zLShuW3MtMV09PT0iXHIiPzI6MSkpfWlmKHQ9PT0tMSl7aWYoIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgicXVvdGVkLXNjYWxhciIpO3Q9dGhpcy5idWZmZXIubGVuZ3RofXJldHVybiB5aWVsZCp0aGlzLnB1c2hUb0luZGV4KHQrMSwhMSksdGhpcy5mbG93TGV2ZWw/ImZsb3ciOiJkb2MifSpwYXJzZUJsb2NrU2NhbGFySGVhZGVyKCl7dGhpcy5ibG9ja1NjYWxhckluZGVudD0tMSx0aGlzLmJsb2NrU2NhbGFyS2VlcD0hMTtsZXQgZT10aGlzLnBvcztmb3IoOzspe2NvbnN0IHQ9dGhpcy5idWZmZXJbKytlXTtpZih0PT09IisiKXRoaXMuYmxvY2tTY2FsYXJLZWVwPSEwO2Vsc2UgaWYodD4iMCImJnQ8PSI5Iil0aGlzLmJsb2NrU2NhbGFySW5kZW50PU51bWJlcih0KS0xO2Vsc2UgaWYodCE9PSItIilicmVha31yZXR1cm4geWllbGQqdGhpcy5wdXNoVW50aWwodD0+eWUodCl8fHQ9PT0iIyIpfSpwYXJzZUJsb2NrU2NhbGFyKCl7bGV0IGU9dGhpcy5wb3MtMSx0PTAsbjtlOmZvcihsZXQgcz10aGlzLnBvcztuPXRoaXMuYnVmZmVyW3NdOysrcylzd2l0Y2gobil7Y2FzZSIgIjp0Kz0xO2JyZWFrO2Nhc2VgCmA6ZT1zLHQ9MDticmVhaztjYXNlIlxyIjp7Y29uc3Qgcj10aGlzLmJ1ZmZlcltzKzFdO2lmKCFyJiYhdGhpcy5hdEVuZClyZXR1cm4gdGhpcy5zZXROZXh0KCJibG9jay1zY2FsYXIiKTtpZihyPT09YApgKWJyZWFrfWRlZmF1bHQ6YnJlYWsgZX1pZighbiYmIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgiYmxvY2stc2NhbGFyIik7aWYodD49dGhpcy5pbmRlbnROZXh0KXt0aGlzLmJsb2NrU2NhbGFySW5kZW50PT09LTE/dGhpcy5pbmRlbnROZXh0PXQ6dGhpcy5pbmRlbnROZXh0Kz10aGlzLmJsb2NrU2NhbGFySW5kZW50O2Rve2NvbnN0IHM9dGhpcy5jb250aW51ZVNjYWxhcihlKzEpO2lmKHM9PT0tMSlicmVhaztlPXRoaXMuYnVmZmVyLmluZGV4T2YoYApgLHMpfXdoaWxlKGUhPT0tMSk7aWYoZT09PS0xKXtpZighdGhpcy5hdEVuZClyZXR1cm4gdGhpcy5zZXROZXh0KCJibG9jay1zY2FsYXIiKTtlPXRoaXMuYnVmZmVyLmxlbmd0aH19aWYoIXRoaXMuYmxvY2tTY2FsYXJLZWVwKWRve2xldCBzPWUtMSxyPXRoaXMuYnVmZmVyW3NdO3I9PT0iXHIiJiYocj10aGlzLmJ1ZmZlclstLXNdKTtjb25zdCBvPXM7Zm9yKDtyPT09IiAifHxyPT09IgkiOylyPXRoaXMuYnVmZmVyWy0tc107aWYocj09PWAKYCYmcz49dGhpcy5wb3MmJnMrMSt0Pm8pZT1zO2Vsc2UgYnJlYWt9d2hpbGUoITApO3JldHVybiB5aWVsZCBxdCx5aWVsZCp0aGlzLnB1c2hUb0luZGV4KGUrMSwhMCkseWllbGQqdGhpcy5wYXJzZUxpbmVTdGFydCgpfSpwYXJzZVBsYWluU2NhbGFyKCl7Y29uc3QgZT10aGlzLmZsb3dMZXZlbD4wO2xldCB0PXRoaXMucG9zLTEsbj10aGlzLnBvcy0xLHM7Zm9yKDtzPXRoaXMuYnVmZmVyWysrbl07KWlmKHM9PT0iOiIpe2NvbnN0IHI9dGhpcy5idWZmZXJbbisxXTtpZih5ZShyKXx8ZSYmcj09PSIsIilicmVhazt0PW59ZWxzZSBpZih5ZShzKSl7bGV0IHI9dGhpcy5idWZmZXJbbisxXTtpZihzPT09IlxyIiYmKHI9PT1gCmA/KG4rPTEscz1gCmAscj10aGlzLmJ1ZmZlcltuKzFdKTp0PW4pLHI9PT0iIyJ8fGUmJnVpLmluY2x1ZGVzKHIpKWJyZWFrO2lmKHM9PT1gCmApe2NvbnN0IG89dGhpcy5jb250aW51ZVNjYWxhcihuKzEpO2lmKG89PT0tMSlicmVhaztuPU1hdGgubWF4KG4sby0yKX19ZWxzZXtpZihlJiZ1aS5pbmNsdWRlcyhzKSlicmVhazt0PW59cmV0dXJuIXMmJiF0aGlzLmF0RW5kP3RoaXMuc2V0TmV4dCgicGxhaW4tc2NhbGFyIik6KHlpZWxkIHF0LHlpZWxkKnRoaXMucHVzaFRvSW5kZXgodCsxLCEwKSxlPyJmbG93IjoiZG9jIil9KnB1c2hDb3VudChlKXtyZXR1cm4gZT4wPyh5aWVsZCB0aGlzLmJ1ZmZlci5zdWJzdHIodGhpcy5wb3MsZSksdGhpcy5wb3MrPWUsZSk6MH0qcHVzaFRvSW5kZXgoZSx0KXtjb25zdCBuPXRoaXMuYnVmZmVyLnNsaWNlKHRoaXMucG9zLGUpO3JldHVybiBuPyh5aWVsZCBuLHRoaXMucG9zKz1uLmxlbmd0aCxuLmxlbmd0aCk6KHQmJih5aWVsZCIiKSwwKX0qcHVzaEluZGljYXRvcnMoKXtzd2l0Y2godGhpcy5jaGFyQXQoMCkpe2Nhc2UiISI6cmV0dXJuKHlpZWxkKnRoaXMucHVzaFRhZygpKSsoeWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSkrKHlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSk7Y2FzZSImIjpyZXR1cm4oeWllbGQqdGhpcy5wdXNoVW50aWwoY2kpKSsoeWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSkrKHlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSk7Y2FzZSItIjpjYXNlIj8iOmNhc2UiOiI6e2NvbnN0IGU9dGhpcy5mbG93TGV2ZWw+MCx0PXRoaXMuY2hhckF0KDEpO2lmKHllKHQpfHxlJiZ1aS5pbmNsdWRlcyh0KSlyZXR1cm4gZT90aGlzLmZsb3dLZXkmJih0aGlzLmZsb3dLZXk9ITEpOnRoaXMuaW5kZW50TmV4dD10aGlzLmluZGVudFZhbHVlKzEsKHlpZWxkKnRoaXMucHVzaENvdW50KDEpKSsoeWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSkrKHlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSl9fXJldHVybiAwfSpwdXNoVGFnKCl7aWYodGhpcy5jaGFyQXQoMSk9PT0iPCIpe2xldCBlPXRoaXMucG9zKzIsdD10aGlzLmJ1ZmZlcltlXTtmb3IoOyF5ZSh0KSYmdCE9PSI+IjspdD10aGlzLmJ1ZmZlclsrK2VdO3JldHVybiB5aWVsZCp0aGlzLnB1c2hUb0luZGV4KHQ9PT0iPiI/ZSsxOmUsITEpfWVsc2V7bGV0IGU9dGhpcy5wb3MrMSx0PXRoaXMuYnVmZmVyW2VdO2Zvcig7dDspaWYoV2QuaW5jbHVkZXModCkpdD10aGlzLmJ1ZmZlclsrK2VdO2Vsc2UgaWYodD09PSIlIiYmZWEuaW5jbHVkZXModGhpcy5idWZmZXJbZSsxXSkmJmVhLmluY2x1ZGVzKHRoaXMuYnVmZmVyW2UrMl0pKXQ9dGhpcy5idWZmZXJbZSs9M107ZWxzZSBicmVhaztyZXR1cm4geWllbGQqdGhpcy5wdXNoVG9JbmRleChlLCExKX19KnB1c2hOZXdsaW5lKCl7Y29uc3QgZT10aGlzLmJ1ZmZlclt0aGlzLnBvc107cmV0dXJuIGU9PT1gCmA/eWllbGQqdGhpcy5wdXNoQ291bnQoMSk6ZT09PSJcciImJnRoaXMuY2hhckF0KDEpPT09YApgP3lpZWxkKnRoaXMucHVzaENvdW50KDIpOjB9KnB1c2hTcGFjZXMoZSl7bGV0IHQ9dGhpcy5wb3MtMSxuO2RvIG49dGhpcy5idWZmZXJbKyt0XTt3aGlsZShuPT09IiAifHxlJiZuPT09IgkiKTtjb25zdCBzPXQtdGhpcy5wb3M7cmV0dXJuIHM+MCYmKHlpZWxkIHRoaXMuYnVmZmVyLnN1YnN0cih0aGlzLnBvcyxzKSx0aGlzLnBvcz10KSxzfSpwdXNoVW50aWwoZSl7bGV0IHQ9dGhpcy5wb3Msbj10aGlzLmJ1ZmZlclt0XTtmb3IoOyFlKG4pOyluPXRoaXMuYnVmZmVyWysrdF07cmV0dXJuIHlpZWxkKnRoaXMucHVzaFRvSW5kZXgodCwhMSl9fWNsYXNzIG5he2NvbnN0cnVjdG9yKCl7dGhpcy5saW5lU3RhcnRzPVtdLHRoaXMuYWRkTmV3TGluZT1lPT50aGlzLmxpbmVTdGFydHMucHVzaChlKSx0aGlzLmxpbmVQb3M9ZT0+e2xldCB0PTAsbj10aGlzLmxpbmVTdGFydHMubGVuZ3RoO2Zvcig7dDxuOyl7Y29uc3Qgcj10K24+PjE7dGhpcy5saW5lU3RhcnRzW3JdPGU/dD1yKzE6bj1yfWlmKHRoaXMubGluZVN0YXJ0c1t0XT09PWUpcmV0dXJue2xpbmU6dCsxLGNvbDoxfTtpZih0PT09MClyZXR1cm57bGluZTowLGNvbDplfTtjb25zdCBzPXRoaXMubGluZVN0YXJ0c1t0LTFdO3JldHVybntsaW5lOnQsY29sOmUtcysxfX19fWZ1bmN0aW9uIE9lKGksZSl7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDsrK3QpaWYoaVt0XS50eXBlPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBzYShpKXtmb3IobGV0IGU9MDtlPGkubGVuZ3RoOysrZSlzd2l0Y2goaVtlXS50eXBlKXtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmNhc2UibmV3bGluZSI6YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZX1yZXR1cm4tMX1mdW5jdGlvbiBpYShpKXtzd2l0Y2goaT09bnVsbD92b2lkIDA6aS50eXBlKXtjYXNlImFsaWFzIjpjYXNlInNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJmbG93LWNvbGxlY3Rpb24iOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIEduKGkpe3N3aXRjaChpLnR5cGUpe2Nhc2UiZG9jdW1lbnQiOnJldHVybiBpLnN0YXJ0O2Nhc2UiYmxvY2stbWFwIjp7Y29uc3QgZT1pLml0ZW1zW2kuaXRlbXMubGVuZ3RoLTFdO3JldHVybiBlLnNlcD8/ZS5zdGFydH1jYXNlImJsb2NrLXNlcSI6cmV0dXJuIGkuaXRlbXNbaS5pdGVtcy5sZW5ndGgtMV0uc3RhcnQ7ZGVmYXVsdDpyZXR1cm5bXX19ZnVuY3Rpb24gU3QoaSl7dmFyIHQ7aWYoaS5sZW5ndGg9PT0wKXJldHVybltdO2xldCBlPWkubGVuZ3RoO2U6Zm9yKDstLWU+PTA7KXN3aXRjaChpW2VdLnR5cGUpe2Nhc2UiZG9jLXN0YXJ0IjpjYXNlImV4cGxpY2l0LWtleS1pbmQiOmNhc2UibWFwLXZhbHVlLWluZCI6Y2FzZSJzZXEtaXRlbS1pbmQiOmNhc2UibmV3bGluZSI6YnJlYWsgZX1mb3IoOygodD1pWysrZV0pPT1udWxsP3ZvaWQgMDp0LnR5cGUpPT09InNwYWNlIjspO3JldHVybiBpLnNwbGljZShlLGkubGVuZ3RoKX1mdW5jdGlvbiByYShpKXtpZihpLnN0YXJ0LnR5cGU9PT0iZmxvdy1zZXEtc3RhcnQiKWZvcihjb25zdCBlIG9mIGkuaXRlbXMpZS5zZXAmJiFlLnZhbHVlJiYhT2UoZS5zdGFydCwiZXhwbGljaXQta2V5LWluZCIpJiYhT2UoZS5zZXAsIm1hcC12YWx1ZS1pbmQiKSYmKGUua2V5JiYoZS52YWx1ZT1lLmtleSksZGVsZXRlIGUua2V5LGlhKGUudmFsdWUpP2UudmFsdWUuZW5kP0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUudmFsdWUuZW5kLGUuc2VwKTplLnZhbHVlLmVuZD1lLnNlcDpBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlLnN0YXJ0LGUuc2VwKSxkZWxldGUgZS5zZXApfWNsYXNzIGZpe2NvbnN0cnVjdG9yKGUpe3RoaXMuYXROZXdMaW5lPSEwLHRoaXMuYXRTY2FsYXI9ITEsdGhpcy5pbmRlbnQ9MCx0aGlzLm9mZnNldD0wLHRoaXMub25LZXlMaW5lPSExLHRoaXMuc3RhY2s9W10sdGhpcy5zb3VyY2U9IiIsdGhpcy50eXBlPSIiLHRoaXMubGV4ZXI9bmV3IHRhLHRoaXMub25OZXdMaW5lPWV9KnBhcnNlKGUsdD0hMSl7dGhpcy5vbk5ld0xpbmUmJnRoaXMub2Zmc2V0PT09MCYmdGhpcy5vbk5ld0xpbmUoMCk7Zm9yKGNvbnN0IG4gb2YgdGhpcy5sZXhlci5sZXgoZSx0KSl5aWVsZCp0aGlzLm5leHQobik7dHx8KHlpZWxkKnRoaXMuZW5kKCkpfSpuZXh0KGUpe2lmKHRoaXMuc291cmNlPWUsdGhpcy5hdFNjYWxhcil7dGhpcy5hdFNjYWxhcj0hMSx5aWVsZCp0aGlzLnN0ZXAoKSx0aGlzLm9mZnNldCs9ZS5sZW5ndGg7cmV0dXJufWNvbnN0IHQ9UW8oZSk7aWYodClpZih0PT09InNjYWxhciIpdGhpcy5hdE5ld0xpbmU9ITEsdGhpcy5hdFNjYWxhcj0hMCx0aGlzLnR5cGU9InNjYWxhciI7ZWxzZXtzd2l0Y2godGhpcy50eXBlPXQseWllbGQqdGhpcy5zdGVwKCksdCl7Y2FzZSJuZXdsaW5lIjp0aGlzLmF0TmV3TGluZT0hMCx0aGlzLmluZGVudD0wLHRoaXMub25OZXdMaW5lJiZ0aGlzLm9uTmV3TGluZSh0aGlzLm9mZnNldCtlLmxlbmd0aCk7YnJlYWs7Y2FzZSJzcGFjZSI6dGhpcy5hdE5ld0xpbmUmJmVbMF09PT0iICImJih0aGlzLmluZGVudCs9ZS5sZW5ndGgpO2JyZWFrO2Nhc2UiZXhwbGljaXQta2V5LWluZCI6Y2FzZSJtYXAtdmFsdWUtaW5kIjpjYXNlInNlcS1pdGVtLWluZCI6dGhpcy5hdE5ld0xpbmUmJih0aGlzLmluZGVudCs9ZS5sZW5ndGgpO2JyZWFrO2Nhc2UiZG9jLW1vZGUiOmNhc2UiZmxvdy1lcnJvci1lbmQiOnJldHVybjtkZWZhdWx0OnRoaXMuYXROZXdMaW5lPSExfXRoaXMub2Zmc2V0Kz1lLmxlbmd0aH1lbHNle2NvbnN0IG49YE5vdCBhIFlBTUwgdG9rZW46ICR7ZX1gO3lpZWxkKnRoaXMucG9wKHt0eXBlOiJlcnJvciIsb2Zmc2V0OnRoaXMub2Zmc2V0LG1lc3NhZ2U6bixzb3VyY2U6ZX0pLHRoaXMub2Zmc2V0Kz1lLmxlbmd0aH19KmVuZCgpe2Zvcig7dGhpcy5zdGFjay5sZW5ndGg+MDspeWllbGQqdGhpcy5wb3AoKX1nZXQgc291cmNlVG9rZW4oKXtyZXR1cm57dHlwZTp0aGlzLnR5cGUsb2Zmc2V0OnRoaXMub2Zmc2V0LGluZGVudDp0aGlzLmluZGVudCxzb3VyY2U6dGhpcy5zb3VyY2V9fSpzdGVwKCl7Y29uc3QgZT10aGlzLnBlZWsoMSk7aWYodGhpcy50eXBlPT09ImRvYy1lbmQiJiYoIWV8fGUudHlwZSE9PSJkb2MtZW5kIikpe2Zvcig7dGhpcy5zdGFjay5sZW5ndGg+MDspeWllbGQqdGhpcy5wb3AoKTt0aGlzLnN0YWNrLnB1c2goe3R5cGU6ImRvYy1lbmQiLG9mZnNldDp0aGlzLm9mZnNldCxzb3VyY2U6dGhpcy5zb3VyY2V9KTtyZXR1cm59aWYoIWUpcmV0dXJuIHlpZWxkKnRoaXMuc3RyZWFtKCk7c3dpdGNoKGUudHlwZSl7Y2FzZSJkb2N1bWVudCI6cmV0dXJuIHlpZWxkKnRoaXMuZG9jdW1lbnQoZSk7Y2FzZSJhbGlhcyI6Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOnJldHVybiB5aWVsZCp0aGlzLnNjYWxhcihlKTtjYXNlImJsb2NrLXNjYWxhciI6cmV0dXJuIHlpZWxkKnRoaXMuYmxvY2tTY2FsYXIoZSk7Y2FzZSJibG9jay1tYXAiOnJldHVybiB5aWVsZCp0aGlzLmJsb2NrTWFwKGUpO2Nhc2UiYmxvY2stc2VxIjpyZXR1cm4geWllbGQqdGhpcy5ibG9ja1NlcXVlbmNlKGUpO2Nhc2UiZmxvdy1jb2xsZWN0aW9uIjpyZXR1cm4geWllbGQqdGhpcy5mbG93Q29sbGVjdGlvbihlKTtjYXNlImRvYy1lbmQiOnJldHVybiB5aWVsZCp0aGlzLmRvY3VtZW50RW5kKGUpfXlpZWxkKnRoaXMucG9wKCl9cGVlayhlKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC1lXX0qcG9wKGUpe2NvbnN0IHQ9ZT8/dGhpcy5zdGFjay5wb3AoKTtpZighdCl5aWVsZHt0eXBlOiJlcnJvciIsb2Zmc2V0OnRoaXMub2Zmc2V0LHNvdXJjZToiIixtZXNzYWdlOiJUcmllZCB0byBwb3AgYW4gZW1wdHkgc3RhY2sifTtlbHNlIGlmKHRoaXMuc3RhY2subGVuZ3RoPT09MCl5aWVsZCB0O2Vsc2V7Y29uc3Qgbj10aGlzLnBlZWsoMSk7c3dpdGNoKHQudHlwZT09PSJibG9jay1zY2FsYXIiP3QuaW5kZW50PSJpbmRlbnQiaW4gbj9uLmluZGVudDowOnQudHlwZT09PSJmbG93LWNvbGxlY3Rpb24iJiZuLnR5cGU9PT0iZG9jdW1lbnQiJiYodC5pbmRlbnQ9MCksdC50eXBlPT09ImZsb3ctY29sbGVjdGlvbiImJnJhKHQpLG4udHlwZSl7Y2FzZSJkb2N1bWVudCI6bi52YWx1ZT10O2JyZWFrO2Nhc2UiYmxvY2stc2NhbGFyIjpuLnByb3BzLnB1c2godCk7YnJlYWs7Y2FzZSJibG9jay1tYXAiOntjb25zdCBzPW4uaXRlbXNbbi5pdGVtcy5sZW5ndGgtMV07aWYocy52YWx1ZSl7bi5pdGVtcy5wdXNoKHtzdGFydDpbXSxrZXk6dCxzZXA6W119KSx0aGlzLm9uS2V5TGluZT0hMDtyZXR1cm59ZWxzZSBpZihzLnNlcClzLnZhbHVlPXQ7ZWxzZXtPYmplY3QuYXNzaWduKHMse2tleTp0LHNlcDpbXX0pLHRoaXMub25LZXlMaW5lPSFPZShzLnN0YXJ0LCJleHBsaWNpdC1rZXktaW5kIik7cmV0dXJufWJyZWFrfWNhc2UiYmxvY2stc2VxIjp7Y29uc3Qgcz1uLml0ZW1zW24uaXRlbXMubGVuZ3RoLTFdO3MudmFsdWU/bi5pdGVtcy5wdXNoKHtzdGFydDpbXSx2YWx1ZTp0fSk6cy52YWx1ZT10O2JyZWFrfWNhc2UiZmxvdy1jb2xsZWN0aW9uIjp7Y29uc3Qgcz1uLml0ZW1zW24uaXRlbXMubGVuZ3RoLTFdOyFzfHxzLnZhbHVlP24uaXRlbXMucHVzaCh7c3RhcnQ6W10sa2V5OnQsc2VwOltdfSk6cy5zZXA/cy52YWx1ZT10Ok9iamVjdC5hc3NpZ24ocyx7a2V5OnQsc2VwOltdfSk7cmV0dXJufWRlZmF1bHQ6eWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnBvcCh0KX1pZigobi50eXBlPT09ImRvY3VtZW50Inx8bi50eXBlPT09ImJsb2NrLW1hcCJ8fG4udHlwZT09PSJibG9jay1zZXEiKSYmKHQudHlwZT09PSJibG9jay1tYXAifHx0LnR5cGU9PT0iYmxvY2stc2VxIikpe2NvbnN0IHM9dC5pdGVtc1t0Lml0ZW1zLmxlbmd0aC0xXTtzJiYhcy5zZXAmJiFzLnZhbHVlJiZzLnN0YXJ0Lmxlbmd0aD4wJiZzYShzLnN0YXJ0KT09PS0xJiYodC5pbmRlbnQ9PT0wfHxzLnN0YXJ0LmV2ZXJ5KHI9PnIudHlwZSE9PSJjb21tZW50Inx8ci5pbmRlbnQ8dC5pbmRlbnQpKSYmKG4udHlwZT09PSJkb2N1bWVudCI/bi5lbmQ9cy5zdGFydDpuLml0ZW1zLnB1c2goe3N0YXJ0OnMuc3RhcnR9KSx0Lml0ZW1zLnNwbGljZSgtMSwxKSl9fX0qc3RyZWFtKCl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJkaXJlY3RpdmUtbGluZSI6eWllbGR7dHlwZToiZGlyZWN0aXZlIixvZmZzZXQ6dGhpcy5vZmZzZXQsc291cmNlOnRoaXMuc291cmNlfTtyZXR1cm47Y2FzZSJieXRlLW9yZGVyLW1hcmsiOmNhc2Uic3BhY2UiOmNhc2UiY29tbWVudCI6Y2FzZSJuZXdsaW5lIjp5aWVsZCB0aGlzLnNvdXJjZVRva2VuO3JldHVybjtjYXNlImRvYy1tb2RlIjpjYXNlImRvYy1zdGFydCI6e2NvbnN0IGU9e3R5cGU6ImRvY3VtZW50IixvZmZzZXQ6dGhpcy5vZmZzZXQsc3RhcnQ6W119O3RoaXMudHlwZT09PSJkb2Mtc3RhcnQiJiZlLnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbiksdGhpcy5zdGFjay5wdXNoKGUpO3JldHVybn19eWllbGR7dHlwZToiZXJyb3IiLG9mZnNldDp0aGlzLm9mZnNldCxtZXNzYWdlOmBVbmV4cGVjdGVkICR7dGhpcy50eXBlfSB0b2tlbiBpbiBZQU1MIHN0cmVhbWAsc291cmNlOnRoaXMuc291cmNlfX0qZG9jdW1lbnQoZSl7aWYoZS52YWx1ZSlyZXR1cm4geWllbGQqdGhpcy5saW5lRW5kKGUpO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UiZG9jLXN0YXJ0Ijp7c2EoZS5zdGFydCkhPT0tMT8oeWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKSk6ZS5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybn1jYXNlImFuY2hvciI6Y2FzZSJ0YWciOmNhc2Uic3BhY2UiOmNhc2UiY29tbWVudCI6Y2FzZSJuZXdsaW5lIjplLnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7cmV0dXJufWNvbnN0IHQ9dGhpcy5zdGFydEJsb2NrVmFsdWUoZSk7dD90aGlzLnN0YWNrLnB1c2godCk6eWllbGR7dHlwZToiZXJyb3IiLG9mZnNldDp0aGlzLm9mZnNldCxtZXNzYWdlOmBVbmV4cGVjdGVkICR7dGhpcy50eXBlfSB0b2tlbiBpbiBZQU1MIGRvY3VtZW50YCxzb3VyY2U6dGhpcy5zb3VyY2V9fSpzY2FsYXIoZSl7aWYodGhpcy50eXBlPT09Im1hcC12YWx1ZS1pbmQiKXtjb25zdCB0PUduKHRoaXMucGVlaygyKSksbj1TdCh0KTtsZXQgcztlLmVuZD8ocz1lLmVuZCxzLnB1c2godGhpcy5zb3VyY2VUb2tlbiksZGVsZXRlIGUuZW5kKTpzPVt0aGlzLnNvdXJjZVRva2VuXTtjb25zdCByPXt0eXBlOiJibG9jay1tYXAiLG9mZnNldDplLm9mZnNldCxpbmRlbnQ6ZS5pbmRlbnQsaXRlbXM6W3tzdGFydDpuLGtleTplLHNlcDpzfV19O3RoaXMub25LZXlMaW5lPSEwLHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGgtMV09cn1lbHNlIHlpZWxkKnRoaXMubGluZUVuZChlKX0qYmxvY2tTY2FsYXIoZSl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjpjYXNlIm5ld2xpbmUiOmUucHJvcHMucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm47Y2FzZSJzY2FsYXIiOmlmKGUuc291cmNlPXRoaXMuc291cmNlLHRoaXMuYXROZXdMaW5lPSEwLHRoaXMuaW5kZW50PTAsdGhpcy5vbk5ld0xpbmUpe2xldCB0PXRoaXMuc291cmNlLmluZGV4T2YoYApgKSsxO2Zvcig7dCE9PTA7KXRoaXMub25OZXdMaW5lKHRoaXMub2Zmc2V0K3QpLHQ9dGhpcy5zb3VyY2UuaW5kZXhPZihgCmAsdCkrMX15aWVsZCp0aGlzLnBvcCgpO2JyZWFrO2RlZmF1bHQ6eWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKX19KmJsb2NrTWFwKGUpe3ZhciBuO2NvbnN0IHQ9ZS5pdGVtc1tlLml0ZW1zLmxlbmd0aC0xXTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIm5ld2xpbmUiOmlmKHRoaXMub25LZXlMaW5lPSExLHQudmFsdWUpe2NvbnN0IHM9ImVuZCJpbiB0LnZhbHVlP3QudmFsdWUuZW5kOnZvaWQgMCxyPUFycmF5LmlzQXJyYXkocyk/c1tzLmxlbmd0aC0xXTp2b2lkIDA7KHI9PW51bGw/dm9pZCAwOnIudHlwZSk9PT0iY29tbWVudCI/cz09bnVsbHx8cy5wdXNoKHRoaXMuc291cmNlVG9rZW4pOmUuaXRlbXMucHVzaCh7c3RhcnQ6W3RoaXMuc291cmNlVG9rZW5dfSl9ZWxzZSB0LnNlcD90LnNlcC5wdXNoKHRoaXMuc291cmNlVG9rZW4pOnQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm47Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjppZih0LnZhbHVlKWUuaXRlbXMucHVzaCh7c3RhcnQ6W3RoaXMuc291cmNlVG9rZW5dfSk7ZWxzZSBpZih0LnNlcCl0LnNlcC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO2Vsc2V7aWYodGhpcy5hdEluZGVudGVkQ29tbWVudCh0LnN0YXJ0LGUuaW5kZW50KSl7Y29uc3Qgcz1lLml0ZW1zW2UuaXRlbXMubGVuZ3RoLTJdLHI9KG49cz09bnVsbD92b2lkIDA6cy52YWx1ZSk9PW51bGw/dm9pZCAwOm4uZW5kO2lmKEFycmF5LmlzQXJyYXkocikpe0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHIsdC5zdGFydCksci5wdXNoKHRoaXMuc291cmNlVG9rZW4pLGUuaXRlbXMucG9wKCk7cmV0dXJufX10LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbil9cmV0dXJufWlmKHRoaXMuaW5kZW50Pj1lLmluZGVudCl7Y29uc3Qgcz0hdGhpcy5vbktleUxpbmUmJnRoaXMuaW5kZW50PT09ZS5pbmRlbnQmJnQuc2VwO2xldCByPVtdO2lmKHMmJnQuc2VwJiYhdC52YWx1ZSl7Y29uc3Qgbz1bXTtmb3IobGV0IGE9MDthPHQuc2VwLmxlbmd0aDsrK2Epe2NvbnN0IGw9dC5zZXBbYV07c3dpdGNoKGwudHlwZSl7Y2FzZSJuZXdsaW5lIjpvLnB1c2goYSk7YnJlYWs7Y2FzZSJzcGFjZSI6YnJlYWs7Y2FzZSJjb21tZW50IjpsLmluZGVudD5lLmluZGVudCYmKG8ubGVuZ3RoPTApO2JyZWFrO2RlZmF1bHQ6by5sZW5ndGg9MH19by5sZW5ndGg+PTImJihyPXQuc2VwLnNwbGljZShvWzFdKSl9c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJhbmNob3IiOmNhc2UidGFnIjpzfHx0LnZhbHVlPyhyLnB1c2godGhpcy5zb3VyY2VUb2tlbiksZS5pdGVtcy5wdXNoKHtzdGFydDpyfSksdGhpcy5vbktleUxpbmU9ITApOnQuc2VwP3Quc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik6dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlImV4cGxpY2l0LWtleS1pbmQiOiF0LnNlcCYmIU9lKHQuc3RhcnQsImV4cGxpY2l0LWtleS1pbmQiKT90LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik6c3x8dC52YWx1ZT8oci5wdXNoKHRoaXMuc291cmNlVG9rZW4pLGUuaXRlbXMucHVzaCh7c3RhcnQ6cn0pKTp0aGlzLnN0YWNrLnB1c2goe3R5cGU6ImJsb2NrLW1hcCIsb2Zmc2V0OnRoaXMub2Zmc2V0LGluZGVudDp0aGlzLmluZGVudCxpdGVtczpbe3N0YXJ0Olt0aGlzLnNvdXJjZVRva2VuXX1dfSksdGhpcy5vbktleUxpbmU9ITA7cmV0dXJuO2Nhc2UibWFwLXZhbHVlLWluZCI6aWYoT2UodC5zdGFydCwiZXhwbGljaXQta2V5LWluZCIpKWlmKHQuc2VwKWlmKHQudmFsdWUpZS5pdGVtcy5wdXNoKHtzdGFydDpbXSxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfSk7ZWxzZSBpZihPZSh0LnNlcCwibWFwLXZhbHVlLWluZCIpKXRoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6cixrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfV19KTtlbHNlIGlmKGlhKHQua2V5KSYmIU9lKHQuc2VwLCJuZXdsaW5lIikpe2NvbnN0IG89U3QodC5zdGFydCksYT10LmtleSxsPXQuc2VwO2wucHVzaCh0aGlzLnNvdXJjZVRva2VuKSxkZWxldGUgdC5rZXksZGVsZXRlIHQuc2VwLHRoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6byxrZXk6YSxzZXA6bH1dfSl9ZWxzZSByLmxlbmd0aD4wP3Quc2VwPXQuc2VwLmNvbmNhdChyLHRoaXMuc291cmNlVG9rZW4pOnQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7ZWxzZSBpZihPZSh0LnN0YXJ0LCJuZXdsaW5lIikpT2JqZWN0LmFzc2lnbih0LHtrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfSk7ZWxzZXtjb25zdCBvPVN0KHQuc3RhcnQpO3RoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6byxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfV19KX1lbHNlIHQuc2VwP3QudmFsdWV8fHM/ZS5pdGVtcy5wdXNoKHtzdGFydDpyLGtleTpudWxsLHNlcDpbdGhpcy5zb3VyY2VUb2tlbl19KTpPZSh0LnNlcCwibWFwLXZhbHVlLWluZCIpP3RoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6W10sa2V5Om51bGwsc2VwOlt0aGlzLnNvdXJjZVRva2VuXX1dfSk6dC5zZXAucHVzaCh0aGlzLnNvdXJjZVRva2VuKTpPYmplY3QuYXNzaWduKHQse2tleTpudWxsLHNlcDpbdGhpcy5zb3VyY2VUb2tlbl19KTt0aGlzLm9uS2V5TGluZT0hMDtyZXR1cm47Y2FzZSJhbGlhcyI6Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOntjb25zdCBvPXRoaXMuZmxvd1NjYWxhcih0aGlzLnR5cGUpO3N8fHQudmFsdWU/KGUuaXRlbXMucHVzaCh7c3RhcnQ6cixrZXk6byxzZXA6W119KSx0aGlzLm9uS2V5TGluZT0hMCk6dC5zZXA/dGhpcy5zdGFjay5wdXNoKG8pOihPYmplY3QuYXNzaWduKHQse2tleTpvLHNlcDpbXX0pLHRoaXMub25LZXlMaW5lPSEwKTtyZXR1cm59ZGVmYXVsdDp7Y29uc3Qgbz10aGlzLnN0YXJ0QmxvY2tWYWx1ZShlKTtpZihvKXtzJiZvLnR5cGUhPT0iYmxvY2stc2VxIiYmT2UodC5zdGFydCwiZXhwbGljaXQta2V5LWluZCIpJiZlLml0ZW1zLnB1c2goe3N0YXJ0OnJ9KSx0aGlzLnN0YWNrLnB1c2gobyk7cmV0dXJufX19fXlpZWxkKnRoaXMucG9wKCkseWllbGQqdGhpcy5zdGVwKCl9KmJsb2NrU2VxdWVuY2UoZSl7dmFyIG47Y29uc3QgdD1lLml0ZW1zW2UuaXRlbXMubGVuZ3RoLTFdO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UibmV3bGluZSI6aWYodC52YWx1ZSl7Y29uc3Qgcz0iZW5kImluIHQudmFsdWU/dC52YWx1ZS5lbmQ6dm9pZCAwLHI9QXJyYXkuaXNBcnJheShzKT9zW3MubGVuZ3RoLTFdOnZvaWQgMDsocj09bnVsbD92b2lkIDA6ci50eXBlKT09PSJjb21tZW50Ij9zPT1udWxsfHxzLnB1c2godGhpcy5zb3VyY2VUb2tlbik6ZS5pdGVtcy5wdXNoKHtzdGFydDpbdGhpcy5zb3VyY2VUb2tlbl19KX1lbHNlIHQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm47Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjppZih0LnZhbHVlKWUuaXRlbXMucHVzaCh7c3RhcnQ6W3RoaXMuc291cmNlVG9rZW5dfSk7ZWxzZXtpZih0aGlzLmF0SW5kZW50ZWRDb21tZW50KHQuc3RhcnQsZS5pbmRlbnQpKXtjb25zdCBzPWUuaXRlbXNbZS5pdGVtcy5sZW5ndGgtMl0scj0obj1zPT1udWxsP3ZvaWQgMDpzLnZhbHVlKT09bnVsbD92b2lkIDA6bi5lbmQ7aWYoQXJyYXkuaXNBcnJheShyKSl7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocix0LnN0YXJ0KSxyLnB1c2godGhpcy5zb3VyY2VUb2tlbiksZS5pdGVtcy5wb3AoKTtyZXR1cm59fXQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKX1yZXR1cm47Y2FzZSJhbmNob3IiOmNhc2UidGFnIjppZih0LnZhbHVlfHx0aGlzLmluZGVudDw9ZS5pbmRlbnQpYnJlYWs7dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlInNlcS1pdGVtLWluZCI6aWYodGhpcy5pbmRlbnQhPT1lLmluZGVudClicmVhazt0LnZhbHVlfHxPZSh0LnN0YXJ0LCJzZXEtaXRlbS1pbmQiKT9lLml0ZW1zLnB1c2goe3N0YXJ0Olt0aGlzLnNvdXJjZVRva2VuXX0pOnQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm59aWYodGhpcy5pbmRlbnQ+ZS5pbmRlbnQpe2NvbnN0IHM9dGhpcy5zdGFydEJsb2NrVmFsdWUoZSk7aWYocyl7dGhpcy5zdGFjay5wdXNoKHMpO3JldHVybn19eWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKX0qZmxvd0NvbGxlY3Rpb24oZSl7Y29uc3QgdD1lLml0ZW1zW2UuaXRlbXMubGVuZ3RoLTFdO2lmKHRoaXMudHlwZT09PSJmbG93LWVycm9yLWVuZCIpe2xldCBuO2RvIHlpZWxkKnRoaXMucG9wKCksbj10aGlzLnBlZWsoMSk7d2hpbGUobiYmbi50eXBlPT09ImZsb3ctY29sbGVjdGlvbiIpfWVsc2UgaWYoZS5lbmQubGVuZ3RoPT09MCl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJjb21tYSI6Y2FzZSJleHBsaWNpdC1rZXktaW5kIjohdHx8dC5zZXA/ZS5pdGVtcy5wdXNoKHtzdGFydDpbdGhpcy5zb3VyY2VUb2tlbl19KTp0LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7cmV0dXJuO2Nhc2UibWFwLXZhbHVlLWluZCI6IXR8fHQudmFsdWU/ZS5pdGVtcy5wdXNoKHtzdGFydDpbXSxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfSk6dC5zZXA/dC5zZXAucHVzaCh0aGlzLnNvdXJjZVRva2VuKTpPYmplY3QuYXNzaWduKHQse2tleTpudWxsLHNlcDpbdGhpcy5zb3VyY2VUb2tlbl19KTtyZXR1cm47Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjpjYXNlIm5ld2xpbmUiOmNhc2UiYW5jaG9yIjpjYXNlInRhZyI6IXR8fHQudmFsdWU/ZS5pdGVtcy5wdXNoKHtzdGFydDpbdGhpcy5zb3VyY2VUb2tlbl19KTp0LnNlcD90LnNlcC5wdXNoKHRoaXMuc291cmNlVG9rZW4pOnQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm47Y2FzZSJhbGlhcyI6Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOntjb25zdCBzPXRoaXMuZmxvd1NjYWxhcih0aGlzLnR5cGUpOyF0fHx0LnZhbHVlP2UuaXRlbXMucHVzaCh7c3RhcnQ6W10sa2V5OnMsc2VwOltdfSk6dC5zZXA/dGhpcy5zdGFjay5wdXNoKHMpOk9iamVjdC5hc3NpZ24odCx7a2V5OnMsc2VwOltdfSk7cmV0dXJufWNhc2UiZmxvdy1tYXAtZW5kIjpjYXNlImZsb3ctc2VxLWVuZCI6ZS5lbmQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm59Y29uc3Qgbj10aGlzLnN0YXJ0QmxvY2tWYWx1ZShlKTtuP3RoaXMuc3RhY2sucHVzaChuKTooeWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKSl9ZWxzZXtjb25zdCBuPXRoaXMucGVlaygyKTtpZihuLnR5cGU9PT0iYmxvY2stbWFwIiYmKHRoaXMudHlwZT09PSJtYXAtdmFsdWUtaW5kIiYmbi5pbmRlbnQ9PT1lLmluZGVudHx8dGhpcy50eXBlPT09Im5ld2xpbmUiJiYhbi5pdGVtc1tuLml0ZW1zLmxlbmd0aC0xXS5zZXApKXlpZWxkKnRoaXMucG9wKCkseWllbGQqdGhpcy5zdGVwKCk7ZWxzZSBpZih0aGlzLnR5cGU9PT0ibWFwLXZhbHVlLWluZCImJm4udHlwZSE9PSJmbG93LWNvbGxlY3Rpb24iKXtjb25zdCBzPUduKG4pLHI9U3Qocyk7cmEoZSk7Y29uc3Qgbz1lLmVuZC5zcGxpY2UoMSxlLmVuZC5sZW5ndGgpO28ucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtjb25zdCBhPXt0eXBlOiJibG9jay1tYXAiLG9mZnNldDplLm9mZnNldCxpbmRlbnQ6ZS5pbmRlbnQsaXRlbXM6W3tzdGFydDpyLGtleTplLHNlcDpvfV19O3RoaXMub25LZXlMaW5lPSEwLHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGgtMV09YX1lbHNlIHlpZWxkKnRoaXMubGluZUVuZChlKX19Zmxvd1NjYWxhcihlKXtpZih0aGlzLm9uTmV3TGluZSl7bGV0IHQ9dGhpcy5zb3VyY2UuaW5kZXhPZihgCmApKzE7Zm9yKDt0IT09MDspdGhpcy5vbk5ld0xpbmUodGhpcy5vZmZzZXQrdCksdD10aGlzLnNvdXJjZS5pbmRleE9mKGAKYCx0KSsxfXJldHVybnt0eXBlOmUsb2Zmc2V0OnRoaXMub2Zmc2V0LGluZGVudDp0aGlzLmluZGVudCxzb3VyY2U6dGhpcy5zb3VyY2V9fXN0YXJ0QmxvY2tWYWx1ZShlKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlImFsaWFzIjpjYXNlInNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6cmV0dXJuIHRoaXMuZmxvd1NjYWxhcih0aGlzLnR5cGUpO2Nhc2UiYmxvY2stc2NhbGFyLWhlYWRlciI6cmV0dXJue3R5cGU6ImJsb2NrLXNjYWxhciIsb2Zmc2V0OnRoaXMub2Zmc2V0LGluZGVudDp0aGlzLmluZGVudCxwcm9wczpbdGhpcy5zb3VyY2VUb2tlbl0sc291cmNlOiIifTtjYXNlImZsb3ctbWFwLXN0YXJ0IjpjYXNlImZsb3ctc2VxLXN0YXJ0IjpyZXR1cm57dHlwZToiZmxvdy1jb2xsZWN0aW9uIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LHN0YXJ0OnRoaXMuc291cmNlVG9rZW4saXRlbXM6W10sZW5kOltdfTtjYXNlInNlcS1pdGVtLWluZCI6cmV0dXJue3R5cGU6ImJsb2NrLXNlcSIsb2Zmc2V0OnRoaXMub2Zmc2V0LGluZGVudDp0aGlzLmluZGVudCxpdGVtczpbe3N0YXJ0Olt0aGlzLnNvdXJjZVRva2VuXX1dfTtjYXNlImV4cGxpY2l0LWtleS1pbmQiOnt0aGlzLm9uS2V5TGluZT0hMDtjb25zdCB0PUduKGUpLG49U3QodCk7cmV0dXJuIG4ucHVzaCh0aGlzLnNvdXJjZVRva2VuKSx7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6bn1dfX1jYXNlIm1hcC12YWx1ZS1pbmQiOnt0aGlzLm9uS2V5TGluZT0hMDtjb25zdCB0PUduKGUpLG49U3QodCk7cmV0dXJue3R5cGU6ImJsb2NrLW1hcCIsb2Zmc2V0OnRoaXMub2Zmc2V0LGluZGVudDp0aGlzLmluZGVudCxpdGVtczpbe3N0YXJ0Om4sa2V5Om51bGwsc2VwOlt0aGlzLnNvdXJjZVRva2VuXX1dfX19cmV0dXJuIG51bGx9YXRJbmRlbnRlZENvbW1lbnQoZSx0KXtyZXR1cm4gdGhpcy50eXBlIT09ImNvbW1lbnQifHx0aGlzLmluZGVudDw9dD8hMTplLmV2ZXJ5KG49Pm4udHlwZT09PSJuZXdsaW5lInx8bi50eXBlPT09InNwYWNlIil9KmRvY3VtZW50RW5kKGUpe3RoaXMudHlwZSE9PSJkb2MtbW9kZSImJihlLmVuZD9lLmVuZC5wdXNoKHRoaXMuc291cmNlVG9rZW4pOmUuZW5kPVt0aGlzLnNvdXJjZVRva2VuXSx0aGlzLnR5cGU9PT0ibmV3bGluZSImJih5aWVsZCp0aGlzLnBvcCgpKSl9KmxpbmVFbmQoZSl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJjb21tYSI6Y2FzZSJkb2Mtc3RhcnQiOmNhc2UiZG9jLWVuZCI6Y2FzZSJmbG93LXNlcS1lbmQiOmNhc2UiZmxvdy1tYXAtZW5kIjpjYXNlIm1hcC12YWx1ZS1pbmQiOnlpZWxkKnRoaXMucG9wKCkseWllbGQqdGhpcy5zdGVwKCk7YnJlYWs7Y2FzZSJuZXdsaW5lIjp0aGlzLm9uS2V5TGluZT0hMTtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmRlZmF1bHQ6ZS5lbmQ/ZS5lbmQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTplLmVuZD1bdGhpcy5zb3VyY2VUb2tlbl0sdGhpcy50eXBlPT09Im5ld2xpbmUiJiYoeWllbGQqdGhpcy5wb3AoKSl9fX1mdW5jdGlvbiBvYShpKXtjb25zdCBlPWkucHJldHR5RXJyb3JzIT09ITE7cmV0dXJue2xpbmVDb3VudGVyOmkubGluZUNvdW50ZXJ8fGUmJm5ldyBuYXx8bnVsbCxwcmV0dHlFcnJvcnM6ZX19ZnVuY3Rpb24gcWQoaSxlPXt9KXtjb25zdHtsaW5lQ291bnRlcjp0LHByZXR0eUVycm9yczpufT1vYShlKSxzPW5ldyBmaSh0PT1udWxsP3ZvaWQgMDp0LmFkZE5ld0xpbmUpLHI9bmV3IG9pKGUpLG89QXJyYXkuZnJvbShyLmNvbXBvc2Uocy5wYXJzZShpKSkpO2lmKG4mJnQpZm9yKGNvbnN0IGEgb2YgbylhLmVycm9ycy5mb3JFYWNoKFZuKGksdCkpLGEud2FybmluZ3MuZm9yRWFjaChWbihpLHQpKTtyZXR1cm4gby5sZW5ndGg+MD9vOk9iamVjdC5hc3NpZ24oW10se2VtcHR5OiEwfSxyLnN0cmVhbUluZm8oKSl9ZnVuY3Rpb24gYWEoaSxlPXt9KXtjb25zdHtsaW5lQ291bnRlcjp0LHByZXR0eUVycm9yczpufT1vYShlKSxzPW5ldyBmaSh0PT1udWxsP3ZvaWQgMDp0LmFkZE5ld0xpbmUpLHI9bmV3IG9pKGUpO2xldCBvPW51bGw7Zm9yKGNvbnN0IGEgb2Ygci5jb21wb3NlKHMucGFyc2UoaSksITAsaS5sZW5ndGgpKWlmKCFvKW89YTtlbHNlIGlmKG8ub3B0aW9ucy5sb2dMZXZlbCE9PSJzaWxlbnQiKXtvLmVycm9ycy5wdXNoKG5ldyBRZShhLnJhbmdlLnNsaWNlKDAsMiksIk1VTFRJUExFX0RPQ1MiLCJTb3VyY2UgY29udGFpbnMgbXVsdGlwbGUgZG9jdW1lbnRzOyBwbGVhc2UgdXNlIFlBTUwucGFyc2VBbGxEb2N1bWVudHMoKSIpKTticmVha31yZXR1cm4gbiYmdCYmKG8uZXJyb3JzLmZvckVhY2goVm4oaSx0KSksby53YXJuaW5ncy5mb3JFYWNoKFZuKGksdCkpKSxvfWZ1bmN0aW9uIFpkKGksZSx0KXtsZXQgbjt0eXBlb2YgZT09ImZ1bmN0aW9uIj9uPWU6dD09PXZvaWQgMCYmZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYodD1lKTtjb25zdCBzPWFhKGksdCk7aWYoIXMpcmV0dXJuIG51bGw7aWYocy53YXJuaW5ncy5mb3JFYWNoKHI9PlRvKHMub3B0aW9ucy5sb2dMZXZlbCxyKSkscy5lcnJvcnMubGVuZ3RoPjApe2lmKHMub3B0aW9ucy5sb2dMZXZlbCE9PSJzaWxlbnQiKXRocm93IHMuZXJyb3JzWzBdO3MuZXJyb3JzPVtdfXJldHVybiBzLnRvSlMoT2JqZWN0LmFzc2lnbih7cmV2aXZlcjpufSx0KSl9ZnVuY3Rpb24gS2QoaSxlLHQpe2xldCBuPW51bGw7aWYodHlwZW9mIGU9PSJmdW5jdGlvbiJ8fEFycmF5LmlzQXJyYXkoZSk/bj1lOnQ9PT12b2lkIDAmJmUmJih0PWUpLHR5cGVvZiB0PT0ic3RyaW5nIiYmKHQ9dC5sZW5ndGgpLHR5cGVvZiB0PT0ibnVtYmVyIil7Y29uc3Qgcz1NYXRoLnJvdW5kKHQpO3Q9czwxP3ZvaWQgMDpzPjg/e2luZGVudDo4fTp7aW5kZW50OnN9fWlmKGk9PT12b2lkIDApe2NvbnN0e2tlZXBVbmRlZmluZWQ6c309dD8/ZT8/e307aWYoIXMpcmV0dXJufXJldHVybiBuZXcgX3QoaSxuLHQpLnRvU3RyaW5nKHQpfXZhciBHZD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxBbGlhczpFbixDU1Q6VmQsQ29tcG9zZXI6b2ksRG9jdW1lbnQ6X3QsTGV4ZXI6dGEsTGluZUNvdW50ZXI6bmEsUGFpcjpzZSxQYXJzZXI6ZmksU2NhbGFyOkYsU2NoZW1hOkhuLFlBTUxFcnJvcjplaSxZQU1MTWFwOnVlLFlBTUxQYXJzZUVycm9yOlFlLFlBTUxTZXE6VWUsWUFNTFdhcm5pbmc6VW8saXNBbGlhczpKZSxpc0NvbGxlY3Rpb246Ryxpc0RvY3VtZW50OmN0LGlzTWFwOmZ0LGlzTm9kZTpRLGlzUGFpcjpLLGlzU2NhbGFyOmosaXNTZXE6aHQscGFyc2U6WmQscGFyc2VBbGxEb2N1bWVudHM6cWQscGFyc2VEb2N1bWVudDphYSxzdHJpbmdpZnk6S2QsdmlzaXQ6UGUsdmlzaXRBc3luYzpTbn0pO2NvbnN0IGxhPWk9PmkudHJpbSgpLnNwbGl0KC8gfCwvKS5maWx0ZXIoZT0+ISFlJiZlLmluY2x1ZGVzKCJAIil8fGU9PT0iKiJ8fGU9PT0iXFwqIiksSmQ9L14oW146XSspKDopKD86XHN8JCkvLFhkPS9bXjpdKyQvO2Z1bmN0aW9uIFFkKGksZSx0LG4pe2xldCBzPTAscj1zLG89LTEsYT0tMTtjb25zdCBsPW09PiEhbS5tYXRjaChOcyl8fCEhbS5tYXRjaChNcyl8fCEhbS5tYXRjaChwbiksdT0vXi0tLS87bGV0IGg9ITE7Y29uc3QgYz1bXSxkPVtdLGY9W107bGV0IHA9aVtzXTtmb3IoO3R5cGVvZiBwPCJ1IiYmISghaCYmbChwKSk7KXtjb25zdCBtPXAubWF0Y2godSk7aWYobSl7Y29uc3QgVD17dHlwZTpILkZyb250bWF0dGVyRGVsaW1pdGVyLGZyb206ZVtyXSx0bzplW3JdKzR9O2lmKGYucHVzaChUKSwhaClzPXIsaD0hMDtlbHNle2YubGVuZ3RoPT09MiYmKHQucmFuZ2VzLnB1c2goZlswXSksdC5yYW5nZXMucHVzaChmWzFdKSk7YnJlYWt9fWNvbnN0IHk9enMocCxyLGUsdCk7aWYoeXx8KHA9a2gocCxyLGUsdCksYy5wdXNoKHApKSwheSYmIW0pe2NvbnN0IFQ9cC5tYXRjaChKZCk7VCYmKGQucHVzaCh7dHlwZTpILkhlYWRlcktleSxmcm9tOmVbcl0sdG86ZVtyXStUWzFdLmxlbmd0aH0pLGQucHVzaCh7dHlwZTpILkhlYWRlcktleUNvbG9uLGZyb206ZVtyXStUWzFdLmxlbmd0aCx0bzplW3JdK1RbMV0ubGVuZ3RoKzF9KSk7Y29uc3Qgdj1wLm1hdGNoKFhkKTtpZih2KXtjb25zdCBfPXAuaW5kZXhPZih2WzBdKTtkLnB1c2goe3R5cGU6SC5IZWFkZXJWYWx1ZSxmcm9tOmVbcl0rXyx0bzplW3JdK18rdlswXS5sZW5ndGh9KX19cC5sZW5ndGgmJihvPT09LTEmJihvPXIpLGE9cikscisrLHA9aVtyXX10cnl7Y29uc3QgbT1HZC5wYXJzZShjLmpvaW4oYApgKSk7bS5kYXRlRm9ybWF0PW0uZGF0ZUZvcm1hdD09PSJkL00veSI/c2g6eW4sbS52aWV3JiZ0eXBlb2YgbS52aWV3PT0ic3RyaW5nIiYmKG0udmlldz1sYShtLnZpZXcpKSxtLmVkaXQmJnR5cGVvZiBtLmVkaXQ9PSJzdHJpbmciJiYobS5lZGl0PWxhKG0uZWRpdCkpLENoKG0sdCxuKSx0LnJhbmdlcy5wdXNoKC4uLmQpLHQuaGVhZGVyPW19Y2F0Y2h7dC5oZWFkZXI9e2RhdGVGb3JtYXQ6eW59fWlmKGYubGVuZ3RoPT09Mil7Y29uc3QgbT1lW3NdO3QuZm9sZGFibGVzW21dPXtzdGFydExpbmU6cyxzdGFydEluZGV4Om0sZW5kSW5kZXg6ZVtyXS0xLHR5cGU6ImhlYWRlciIsZm9sZFN0YXJ0SW5kZXg6Zi5sZW5ndGg9PT0yP20rMzptfX1lbHNlIGlmKG8+PTAmJmE+PTAmJmEhPT1vKXtjb25zdCBtPWVbb10seT17c3RhcnRMaW5lOm8sc3RhcnRJbmRleDptLGVuZEluZGV4OmVbYSsxXS0xLHR5cGU6ImhlYWRlciIsZm9sZFN0YXJ0SW5kZXg6bX07dC5mb2xkYWJsZXNbbV09eX1yZXR1cm4gcn12YXIgZW09e2V4cG9ydHM6e319OyhmdW5jdGlvbihpKXt2YXIgZTsoZnVuY3Rpb24oKXtlPWkuZXhwb3J0c30pKCksZS5mb2xkTGVuZ3RoPTc1LGUubmV3TGluZUNoYXI9YFxyCmAsZS5oZWxwZXJzPXt1cGRhdGVUaW1lem9uZXM6ZnVuY3Rpb24odCl7dmFyIG4scyxyLG8sYSxsO2lmKCF0fHx0Lm5hbWUhPT0idmNhbGVuZGFyIilyZXR1cm4gdDtmb3Iobj10LmdldEFsbFN1YmNvbXBvbmVudHMoKSxzPVtdLHI9e30sYT0wO2E8bi5sZW5ndGg7YSsrKW5bYV0ubmFtZT09PSJ2dGltZXpvbmUiPyhsPW5bYV0uZ2V0Rmlyc3RQcm9wZXJ0eSgidHppZCIpLmdldEZpcnN0VmFsdWUoKSxyW2xdPW5bYV0pOnM9cy5jb25jYXQoblthXS5nZXRBbGxQcm9wZXJ0aWVzKCkpO2ZvcihvPXt9LGE9MDthPHMubGVuZ3RoO2ErKykobD1zW2FdLmdldFBhcmFtZXRlcigidHppZCIpKSYmKG9bbF09ITApO2ZvcihhIGluIHIpci5oYXNPd25Qcm9wZXJ0eShhKSYmIW9bYV0mJnQucmVtb3ZlU3ViY29tcG9uZW50KHJbYV0pO2ZvcihhIGluIG8pby5oYXNPd25Qcm9wZXJ0eShhKSYmIXJbYV0mJmUuVGltZXpvbmVTZXJ2aWNlLmhhcyhhKSYmdC5hZGRTdWJjb21wb25lbnQoZS5UaW1lem9uZVNlcnZpY2UuZ2V0KGEpLmNvbXBvbmVudCk7cmV0dXJuIHR9LGlzU3RyaWN0bHlOYU46ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT0ibnVtYmVyIiYmaXNOYU4odCl9LHN0cmljdFBhcnNlSW50OmZ1bmN0aW9uKHQpe3ZhciBuPXBhcnNlSW50KHQsMTApO2lmKGUuaGVscGVycy5pc1N0cmljdGx5TmFOKG4pKXRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGV4dHJhY3QgaW50ZWdlciBmcm9tICInK3QrJyInKTtyZXR1cm4gbn0sZm9ybWF0Q2xhc3NUeXBlOmZ1bmN0aW9uKG4scyl7aWYoISh0eXBlb2Ygbj4idSIpKXJldHVybiBuIGluc3RhbmNlb2Ygcz9uOm5ldyBzKG4pfSx1bmVzY2FwZWRJbmRleE9mOmZ1bmN0aW9uKHQsbixzKXtmb3IoOyhzPXQuaW5kZXhPZihuLHMpKSE9PS0xOylpZihzPjAmJnRbcy0xXT09PSJcXCIpcys9MTtlbHNlIHJldHVybiBzO3JldHVybi0xfSxiaW5zZWFyY2hJbnNlcnQ6ZnVuY3Rpb24odCxuLHMpe2lmKCF0Lmxlbmd0aClyZXR1cm4gMDtmb3IodmFyIHI9MCxvPXQubGVuZ3RoLTEsYSxsO3I8PW87KWlmKGE9citNYXRoLmZsb29yKChvLXIpLzIpLGw9cyhuLHRbYV0pLGw8MClvPWEtMTtlbHNlIGlmKGw+MClyPWErMTtlbHNlIGJyZWFrO3JldHVybiBsPDA/YTpsPjA/YSsxOmF9LGR1bXBuOmZ1bmN0aW9uKCl7ZS5kZWJ1ZyYmKHR5cGVvZiBjb25zb2xlPCJ1IiYmImxvZyJpbiBjb25zb2xlP2UuaGVscGVycy5kdW1wbj1mdW5jdGlvbihuKXtjb25zb2xlLmxvZyhuKX06ZS5oZWxwZXJzLmR1bXBuPWZ1bmN0aW9uKG4pe2R1bXAobitgCmApfSxlLmhlbHBlcnMuZHVtcG4oYXJndW1lbnRzWzBdKSl9LGNsb25lOmZ1bmN0aW9uKHQsbil7aWYoIXR8fHR5cGVvZiB0IT0ib2JqZWN0IilyZXR1cm4gdDtpZih0IGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUodC5nZXRUaW1lKCkpO2lmKCJjbG9uZSJpbiB0KXJldHVybiB0LmNsb25lKCk7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBzPVtdLHI9MDtyPHQubGVuZ3RoO3IrKylzLnB1c2gobj9lLmhlbHBlcnMuY2xvbmUodFtyXSwhMCk6dFtyXSk7cmV0dXJuIHN9ZWxzZXt2YXIgbz17fTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKG4/b1thXT1lLmhlbHBlcnMuY2xvbmUodFthXSwhMCk6b1thXT10W2FdKTtyZXR1cm4gb319LGZvbGRsaW5lOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcz0iIixyPW58fCIiLG89MCxhPTA7ci5sZW5ndGg7KXt2YXIgbD1yLmNvZGVQb2ludEF0KG8pO2w8MTI4PysrYTpsPDIwNDg/YSs9MjpsPDY1NTM2P2ErPTM6YSs9NCxhPGUuZm9sZExlbmd0aCsxP28rPWw+NjU1MzU/MjoxOihzKz1lLm5ld0xpbmVDaGFyKyIgIityLnN1YnN0cmluZygwLG8pLHI9ci5zdWJzdHJpbmcobyksbz1hPTApfXJldHVybiBzLnN1YnN0cihlLm5ld0xpbmVDaGFyLmxlbmd0aCsxKX0scGFkMjpmdW5jdGlvbihuKXt0eXBlb2YgbiE9InN0cmluZyImJih0eXBlb2Ygbj09Im51bWJlciImJihuPXBhcnNlSW50KG4pKSxuPVN0cmluZyhuKSk7dmFyIHM9bi5sZW5ndGg7c3dpdGNoKHMpe2Nhc2UgMDpyZXR1cm4iMDAiO2Nhc2UgMTpyZXR1cm4iMCIrbjtkZWZhdWx0OnJldHVybiBufX0sdHJ1bmM6ZnVuY3Rpb24obil7cmV0dXJuIG48MD9NYXRoLmNlaWwobik6TWF0aC5mbG9vcihuKX0saW5oZXJpdHM6ZnVuY3Rpb24odCxuLHMpe2Z1bmN0aW9uIHIoKXt9ci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbi5wcm90b3R5cGU9bmV3IHIscyYmZS5oZWxwZXJzLmV4dGVuZChzLG4ucHJvdG90eXBlKX0sZXh0ZW5kOmZ1bmN0aW9uKHQsbil7Zm9yKHZhciBzIGluIHQpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxzKTtyJiYhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobixzLHIpfXJldHVybiBufX0sZS5kZXNpZ249ZnVuY3Rpb24oKXt2YXIgdD0vXFxcXHxcXDt8XFwsfFxcW05uXS9nLG49L1xcfDt8LHxcbi9nLHM9L1xcXFx8XFwsfFxcW05uXS9nLHI9L1xcfCx8XG4vZztmdW5jdGlvbiBvKGcsTSl7dmFyIHo9e21hdGNoZXM6Ly4qLyxmcm9tSUNBTDpmdW5jdGlvbihMLGFlKXtyZXR1cm4gdihMLGcsYWUpfSx0b0lDQUw6ZnVuY3Rpb24oTCxhZSl7dmFyIEllPU07cmV0dXJuIGFlJiYoSWU9bmV3IFJlZ0V4cChJZS5zb3VyY2UrInwiK2FlKSksTC5yZXBsYWNlKEllLGZ1bmN0aW9uKGtlKXtzd2l0Y2goa2Upe2Nhc2UiXFwiOnJldHVybiJcXFxcIjtjYXNlIjsiOnJldHVybiJcXDsiO2Nhc2UiLCI6cmV0dXJuIlxcLCI7Y2FzZWAKYDpyZXR1cm4iXFxuIjtkZWZhdWx0OnJldHVybiBrZX19KX19O3JldHVybiB6fXZhciBhPXtkZWZhdWx0VHlwZToidGV4dCJ9LGw9e2RlZmF1bHRUeXBlOiJ0ZXh0IixtdWx0aVZhbHVlOiIsIn0sdT17ZGVmYXVsdFR5cGU6InRleHQiLHN0cnVjdHVyZWRWYWx1ZToiOyJ9LGg9e2RlZmF1bHRUeXBlOiJpbnRlZ2VyIn0sYz17ZGVmYXVsdFR5cGU6ImRhdGUtdGltZSIsYWxsb3dlZFR5cGVzOlsiZGF0ZS10aW1lIiwiZGF0ZSJdfSxkPXtkZWZhdWx0VHlwZToiZGF0ZS10aW1lIn0sZj17ZGVmYXVsdFR5cGU6InVyaSJ9LHA9e2RlZmF1bHRUeXBlOiJ1dGMtb2Zmc2V0In0sbT17ZGVmYXVsdFR5cGU6InJlY3VyIn0seT17ZGVmYXVsdFR5cGU6ImRhdGUtYW5kLW9yLXRpbWUiLGFsbG93ZWRUeXBlczpbImRhdGUtdGltZSIsImRhdGUiLCJ0ZXh0Il19O2Z1bmN0aW9uIFQoZyl7c3dpdGNoKGcpe2Nhc2UiXFxcXCI6cmV0dXJuIlxcIjtjYXNlIlxcOyI6cmV0dXJuIjsiO2Nhc2UiXFwsIjpyZXR1cm4iLCI7Y2FzZSJcXG4iOmNhc2UiXFxOIjpyZXR1cm5gCmA7ZGVmYXVsdDpyZXR1cm4gZ319ZnVuY3Rpb24gdihnLE0seil7cmV0dXJuIGcuaW5kZXhPZigiXFwiKT09PS0xP2c6KHomJihNPW5ldyBSZWdFeHAoTS5zb3VyY2UrInxcXFxcIit6KSksZy5yZXBsYWNlKE0sVCkpfXZhciBfPXtjYXRlZ29yaWVzOmwsdXJsOmYsdmVyc2lvbjphLHVpZDphfSxPPXtib29sZWFuOnt2YWx1ZXM6WyJUUlVFIiwiRkFMU0UiXSxmcm9tSUNBTDpmdW5jdGlvbihnKXtzd2l0Y2goZyl7Y2FzZSJUUlVFIjpyZXR1cm4hMDtjYXNlIkZBTFNFIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiExfX0sdG9JQ0FMOmZ1bmN0aW9uKGcpe3JldHVybiBnPyJUUlVFIjoiRkFMU0UifX0sZmxvYXQ6e21hdGNoZXM6L15bKy1dP1xkK1wuXGQrJC8sZnJvbUlDQUw6ZnVuY3Rpb24oZyl7dmFyIE09cGFyc2VGbG9hdChnKTtyZXR1cm4gZS5oZWxwZXJzLmlzU3RyaWN0bHlOYU4oTSk/MDpNfSx0b0lDQUw6ZnVuY3Rpb24oZyl7cmV0dXJuIFN0cmluZyhnKX19LGludGVnZXI6e2Zyb21JQ0FMOmZ1bmN0aW9uKGcpe3ZhciBNPXBhcnNlSW50KGcpO3JldHVybiBlLmhlbHBlcnMuaXNTdHJpY3RseU5hTihNKT8wOk19LHRvSUNBTDpmdW5jdGlvbihnKXtyZXR1cm4gU3RyaW5nKGcpfX0sInV0Yy1vZmZzZXQiOnt0b0lDQUw6ZnVuY3Rpb24oZyl7cmV0dXJuIGcubGVuZ3RoPDc/Zy5zdWJzdHIoMCwzKStnLnN1YnN0cig0LDIpOmcuc3Vic3RyKDAsMykrZy5zdWJzdHIoNCwyKStnLnN1YnN0cig3LDIpfSxmcm9tSUNBTDpmdW5jdGlvbihnKXtyZXR1cm4gZy5sZW5ndGg8Nj9nLnN1YnN0cigwLDMpKyI6IitnLnN1YnN0cigzLDIpOmcuc3Vic3RyKDAsMykrIjoiK2cuc3Vic3RyKDMsMikrIjoiK2cuc3Vic3RyKDUsMil9LGRlY29yYXRlOmZ1bmN0aW9uKGcpe3JldHVybiBlLlV0Y09mZnNldC5mcm9tU3RyaW5nKGcpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKGcpe3JldHVybiBnLnRvU3RyaW5nKCl9fX0sST17Y3V0eXBlOnt2YWx1ZXM6WyJJTkRJVklEVUFMIiwiR1JPVVAiLCJSRVNPVVJDRSIsIlJPT00iLCJVTktOT1dOIl0sYWxsb3dYTmFtZTohMCxhbGxvd0lhbmFUb2tlbjohMH0sImRlbGVnYXRlZC1mcm9tIjp7dmFsdWVUeXBlOiJjYWwtYWRkcmVzcyIsbXVsdGlWYWx1ZToiLCIsbXVsdGlWYWx1ZVNlcGFyYXRlRFF1b3RlOiEwfSwiZGVsZWdhdGVkLXRvIjp7dmFsdWVUeXBlOiJjYWwtYWRkcmVzcyIsbXVsdGlWYWx1ZToiLCIsbXVsdGlWYWx1ZVNlcGFyYXRlRFF1b3RlOiEwfSxlbmNvZGluZzp7dmFsdWVzOlsiOEJJVCIsIkJBU0U2NCJdfSxmYnR5cGU6e3ZhbHVlczpbIkZSRUUiLCJCVVNZIiwiQlVTWS1VTkFWQUlMQUJMRSIsIkJVU1ktVEVOVEFUSVZFIl0sYWxsb3dYTmFtZTohMCxhbGxvd0lhbmFUb2tlbjohMH0sbWVtYmVyOnt2YWx1ZVR5cGU6ImNhbC1hZGRyZXNzIixtdWx0aVZhbHVlOiIsIixtdWx0aVZhbHVlU2VwYXJhdGVEUXVvdGU6ITB9LHBhcnRzdGF0Ont2YWx1ZXM6WyJORUVEUy1BQ1RJT04iLCJBQ0NFUFRFRCIsIkRFQ0xJTkVEIiwiVEVOVEFUSVZFIiwiREVMRUdBVEVEIiwiQ09NUExFVEVEIiwiSU4tUFJPQ0VTUyJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9LHJhbmdlOnt2YWx1ZXM6WyJUSElTQU5ERlVUVVJFIl19LHJlbGF0ZWQ6e3ZhbHVlczpbIlNUQVJUIiwiRU5EIl19LHJlbHR5cGU6e3ZhbHVlczpbIlBBUkVOVCIsIkNISUxEIiwiU0lCTElORyJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9LHJvbGU6e3ZhbHVlczpbIlJFUS1QQVJUSUNJUEFOVCIsIkNIQUlSIiwiT1BULVBBUlRJQ0lQQU5UIiwiTk9OLVBBUlRJQ0lQQU5UIl0sYWxsb3dYTmFtZTohMCxhbGxvd0lhbmFUb2tlbjohMH0scnN2cDp7dmFsdWVzOlsiVFJVRSIsIkZBTFNFIl19LCJzZW50LWJ5Ijp7dmFsdWVUeXBlOiJjYWwtYWRkcmVzcyJ9LHR6aWQ6e21hdGNoZXM6L15cLy99LHZhbHVlOnt2YWx1ZXM6WyJiaW5hcnkiLCJib29sZWFuIiwiY2FsLWFkZHJlc3MiLCJkYXRlIiwiZGF0ZS10aW1lIiwiZHVyYXRpb24iLCJmbG9hdCIsImludGVnZXIiLCJwZXJpb2QiLCJyZWN1ciIsInRleHQiLCJ0aW1lIiwidXJpIiwidXRjLW9mZnNldCJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9fSx3PWUuaGVscGVycy5leHRlbmQoTyx7dGV4dDpvKHQsbiksdXJpOnt9LGJpbmFyeTp7ZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGUuQmluYXJ5LmZyb21TdHJpbmcoZyl9LHVuZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGcudG9TdHJpbmcoKX19LCJjYWwtYWRkcmVzcyI6e30sZGF0ZTp7ZGVjb3JhdGU6ZnVuY3Rpb24oZyxNKXtyZXR1cm4gay5zdHJpY3Q/ZS5UaW1lLmZyb21EYXRlU3RyaW5nKGcsTSk6ZS5UaW1lLmZyb21TdHJpbmcoZyxNKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihnKXtyZXR1cm4gZy50b1N0cmluZygpfSxmcm9tSUNBTDpmdW5jdGlvbihnKXtyZXR1cm4hay5zdHJpY3QmJmcubGVuZ3RoPj0xNT93WyJkYXRlLXRpbWUiXS5mcm9tSUNBTChnKTpnLnN1YnN0cigwLDQpKyItIitnLnN1YnN0cig0LDIpKyItIitnLnN1YnN0cig2LDIpfSx0b0lDQUw6ZnVuY3Rpb24oZyl7dmFyIE09Zy5sZW5ndGg7cmV0dXJuIE09PTEwP2cuc3Vic3RyKDAsNCkrZy5zdWJzdHIoNSwyKStnLnN1YnN0cig4LDIpOk0+PTE5P3dbImRhdGUtdGltZSJdLnRvSUNBTChnKTpnfX0sImRhdGUtdGltZSI6e2Zyb21JQ0FMOmZ1bmN0aW9uKGcpe2lmKCFrLnN0cmljdCYmZy5sZW5ndGg9PTgpcmV0dXJuIHcuZGF0ZS5mcm9tSUNBTChnKTt2YXIgTT1nLnN1YnN0cigwLDQpKyItIitnLnN1YnN0cig0LDIpKyItIitnLnN1YnN0cig2LDIpKyJUIitnLnN1YnN0cig5LDIpKyI6IitnLnN1YnN0cigxMSwyKSsiOiIrZy5zdWJzdHIoMTMsMik7cmV0dXJuIGdbMTVdJiZnWzE1XT09PSJaIiYmKE0rPSJaIiksTX0sdG9JQ0FMOmZ1bmN0aW9uKGcpe3ZhciBNPWcubGVuZ3RoO2lmKE09PTEwJiYhay5zdHJpY3QpcmV0dXJuIHcuZGF0ZS50b0lDQUwoZyk7aWYoTT49MTkpe3ZhciB6PWcuc3Vic3RyKDAsNCkrZy5zdWJzdHIoNSwyKStnLnN1YnN0cig4LDUpK2cuc3Vic3RyKDE0LDIpK2cuc3Vic3RyKDE3LDIpO3JldHVybiBnWzE5XSYmZ1sxOV09PT0iWiImJih6Kz0iWiIpLHp9ZWxzZSByZXR1cm4gZ30sZGVjb3JhdGU6ZnVuY3Rpb24oZyxNKXtyZXR1cm4gay5zdHJpY3Q/ZS5UaW1lLmZyb21EYXRlVGltZVN0cmluZyhnLE0pOmUuVGltZS5mcm9tU3RyaW5nKGcsTSl9LHVuZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGcudG9TdHJpbmcoKX19LGR1cmF0aW9uOntkZWNvcmF0ZTpmdW5jdGlvbihnKXtyZXR1cm4gZS5EdXJhdGlvbi5mcm9tU3RyaW5nKGcpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKGcpe3JldHVybiBnLnRvU3RyaW5nKCl9fSxwZXJpb2Q6e2Zyb21JQ0FMOmZ1bmN0aW9uKGcpe3ZhciBNPWcuc3BsaXQoIi8iKTtyZXR1cm4gTVswXT13WyJkYXRlLXRpbWUiXS5mcm9tSUNBTChNWzBdKSxlLkR1cmF0aW9uLmlzVmFsdWVTdHJpbmcoTVsxXSl8fChNWzFdPXdbImRhdGUtdGltZSJdLmZyb21JQ0FMKE1bMV0pKSxNfSx0b0lDQUw6ZnVuY3Rpb24oZyl7cmV0dXJuIWsuc3RyaWN0JiZnWzBdLmxlbmd0aD09MTA/Z1swXT13LmRhdGUudG9JQ0FMKGdbMF0pOmdbMF09d1siZGF0ZS10aW1lIl0udG9JQ0FMKGdbMF0pLGUuRHVyYXRpb24uaXNWYWx1ZVN0cmluZyhnWzFdKXx8KCFrLnN0cmljdCYmZ1sxXS5sZW5ndGg9PTEwP2dbMV09dy5kYXRlLnRvSUNBTChnWzFdKTpnWzFdPXdbImRhdGUtdGltZSJdLnRvSUNBTChnWzFdKSksZy5qb2luKCIvIil9LGRlY29yYXRlOmZ1bmN0aW9uKGcsTSl7cmV0dXJuIGUuUGVyaW9kLmZyb21KU09OKGcsTSwhay5zdHJpY3QpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKGcpe3JldHVybiBnLnRvSlNPTigpfX0scmVjdXI6e2Zyb21JQ0FMOmZ1bmN0aW9uKGcpe3JldHVybiBlLlJlY3VyLl9zdHJpbmdUb0RhdGEoZywhMCl9LHRvSUNBTDpmdW5jdGlvbihnKXt2YXIgTT0iIjtmb3IodmFyIHogaW4gZylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyx6KSl7dmFyIEw9Z1t6XTt6PT0idW50aWwiP0wubGVuZ3RoPjEwP0w9d1siZGF0ZS10aW1lIl0udG9JQ0FMKEwpOkw9dy5kYXRlLnRvSUNBTChMKTp6PT0id2tzdCI/dHlwZW9mIEw9PSJudW1iZXIiJiYoTD1lLlJlY3VyLm51bWVyaWNEYXlUb0ljYWxEYXkoTCkpOkFycmF5LmlzQXJyYXkoTCkmJihMPUwuam9pbigiLCIpKSxNKz16LnRvVXBwZXJDYXNlKCkrIj0iK0wrIjsifXJldHVybiBNLnN1YnN0cigwLE0ubGVuZ3RoLTEpfSxkZWNvcmF0ZTpmdW5jdGlvbihNKXtyZXR1cm4gZS5SZWN1ci5mcm9tRGF0YShNKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihnKXtyZXR1cm4gZy50b0pTT04oKX19LHRpbWU6e2Zyb21JQ0FMOmZ1bmN0aW9uKGcpe2lmKGcubGVuZ3RoPDYpcmV0dXJuIGc7dmFyIE09Zy5zdWJzdHIoMCwyKSsiOiIrZy5zdWJzdHIoMiwyKSsiOiIrZy5zdWJzdHIoNCwyKTtyZXR1cm4gZ1s2XT09PSJaIiYmKE0rPSJaIiksTX0sdG9JQ0FMOmZ1bmN0aW9uKGcpe2lmKGcubGVuZ3RoPDgpcmV0dXJuIGc7dmFyIE09Zy5zdWJzdHIoMCwyKStnLnN1YnN0cigzLDIpK2cuc3Vic3RyKDYsMik7cmV0dXJuIGdbOF09PT0iWiImJihNKz0iWiIpLE19fX0pLEE9ZS5oZWxwZXJzLmV4dGVuZChfLHthY3Rpb246YSxhdHRhY2g6e2RlZmF1bHRUeXBlOiJ1cmkifSxhdHRlbmRlZTp7ZGVmYXVsdFR5cGU6ImNhbC1hZGRyZXNzIn0sY2Fsc2NhbGU6YSxjbGFzczphLGNvbW1lbnQ6YSxjb21wbGV0ZWQ6ZCxjb250YWN0OmEsY3JlYXRlZDpkLGRlc2NyaXB0aW9uOmEsZHRlbmQ6YyxkdHN0YW1wOmQsZHRzdGFydDpjLGR1ZTpjLGR1cmF0aW9uOntkZWZhdWx0VHlwZToiZHVyYXRpb24ifSxleGRhdGU6e2RlZmF1bHRUeXBlOiJkYXRlLXRpbWUiLGFsbG93ZWRUeXBlczpbImRhdGUtdGltZSIsImRhdGUiXSxtdWx0aVZhbHVlOiIsIn0sZXhydWxlOm0sZnJlZWJ1c3k6e2RlZmF1bHRUeXBlOiJwZXJpb2QiLG11bHRpVmFsdWU6IiwifSxnZW86e2RlZmF1bHRUeXBlOiJmbG9hdCIsc3RydWN0dXJlZFZhbHVlOiI7In0sImxhc3QtbW9kaWZpZWQiOmQsbG9jYXRpb246YSxtZXRob2Q6YSxvcmdhbml6ZXI6e2RlZmF1bHRUeXBlOiJjYWwtYWRkcmVzcyJ9LCJwZXJjZW50LWNvbXBsZXRlIjpoLHByaW9yaXR5OmgscHJvZGlkOmEsInJlbGF0ZWQtdG8iOmEscmVwZWF0OmgscmRhdGU6e2RlZmF1bHRUeXBlOiJkYXRlLXRpbWUiLGFsbG93ZWRUeXBlczpbImRhdGUtdGltZSIsImRhdGUiLCJwZXJpb2QiXSxtdWx0aVZhbHVlOiIsIixkZXRlY3RUeXBlOmZ1bmN0aW9uKGcpe3JldHVybiBnLmluZGV4T2YoIi8iKSE9PS0xPyJwZXJpb2QiOmcuaW5kZXhPZigiVCIpPT09LTE/ImRhdGUiOiJkYXRlLXRpbWUifX0sInJlY3VycmVuY2UtaWQiOmMscmVzb3VyY2VzOmwsInJlcXVlc3Qtc3RhdHVzIjp1LHJydWxlOm0sc2VxdWVuY2U6aCxzdGF0dXM6YSxzdW1tYXJ5OmEsdHJhbnNwOmEsdHJpZ2dlcjp7ZGVmYXVsdFR5cGU6ImR1cmF0aW9uIixhbGxvd2VkVHlwZXM6WyJkdXJhdGlvbiIsImRhdGUtdGltZSJdfSx0em9mZnNldGZyb206cCx0em9mZnNldHRvOnAsdHp1cmw6Zix0emlkOmEsdHpuYW1lOmF9KSxFPWUuaGVscGVycy5leHRlbmQoTyx7dGV4dDpvKHMsciksdXJpOm8ocyxyKSxkYXRlOntkZWNvcmF0ZTpmdW5jdGlvbihnKXtyZXR1cm4gZS5WQ2FyZFRpbWUuZnJvbURhdGVBbmRPclRpbWVTdHJpbmcoZywiZGF0ZSIpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKGcpe3JldHVybiBnLnRvU3RyaW5nKCl9LGZyb21JQ0FMOmZ1bmN0aW9uKGcpe3JldHVybiBnLmxlbmd0aD09OD93LmRhdGUuZnJvbUlDQUwoZyk6Z1swXT09Ii0iJiZnLmxlbmd0aD09Nj9nLnN1YnN0cigwLDQpKyItIitnLnN1YnN0cig0KTpnfSx0b0lDQUw6ZnVuY3Rpb24oZyl7cmV0dXJuIGcubGVuZ3RoPT0xMD93LmRhdGUudG9JQ0FMKGcpOmdbMF09PSItIiYmZy5sZW5ndGg9PTc/Zy5zdWJzdHIoMCw0KStnLnN1YnN0cig1KTpnfX0sdGltZTp7ZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGUuVkNhcmRUaW1lLmZyb21EYXRlQW5kT3JUaW1lU3RyaW5nKCJUIitnLCJ0aW1lIil9LHVuZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGcudG9TdHJpbmcoKX0sZnJvbUlDQUw6ZnVuY3Rpb24oZyl7dmFyIE09RS50aW1lLl9zcGxpdFpvbmUoZywhMCksej1NWzBdLEw9TVsxXTtyZXR1cm4gTC5sZW5ndGg9PTY/TD1MLnN1YnN0cigwLDIpKyI6IitMLnN1YnN0cigyLDIpKyI6IitMLnN1YnN0cig0LDIpOkwubGVuZ3RoPT00JiZMWzBdIT0iLSI/TD1MLnN1YnN0cigwLDIpKyI6IitMLnN1YnN0cigyLDIpOkwubGVuZ3RoPT01JiYoTD1MLnN1YnN0cigwLDMpKyI6IitMLnN1YnN0cigzLDIpKSx6Lmxlbmd0aD09NSYmKHpbMF09PSItInx8elswXT09IisiKSYmKHo9ei5zdWJzdHIoMCwzKSsiOiIrei5zdWJzdHIoMykpLEwren0sdG9JQ0FMOmZ1bmN0aW9uKGcpe3ZhciBNPUUudGltZS5fc3BsaXRab25lKGcpLHo9TVswXSxMPU1bMV07cmV0dXJuIEwubGVuZ3RoPT04P0w9TC5zdWJzdHIoMCwyKStMLnN1YnN0cigzLDIpK0wuc3Vic3RyKDYsMik6TC5sZW5ndGg9PTUmJkxbMF0hPSItIj9MPUwuc3Vic3RyKDAsMikrTC5zdWJzdHIoMywyKTpMLmxlbmd0aD09NiYmKEw9TC5zdWJzdHIoMCwzKStMLnN1YnN0cig0LDIpKSx6Lmxlbmd0aD09NiYmKHpbMF09PSItInx8elswXT09IisiKSYmKHo9ei5zdWJzdHIoMCwzKSt6LnN1YnN0cig0KSksTCt6fSxfc3BsaXRab25lOmZ1bmN0aW9uKGcsTSl7dmFyIHo9Zy5sZW5ndGgtMSxMPWcubGVuZ3RoLShNPzU6NiksYWU9Z1tMXSxJZSxrZTtyZXR1cm4gZ1t6XT09IloiPyhJZT1nW3pdLGtlPWcuc3Vic3RyKDAseikpOmcubGVuZ3RoPjYmJihhZT09Ii0ifHxhZT09IisiKT8oSWU9Zy5zdWJzdHIoTCksa2U9Zy5zdWJzdHIoMCxMKSk6KEllPSIiLGtlPWcpLFtJZSxrZV19fSwiZGF0ZS10aW1lIjp7ZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGUuVkNhcmRUaW1lLmZyb21EYXRlQW5kT3JUaW1lU3RyaW5nKGcsImRhdGUtdGltZSIpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKGcpe3JldHVybiBnLnRvU3RyaW5nKCl9LGZyb21JQ0FMOmZ1bmN0aW9uKGcpe3JldHVybiBFWyJkYXRlLWFuZC1vci10aW1lIl0uZnJvbUlDQUwoZyl9LHRvSUNBTDpmdW5jdGlvbihnKXtyZXR1cm4gRVsiZGF0ZS1hbmQtb3ItdGltZSJdLnRvSUNBTChnKX19LCJkYXRlLWFuZC1vci10aW1lIjp7ZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGUuVkNhcmRUaW1lLmZyb21EYXRlQW5kT3JUaW1lU3RyaW5nKGcsImRhdGUtYW5kLW9yLXRpbWUiKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihnKXtyZXR1cm4gZy50b1N0cmluZygpfSxmcm9tSUNBTDpmdW5jdGlvbihnKXt2YXIgTT1nLnNwbGl0KCJUIik7cmV0dXJuKE1bMF0/RS5kYXRlLmZyb21JQ0FMKE1bMF0pOiIiKSsoTVsxXT8iVCIrRS50aW1lLmZyb21JQ0FMKE1bMV0pOiIiKX0sdG9JQ0FMOmZ1bmN0aW9uKGcpe3ZhciBNPWcuc3BsaXQoIlQiKTtyZXR1cm4gRS5kYXRlLnRvSUNBTChNWzBdKSsoTVsxXT8iVCIrRS50aW1lLnRvSUNBTChNWzFdKToiIil9fSx0aW1lc3RhbXA6d1siZGF0ZS10aW1lIl0sImxhbmd1YWdlLXRhZyI6e21hdGNoZXM6L15bYS16QS1aMC05LV0rJC99fSksQz17dHlwZTp7dmFsdWVUeXBlOiJ0ZXh0IixtdWx0aVZhbHVlOiIsIn0sdmFsdWU6e3ZhbHVlczpbInRleHQiLCJ1cmkiLCJkYXRlIiwidGltZSIsImRhdGUtdGltZSIsImRhdGUtYW5kLW9yLXRpbWUiLCJ0aW1lc3RhbXAiLCJib29sZWFuIiwiaW50ZWdlciIsImZsb2F0IiwidXRjLW9mZnNldCIsImxhbmd1YWdlLXRhZyJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9fSxQPWUuaGVscGVycy5leHRlbmQoXyx7YWRyOntkZWZhdWx0VHlwZToidGV4dCIsc3RydWN0dXJlZFZhbHVlOiI7IixtdWx0aVZhbHVlOiIsIn0sYW5uaXZlcnNhcnk6eSxiZGF5OnksY2FsYWRydXJpOmYsY2FsdXJpOmYsY2xpZW50cGlkbWFwOnUsZW1haWw6YSxmYnVybDpmLGZuOmEsZ2VuZGVyOnUsZ2VvOmYsaW1wcDpmLGtleTpmLGtpbmQ6YSxsYW5nOntkZWZhdWx0VHlwZToibGFuZ3VhZ2UtdGFnIn0sbG9nbzpmLG1lbWJlcjpmLG46e2RlZmF1bHRUeXBlOiJ0ZXh0IixzdHJ1Y3R1cmVkVmFsdWU6IjsiLG11bHRpVmFsdWU6IiwifSxuaWNrbmFtZTpsLG5vdGU6YSxvcmc6e2RlZmF1bHRUeXBlOiJ0ZXh0IixzdHJ1Y3R1cmVkVmFsdWU6IjsifSxwaG90bzpmLHJlbGF0ZWQ6ZixyZXY6e2RlZmF1bHRUeXBlOiJ0aW1lc3RhbXAifSxyb2xlOmEsc291bmQ6Zixzb3VyY2U6Zix0ZWw6e2RlZmF1bHRUeXBlOiJ1cmkiLGFsbG93ZWRUeXBlczpbInVyaSIsInRleHQiXX0sdGl0bGU6YSx0ejp7ZGVmYXVsdFR5cGU6InRleHQiLGFsbG93ZWRUeXBlczpbInRleHQiLCJ1dGMtb2Zmc2V0IiwidXJpIl19LHhtbDphfSksWT1lLmhlbHBlcnMuZXh0ZW5kKE8se2JpbmFyeTp3LmJpbmFyeSxkYXRlOkUuZGF0ZSwiZGF0ZS10aW1lIjpFWyJkYXRlLXRpbWUiXSwicGhvbmUtbnVtYmVyIjp7fSx1cmk6dy51cmksdGV4dDp3LnRleHQsdGltZTp3LnRpbWUsdmNhcmQ6dy50ZXh0LCJ1dGMtb2Zmc2V0Ijp7dG9JQ0FMOmZ1bmN0aW9uKGcpe3JldHVybiBnLnN1YnN0cigwLDcpfSxmcm9tSUNBTDpmdW5jdGlvbihnKXtyZXR1cm4gZy5zdWJzdHIoMCw3KX0sZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGUuVXRjT2Zmc2V0LmZyb21TdHJpbmcoZyl9LHVuZGVjb3JhdGU6ZnVuY3Rpb24oZyl7cmV0dXJuIGcudG9TdHJpbmcoKX19fSkseD17dHlwZTp7dmFsdWVUeXBlOiJ0ZXh0IixtdWx0aVZhbHVlOiIsIn0sdmFsdWU6e3ZhbHVlczpbInRleHQiLCJ1cmkiLCJkYXRlIiwiZGF0ZS10aW1lIiwicGhvbmUtbnVtYmVyIiwidGltZSIsImJvb2xlYW4iLCJpbnRlZ2VyIiwiZmxvYXQiLCJ1dGMtb2Zmc2V0IiwidmNhcmQiLCJiaW5hcnkiXSxhbGxvd1hOYW1lOiEwLGFsbG93SWFuYVRva2VuOiEwfX0sWj1lLmhlbHBlcnMuZXh0ZW5kKF8se2ZuOmEsbjp7ZGVmYXVsdFR5cGU6InRleHQiLHN0cnVjdHVyZWRWYWx1ZToiOyIsbXVsdGlWYWx1ZToiLCJ9LG5pY2tuYW1lOmwscGhvdG86e2RlZmF1bHRUeXBlOiJiaW5hcnkiLGFsbG93ZWRUeXBlczpbImJpbmFyeSIsInVyaSJdfSxiZGF5OntkZWZhdWx0VHlwZToiZGF0ZS10aW1lIixhbGxvd2VkVHlwZXM6WyJkYXRlLXRpbWUiLCJkYXRlIl0sZGV0ZWN0VHlwZTpmdW5jdGlvbihnKXtyZXR1cm4gZy5pbmRleE9mKCJUIik9PT0tMT8iZGF0ZSI6ImRhdGUtdGltZSJ9fSxhZHI6e2RlZmF1bHRUeXBlOiJ0ZXh0IixzdHJ1Y3R1cmVkVmFsdWU6IjsiLG11bHRpVmFsdWU6IiwifSxsYWJlbDphLHRlbDp7ZGVmYXVsdFR5cGU6InBob25lLW51bWJlciJ9LGVtYWlsOmEsbWFpbGVyOmEsdHo6e2RlZmF1bHRUeXBlOiJ1dGMtb2Zmc2V0IixhbGxvd2VkVHlwZXM6WyJ1dGMtb2Zmc2V0IiwidGV4dCJdfSxnZW86e2RlZmF1bHRUeXBlOiJmbG9hdCIsc3RydWN0dXJlZFZhbHVlOiI7In0sdGl0bGU6YSxyb2xlOmEsbG9nbzp7ZGVmYXVsdFR5cGU6ImJpbmFyeSIsYWxsb3dlZFR5cGVzOlsiYmluYXJ5IiwidXJpIl19LGFnZW50OntkZWZhdWx0VHlwZToidmNhcmQiLGFsbG93ZWRUeXBlczpbInZjYXJkIiwidGV4dCIsInVyaSJdfSxvcmc6dSxub3RlOmwscHJvZGlkOmEscmV2OntkZWZhdWx0VHlwZToiZGF0ZS10aW1lIixhbGxvd2VkVHlwZXM6WyJkYXRlLXRpbWUiLCJkYXRlIl0sZGV0ZWN0VHlwZTpmdW5jdGlvbihnKXtyZXR1cm4gZy5pbmRleE9mKCJUIik9PT0tMT8iZGF0ZSI6ImRhdGUtdGltZSJ9fSwic29ydC1zdHJpbmciOmEsc291bmQ6e2RlZmF1bHRUeXBlOiJiaW5hcnkiLGFsbG93ZWRUeXBlczpbImJpbmFyeSIsInVyaSJdfSxjbGFzczphLGtleTp7ZGVmYXVsdFR5cGU6ImJpbmFyeSIsYWxsb3dlZFR5cGVzOlsiYmluYXJ5IiwidGV4dCJdfX0pLFY9e3ZhbHVlOncscGFyYW06SSxwcm9wZXJ0eTpBfSxXPXt2YWx1ZTpFLHBhcmFtOkMscHJvcGVydHk6UH0sUj17dmFsdWU6WSxwYXJhbTp4LHByb3BlcnR5Olp9LGs9e3N0cmljdDohMCxkZWZhdWx0U2V0OlYsZGVmYXVsdFR5cGU6InVua25vd24iLGNvbXBvbmVudHM6e3ZjYXJkOlcsdmNhcmQzOlIsdmV2ZW50OlYsdnRvZG86Vix2am91cm5hbDpWLHZhbGFybTpWLHZ0aW1lem9uZTpWLGRheWxpZ2h0OlYsc3RhbmRhcmQ6Vn0saWNhbGVuZGFyOlYsdmNhcmQ6Vyx2Y2FyZDM6UixnZXREZXNpZ25TZXQ6ZnVuY3Rpb24oZyl7dmFyIE09ZyYmZyBpbiBrLmNvbXBvbmVudHM7cmV0dXJuIE0/ay5jb21wb25lbnRzW2ddOmsuZGVmYXVsdFNldH19O3JldHVybiBrfSgpLGUuc3RyaW5naWZ5PWZ1bmN0aW9uKCl7dmFyIHQ9YFxyCmAsbj0idW5rbm93biIscz1lLmRlc2lnbixyPWUuaGVscGVycztmdW5jdGlvbiBvKGwpe3R5cGVvZiBsWzBdPT0ic3RyaW5nIiYmKGw9W2xdKTtmb3IodmFyIHU9MCxoPWwubGVuZ3RoLGM9IiI7dTxoO3UrKyljKz1vLmNvbXBvbmVudChsW3VdKSt0O3JldHVybiBjfW8uY29tcG9uZW50PWZ1bmN0aW9uKGwsdSl7dmFyIGg9bFswXS50b1VwcGVyQ2FzZSgpLGM9IkJFR0lOOiIraCt0LGQ9bFsxXSxmPTAscD1kLmxlbmd0aCxtPWxbMF07Zm9yKG09PT0idmNhcmQiJiZsWzFdLmxlbmd0aD4wJiYhKGxbMV1bMF1bMF09PT0idmVyc2lvbiImJmxbMV1bMF1bM109PT0iNC4wIikmJihtPSJ2Y2FyZDMiKSx1PXV8fHMuZ2V0RGVzaWduU2V0KG0pO2Y8cDtmKyspYys9by5wcm9wZXJ0eShkW2ZdLHUpK3Q7Zm9yKHZhciB5PWxbMl18fFtdLFQ9MCx2PXkubGVuZ3RoO1Q8djtUKyspYys9by5jb21wb25lbnQoeVtUXSx1KSt0O3JldHVybiBjKz0iRU5EOiIraCxjfSxvLnByb3BlcnR5PWZ1bmN0aW9uKGwsdSxoKXt2YXIgYz1sWzBdLnRvVXBwZXJDYXNlKCksZD1sWzBdLGY9bFsxXSxwPWMsbTtmb3IobSBpbiBmKXt2YXIgeT1mW21dO2lmKGYuaGFzT3duUHJvcGVydHkobSkpe3ZhciBfPW0gaW4gdS5wYXJhbSYmdS5wYXJhbVttXS5tdWx0aVZhbHVlO18mJkFycmF5LmlzQXJyYXkoeSk/KHUucGFyYW1bbV0ubXVsdGlWYWx1ZVNlcGFyYXRlRFF1b3RlJiYoXz0nIicrXysnIicpLHk9eS5tYXAoby5fcmZjNjg2OFVuZXNjYXBlKSx5PW8ubXVsdGlWYWx1ZSh5LF8sInVua25vd24iLG51bGwsdSkpOnk9by5fcmZjNjg2OFVuZXNjYXBlKHkpLHArPSI7IittLnRvVXBwZXJDYXNlKCkscCs9Ij0iK28ucHJvcGVydHlWYWx1ZSh5KX19aWYobC5sZW5ndGg9PT0zKXJldHVybiBwKyI6Ijt2YXIgVD1sWzJdO3V8fCh1PXMuZGVmYXVsdFNldCk7dmFyIHYsXz0hMSxPPSExLEk9ITE7cmV0dXJuIGQgaW4gdS5wcm9wZXJ0eT8odj11LnByb3BlcnR5W2RdLCJtdWx0aVZhbHVlImluIHYmJihfPXYubXVsdGlWYWx1ZSksInN0cnVjdHVyZWRWYWx1ZSJpbiB2JiZBcnJheS5pc0FycmF5KGxbM10pJiYoTz12LnN0cnVjdHVyZWRWYWx1ZSksImRlZmF1bHRUeXBlImluIHY/VD09PXYuZGVmYXVsdFR5cGUmJihJPSEwKTpUPT09biYmKEk9ITApKTpUPT09biYmKEk9ITApLEl8fChwKz0iO1ZBTFVFPSIrVC50b1VwcGVyQ2FzZSgpKSxwKz0iOiIsXyYmTz9wKz1vLm11bHRpVmFsdWUobFszXSxPLFQsXyx1LE8pOl8/cCs9by5tdWx0aVZhbHVlKGwuc2xpY2UoMyksXyxULG51bGwsdSwhMSk6Tz9wKz1vLm11bHRpVmFsdWUobFszXSxPLFQsbnVsbCx1LE8pOnArPW8udmFsdWUobFszXSxULHUsITEpLGg/cDplLmhlbHBlcnMuZm9sZGxpbmUocCl9LG8ucHJvcGVydHlWYWx1ZT1mdW5jdGlvbihsKXtyZXR1cm4gci51bmVzY2FwZWRJbmRleE9mKGwsIiwiKT09PS0xJiZyLnVuZXNjYXBlZEluZGV4T2YobCwiOiIpPT09LTEmJnIudW5lc2NhcGVkSW5kZXhPZihsLCI7Iik9PT0tMT9sOiciJytsKyciJ30sby5tdWx0aVZhbHVlPWZ1bmN0aW9uKGwsdSxoLGMsZCxmKXtmb3IodmFyIHA9IiIsbT1sLmxlbmd0aCx5PTA7eTxtO3krKyljJiZBcnJheS5pc0FycmF5KGxbeV0pP3ArPW8ubXVsdGlWYWx1ZShsW3ldLGMsaCxudWxsLGQsZik6cCs9by52YWx1ZShsW3ldLGgsZCxmKSx5IT09bS0xJiYocCs9dSk7cmV0dXJuIHB9LG8udmFsdWU9ZnVuY3Rpb24obCx1LGgsYyl7cmV0dXJuIHUgaW4gaC52YWx1ZSYmInRvSUNBTCJpbiBoLnZhbHVlW3VdP2gudmFsdWVbdV0udG9JQ0FMKGwsYyk6bH0sby5fcmZjNjg2OFVuZXNjYXBlPWZ1bmN0aW9uKGwpe3JldHVybiBsLnJlcGxhY2UoL1tcbl4iXS9nLGZ1bmN0aW9uKHUpe3JldHVybiBhW3VdfSl9O3ZhciBhPXsnIic6Il4nIiwiXG4iOiJebiIsIl4iOiJeXiJ9O3JldHVybiBvfSgpLGUucGFyc2U9ZnVuY3Rpb24oKXt2YXIgdD0vW14gXHRdLyxuPSI6IixzPSI7IixyPSI9IixvPSJ1bmtub3duIixhPSJ0ZXh0IixsPWUuZGVzaWduLHU9ZS5oZWxwZXJzO2Z1bmN0aW9uIGgoZil7dGhpcy5tZXNzYWdlPWYsdGhpcy5uYW1lPSJQYXJzZXJFcnJvciI7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChtKXtpZihtLnN0YWNrKXt2YXIgcD1tLnN0YWNrLnNwbGl0KGAKYCk7cC5zaGlmdCgpLHRoaXMuc3RhY2s9cC5qb2luKGAKYCl9fX1oLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGU7ZnVuY3Rpb24gYyhmKXt2YXIgcD17fSxtPXAuY29tcG9uZW50PVtdO2lmKHAuc3RhY2s9W21dLGMuX2VhY2hMaW5lKGYsZnVuY3Rpb24oeSxUKXtjLl9oYW5kbGVDb250ZW50TGluZShULHApfSkscC5zdGFjay5sZW5ndGg+MSl0aHJvdyBuZXcgaCgiaW52YWxpZCBpY2FsIGJvZHkuIGNvbXBvbmVudCBiZWdhbiBidXQgZGlkIG5vdCBlbmQiKTtyZXR1cm4gcD1udWxsLG0ubGVuZ3RoPT0xP21bMF06bX1jLnByb3BlcnR5PWZ1bmN0aW9uKGYscCl7dmFyIG09e2NvbXBvbmVudDpbW10sW11dLGRlc2lnblNldDpwfHxsLmRlZmF1bHRTZXR9O3JldHVybiBjLl9oYW5kbGVDb250ZW50TGluZShmLG0pLG0uY29tcG9uZW50WzFdWzBdfSxjLmNvbXBvbmVudD1mdW5jdGlvbihmKXtyZXR1cm4gYyhmKX0sYy5QYXJzZXJFcnJvcj1oLGMuX2hhbmRsZUNvbnRlbnRMaW5lPWZ1bmN0aW9uKGYscCl7dmFyIG09Zi5pbmRleE9mKG4pLHk9Zi5pbmRleE9mKHMpLFQsdixfLE8sST17fTt5IT09LTEmJm0hPT0tMSYmeT5tJiYoeT0tMSk7dmFyIHc7aWYoeSE9PS0xKXtpZihfPWYuc3Vic3RyaW5nKDAseSkudG9Mb3dlckNhc2UoKSx3PWMuX3BhcnNlUGFyYW1ldGVycyhmLnN1YnN0cmluZyh5KSwwLHAuZGVzaWduU2V0KSx3WzJdPT0tMSl0aHJvdyBuZXcgaCgiSW52YWxpZCBwYXJhbWV0ZXJzIGluICciK2YrIiciKTtpZihJPXdbMF0sVD13WzFdLmxlbmd0aCt3WzJdK3ksKHY9Zi5zdWJzdHJpbmcoVCkuaW5kZXhPZihuKSkhPT0tMSlPPWYuc3Vic3RyaW5nKFQrdisxKTtlbHNlIHRocm93IG5ldyBoKCJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBpbiAnIitmKyInIil9ZWxzZSBpZihtIT09LTEpe2lmKF89Zi5zdWJzdHJpbmcoMCxtKS50b0xvd2VyQ2FzZSgpLE89Zi5zdWJzdHJpbmcobSsxKSxfPT09ImJlZ2luIil7dmFyIEE9W08udG9Mb3dlckNhc2UoKSxbXSxbXV07cC5zdGFjay5sZW5ndGg9PT0xP3AuY29tcG9uZW50LnB1c2goQSk6cC5jb21wb25lbnRbMl0ucHVzaChBKSxwLnN0YWNrLnB1c2gocC5jb21wb25lbnQpLHAuY29tcG9uZW50PUEscC5kZXNpZ25TZXR8fChwLmRlc2lnblNldD1sLmdldERlc2lnblNldChwLmNvbXBvbmVudFswXSkpO3JldHVybn1lbHNlIGlmKF89PT0iZW5kIil7cC5jb21wb25lbnQ9cC5zdGFjay5wb3AoKTtyZXR1cm59fWVsc2UgdGhyb3cgbmV3IGgoJ2ludmFsaWQgbGluZSAobm8gdG9rZW4gIjsiIG9yICI6IikgIicrZisnIicpO3ZhciBFLEM9ITEsUD0hMSxZO18gaW4gcC5kZXNpZ25TZXQucHJvcGVydHkmJihZPXAuZGVzaWduU2V0LnByb3BlcnR5W19dLCJtdWx0aVZhbHVlImluIFkmJihDPVkubXVsdGlWYWx1ZSksInN0cnVjdHVyZWRWYWx1ZSJpbiBZJiYoUD1ZLnN0cnVjdHVyZWRWYWx1ZSksTyYmImRldGVjdFR5cGUiaW4gWSYmKEU9WS5kZXRlY3RUeXBlKE8pKSksRXx8KCJ2YWx1ZSJpbiBJP0U9SS52YWx1ZS50b0xvd2VyQ2FzZSgpOlk/RT1ZLmRlZmF1bHRUeXBlOkU9byksZGVsZXRlIEkudmFsdWU7dmFyIHg7QyYmUD8oTz1jLl9wYXJzZU11bHRpVmFsdWUoTyxQLEUsW10sQyxwLmRlc2lnblNldCxQKSx4PVtfLEksRSxPXSk6Qz8oeD1bXyxJLEVdLGMuX3BhcnNlTXVsdGlWYWx1ZShPLEMsRSx4LG51bGwscC5kZXNpZ25TZXQsITEpKTpQPyhPPWMuX3BhcnNlTXVsdGlWYWx1ZShPLFAsRSxbXSxudWxsLHAuZGVzaWduU2V0LFApLHg9W18sSSxFLE9dKTooTz1jLl9wYXJzZVZhbHVlKE8sRSxwLmRlc2lnblNldCwhMSkseD1bXyxJLEUsT10pLHAuY29tcG9uZW50WzBdPT09InZjYXJkIiYmcC5jb21wb25lbnRbMV0ubGVuZ3RoPT09MCYmIShfPT09InZlcnNpb24iJiZPPT09IjQuMCIpJiYocC5kZXNpZ25TZXQ9bC5nZXREZXNpZ25TZXQoInZjYXJkMyIpKSxwLmNvbXBvbmVudFsxXS5wdXNoKHgpfSxjLl9wYXJzZVZhbHVlPWZ1bmN0aW9uKGYscCxtLHkpe3JldHVybiBwIGluIG0udmFsdWUmJiJmcm9tSUNBTCJpbiBtLnZhbHVlW3BdP20udmFsdWVbcF0uZnJvbUlDQUwoZix5KTpmfSxjLl9wYXJzZVBhcmFtZXRlcnM9ZnVuY3Rpb24oZixwLG0pe2Zvcih2YXIgeT1wLFQ9MCx2PXIsXz17fSxPLEksdyxBPS0xLEUsQyxQO1QhPT0hMSYmKFQ9dS51bmVzY2FwZWRJbmRleE9mKGYsdixUKzEpKSE9PS0xOyl7aWYoTz1mLnN1YnN0cih5KzEsVC15LTEpLE8ubGVuZ3RoPT0wKXRocm93IG5ldyBoKCJFbXB0eSBwYXJhbWV0ZXIgbmFtZSBpbiAnIitmKyInIik7ST1PLnRvTG93ZXJDYXNlKCksUD0hMSxDPSExLEkgaW4gbS5wYXJhbSYmbS5wYXJhbVtJXS52YWx1ZVR5cGU/RT1tLnBhcmFtW0ldLnZhbHVlVHlwZTpFPWEsSSBpbiBtLnBhcmFtJiYoQz1tLnBhcmFtW0ldLm11bHRpVmFsdWUsbS5wYXJhbVtJXS5tdWx0aVZhbHVlU2VwYXJhdGVEUXVvdGUmJihQPWMuX3JmYzY4NjhFc2NhcGUoJyInK0MrJyInKSkpO3ZhciBZPWZbVCsxXTtpZihZPT09JyInKXtpZihBPVQrMixUPXUudW5lc2NhcGVkSW5kZXhPZihmLCciJyxBKSxDJiZUIT0tMSlmb3IodmFyIHg9ITA7eDspZltUKzFdPT1DJiZmW1QrMl09PSciJz9UPXUudW5lc2NhcGVkSW5kZXhPZihmLCciJyxUKzMpOng9ITE7aWYoVD09PS0xKXRocm93IG5ldyBoKCdpbnZhbGlkIGxpbmUgKG5vIG1hdGNoaW5nIGRvdWJsZSBxdW90ZSkgIicrZisnIicpO3c9Zi5zdWJzdHIoQSxULUEpLHk9dS51bmVzY2FwZWRJbmRleE9mKGYscyxUKSx5PT09LTEmJihUPSExKX1lbHNle0E9VCsxO3ZhciBaPXUudW5lc2NhcGVkSW5kZXhPZihmLHMsQSksVj11LnVuZXNjYXBlZEluZGV4T2YoZixuLEEpO1YhPT0tMSYmWj5WPyhaPVYsVD0hMSk6Wj09PS0xPyhWPT09LTE/Wj1mLmxlbmd0aDpaPVYsVD0hMSk6KHk9WixUPVopLHc9Zi5zdWJzdHIoQSxaLUEpfWlmKHc9Yy5fcmZjNjg2OEVzY2FwZSh3KSxDKXt2YXIgVz1QfHxDO3c9Yy5fcGFyc2VNdWx0aVZhbHVlKHcsVyxFLFtdLG51bGwsbSl9ZWxzZSB3PWMuX3BhcnNlVmFsdWUodyxFLG0pO0MmJkkgaW4gXz9BcnJheS5pc0FycmF5KF9bSV0pP19bSV0ucHVzaCh3KTpfW0ldPVtfW0ldLHddOl9bSV09d31yZXR1cm5bXyx3LEFdfSxjLl9yZmM2ODY4RXNjYXBlPWZ1bmN0aW9uKGYpe3JldHVybiBmLnJlcGxhY2UoL1xeWyduXl0vZyxmdW5jdGlvbihwKXtyZXR1cm4gZFtwXX0pfTt2YXIgZD17Il4nIjonIicsIl5uIjpgCmAsIl5eIjoiXiJ9O3JldHVybiBjLl9wYXJzZU11bHRpVmFsdWU9ZnVuY3Rpb24oZixwLG0seSxULHYsXyl7dmFyIE89MCxJPTAsdztpZihwLmxlbmd0aD09PTApcmV0dXJuIGY7Zm9yKDsoTz11LnVuZXNjYXBlZEluZGV4T2YoZixwLEkpKSE9PS0xOyl3PWYuc3Vic3RyKEksTy1JKSxUP3c9Yy5fcGFyc2VNdWx0aVZhbHVlKHcsVCxtLFtdLG51bGwsdixfKTp3PWMuX3BhcnNlVmFsdWUodyxtLHYsXykseS5wdXNoKHcpLEk9TytwLmxlbmd0aDtyZXR1cm4gdz1mLnN1YnN0cihJKSxUP3c9Yy5fcGFyc2VNdWx0aVZhbHVlKHcsVCxtLFtdLG51bGwsdixfKTp3PWMuX3BhcnNlVmFsdWUodyxtLHYsXykseS5wdXNoKHcpLHkubGVuZ3RoPT0xP3lbMF06eX0sYy5fZWFjaExpbmU9ZnVuY3Rpb24oZixwKXt2YXIgbT1mLmxlbmd0aCx5PWYuc2VhcmNoKHQpLFQ9eSx2LF8sTztkbyBUPWYuaW5kZXhPZihgCmAseSkrMSxUPjEmJmZbVC0yXT09PSJcciI/Tz0yOk89MSxUPT09MCYmKFQ9bSxPPTApLF89Zlt5XSxfPT09IiAifHxfPT09IgkiP3YrPWYuc3Vic3RyKHkrMSxULXktKE8rMSkpOih2JiZwKG51bGwsdiksdj1mLnN1YnN0cih5LFQteS1PKSkseT1UO3doaWxlKFQhPT1tKTt2PXYudHJpbSgpLHYubGVuZ3RoJiZwKG51bGwsdil9LGN9KCksZS5Db21wb25lbnQ9ZnVuY3Rpb24oKXt2YXIgdD0xLG49MixzPTA7ZnVuY3Rpb24gcihvLGEpe3R5cGVvZiBvPT0ic3RyaW5nIiYmKG89W28sW10sW11dKSx0aGlzLmpDYWw9byx0aGlzLnBhcmVudD1hfHxudWxsfXJldHVybiByLnByb3RvdHlwZT17X2h5ZHJhdGVkUHJvcGVydHlDb3VudDowLF9oeWRyYXRlZENvbXBvbmVudENvdW50OjAsZ2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5qQ2FsW3NdfSxnZXQgX2Rlc2lnblNldCgpe3ZhciBvPXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fZGVzaWduU2V0O3JldHVybiBvfHxlLmRlc2lnbi5nZXREZXNpZ25TZXQodGhpcy5uYW1lKX0sX2h5ZHJhdGVDb21wb25lbnQ6ZnVuY3Rpb24obyl7aWYodGhpcy5fY29tcG9uZW50c3x8KHRoaXMuX2NvbXBvbmVudHM9W10sdGhpcy5faHlkcmF0ZWRDb21wb25lbnRDb3VudD0wKSx0aGlzLl9jb21wb25lbnRzW29dKXJldHVybiB0aGlzLl9jb21wb25lbnRzW29dO3ZhciBhPW5ldyByKHRoaXMuakNhbFtuXVtvXSx0aGlzKTtyZXR1cm4gdGhpcy5faHlkcmF0ZWRDb21wb25lbnRDb3VudCsrLHRoaXMuX2NvbXBvbmVudHNbb109YX0sX2h5ZHJhdGVQcm9wZXJ0eTpmdW5jdGlvbihvKXtpZih0aGlzLl9wcm9wZXJ0aWVzfHwodGhpcy5fcHJvcGVydGllcz1bXSx0aGlzLl9oeWRyYXRlZFByb3BlcnR5Q291bnQ9MCksdGhpcy5fcHJvcGVydGllc1tvXSlyZXR1cm4gdGhpcy5fcHJvcGVydGllc1tvXTt2YXIgYT1uZXcgZS5Qcm9wZXJ0eSh0aGlzLmpDYWxbdF1bb10sdGhpcyk7cmV0dXJuIHRoaXMuX2h5ZHJhdGVkUHJvcGVydHlDb3VudCsrLHRoaXMuX3Byb3BlcnRpZXNbb109YX0sZ2V0Rmlyc3RTdWJjb21wb25lbnQ6ZnVuY3Rpb24obyl7aWYobyl7Zm9yKHZhciBhPTAsbD10aGlzLmpDYWxbbl0sdT1sLmxlbmd0aDthPHU7YSsrKWlmKGxbYV1bc109PT1vKXt2YXIgaD10aGlzLl9oeWRyYXRlQ29tcG9uZW50KGEpO3JldHVybiBofX1lbHNlIGlmKHRoaXMuakNhbFtuXS5sZW5ndGgpcmV0dXJuIHRoaXMuX2h5ZHJhdGVDb21wb25lbnQoMCk7cmV0dXJuIG51bGx9LGdldEFsbFN1YmNvbXBvbmVudHM6ZnVuY3Rpb24obyl7dmFyIGE9dGhpcy5qQ2FsW25dLmxlbmd0aCxsPTA7aWYobyl7Zm9yKHZhciB1PXRoaXMuakNhbFtuXSxoPVtdO2w8YTtsKyspbz09PXVbbF1bc10mJmgucHVzaCh0aGlzLl9oeWRyYXRlQ29tcG9uZW50KGwpKTtyZXR1cm4gaH1lbHNle2lmKCF0aGlzLl9jb21wb25lbnRzfHx0aGlzLl9oeWRyYXRlZENvbXBvbmVudENvdW50IT09YSlmb3IoO2w8YTtsKyspdGhpcy5faHlkcmF0ZUNvbXBvbmVudChsKTtyZXR1cm4gdGhpcy5fY29tcG9uZW50c3x8W119fSxoYXNQcm9wZXJ0eTpmdW5jdGlvbihvKXtmb3IodmFyIGE9dGhpcy5qQ2FsW3RdLGw9YS5sZW5ndGgsdT0wO3U8bDt1KyspaWYoYVt1XVtzXT09PW8pcmV0dXJuITA7cmV0dXJuITF9LGdldEZpcnN0UHJvcGVydHk6ZnVuY3Rpb24obyl7aWYobyl7Zm9yKHZhciBhPTAsbD10aGlzLmpDYWxbdF0sdT1sLmxlbmd0aDthPHU7YSsrKWlmKGxbYV1bc109PT1vKXt2YXIgaD10aGlzLl9oeWRyYXRlUHJvcGVydHkoYSk7cmV0dXJuIGh9fWVsc2UgaWYodGhpcy5qQ2FsW3RdLmxlbmd0aClyZXR1cm4gdGhpcy5faHlkcmF0ZVByb3BlcnR5KDApO3JldHVybiBudWxsfSxnZXRGaXJzdFByb3BlcnR5VmFsdWU6ZnVuY3Rpb24obyl7dmFyIGE9dGhpcy5nZXRGaXJzdFByb3BlcnR5KG8pO3JldHVybiBhP2EuZ2V0Rmlyc3RWYWx1ZSgpOm51bGx9LGdldEFsbFByb3BlcnRpZXM6ZnVuY3Rpb24obyl7dmFyIGE9dGhpcy5qQ2FsW3RdLmxlbmd0aCxsPTA7aWYobyl7Zm9yKHZhciB1PXRoaXMuakNhbFt0XSxoPVtdO2w8YTtsKyspbz09PXVbbF1bc10mJmgucHVzaCh0aGlzLl9oeWRyYXRlUHJvcGVydHkobCkpO3JldHVybiBofWVsc2V7aWYoIXRoaXMuX3Byb3BlcnRpZXN8fHRoaXMuX2h5ZHJhdGVkUHJvcGVydHlDb3VudCE9PWEpZm9yKDtsPGE7bCsrKXRoaXMuX2h5ZHJhdGVQcm9wZXJ0eShsKTtyZXR1cm4gdGhpcy5fcHJvcGVydGllc3x8W119fSxfcmVtb3ZlT2JqZWN0QnlJbmRleDpmdW5jdGlvbihvLGEsbCl7aWYoYT1hfHxbXSxhW2xdKXt2YXIgdT1hW2xdOyJwYXJlbnQiaW4gdSYmKHUucGFyZW50PW51bGwpfWEuc3BsaWNlKGwsMSksdGhpcy5qQ2FsW29dLnNwbGljZShsLDEpfSxfcmVtb3ZlT2JqZWN0OmZ1bmN0aW9uKG8sYSxsKXt2YXIgdT0wLGg9dGhpcy5qQ2FsW29dLGM9aC5sZW5ndGgsZD10aGlzW2FdO2lmKHR5cGVvZiBsPT0ic3RyaW5nIil7Zm9yKDt1PGM7dSsrKWlmKGhbdV1bc109PT1sKXJldHVybiB0aGlzLl9yZW1vdmVPYmplY3RCeUluZGV4KG8sZCx1KSwhMH1lbHNlIGlmKGQpe2Zvcig7dTxjO3UrKylpZihkW3VdJiZkW3VdPT09bClyZXR1cm4gdGhpcy5fcmVtb3ZlT2JqZWN0QnlJbmRleChvLGQsdSksITB9cmV0dXJuITF9LF9yZW1vdmVBbGxPYmplY3RzOmZ1bmN0aW9uKG8sYSxsKXtmb3IodmFyIHU9dGhpc1thXSxoPXRoaXMuakNhbFtvXSxjPWgubGVuZ3RoLTE7Yz49MDtjLS0pKCFsfHxoW2NdW3NdPT09bCkmJnRoaXMuX3JlbW92ZU9iamVjdEJ5SW5kZXgobyx1LGMpfSxhZGRTdWJjb21wb25lbnQ6ZnVuY3Rpb24obyl7dGhpcy5fY29tcG9uZW50c3x8KHRoaXMuX2NvbXBvbmVudHM9W10sdGhpcy5faHlkcmF0ZWRDb21wb25lbnRDb3VudD0wKSxvLnBhcmVudCYmby5wYXJlbnQucmVtb3ZlU3ViY29tcG9uZW50KG8pO3ZhciBhPXRoaXMuakNhbFtuXS5wdXNoKG8uakNhbCk7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNbYS0xXT1vLHRoaXMuX2h5ZHJhdGVkQ29tcG9uZW50Q291bnQrKyxvLnBhcmVudD10aGlzLG99LHJlbW92ZVN1YmNvbXBvbmVudDpmdW5jdGlvbihvKXt2YXIgYT10aGlzLl9yZW1vdmVPYmplY3QobiwiX2NvbXBvbmVudHMiLG8pO3JldHVybiBhJiZ0aGlzLl9oeWRyYXRlZENvbXBvbmVudENvdW50LS0sYX0scmVtb3ZlQWxsU3ViY29tcG9uZW50czpmdW5jdGlvbihvKXt2YXIgYT10aGlzLl9yZW1vdmVBbGxPYmplY3RzKG4sIl9jb21wb25lbnRzIixvKTtyZXR1cm4gdGhpcy5faHlkcmF0ZWRDb21wb25lbnRDb3VudD0wLGF9LGFkZFByb3BlcnR5OmZ1bmN0aW9uKG8pe2lmKCEobyBpbnN0YW5jZW9mIGUuUHJvcGVydHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIm11c3QgaW5zdGFuY2Ugb2YgSUNBTC5Qcm9wZXJ0eSIpO3RoaXMuX3Byb3BlcnRpZXN8fCh0aGlzLl9wcm9wZXJ0aWVzPVtdLHRoaXMuX2h5ZHJhdGVkUHJvcGVydHlDb3VudD0wKSxvLnBhcmVudCYmby5wYXJlbnQucmVtb3ZlUHJvcGVydHkobyk7dmFyIGE9dGhpcy5qQ2FsW3RdLnB1c2goby5qQ2FsKTtyZXR1cm4gdGhpcy5fcHJvcGVydGllc1thLTFdPW8sdGhpcy5faHlkcmF0ZWRQcm9wZXJ0eUNvdW50Kyssby5wYXJlbnQ9dGhpcyxvfSxhZGRQcm9wZXJ0eVdpdGhWYWx1ZTpmdW5jdGlvbihvLGEpe3ZhciBsPW5ldyBlLlByb3BlcnR5KG8pO3JldHVybiBsLnNldFZhbHVlKGEpLHRoaXMuYWRkUHJvcGVydHkobCksbH0sdXBkYXRlUHJvcGVydHlXaXRoVmFsdWU6ZnVuY3Rpb24obyxhKXt2YXIgbD10aGlzLmdldEZpcnN0UHJvcGVydHkobyk7cmV0dXJuIGw/bC5zZXRWYWx1ZShhKTpsPXRoaXMuYWRkUHJvcGVydHlXaXRoVmFsdWUobyxhKSxsfSxyZW1vdmVQcm9wZXJ0eTpmdW5jdGlvbihvKXt2YXIgYT10aGlzLl9yZW1vdmVPYmplY3QodCwiX3Byb3BlcnRpZXMiLG8pO3JldHVybiBhJiZ0aGlzLl9oeWRyYXRlZFByb3BlcnR5Q291bnQtLSxhfSxyZW1vdmVBbGxQcm9wZXJ0aWVzOmZ1bmN0aW9uKG8pe3ZhciBhPXRoaXMuX3JlbW92ZUFsbE9iamVjdHModCwiX3Byb3BlcnRpZXMiLG8pO3JldHVybiB0aGlzLl9oeWRyYXRlZFByb3BlcnR5Q291bnQ9MCxhfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qQ2FsfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlLnN0cmluZ2lmeS5jb21wb25lbnQodGhpcy5qQ2FsLHRoaXMuX2Rlc2lnblNldCl9fSxyLmZyb21TdHJpbmc9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyByKGUucGFyc2UuY29tcG9uZW50KG8pKX0scn0oKSxlLlByb3BlcnR5PWZ1bmN0aW9uKCl7dmFyIHQ9MCxuPTEscz0yLHI9MyxvPWUuZGVzaWduO2Z1bmN0aW9uIGEobCx1KXt0aGlzLl9wYXJlbnQ9dXx8bnVsbCx0eXBlb2YgbD09InN0cmluZyI/KHRoaXMuakNhbD1bbCx7fSxvLmRlZmF1bHRUeXBlXSx0aGlzLmpDYWxbc109dGhpcy5nZXREZWZhdWx0VHlwZSgpKTp0aGlzLmpDYWw9bCx0aGlzLl91cGRhdGVUeXBlKCl9cmV0dXJuIGEucHJvdG90eXBlPXtnZXQgdHlwZSgpe3JldHVybiB0aGlzLmpDYWxbc119LGdldCBuYW1lKCl7cmV0dXJuIHRoaXMuakNhbFt0XX0sZ2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnR9LHNldCBwYXJlbnQobCl7dmFyIHU9IXRoaXMuX3BhcmVudHx8bCYmbC5fZGVzaWduU2V0IT10aGlzLl9wYXJlbnQuX2Rlc2lnblNldDtyZXR1cm4gdGhpcy5fcGFyZW50PWwsdGhpcy50eXBlPT1vLmRlZmF1bHRUeXBlJiZ1JiYodGhpcy5qQ2FsW3NdPXRoaXMuZ2V0RGVmYXVsdFR5cGUoKSx0aGlzLl91cGRhdGVUeXBlKCkpLGx9LGdldCBfZGVzaWduU2V0KCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9kZXNpZ25TZXQ6by5kZWZhdWx0U2V0fSxfdXBkYXRlVHlwZTpmdW5jdGlvbigpe3ZhciBsPXRoaXMuX2Rlc2lnblNldDt0aGlzLnR5cGUgaW4gbC52YWx1ZSYmKGwudmFsdWVbdGhpcy50eXBlXSwiZGVjb3JhdGUiaW4gbC52YWx1ZVt0aGlzLnR5cGVdP3RoaXMuaXNEZWNvcmF0ZWQ9ITA6dGhpcy5pc0RlY29yYXRlZD0hMSx0aGlzLm5hbWUgaW4gbC5wcm9wZXJ0eSYmKHRoaXMuaXNNdWx0aVZhbHVlPSJtdWx0aVZhbHVlImluIGwucHJvcGVydHlbdGhpcy5uYW1lXSx0aGlzLmlzU3RydWN0dXJlZFZhbHVlPSJzdHJ1Y3R1cmVkVmFsdWUiaW4gbC5wcm9wZXJ0eVt0aGlzLm5hbWVdKSl9LF9oeWRyYXRlVmFsdWU6ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuX3ZhbHVlcyYmdGhpcy5fdmFsdWVzW2xdP3RoaXMuX3ZhbHVlc1tsXTp0aGlzLmpDYWwubGVuZ3RoPD1yK2w/bnVsbDp0aGlzLmlzRGVjb3JhdGVkPyh0aGlzLl92YWx1ZXN8fCh0aGlzLl92YWx1ZXM9W10pLHRoaXMuX3ZhbHVlc1tsXT10aGlzLl9kZWNvcmF0ZSh0aGlzLmpDYWxbcitsXSkpOnRoaXMuakNhbFtyK2xdfSxfZGVjb3JhdGU6ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuX2Rlc2lnblNldC52YWx1ZVt0aGlzLnR5cGVdLmRlY29yYXRlKGwsdGhpcyl9LF91bmRlY29yYXRlOmZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLl9kZXNpZ25TZXQudmFsdWVbdGhpcy50eXBlXS51bmRlY29yYXRlKGwsdGhpcyl9LF9zZXREZWNvcmF0ZWRWYWx1ZTpmdW5jdGlvbihsLHUpe3RoaXMuX3ZhbHVlc3x8KHRoaXMuX3ZhbHVlcz1bXSksdHlwZW9mIGw9PSJvYmplY3QiJiYiaWNhbHR5cGUiaW4gbD8odGhpcy5qQ2FsW3IrdV09dGhpcy5fdW5kZWNvcmF0ZShsKSx0aGlzLl92YWx1ZXNbdV09bCk6KHRoaXMuakNhbFtyK3VdPWwsdGhpcy5fdmFsdWVzW3VdPXRoaXMuX2RlY29yYXRlKGwpKX0sZ2V0UGFyYW1ldGVyOmZ1bmN0aW9uKGwpe2lmKGwgaW4gdGhpcy5qQ2FsW25dKXJldHVybiB0aGlzLmpDYWxbbl1bbF19LGdldEZpcnN0UGFyYW1ldGVyOmZ1bmN0aW9uKGwpe3ZhciB1PXRoaXMuZ2V0UGFyYW1ldGVyKGwpO3JldHVybiBBcnJheS5pc0FycmF5KHUpP3VbMF06dX0sc2V0UGFyYW1ldGVyOmZ1bmN0aW9uKGwsdSl7dmFyIGg9bC50b0xvd2VyQ2FzZSgpO3R5cGVvZiB1PT0ic3RyaW5nIiYmaCBpbiB0aGlzLl9kZXNpZ25TZXQucGFyYW0mJiJtdWx0aVZhbHVlImluIHRoaXMuX2Rlc2lnblNldC5wYXJhbVtoXSYmKHU9W3VdKSx0aGlzLmpDYWxbbl1bbF09dX0scmVtb3ZlUGFyYW1ldGVyOmZ1bmN0aW9uKGwpe2RlbGV0ZSB0aGlzLmpDYWxbbl1bbF19LGdldERlZmF1bHRUeXBlOmZ1bmN0aW9uKCl7dmFyIGw9dGhpcy5qQ2FsW3RdLHU9dGhpcy5fZGVzaWduU2V0O2lmKGwgaW4gdS5wcm9wZXJ0eSl7dmFyIGg9dS5wcm9wZXJ0eVtsXTtpZigiZGVmYXVsdFR5cGUiaW4gaClyZXR1cm4gaC5kZWZhdWx0VHlwZX1yZXR1cm4gby5kZWZhdWx0VHlwZX0scmVzZXRUeXBlOmZ1bmN0aW9uKGwpe3RoaXMucmVtb3ZlQWxsVmFsdWVzKCksdGhpcy5qQ2FsW3NdPWwsdGhpcy5fdXBkYXRlVHlwZSgpfSxnZXRGaXJzdFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5ZHJhdGVWYWx1ZSgwKX0sZ2V0VmFsdWVzOmZ1bmN0aW9uKCl7dmFyIGw9dGhpcy5qQ2FsLmxlbmd0aC1yO2lmKGw8MSlyZXR1cm5bXTtmb3IodmFyIHU9MCxoPVtdO3U8bDt1KyspaFt1XT10aGlzLl9oeWRyYXRlVmFsdWUodSk7cmV0dXJuIGh9LHJlbW92ZUFsbFZhbHVlczpmdW5jdGlvbigpe3RoaXMuX3ZhbHVlcyYmKHRoaXMuX3ZhbHVlcy5sZW5ndGg9MCksdGhpcy5qQ2FsLmxlbmd0aD0zfSxzZXRWYWx1ZXM6ZnVuY3Rpb24obCl7aWYoIXRoaXMuaXNNdWx0aVZhbHVlKXRocm93IG5ldyBFcnJvcih0aGlzLm5hbWUrYDogZG9lcyBub3Qgbm90IHN1cHBvcnQgbXVsaXRWYWx1ZS4Kb3ZlcnJpZGUgaXNNdWx0aVZhbHVlYCk7dmFyIHU9bC5sZW5ndGgsaD0wO2lmKHRoaXMucmVtb3ZlQWxsVmFsdWVzKCksdT4wJiZ0eXBlb2YgbFswXT09Im9iamVjdCImJiJpY2FsdHlwZSJpbiBsWzBdJiZ0aGlzLnJlc2V0VHlwZShsWzBdLmljYWx0eXBlKSx0aGlzLmlzRGVjb3JhdGVkKWZvcig7aDx1O2grKyl0aGlzLl9zZXREZWNvcmF0ZWRWYWx1ZShsW2hdLGgpO2Vsc2UgZm9yKDtoPHU7aCsrKXRoaXMuakNhbFtyK2hdPWxbaF19LHNldFZhbHVlOmZ1bmN0aW9uKGwpe3RoaXMucmVtb3ZlQWxsVmFsdWVzKCksdHlwZW9mIGw9PSJvYmplY3QiJiYiaWNhbHR5cGUiaW4gbCYmdGhpcy5yZXNldFR5cGUobC5pY2FsdHlwZSksdGhpcy5pc0RlY29yYXRlZD90aGlzLl9zZXREZWNvcmF0ZWRWYWx1ZShsLDApOnRoaXMuakNhbFtyXT1sfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qQ2FsfSx0b0lDQUxTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zdHJpbmdpZnkucHJvcGVydHkodGhpcy5qQ2FsLHRoaXMuX2Rlc2lnblNldCwhMCl9fSxhLmZyb21TdHJpbmc9ZnVuY3Rpb24obCx1KXtyZXR1cm4gbmV3IGEoZS5wYXJzZS5wcm9wZXJ0eShsLHUpKX0sYX0oKSxlLlV0Y09mZnNldD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobil7dGhpcy5mcm9tRGF0YShuKX1yZXR1cm4gdC5wcm90b3R5cGU9e2hvdXJzOjAsbWludXRlczowLGZhY3RvcjoxLGljYWx0eXBlOiJ1dGMtb2Zmc2V0IixjbG9uZTpmdW5jdGlvbigpe3JldHVybiBlLlV0Y09mZnNldC5mcm9tU2Vjb25kcyh0aGlzLnRvU2Vjb25kcygpKX0sZnJvbURhdGE6ZnVuY3Rpb24obil7aWYobilmb3IodmFyIHMgaW4gbiluLmhhc093blByb3BlcnR5KHMpJiYodGhpc1tzXT1uW3NdKTt0aGlzLl9ub3JtYWxpemUoKX0sZnJvbVNlY29uZHM6ZnVuY3Rpb24obil7dmFyIHM9TWF0aC5hYnMobik7cmV0dXJuIHRoaXMuZmFjdG9yPW48MD8tMToxLHRoaXMuaG91cnM9ZS5oZWxwZXJzLnRydW5jKHMvMzYwMCkscy09dGhpcy5ob3VycyozNjAwLHRoaXMubWludXRlcz1lLmhlbHBlcnMudHJ1bmMocy82MCksdGhpc30sdG9TZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmFjdG9yKig2MCp0aGlzLm1pbnV0ZXMrMzYwMCp0aGlzLmhvdXJzKX0sY29tcGFyZTpmdW5jdGlvbihzKXt2YXIgcj10aGlzLnRvU2Vjb25kcygpLG89cy50b1NlY29uZHMoKTtyZXR1cm4ocj5vKS0obz5yKX0sX25vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLnRvU2Vjb25kcygpLHM9dGhpcy5mYWN0b3I7bjwtNDMyMDA7KW4rPTk3MjAwO2Zvcig7bj41MDQwMDspbi09OTcyMDA7dGhpcy5mcm9tU2Vjb25kcyhuKSxuPT0wJiYodGhpcy5mYWN0b3I9cyl9LHRvSUNBTFN0cmluZzpmdW5jdGlvbigpe3JldHVybiBlLmRlc2lnbi5pY2FsZW5kYXIudmFsdWVbInV0Yy1vZmZzZXQiXS50b0lDQUwodGhpcy50b1N0cmluZygpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mYWN0b3I9PTE/IisiOiItIikrZS5oZWxwZXJzLnBhZDIodGhpcy5ob3VycykrIjoiK2UuaGVscGVycy5wYWQyKHRoaXMubWludXRlcyl9fSx0LmZyb21TdHJpbmc9ZnVuY3Rpb24obil7dmFyIHM9e307cmV0dXJuIHMuZmFjdG9yPW5bMF09PT0iKyI/MTotMSxzLmhvdXJzPWUuaGVscGVycy5zdHJpY3RQYXJzZUludChuLnN1YnN0cigxLDIpKSxzLm1pbnV0ZXM9ZS5oZWxwZXJzLnN0cmljdFBhcnNlSW50KG4uc3Vic3RyKDQsMikpLG5ldyBlLlV0Y09mZnNldChzKX0sdC5mcm9tU2Vjb25kcz1mdW5jdGlvbihuKXt2YXIgcz1uZXcgdDtyZXR1cm4gcy5mcm9tU2Vjb25kcyhuKSxzfSx0fSgpLGUuQmluYXJ5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuKXt0aGlzLnZhbHVlPW59cmV0dXJuIHQucHJvdG90eXBlPXtpY2FsdHlwZToiYmluYXJ5IixkZWNvZGVWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iNjRfZGVjb2RlKHRoaXMudmFsdWUpfSxzZXRFbmNvZGVkVmFsdWU6ZnVuY3Rpb24ocyl7dGhpcy52YWx1ZT10aGlzLl9iNjRfZW5jb2RlKHMpfSxfYjY0X2VuY29kZTpmdW5jdGlvbihzKXt2YXIgcj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLG8sYSxsLHUsaCxjLGQsZixwPTAsbT0wLHk9IiIsVD1bXTtpZighcylyZXR1cm4gcztkbyBvPXMuY2hhckNvZGVBdChwKyspLGE9cy5jaGFyQ29kZUF0KHArKyksbD1zLmNoYXJDb2RlQXQocCsrKSxmPW88PDE2fGE8PDh8bCx1PWY+PjE4JjYzLGg9Zj4+MTImNjMsYz1mPj42JjYzLGQ9ZiY2MyxUW20rK109ci5jaGFyQXQodSkrci5jaGFyQXQoaCkrci5jaGFyQXQoYykrci5jaGFyQXQoZCk7d2hpbGUocDxzLmxlbmd0aCk7eT1ULmpvaW4oIiIpO3ZhciB2PXMubGVuZ3RoJTM7cmV0dXJuKHY/eS5zbGljZSgwLHYtMyk6eSkrIj09PSIuc2xpY2Uodnx8Myl9LF9iNjRfZGVjb2RlOmZ1bmN0aW9uKHMpe3ZhciByPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSIsbyxhLGwsdSxoLGMsZCxmLHA9MCxtPTAseT0iIixUPVtdO2lmKCFzKXJldHVybiBzO3MrPSIiO2RvIHU9ci5pbmRleE9mKHMuY2hhckF0KHArKykpLGg9ci5pbmRleE9mKHMuY2hhckF0KHArKykpLGM9ci5pbmRleE9mKHMuY2hhckF0KHArKykpLGQ9ci5pbmRleE9mKHMuY2hhckF0KHArKykpLGY9dTw8MTh8aDw8MTJ8Yzw8NnxkLG89Zj4+MTYmMjU1LGE9Zj4+OCYyNTUsbD1mJjI1NSxjPT02ND9UW20rK109U3RyaW5nLmZyb21DaGFyQ29kZShvKTpkPT02ND9UW20rK109U3RyaW5nLmZyb21DaGFyQ29kZShvLGEpOlRbbSsrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKG8sYSxsKTt3aGlsZShwPHMubGVuZ3RoKTtyZXR1cm4geT1ULmpvaW4oIiIpLHl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9fSx0LmZyb21TdHJpbmc9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0KG4pfSx0fSgpLGZ1bmN0aW9uKCl7ZS5QZXJpb2Q9ZnVuY3Rpb24obil7aWYodGhpcy53cmFwcGVkSlNPYmplY3Q9dGhpcyxuJiYic3RhcnQiaW4gbil7aWYobi5zdGFydCYmIShuLnN0YXJ0IGluc3RhbmNlb2YgZS5UaW1lKSl0aHJvdyBuZXcgVHlwZUVycm9yKCIuc3RhcnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBJQ0FMLlRpbWUiKTt0aGlzLnN0YXJ0PW4uc3RhcnR9aWYobiYmbi5lbmQmJm4uZHVyYXRpb24pdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgYWNjZXB0IGJvdGggZW5kIGFuZCBkdXJhdGlvbiIpO2lmKG4mJiJlbmQiaW4gbil7aWYobi5lbmQmJiEobi5lbmQgaW5zdGFuY2VvZiBlLlRpbWUpKXRocm93IG5ldyBUeXBlRXJyb3IoIi5lbmQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBJQ0FMLlRpbWUiKTt0aGlzLmVuZD1uLmVuZH1pZihuJiYiZHVyYXRpb24iaW4gbil7aWYobi5kdXJhdGlvbiYmIShuLmR1cmF0aW9uIGluc3RhbmNlb2YgZS5EdXJhdGlvbikpdGhyb3cgbmV3IFR5cGVFcnJvcigiLmR1cmF0aW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgSUNBTC5EdXJhdGlvbiIpO3RoaXMuZHVyYXRpb249bi5kdXJhdGlvbn19LGUuUGVyaW9kLnByb3RvdHlwZT17c3RhcnQ6bnVsbCxlbmQ6bnVsbCxkdXJhdGlvbjpudWxsLGljYWxjbGFzczoiaWNhbHBlcmlvZCIsaWNhbHR5cGU6InBlcmlvZCIsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5QZXJpb2QuZnJvbURhdGEoe3N0YXJ0OnRoaXMuc3RhcnQ/dGhpcy5zdGFydC5jbG9uZSgpOm51bGwsZW5kOnRoaXMuZW5kP3RoaXMuZW5kLmNsb25lKCk6bnVsbCxkdXJhdGlvbjp0aGlzLmR1cmF0aW9uP3RoaXMuZHVyYXRpb24uY2xvbmUoKTpudWxsfSl9LGdldER1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb24/dGhpcy5kdXJhdGlvbjp0aGlzLmVuZC5zdWJ0cmFjdERhdGUodGhpcy5zdGFydCl9LGdldEVuZDpmdW5jdGlvbigpe2lmKHRoaXMuZW5kKXJldHVybiB0aGlzLmVuZDt2YXIgdD10aGlzLnN0YXJ0LmNsb25lKCk7cmV0dXJuIHQuYWRkRHVyYXRpb24odGhpcy5kdXJhdGlvbiksdH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydCsiLyIrKHRoaXMuZW5kfHx0aGlzLmR1cmF0aW9uKX0sdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuc3RhcnQudG9TdHJpbmcoKSwodGhpcy5lbmR8fHRoaXMuZHVyYXRpb24pLnRvU3RyaW5nKCldfSx0b0lDQUxTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC50b0lDQUxTdHJpbmcoKSsiLyIrKHRoaXMuZW5kfHx0aGlzLmR1cmF0aW9uKS50b0lDQUxTdHJpbmcoKX19LGUuUGVyaW9kLmZyb21TdHJpbmc9ZnVuY3Rpb24obixzKXt2YXIgcj1uLnNwbGl0KCIvIik7aWYoci5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcgdmFsdWU6ICInK24rJyIgbXVzdCBjb250YWluIGEgIi8iIGNoYXIuJyk7dmFyIG89e3N0YXJ0OmUuVGltZS5mcm9tRGF0ZVRpbWVTdHJpbmcoclswXSxzKX0sYT1yWzFdO3JldHVybiBlLkR1cmF0aW9uLmlzVmFsdWVTdHJpbmcoYSk/by5kdXJhdGlvbj1lLkR1cmF0aW9uLmZyb21TdHJpbmcoYSk6by5lbmQ9ZS5UaW1lLmZyb21EYXRlVGltZVN0cmluZyhhLHMpLG5ldyBlLlBlcmlvZChvKX0sZS5QZXJpb2QuZnJvbURhdGE9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBlLlBlcmlvZChuKX0sZS5QZXJpb2QuZnJvbUpTT049ZnVuY3Rpb24odCxuLHMpe2Z1bmN0aW9uIHIobyxhKXtyZXR1cm4gcz9lLlRpbWUuZnJvbVN0cmluZyhvLGEpOmUuVGltZS5mcm9tRGF0ZVRpbWVTdHJpbmcobyxhKX1yZXR1cm4gZS5EdXJhdGlvbi5pc1ZhbHVlU3RyaW5nKHRbMV0pP2UuUGVyaW9kLmZyb21EYXRhKHtzdGFydDpyKHRbMF0sbiksZHVyYXRpb246ZS5EdXJhdGlvbi5mcm9tU3RyaW5nKHRbMV0pfSk6ZS5QZXJpb2QuZnJvbURhdGEoe3N0YXJ0OnIodFswXSxuKSxlbmQ6cih0WzFdLG4pfSl9fSgpLGZ1bmN0aW9uKCl7dmFyIHQ9LyhbUERXSE1UU117MSwxfSkvO2UuRHVyYXRpb249ZnVuY3Rpb24ocil7dGhpcy53cmFwcGVkSlNPYmplY3Q9dGhpcyx0aGlzLmZyb21EYXRhKHIpfSxlLkR1cmF0aW9uLnByb3RvdHlwZT17d2Vla3M6MCxkYXlzOjAsaG91cnM6MCxtaW51dGVzOjAsc2Vjb25kczowLGlzTmVnYXRpdmU6ITEsaWNhbGNsYXNzOiJpY2FsZHVyYXRpb24iLGljYWx0eXBlOiJkdXJhdGlvbiIsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5EdXJhdGlvbi5mcm9tRGF0YSh0aGlzKX0sdG9TZWNvbmRzOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5zZWNvbmRzKzYwKnRoaXMubWludXRlcyszNjAwKnRoaXMuaG91cnMrODY0MDAqdGhpcy5kYXlzKzYwNDgwMCp0aGlzLndlZWtzO3JldHVybiB0aGlzLmlzTmVnYXRpdmU/LXI6cn0sZnJvbVNlY29uZHM6ZnVuY3Rpb24ocil7dmFyIG89TWF0aC5hYnMocik7cmV0dXJuIHRoaXMuaXNOZWdhdGl2ZT1yPDAsdGhpcy5kYXlzPWUuaGVscGVycy50cnVuYyhvLzg2NDAwKSx0aGlzLmRheXMlNz09MD8odGhpcy53ZWVrcz10aGlzLmRheXMvNyx0aGlzLmRheXM9MCk6dGhpcy53ZWVrcz0wLG8tPSh0aGlzLmRheXMrNyp0aGlzLndlZWtzKSo4NjQwMCx0aGlzLmhvdXJzPWUuaGVscGVycy50cnVuYyhvLzM2MDApLG8tPXRoaXMuaG91cnMqMzYwMCx0aGlzLm1pbnV0ZXM9ZS5oZWxwZXJzLnRydW5jKG8vNjApLG8tPXRoaXMubWludXRlcyo2MCx0aGlzLnNlY29uZHM9byx0aGlzfSxmcm9tRGF0YTpmdW5jdGlvbihyKXt2YXIgbz1bIndlZWtzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJpc05lZ2F0aXZlIl07Zm9yKHZhciBhIGluIG8paWYoby5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGw9b1thXTtyJiZsIGluIHI/dGhpc1tsXT1yW2xdOnRoaXNbbF09MH19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5pc05lZ2F0aXZlPSExLHRoaXMud2Vla3M9MCx0aGlzLmRheXM9MCx0aGlzLmhvdXJzPTAsdGhpcy5taW51dGVzPTAsdGhpcy5zZWNvbmRzPTB9LGNvbXBhcmU6ZnVuY3Rpb24ocil7dmFyIG89dGhpcy50b1NlY29uZHMoKSxhPXIudG9TZWNvbmRzKCk7cmV0dXJuKG8+YSktKG88YSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3RoaXMuZnJvbVNlY29uZHModGhpcy50b1NlY29uZHMoKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7aWYodGhpcy50b1NlY29uZHMoKT09MClyZXR1cm4iUFQwUyI7dmFyIHI9IiI7cmV0dXJuIHRoaXMuaXNOZWdhdGl2ZSYmKHIrPSItIikscis9IlAiLHRoaXMud2Vla3MmJihyKz10aGlzLndlZWtzKyJXIiksdGhpcy5kYXlzJiYocis9dGhpcy5kYXlzKyJEIiksKHRoaXMuaG91cnN8fHRoaXMubWludXRlc3x8dGhpcy5zZWNvbmRzKSYmKHIrPSJUIix0aGlzLmhvdXJzJiYocis9dGhpcy5ob3VycysiSCIpLHRoaXMubWludXRlcyYmKHIrPXRoaXMubWludXRlcysiTSIpLHRoaXMuc2Vjb25kcyYmKHIrPXRoaXMuc2Vjb25kcysiUyIpKSxyfSx0b0lDQUxTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfX0sZS5EdXJhdGlvbi5mcm9tU2Vjb25kcz1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGUuRHVyYXRpb24oKS5mcm9tU2Vjb25kcyhyKX07ZnVuY3Rpb24gbihzLHIsbyl7dmFyIGE7c3dpdGNoKHMpe2Nhc2UiUCI6ciYmcj09PSItIj9vLmlzTmVnYXRpdmU9ITA6by5pc05lZ2F0aXZlPSExO2JyZWFrO2Nhc2UiRCI6YT0iZGF5cyI7YnJlYWs7Y2FzZSJXIjphPSJ3ZWVrcyI7YnJlYWs7Y2FzZSJIIjphPSJob3VycyI7YnJlYWs7Y2FzZSJNIjphPSJtaW51dGVzIjticmVhaztjYXNlIlMiOmE9InNlY29uZHMiO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIDB9aWYoYSl7aWYoIXImJnIhPT0wKXRocm93IG5ldyBFcnJvcignaW52YWxpZCBkdXJhdGlvbiB2YWx1ZTogTWlzc2luZyBudW1iZXIgYmVmb3JlICInK3MrJyInKTt2YXIgbD1wYXJzZUludChyLDEwKTtpZihlLmhlbHBlcnMuaXNTdHJpY3RseU5hTihsKSl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZHVyYXRpb24gdmFsdWU6IEludmFsaWQgbnVtYmVyICInK3IrJyIgYmVmb3JlICInK3MrJyInKTtvW2FdPWx9cmV0dXJuIDF9ZS5EdXJhdGlvbi5pc1ZhbHVlU3RyaW5nPWZ1bmN0aW9uKHMpe3JldHVybiBzWzBdPT09IlAifHxzWzFdPT09IlAifSxlLkR1cmF0aW9uLmZyb21TdHJpbmc9ZnVuY3Rpb24ocil7Zm9yKHZhciBvPTAsYT1PYmplY3QuY3JlYXRlKG51bGwpLGw9MDsobz1yLnNlYXJjaCh0KSkhPT0tMTspe3ZhciB1PXJbb10saD1yLnN1YnN0cigwLG8pO3I9ci5zdWJzdHIobysxKSxsKz1uKHUsaCxhKX1pZihsPDIpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGR1cmF0aW9uIHZhbHVlOiBOb3QgZW5vdWdoIGR1cmF0aW9uIGNvbXBvbmVudHMgaW4gIicrcisnIicpO3JldHVybiBuZXcgZS5EdXJhdGlvbihhKX0sZS5EdXJhdGlvbi5mcm9tRGF0YT1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGUuRHVyYXRpb24ocil9fSgpLGZ1bmN0aW9uKCl7dmFyIHQ9WyJ0emlkIiwibG9jYXRpb24iLCJ0em5hbWVzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiXTtlLlRpbWV6b25lPWZ1bmN0aW9uKHMpe3RoaXMud3JhcHBlZEpTT2JqZWN0PXRoaXMsdGhpcy5mcm9tRGF0YShzKX0sZS5UaW1lem9uZS5wcm90b3R5cGU9e3R6aWQ6IiIsbG9jYXRpb246IiIsdHpuYW1lczoiIixsYXRpdHVkZTowLGxvbmdpdHVkZTowLGNvbXBvbmVudDpudWxsLGV4cGFuZGVkVW50aWxZZWFyOjAsaWNhbGNsYXNzOiJpY2FsdGltZXpvbmUiLGZyb21EYXRhOmZ1bmN0aW9uKHMpe2lmKHRoaXMuZXhwYW5kZWRVbnRpbFllYXI9MCx0aGlzLmNoYW5nZXM9W10scyBpbnN0YW5jZW9mIGUuQ29tcG9uZW50KXRoaXMuY29tcG9uZW50PXM7ZWxzZXtpZihzJiYiY29tcG9uZW50ImluIHMpaWYodHlwZW9mIHMuY29tcG9uZW50PT0ic3RyaW5nIil7dmFyIHI9ZS5wYXJzZShzLmNvbXBvbmVudCk7dGhpcy5jb21wb25lbnQ9bmV3IGUuQ29tcG9uZW50KHIpfWVsc2Ugcy5jb21wb25lbnQgaW5zdGFuY2VvZiBlLkNvbXBvbmVudD90aGlzLmNvbXBvbmVudD1zLmNvbXBvbmVudDp0aGlzLmNvbXBvbmVudD1udWxsO2Zvcih2YXIgbyBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkobykpe3ZhciBhPXRbb107cyYmYSBpbiBzJiYodGhpc1thXT1zW2FdKX19cmV0dXJuIHRoaXMuY29tcG9uZW50IGluc3RhbmNlb2YgZS5Db21wb25lbnQmJiF0aGlzLnR6aWQmJih0aGlzLnR6aWQ9dGhpcy5jb21wb25lbnQuZ2V0Rmlyc3RQcm9wZXJ0eVZhbHVlKCJ0emlkIikpLHRoaXN9LHV0Y09mZnNldDpmdW5jdGlvbihzKXtpZih0aGlzPT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lfHx0aGlzPT1lLlRpbWV6b25lLmxvY2FsVGltZXpvbmV8fCh0aGlzLl9lbnN1cmVDb3ZlcmFnZShzLnllYXIpLCF0aGlzLmNoYW5nZXMubGVuZ3RoKSlyZXR1cm4gMDtmb3IodmFyIHI9e3llYXI6cy55ZWFyLG1vbnRoOnMubW9udGgsZGF5OnMuZGF5LGhvdXI6cy5ob3VyLG1pbnV0ZTpzLm1pbnV0ZSxzZWNvbmQ6cy5zZWNvbmR9LG89dGhpcy5fZmluZE5lYXJieUNoYW5nZShyKSxhPS0xLGw9MTs7KXt2YXIgdT1lLmhlbHBlcnMuY2xvbmUodGhpcy5jaGFuZ2VzW29dLCEwKTt1LnV0Y09mZnNldDx1LnByZXZVdGNPZmZzZXQ/ZS5UaW1lem9uZS5hZGp1c3RfY2hhbmdlKHUsMCwwLDAsdS51dGNPZmZzZXQpOmUuVGltZXpvbmUuYWRqdXN0X2NoYW5nZSh1LDAsMCwwLHUucHJldlV0Y09mZnNldCk7dmFyIGg9ZS5UaW1lem9uZS5fY29tcGFyZV9jaGFuZ2VfZm4ocix1KTtpZihoPj0wP2E9bzpsPS0xLGw9PS0xJiZhIT0tMSlicmVhaztpZihvKz1sLG88MClyZXR1cm4gMDtpZihvPj10aGlzLmNoYW5nZXMubGVuZ3RoKWJyZWFrfXZhciBjPXRoaXMuY2hhbmdlc1thXSxkPWMudXRjT2Zmc2V0LWMucHJldlV0Y09mZnNldDtpZihkPDAmJmE+MCl7dmFyIGY9ZS5oZWxwZXJzLmNsb25lKGMsITApO2lmKGUuVGltZXpvbmUuYWRqdXN0X2NoYW5nZShmLDAsMCwwLGYucHJldlV0Y09mZnNldCksZS5UaW1lem9uZS5fY29tcGFyZV9jaGFuZ2VfZm4ocixmKTwwKXt2YXIgcD10aGlzLmNoYW5nZXNbYS0xXSxtPSExO2MuaXNfZGF5bGlnaHQhPW0mJnAuaXNfZGF5bGlnaHQ9PW0mJihjPXApfX1yZXR1cm4gYy51dGNPZmZzZXR9LF9maW5kTmVhcmJ5Q2hhbmdlOmZ1bmN0aW9uKHMpe3ZhciByPWUuaGVscGVycy5iaW5zZWFyY2hJbnNlcnQodGhpcy5jaGFuZ2VzLHMsZS5UaW1lem9uZS5fY29tcGFyZV9jaGFuZ2VfZm4pO3JldHVybiByPj10aGlzLmNoYW5nZXMubGVuZ3RoP3RoaXMuY2hhbmdlcy5sZW5ndGgtMTpyfSxfZW5zdXJlQ292ZXJhZ2U6ZnVuY3Rpb24obil7aWYoZS5UaW1lem9uZS5fbWluaW11bUV4cGFuc2lvblllYXI9PS0xKXt2YXIgcz1lLlRpbWUubm93KCk7ZS5UaW1lem9uZS5fbWluaW11bUV4cGFuc2lvblllYXI9cy55ZWFyfXZhciByPW47aWYocjxlLlRpbWV6b25lLl9taW5pbXVtRXhwYW5zaW9uWWVhciYmKHI9ZS5UaW1lem9uZS5fbWluaW11bUV4cGFuc2lvblllYXIpLHIrPWUuVGltZXpvbmUuRVhUUkFfQ09WRVJBR0Uscj5lLlRpbWV6b25lLk1BWF9ZRUFSJiYocj1lLlRpbWV6b25lLk1BWF9ZRUFSKSwhdGhpcy5jaGFuZ2VzLmxlbmd0aHx8dGhpcy5leHBhbmRlZFVudGlsWWVhcjxuKXtmb3IodmFyIG89dGhpcy5jb21wb25lbnQuZ2V0QWxsU3ViY29tcG9uZW50cygpLGE9by5sZW5ndGgsbD0wO2w8YTtsKyspdGhpcy5fZXhwYW5kQ29tcG9uZW50KG9bbF0scix0aGlzLmNoYW5nZXMpO3RoaXMuY2hhbmdlcy5zb3J0KGUuVGltZXpvbmUuX2NvbXBhcmVfY2hhbmdlX2ZuKSx0aGlzLmV4cGFuZGVkVW50aWxZZWFyPXJ9fSxfZXhwYW5kQ29tcG9uZW50OmZ1bmN0aW9uKG4scyxyKXtpZighbi5oYXNQcm9wZXJ0eSgiZHRzdGFydCIpfHwhbi5oYXNQcm9wZXJ0eSgidHpvZmZzZXR0byIpfHwhbi5oYXNQcm9wZXJ0eSgidHpvZmZzZXRmcm9tIikpcmV0dXJuIG51bGw7dmFyIG89bi5nZXRGaXJzdFByb3BlcnR5KCJkdHN0YXJ0IikuZ2V0Rmlyc3RWYWx1ZSgpLGE7ZnVuY3Rpb24gbChUKXtyZXR1cm4gVC5mYWN0b3IqKFQuaG91cnMqMzYwMCtULm1pbnV0ZXMqNjApfWZ1bmN0aW9uIHUoKXt2YXIgVD17fTtyZXR1cm4gVC5pc19kYXlsaWdodD1uLm5hbWU9PSJkYXlsaWdodCIsVC51dGNPZmZzZXQ9bChuLmdldEZpcnN0UHJvcGVydHkoInR6b2Zmc2V0dG8iKS5nZXRGaXJzdFZhbHVlKCkpLFQucHJldlV0Y09mZnNldD1sKG4uZ2V0Rmlyc3RQcm9wZXJ0eSgidHpvZmZzZXRmcm9tIikuZ2V0Rmlyc3RWYWx1ZSgpKSxUfWlmKCFuLmhhc1Byb3BlcnR5KCJycnVsZSIpJiYhbi5oYXNQcm9wZXJ0eSgicmRhdGUiKSlhPXUoKSxhLnllYXI9by55ZWFyLGEubW9udGg9by5tb250aCxhLmRheT1vLmRheSxhLmhvdXI9by5ob3VyLGEubWludXRlPW8ubWludXRlLGEuc2Vjb25kPW8uc2Vjb25kLGUuVGltZXpvbmUuYWRqdXN0X2NoYW5nZShhLDAsMCwwLC1hLnByZXZVdGNPZmZzZXQpLHIucHVzaChhKTtlbHNle3ZhciBoPW4uZ2V0QWxsUHJvcGVydGllcygicmRhdGUiKTtmb3IodmFyIGMgaW4gaClpZihoLmhhc093blByb3BlcnR5KGMpKXt2YXIgZD1oW2NdLGY9ZC5nZXRGaXJzdFZhbHVlKCk7YT11KCksYS55ZWFyPWYueWVhcixhLm1vbnRoPWYubW9udGgsYS5kYXk9Zi5kYXksZi5pc0RhdGU/KGEuaG91cj1vLmhvdXIsYS5taW51dGU9by5taW51dGUsYS5zZWNvbmQ9by5zZWNvbmQsby56b25lIT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lJiZlLlRpbWV6b25lLmFkanVzdF9jaGFuZ2UoYSwwLDAsMCwtYS5wcmV2VXRjT2Zmc2V0KSk6KGEuaG91cj1mLmhvdXIsYS5taW51dGU9Zi5taW51dGUsYS5zZWNvbmQ9Zi5zZWNvbmQsZi56b25lIT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lJiZlLlRpbWV6b25lLmFkanVzdF9jaGFuZ2UoYSwwLDAsMCwtYS5wcmV2VXRjT2Zmc2V0KSksci5wdXNoKGEpfXZhciBwPW4uZ2V0Rmlyc3RQcm9wZXJ0eSgicnJ1bGUiKTtpZihwKXtwPXAuZ2V0Rmlyc3RWYWx1ZSgpLGE9dSgpLHAudW50aWwmJnAudW50aWwuem9uZT09ZS5UaW1lem9uZS51dGNUaW1lem9uZSYmKHAudW50aWwuYWRqdXN0KDAsMCwwLGEucHJldlV0Y09mZnNldCkscC51bnRpbC56b25lPWUuVGltZXpvbmUubG9jYWxUaW1lem9uZSk7Zm9yKHZhciBtPXAuaXRlcmF0b3IobykseTsoeT1tLm5leHQoKSkmJihhPXUoKSwhKHkueWVhcj5zfHwheSkpOylhLnllYXI9eS55ZWFyLGEubW9udGg9eS5tb250aCxhLmRheT15LmRheSxhLmhvdXI9eS5ob3VyLGEubWludXRlPXkubWludXRlLGEuc2Vjb25kPXkuc2Vjb25kLGEuaXNEYXRlPXkuaXNEYXRlLGUuVGltZXpvbmUuYWRqdXN0X2NoYW5nZShhLDAsMCwwLC1hLnByZXZVdGNPZmZzZXQpLHIucHVzaChhKX19cmV0dXJuIHJ9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHpuYW1lcz90aGlzLnR6bmFtZXM6dGhpcy50emlkfX0sZS5UaW1lem9uZS5fY29tcGFyZV9jaGFuZ2VfZm49ZnVuY3Rpb24ocyxyKXtyZXR1cm4gcy55ZWFyPHIueWVhcj8tMTpzLnllYXI+ci55ZWFyPzE6cy5tb250aDxyLm1vbnRoPy0xOnMubW9udGg+ci5tb250aD8xOnMuZGF5PHIuZGF5Py0xOnMuZGF5PnIuZGF5PzE6cy5ob3VyPHIuaG91cj8tMTpzLmhvdXI+ci5ob3VyPzE6cy5taW51dGU8ci5taW51dGU/LTE6cy5taW51dGU+ci5taW51dGU/MTpzLnNlY29uZDxyLnNlY29uZD8tMTpzLnNlY29uZD5yLnNlY29uZD8xOjB9LGUuVGltZXpvbmUuY29udmVydF90aW1lPWZ1bmN0aW9uKHMscixvKXtpZihzLmlzRGF0ZXx8ci50emlkPT1vLnR6aWR8fHI9PWUuVGltZXpvbmUubG9jYWxUaW1lem9uZXx8bz09ZS5UaW1lem9uZS5sb2NhbFRpbWV6b25lKXJldHVybiBzLnpvbmU9byxzO3ZhciBhPXIudXRjT2Zmc2V0KHMpO3JldHVybiBzLmFkanVzdCgwLDAsMCwtYSksYT1vLnV0Y09mZnNldChzKSxzLmFkanVzdCgwLDAsMCxhKSxudWxsfSxlLlRpbWV6b25lLmZyb21EYXRhPWZ1bmN0aW9uKHMpe3ZhciByPW5ldyBlLlRpbWV6b25lO3JldHVybiByLmZyb21EYXRhKHMpfSxlLlRpbWV6b25lLnV0Y1RpbWV6b25lPWUuVGltZXpvbmUuZnJvbURhdGEoe3R6aWQ6IlVUQyJ9KSxlLlRpbWV6b25lLmxvY2FsVGltZXpvbmU9ZS5UaW1lem9uZS5mcm9tRGF0YSh7dHppZDoiZmxvYXRpbmcifSksZS5UaW1lem9uZS5hZGp1c3RfY2hhbmdlPWZ1bmN0aW9uKHMscixvLGEsbCl7cmV0dXJuIGUuVGltZS5wcm90b3R5cGUuYWRqdXN0LmNhbGwocyxyLG8sYSxsLHMpfSxlLlRpbWV6b25lLl9taW5pbXVtRXhwYW5zaW9uWWVhcj0tMSxlLlRpbWV6b25lLk1BWF9ZRUFSPTIwMzUsZS5UaW1lem9uZS5FWFRSQV9DT1ZFUkFHRT01fSgpLGUuVGltZXpvbmVTZXJ2aWNlPWZ1bmN0aW9uKCl7dmFyIHQsbj17Z2V0IGNvdW50KCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmxlbmd0aH0scmVzZXQ6ZnVuY3Rpb24oKXt0PU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIHM9ZS5UaW1lem9uZS51dGNUaW1lem9uZTt0Llo9cyx0LlVUQz1zLHQuR01UPXN9LGhhczpmdW5jdGlvbihzKXtyZXR1cm4hIXRbc119LGdldDpmdW5jdGlvbihzKXtyZXR1cm4gdFtzXX0scmVnaXN0ZXI6ZnVuY3Rpb24ocyxyKXtpZihzIGluc3RhbmNlb2YgZS5Db21wb25lbnQmJnMubmFtZT09PSJ2dGltZXpvbmUiJiYocj1uZXcgZS5UaW1lem9uZShzKSxzPXIudHppZCksciBpbnN0YW5jZW9mIGUuVGltZXpvbmUpdFtzXT1yO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigidGltZXpvbmUgbXVzdCBiZSBJQ0FMLlRpbWV6b25lIG9yIElDQUwuQ29tcG9uZW50Iil9LHJlbW92ZTpmdW5jdGlvbihzKXtyZXR1cm4gZGVsZXRlIHRbc119fTtyZXR1cm4gbi5yZXNldCgpLG59KCksZnVuY3Rpb24oKXtlLlRpbWU9ZnVuY3Rpb24obixzKXt0aGlzLndyYXBwZWRKU09iamVjdD10aGlzO3ZhciByPXRoaXMuX3RpbWU9T2JqZWN0LmNyZWF0ZShudWxsKTtyLnllYXI9MCxyLm1vbnRoPTEsci5kYXk9MSxyLmhvdXI9MCxyLm1pbnV0ZT0wLHIuc2Vjb25kPTAsci5pc0RhdGU9ITEsdGhpcy5mcm9tRGF0YShuLHMpfSxlLlRpbWUuX2Rvd0NhY2hlPXt9LGUuVGltZS5fd25DYWNoZT17fSxlLlRpbWUucHJvdG90eXBlPXtpY2FsY2xhc3M6ImljYWx0aW1lIixfY2FjaGVkVW5peFRpbWU6bnVsbCxnZXQgaWNhbHR5cGUoKXtyZXR1cm4gdGhpcy5pc0RhdGU/ImRhdGUiOiJkYXRlLXRpbWUifSx6b25lOm51bGwsX3BlbmRpbmdOb3JtYWxpemF0aW9uOiExLGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlLlRpbWUodGhpcy5fdGltZSx0aGlzLnpvbmUpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuZnJvbURhdGEoZS5UaW1lLmVwb2NoVGltZSksdGhpcy56b25lPWUuVGltZXpvbmUudXRjVGltZXpvbmV9LHJlc2V0VG86ZnVuY3Rpb24obixzLHIsbyxhLGwsdSl7dGhpcy5mcm9tRGF0YSh7eWVhcjpuLG1vbnRoOnMsZGF5OnIsaG91cjpvLG1pbnV0ZTphLHNlY29uZDpsLHpvbmU6dX0pfSxmcm9tSlNEYXRlOmZ1bmN0aW9uKG4scyl7cmV0dXJuIG4/cz8odGhpcy56b25lPWUuVGltZXpvbmUudXRjVGltZXpvbmUsdGhpcy55ZWFyPW4uZ2V0VVRDRnVsbFllYXIoKSx0aGlzLm1vbnRoPW4uZ2V0VVRDTW9udGgoKSsxLHRoaXMuZGF5PW4uZ2V0VVRDRGF0ZSgpLHRoaXMuaG91cj1uLmdldFVUQ0hvdXJzKCksdGhpcy5taW51dGU9bi5nZXRVVENNaW51dGVzKCksdGhpcy5zZWNvbmQ9bi5nZXRVVENTZWNvbmRzKCkpOih0aGlzLnpvbmU9ZS5UaW1lem9uZS5sb2NhbFRpbWV6b25lLHRoaXMueWVhcj1uLmdldEZ1bGxZZWFyKCksdGhpcy5tb250aD1uLmdldE1vbnRoKCkrMSx0aGlzLmRheT1uLmdldERhdGUoKSx0aGlzLmhvdXI9bi5nZXRIb3VycygpLHRoaXMubWludXRlPW4uZ2V0TWludXRlcygpLHRoaXMuc2Vjb25kPW4uZ2V0U2Vjb25kcygpKTp0aGlzLnJlc2V0KCksdGhpcy5fY2FjaGVkVW5peFRpbWU9bnVsbCx0aGlzfSxmcm9tRGF0YTpmdW5jdGlvbihuLHMpe2lmKG4pe2Zvcih2YXIgciBpbiBuKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpKXtpZihyPT09ImljYWx0eXBlIiljb250aW51ZTt0aGlzW3JdPW5bcl19fWlmKHMmJih0aGlzLnpvbmU9cyksbiYmISgiaXNEYXRlImluIG4pP3RoaXMuaXNEYXRlPSEoImhvdXIiaW4gbik6biYmImlzRGF0ZSJpbiBuJiYodGhpcy5pc0RhdGU9bi5pc0RhdGUpLG4mJiJ0aW1lem9uZSJpbiBuKXt2YXIgbz1lLlRpbWV6b25lU2VydmljZS5nZXQobi50aW1lem9uZSk7dGhpcy56b25lPW98fGUuVGltZXpvbmUubG9jYWxUaW1lem9uZX1yZXR1cm4gbiYmInpvbmUiaW4gbiYmKHRoaXMuem9uZT1uLnpvbmUpLHRoaXMuem9uZXx8KHRoaXMuem9uZT1lLlRpbWV6b25lLmxvY2FsVGltZXpvbmUpLHRoaXMuX2NhY2hlZFVuaXhUaW1lPW51bGwsdGhpc30sZGF5T2ZXZWVrOmZ1bmN0aW9uKG4pe3ZhciBzPW58fGUuVGltZS5TVU5EQVkscj0odGhpcy55ZWFyPDwxMikrKHRoaXMubW9udGg8PDgpKyh0aGlzLmRheTw8MykrcztpZihyIGluIGUuVGltZS5fZG93Q2FjaGUpcmV0dXJuIGUuVGltZS5fZG93Q2FjaGVbcl07dmFyIG89dGhpcy5kYXksYT10aGlzLm1vbnRoKyh0aGlzLm1vbnRoPDM/MTI6MCksbD10aGlzLnllYXItKHRoaXMubW9udGg8Mz8xOjApLHU9bytsK2UuaGVscGVycy50cnVuYygoYSsxKSoyNi8xMCkrZS5oZWxwZXJzLnRydW5jKGwvNCk7cmV0dXJuIHUrPWUuaGVscGVycy50cnVuYyhsLzEwMCkqNitlLmhlbHBlcnMudHJ1bmMobC80MDApLHU9KHUrNy1zKSU3KzEsZS5UaW1lLl9kb3dDYWNoZVtyXT11LHV9LGRheU9mWWVhcjpmdW5jdGlvbigpe3ZhciBuPWUuVGltZS5pc0xlYXBZZWFyKHRoaXMueWVhcik/MTowLHM9ZS5UaW1lLmRheXNJblllYXJQYXNzZWRNb250aDtyZXR1cm4gc1tuXVt0aGlzLm1vbnRoLTFdK3RoaXMuZGF5fSxzdGFydE9mV2VlazpmdW5jdGlvbihuKXt2YXIgcz1ufHxlLlRpbWUuU1VOREFZLHI9dGhpcy5jbG9uZSgpO3JldHVybiByLmRheS09KHRoaXMuZGF5T2ZXZWVrKCkrNy1zKSU3LHIuaXNEYXRlPSEwLHIuaG91cj0wLHIubWludXRlPTAsci5zZWNvbmQ9MCxyfSxlbmRPZldlZWs6ZnVuY3Rpb24obil7dmFyIHM9bnx8ZS5UaW1lLlNVTkRBWSxyPXRoaXMuY2xvbmUoKTtyZXR1cm4gci5kYXkrPSg3LXRoaXMuZGF5T2ZXZWVrKCkrcy1lLlRpbWUuU1VOREFZKSU3LHIuaXNEYXRlPSEwLHIuaG91cj0wLHIubWludXRlPTAsci5zZWNvbmQ9MCxyfSxzdGFydE9mTW9udGg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmNsb25lKCk7cmV0dXJuIG4uZGF5PTEsbi5pc0RhdGU9ITAsbi5ob3VyPTAsbi5taW51dGU9MCxuLnNlY29uZD0wLG59LGVuZE9mTW9udGg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmNsb25lKCk7cmV0dXJuIG4uZGF5PWUuVGltZS5kYXlzSW5Nb250aChuLm1vbnRoLG4ueWVhciksbi5pc0RhdGU9ITAsbi5ob3VyPTAsbi5taW51dGU9MCxuLnNlY29uZD0wLG59LHN0YXJ0T2ZZZWFyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5jbG9uZSgpO3JldHVybiBuLmRheT0xLG4ubW9udGg9MSxuLmlzRGF0ZT0hMCxuLmhvdXI9MCxuLm1pbnV0ZT0wLG4uc2Vjb25kPTAsbn0sZW5kT2ZZZWFyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5jbG9uZSgpO3JldHVybiBuLmRheT0zMSxuLm1vbnRoPTEyLG4uaXNEYXRlPSEwLG4uaG91cj0wLG4ubWludXRlPTAsbi5zZWNvbmQ9MCxufSxzdGFydERveVdlZWs6ZnVuY3Rpb24obil7dmFyIHM9bnx8ZS5UaW1lLlNVTkRBWSxyPXRoaXMuZGF5T2ZXZWVrKCktcztyZXR1cm4gcjwwJiYocis9NyksdGhpcy5kYXlPZlllYXIoKS1yfSxnZXREb21pbmljYWxMZXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZS5UaW1lLmdldERvbWluaWNhbExldHRlcih0aGlzLnllYXIpfSxudGhXZWVrRGF5OmZ1bmN0aW9uKG4scyl7dmFyIHI9ZS5UaW1lLmRheXNJbk1vbnRoKHRoaXMubW9udGgsdGhpcy55ZWFyKSxvLGE9cyxsPTAsdT10aGlzLmNsb25lKCk7aWYoYT49MCl7dS5kYXk9MSxhIT0wJiZhLS0sbD11LmRheTt2YXIgaD11LmRheU9mV2VlaygpLGM9bi1oO2M8MCYmKGMrPTcpLGwrPWMsbC09bixvPW59ZWxzZXt1LmRheT1yO3ZhciBkPXUuZGF5T2ZXZWVrKCk7YSsrLG89ZC1uLG88MCYmKG8rPTcpLG89ci1vfXJldHVybiBvKz1hKjcsbCtvfSxpc050aFdlZWtEYXk6ZnVuY3Rpb24odCxuKXt2YXIgcz10aGlzLmRheU9mV2VlaygpO2lmKG49PT0wJiZzPT09dClyZXR1cm4hMDt2YXIgcj10aGlzLm50aFdlZWtEYXkodCxuKTtyZXR1cm4gcj09PXRoaXMuZGF5fSx3ZWVrTnVtYmVyOmZ1bmN0aW9uKG4pe3ZhciBzPSh0aGlzLnllYXI8PDEyKSsodGhpcy5tb250aDw8OCkrKHRoaXMuZGF5PDwzKStuO2lmKHMgaW4gZS5UaW1lLl93bkNhY2hlKXJldHVybiBlLlRpbWUuX3duQ2FjaGVbc107dmFyIHIsbz10aGlzLmNsb25lKCk7by5pc0RhdGU9ITA7dmFyIGE9dGhpcy55ZWFyO28ubW9udGg9PTEyJiZvLmRheT4yNT8ocj1lLlRpbWUud2Vla09uZVN0YXJ0cyhhKzEsbiksby5jb21wYXJlKHIpPDA/cj1lLlRpbWUud2Vla09uZVN0YXJ0cyhhLG4pOmErKyk6KHI9ZS5UaW1lLndlZWtPbmVTdGFydHMoYSxuKSxvLmNvbXBhcmUocik8MCYmKHI9ZS5UaW1lLndlZWtPbmVTdGFydHMoLS1hLG4pKSk7dmFyIGw9by5zdWJ0cmFjdERhdGUocikudG9TZWNvbmRzKCkvODY0MDAsdT1lLmhlbHBlcnMudHJ1bmMobC83KSsxO3JldHVybiBlLlRpbWUuX3duQ2FjaGVbc109dSx1fSxhZGREdXJhdGlvbjpmdW5jdGlvbihuKXt2YXIgcz1uLmlzTmVnYXRpdmU/LTE6MSxyPXRoaXMuc2Vjb25kLG89dGhpcy5taW51dGUsYT10aGlzLmhvdXIsbD10aGlzLmRheTtyKz1zKm4uc2Vjb25kcyxvKz1zKm4ubWludXRlcyxhKz1zKm4uaG91cnMsbCs9cypuLmRheXMsbCs9cyo3Km4ud2Vla3MsdGhpcy5zZWNvbmQ9cix0aGlzLm1pbnV0ZT1vLHRoaXMuaG91cj1hLHRoaXMuZGF5PWwsdGhpcy5fY2FjaGVkVW5peFRpbWU9bnVsbH0sc3VidHJhY3REYXRlOmZ1bmN0aW9uKG4pe3ZhciBzPXRoaXMudG9Vbml4VGltZSgpK3RoaXMudXRjT2Zmc2V0KCkscj1uLnRvVW5peFRpbWUoKStuLnV0Y09mZnNldCgpO3JldHVybiBlLkR1cmF0aW9uLmZyb21TZWNvbmRzKHMtcil9LHN1YnRyYWN0RGF0ZVR6OmZ1bmN0aW9uKG4pe3ZhciBzPXRoaXMudG9Vbml4VGltZSgpLHI9bi50b1VuaXhUaW1lKCk7cmV0dXJuIGUuRHVyYXRpb24uZnJvbVNlY29uZHMocy1yKX0sY29tcGFyZTpmdW5jdGlvbihuKXt2YXIgcz10aGlzLnRvVW5peFRpbWUoKSxyPW4udG9Vbml4VGltZSgpO3JldHVybiBzPnI/MTpyPnM/LTE6MH0sY29tcGFyZURhdGVPbmx5VHo6ZnVuY3Rpb24obixzKXtmdW5jdGlvbiByKHUpe3JldHVybiBlLlRpbWUuX2NtcF9hdHRyKG8sYSx1KX12YXIgbz10aGlzLmNvbnZlcnRUb1pvbmUocyksYT1uLmNvbnZlcnRUb1pvbmUocyksbD0wO3JldHVybihsPXIoInllYXIiKSkhPTB8fChsPXIoIm1vbnRoIikpIT0wfHwobD1yKCJkYXkiKSkhPTAsbH0sY29udmVydFRvWm9uZTpmdW5jdGlvbihuKXt2YXIgcz10aGlzLmNsb25lKCkscj10aGlzLnpvbmUudHppZD09bi50emlkO3JldHVybiF0aGlzLmlzRGF0ZSYmIXImJmUuVGltZXpvbmUuY29udmVydF90aW1lKHMsdGhpcy56b25lLG4pLHMuem9uZT1uLHN9LHV0Y09mZnNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvbmU9PWUuVGltZXpvbmUubG9jYWxUaW1lem9uZXx8dGhpcy56b25lPT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lPzA6dGhpcy56b25lLnV0Y09mZnNldCh0aGlzKX0sdG9JQ0FMU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b1N0cmluZygpO3JldHVybiB0Lmxlbmd0aD4xMD9lLmRlc2lnbi5pY2FsZW5kYXIudmFsdWVbImRhdGUtdGltZSJdLnRvSUNBTCh0KTplLmRlc2lnbi5pY2FsZW5kYXIudmFsdWUuZGF0ZS50b0lDQUwodCl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy55ZWFyKyItIitlLmhlbHBlcnMucGFkMih0aGlzLm1vbnRoKSsiLSIrZS5oZWxwZXJzLnBhZDIodGhpcy5kYXkpO3JldHVybiB0aGlzLmlzRGF0ZXx8KG4rPSJUIitlLmhlbHBlcnMucGFkMih0aGlzLmhvdXIpKyI6IitlLmhlbHBlcnMucGFkMih0aGlzLm1pbnV0ZSkrIjoiK2UuaGVscGVycy5wYWQyKHRoaXMuc2Vjb25kKSx0aGlzLnpvbmU9PT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lJiYobis9IloiKSksbn0sdG9KU0RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56b25lPT1lLlRpbWV6b25lLmxvY2FsVGltZXpvbmU/dGhpcy5pc0RhdGU/bmV3IERhdGUodGhpcy55ZWFyLHRoaXMubW9udGgtMSx0aGlzLmRheSk6bmV3IERhdGUodGhpcy55ZWFyLHRoaXMubW9udGgtMSx0aGlzLmRheSx0aGlzLmhvdXIsdGhpcy5taW51dGUsdGhpcy5zZWNvbmQsMCk6bmV3IERhdGUodGhpcy50b1VuaXhUaW1lKCkqMWUzKX0sX25vcm1hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lLmlzRGF0ZSx0aGlzLl90aW1lLmlzRGF0ZSYmKHRoaXMuX3RpbWUuaG91cj0wLHRoaXMuX3RpbWUubWludXRlPTAsdGhpcy5fdGltZS5zZWNvbmQ9MCksdGhpcy5hZGp1c3QoMCwwLDAsMCksdGhpc30sYWRqdXN0OmZ1bmN0aW9uKG4scyxyLG8sYSl7dmFyIGwsdSxoPTAsYz0wLGQsZixwLG0seSxUPWF8fHRoaXMuX3RpbWU7aWYoVC5pc0RhdGV8fChkPVQuc2Vjb25kK28sVC5zZWNvbmQ9ZCU2MCxsPWUuaGVscGVycy50cnVuYyhkLzYwKSxULnNlY29uZDwwJiYoVC5zZWNvbmQrPTYwLGwtLSksZj1ULm1pbnV0ZStyK2wsVC5taW51dGU9ZiU2MCx1PWUuaGVscGVycy50cnVuYyhmLzYwKSxULm1pbnV0ZTwwJiYoVC5taW51dGUrPTYwLHUtLSkscD1ULmhvdXIrcyt1LFQuaG91cj1wJTI0LGg9ZS5oZWxwZXJzLnRydW5jKHAvMjQpLFQuaG91cjwwJiYoVC5ob3VyKz0yNCxoLS0pKSxULm1vbnRoPjEyP2M9ZS5oZWxwZXJzLnRydW5jKChULm1vbnRoLTEpLzEyKTpULm1vbnRoPDEmJihjPWUuaGVscGVycy50cnVuYyhULm1vbnRoLzEyKS0xKSxULnllYXIrPWMsVC5tb250aC09MTIqYyxtPVQuZGF5K24raCxtPjApZm9yKDt5PWUuVGltZS5kYXlzSW5Nb250aChULm1vbnRoLFQueWVhciksIShtPD15KTspVC5tb250aCsrLFQubW9udGg+MTImJihULnllYXIrKyxULm1vbnRoPTEpLG0tPXk7ZWxzZSBmb3IoO208PTA7KVQubW9udGg9PTE/KFQueWVhci0tLFQubW9udGg9MTIpOlQubW9udGgtLSxtKz1lLlRpbWUuZGF5c0luTW9udGgoVC5tb250aCxULnllYXIpO3JldHVybiBULmRheT1tLHRoaXMuX2NhY2hlZFVuaXhUaW1lPW51bGwsdGhpc30sZnJvbVVuaXhUaW1lOmZ1bmN0aW9uKG4pe3RoaXMuem9uZT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lO3ZhciBzPWUuVGltZS5lcG9jaFRpbWUuY2xvbmUoKTtzLmFkanVzdCgwLDAsMCxuKSx0aGlzLnllYXI9cy55ZWFyLHRoaXMubW9udGg9cy5tb250aCx0aGlzLmRheT1zLmRheSx0aGlzLmhvdXI9cy5ob3VyLHRoaXMubWludXRlPXMubWludXRlLHRoaXMuc2Vjb25kPU1hdGguZmxvb3Iocy5zZWNvbmQpLHRoaXMuX2NhY2hlZFVuaXhUaW1lPW51bGx9LHRvVW5peFRpbWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9jYWNoZWRVbml4VGltZSE9PW51bGwpcmV0dXJuIHRoaXMuX2NhY2hlZFVuaXhUaW1lO3ZhciBuPXRoaXMudXRjT2Zmc2V0KCkscz1EYXRlLlVUQyh0aGlzLnllYXIsdGhpcy5tb250aC0xLHRoaXMuZGF5LHRoaXMuaG91cix0aGlzLm1pbnV0ZSx0aGlzLnNlY29uZC1uKTtyZXR1cm4gdGhpcy5fY2FjaGVkVW5peFRpbWU9cy8xZTMsdGhpcy5fY2FjaGVkVW5peFRpbWV9LHRvSlNPTjpmdW5jdGlvbigpe2Zvcih2YXIgdD1bInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJpc0RhdGUiXSxuPU9iamVjdC5jcmVhdGUobnVsbCkscz0wLHI9dC5sZW5ndGgsbztzPHI7cysrKW89dFtzXSxuW29dPXRoaXNbb107cmV0dXJuIHRoaXMuem9uZSYmKG4udGltZXpvbmU9dGhpcy56b25lLnR6aWQpLG59fSxmdW5jdGlvbigpe2Z1bmN0aW9uIG4ocyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuVGltZS5wcm90b3R5cGUscyx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdOb3JtYWxpemF0aW9uJiYodGhpcy5fbm9ybWFsaXplKCksdGhpcy5fcGVuZGluZ05vcm1hbGl6YXRpb249ITEpLHRoaXMuX3RpbWVbc119LHNldDpmdW5jdGlvbihvKXtyZXR1cm4gcz09PSJpc0RhdGUiJiZvJiYhdGhpcy5fdGltZS5pc0RhdGUmJnRoaXMuYWRqdXN0KDAsMCwwLDApLHRoaXMuX2NhY2hlZFVuaXhUaW1lPW51bGwsdGhpcy5fcGVuZGluZ05vcm1hbGl6YXRpb249ITAsdGhpcy5fdGltZVtzXT1vLG99fSl9ImRlZmluZVByb3BlcnR5ImluIE9iamVjdCYmKG4oInllYXIiKSxuKCJtb250aCIpLG4oImRheSIpLG4oImhvdXIiKSxuKCJtaW51dGUiKSxuKCJzZWNvbmQiKSxuKCJpc0RhdGUiKSl9KCksZS5UaW1lLmRheXNJbk1vbnRoPWZ1bmN0aW9uKG4scyl7dmFyIHI9WzAsMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLG89MzA7cmV0dXJuIG48MXx8bj4xMnx8KG89cltuXSxuPT0yJiYobys9ZS5UaW1lLmlzTGVhcFllYXIocykpKSxvfSxlLlRpbWUuaXNMZWFwWWVhcj1mdW5jdGlvbihuKXtyZXR1cm4gbjw9MTc1Mj9uJTQ9PTA6biU0PT0wJiZuJTEwMCE9MHx8biU0MDA9PTB9LGUuVGltZS5mcm9tRGF5T2ZZZWFyPWZ1bmN0aW9uKG4scyl7dmFyIHI9cyxvPW4sYT1uZXcgZS5UaW1lO2EuYXV0b19ub3JtYWxpemU9ITE7dmFyIGw9ZS5UaW1lLmlzTGVhcFllYXIocik/MTowO2lmKG88MSlyZXR1cm4gci0tLGw9ZS5UaW1lLmlzTGVhcFllYXIocik/MTowLG8rPWUuVGltZS5kYXlzSW5ZZWFyUGFzc2VkTW9udGhbbF1bMTJdLGUuVGltZS5mcm9tRGF5T2ZZZWFyKG8scik7aWYobz5lLlRpbWUuZGF5c0luWWVhclBhc3NlZE1vbnRoW2xdWzEyXSlyZXR1cm4gbD1lLlRpbWUuaXNMZWFwWWVhcihyKT8xOjAsby09ZS5UaW1lLmRheXNJblllYXJQYXNzZWRNb250aFtsXVsxMl0scisrLGUuVGltZS5mcm9tRGF5T2ZZZWFyKG8scik7YS55ZWFyPXIsYS5pc0RhdGU9ITA7Zm9yKHZhciB1PTExO3U+PTA7dS0tKWlmKG8+ZS5UaW1lLmRheXNJblllYXJQYXNzZWRNb250aFtsXVt1XSl7YS5tb250aD11KzEsYS5kYXk9by1lLlRpbWUuZGF5c0luWWVhclBhc3NlZE1vbnRoW2xdW3VdO2JyZWFrfXJldHVybiBhLmF1dG9fbm9ybWFsaXplPSEwLGF9LGUuVGltZS5mcm9tU3RyaW5ndjI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBlLlRpbWUoe3llYXI6cGFyc2VJbnQobi5zdWJzdHIoMCw0KSwxMCksbW9udGg6cGFyc2VJbnQobi5zdWJzdHIoNSwyKSwxMCksZGF5OnBhcnNlSW50KG4uc3Vic3RyKDgsMiksMTApLGlzRGF0ZTohMH0pfSxlLlRpbWUuZnJvbURhdGVTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlLlRpbWUoe3llYXI6ZS5oZWxwZXJzLnN0cmljdFBhcnNlSW50KHQuc3Vic3RyKDAsNCkpLG1vbnRoOmUuaGVscGVycy5zdHJpY3RQYXJzZUludCh0LnN1YnN0cig1LDIpKSxkYXk6ZS5oZWxwZXJzLnN0cmljdFBhcnNlSW50KHQuc3Vic3RyKDgsMikpLGlzRGF0ZTohMH0pfSxlLlRpbWUuZnJvbURhdGVUaW1lU3RyaW5nPWZ1bmN0aW9uKHQsbil7aWYodC5sZW5ndGg8MTkpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGRhdGUtdGltZSB2YWx1ZTogIicrdCsnIicpO3ZhciBzO3RbMTldJiZ0WzE5XT09PSJaIj9zPSJaIjpuJiYocz1uLmdldFBhcmFtZXRlcigidHppZCIpKTt2YXIgcj1uZXcgZS5UaW1lKHt5ZWFyOmUuaGVscGVycy5zdHJpY3RQYXJzZUludCh0LnN1YnN0cigwLDQpKSxtb250aDplLmhlbHBlcnMuc3RyaWN0UGFyc2VJbnQodC5zdWJzdHIoNSwyKSksZGF5OmUuaGVscGVycy5zdHJpY3RQYXJzZUludCh0LnN1YnN0cig4LDIpKSxob3VyOmUuaGVscGVycy5zdHJpY3RQYXJzZUludCh0LnN1YnN0cigxMSwyKSksbWludXRlOmUuaGVscGVycy5zdHJpY3RQYXJzZUludCh0LnN1YnN0cigxNCwyKSksc2Vjb25kOmUuaGVscGVycy5zdHJpY3RQYXJzZUludCh0LnN1YnN0cigxNywyKSksdGltZXpvbmU6c30pO3JldHVybiByfSxlLlRpbWUuZnJvbVN0cmluZz1mdW5jdGlvbihuLHMpe3JldHVybiBuLmxlbmd0aD4xMD9lLlRpbWUuZnJvbURhdGVUaW1lU3RyaW5nKG4scyk6ZS5UaW1lLmZyb21EYXRlU3RyaW5nKG4pfSxlLlRpbWUuZnJvbUpTRGF0ZT1mdW5jdGlvbihuLHMpe3ZhciByPW5ldyBlLlRpbWU7cmV0dXJuIHIuZnJvbUpTRGF0ZShuLHMpfSxlLlRpbWUuZnJvbURhdGE9ZnVuY3Rpb24obixzKXt2YXIgcj1uZXcgZS5UaW1lO3JldHVybiByLmZyb21EYXRhKG4scyl9LGUuVGltZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gZS5UaW1lLmZyb21KU0RhdGUobmV3IERhdGUsITEpfSxlLlRpbWUud2Vla09uZVN0YXJ0cz1mdW5jdGlvbihuLHMpe3ZhciByPWUuVGltZS5mcm9tRGF0YSh7eWVhcjpuLG1vbnRoOjEsZGF5OjEsaXNEYXRlOiEwfSksbz1yLmRheU9mV2VlaygpLGE9c3x8ZS5UaW1lLkRFRkFVTFRfV0VFS19TVEFSVDtyZXR1cm4gbz5lLlRpbWUuVEhVUlNEQVkmJihyLmRheSs9NyksYT5lLlRpbWUuVEhVUlNEQVkmJihyLmRheS09Nyksci5kYXktPW8tYSxyfSxlLlRpbWUuZ2V0RG9taW5pY2FsTGV0dGVyPWZ1bmN0aW9uKHQpe3ZhciBuPSJHRkVEQ0JBIixzPSh0Kyh0LzR8MCkrKHQvNDAwfDApLSh0LzEwMHwwKS0xKSU3LHI9ZS5UaW1lLmlzTGVhcFllYXIodCk7cmV0dXJuIHI/blsocys2KSU3XStuW3NdOm5bc119LGUuVGltZS5lcG9jaFRpbWU9ZS5UaW1lLmZyb21EYXRhKHt5ZWFyOjE5NzAsbW9udGg6MSxkYXk6MSxob3VyOjAsbWludXRlOjAsc2Vjb25kOjAsaXNEYXRlOiExLHRpbWV6b25lOiJaIn0pLGUuVGltZS5fY21wX2F0dHI9ZnVuY3Rpb24obixzLHIpe3JldHVybiBuW3JdPnNbcl0/MTpuW3JdPHNbcl0/LTE6MH0sZS5UaW1lLmRheXNJblllYXJQYXNzZWRNb250aD1bWzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNCwzNjVdLFswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzUsMzY2XV0sZS5UaW1lLlNVTkRBWT0xLGUuVGltZS5NT05EQVk9MixlLlRpbWUuVFVFU0RBWT0zLGUuVGltZS5XRURORVNEQVk9NCxlLlRpbWUuVEhVUlNEQVk9NSxlLlRpbWUuRlJJREFZPTYsZS5UaW1lLlNBVFVSREFZPTcsZS5UaW1lLkRFRkFVTFRfV0VFS19TVEFSVD1lLlRpbWUuTU9OREFZfSgpLGZ1bmN0aW9uKCl7ZS5WQ2FyZFRpbWU9ZnVuY3Rpb24odCxuLHMpe3RoaXMud3JhcHBlZEpTT2JqZWN0PXRoaXM7dmFyIHI9dGhpcy5fdGltZT1PYmplY3QuY3JlYXRlKG51bGwpO3IueWVhcj1udWxsLHIubW9udGg9bnVsbCxyLmRheT1udWxsLHIuaG91cj1udWxsLHIubWludXRlPW51bGwsci5zZWNvbmQ9bnVsbCx0aGlzLmljYWx0eXBlPXN8fCJkYXRlLWFuZC1vci10aW1lIix0aGlzLmZyb21EYXRhKHQsbil9LGUuaGVscGVycy5pbmhlcml0cyhlLlRpbWUsZS5WQ2FyZFRpbWUse2ljYWxjbGFzczoidmNhcmR0aW1lIixpY2FsdHlwZToiZGF0ZS1hbmQtb3ItdGltZSIsem9uZTpudWxsLGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlLlZDYXJkVGltZSh0aGlzLl90aW1lLHRoaXMuem9uZSx0aGlzLmljYWx0eXBlKX0sX25vcm1hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfSx1dGNPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56b25lIGluc3RhbmNlb2YgZS5VdGNPZmZzZXQ/dGhpcy56b25lLnRvU2Vjb25kcygpOmUuVGltZS5wcm90b3R5cGUudXRjT2Zmc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdG9JQ0FMU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVzaWduLnZjYXJkLnZhbHVlW3RoaXMuaWNhbHR5cGVdLnRvSUNBTCh0aGlzLnRvU3RyaW5nKCkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBuPWUuaGVscGVycy5wYWQyLHM9dGhpcy55ZWFyLHI9dGhpcy5tb250aCxvPXRoaXMuZGF5LGE9dGhpcy5ob3VyLGw9dGhpcy5taW51dGUsdT10aGlzLnNlY29uZCxoPXMhPT1udWxsLGM9ciE9PW51bGwsZD1vIT09bnVsbCxmPWEhPT1udWxsLHA9bCE9PW51bGwsbT11IT09bnVsbCx5PShoP24ocykrKGN8fGQ/Ii0iOiIiKTpjfHxkPyItLSI6IiIpKyhjP24ocik6IiIpKyhkPyItIituKG8pOiIiKSxUPShmP24oYSk6Ii0iKSsoZiYmcD8iOiI6IiIpKyhwP24obCk6IiIpKyghZiYmIXA/Ii0iOiIiKSsocCYmbT8iOiI6IiIpKyhtP24odSk6IiIpLHY7aWYodGhpcy56b25lPT09ZS5UaW1lem9uZS51dGNUaW1lem9uZSl2PSJaIjtlbHNlIGlmKHRoaXMuem9uZSBpbnN0YW5jZW9mIGUuVXRjT2Zmc2V0KXY9dGhpcy56b25lLnRvU3RyaW5nKCk7ZWxzZSBpZih0aGlzLnpvbmU9PT1lLlRpbWV6b25lLmxvY2FsVGltZXpvbmUpdj0iIjtlbHNlIGlmKHRoaXMuem9uZSBpbnN0YW5jZW9mIGUuVGltZXpvbmUpe3ZhciBfPWUuVXRjT2Zmc2V0LmZyb21TZWNvbmRzKHRoaXMuem9uZS51dGNPZmZzZXQodGhpcykpO3Y9Xy50b1N0cmluZygpfWVsc2Ugdj0iIjtzd2l0Y2godGhpcy5pY2FsdHlwZSl7Y2FzZSJ0aW1lIjpyZXR1cm4gVCt2O2Nhc2UiZGF0ZS1hbmQtb3ItdGltZSI6Y2FzZSJkYXRlLXRpbWUiOnJldHVybiB5KyhUPT0iLS0iPyIiOiJUIitUK3YpO2Nhc2UiZGF0ZSI6cmV0dXJuIHl9cmV0dXJuIG51bGx9fSksZS5WQ2FyZFRpbWUuZnJvbURhdGVBbmRPclRpbWVTdHJpbmc9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBzKHksVCx2KXtyZXR1cm4geT9lLmhlbHBlcnMuc3RyaWN0UGFyc2VJbnQoeS5zdWJzdHIoVCx2KSk6bnVsbH12YXIgcj10LnNwbGl0KCJUIiksbz1yWzBdLGE9clsxXSxsPWE/ZS5kZXNpZ24udmNhcmQudmFsdWUudGltZS5fc3BsaXRab25lKGEpOltdLHU9bFswXSxoPWxbMV07ZS5oZWxwZXJzLnN0cmljdFBhcnNlSW50O3ZhciBjPW8/by5sZW5ndGg6MCxkPWg/aC5sZW5ndGg6MCxmPW8mJm9bMF09PSItIiYmb1sxXT09Ii0iLHA9aCYmaFswXT09Ii0iLG09e3llYXI6Zj9udWxsOnMobywwLDQpLG1vbnRoOmYmJihjPT00fHxjPT03KT9zKG8sMiwyKTpjPT03fHxjPT0xMD9zKG8sNSwyKTpudWxsLGRheTpjPT01P3MobywzLDIpOmM9PTcmJmY/cyhvLDUsMik6Yz09MTA/cyhvLDgsMik6bnVsbCxob3VyOnA/bnVsbDpzKGgsMCwyKSxtaW51dGU6cCYmZD09Mz9zKGgsMSwyKTpkPjQ/cD9zKGgsMSwyKTpzKGgsMywyKTpudWxsLHNlY29uZDpkPT00P3MoaCwyLDIpOmQ9PTY/cyhoLDQsMik6ZD09OD9zKGgsNiwyKTpudWxsfTtyZXR1cm4gdT09IloiP3U9ZS5UaW1lem9uZS51dGNUaW1lem9uZTp1JiZ1WzNdPT0iOiI/dT1lLlV0Y09mZnNldC5mcm9tU3RyaW5nKHUpOnU9bnVsbCxuZXcgZS5WQ2FyZFRpbWUobSx1LG4pfX0oKSxmdW5jdGlvbigpe3ZhciB0PXtTVTplLlRpbWUuU1VOREFZLE1POmUuVGltZS5NT05EQVksVFU6ZS5UaW1lLlRVRVNEQVksV0U6ZS5UaW1lLldFRE5FU0RBWSxUSDplLlRpbWUuVEhVUlNEQVksRlI6ZS5UaW1lLkZSSURBWSxTQTplLlRpbWUuU0FUVVJEQVl9LG49e307Zm9yKHZhciBzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmKG5bdFtzXV09cyk7ZS5SZWN1cj1mdW5jdGlvbihkKXt0aGlzLndyYXBwZWRKU09iamVjdD10aGlzLHRoaXMucGFydHM9e30sZCYmdHlwZW9mIGQ9PSJvYmplY3QiJiZ0aGlzLmZyb21EYXRhKGQpfSxlLlJlY3VyLnByb3RvdHlwZT17cGFydHM6bnVsbCxpbnRlcnZhbDoxLHdrc3Q6ZS5UaW1lLk1PTkRBWSx1bnRpbDpudWxsLGNvdW50Om51bGwsZnJlcTpudWxsLGljYWxjbGFzczoiaWNhbHJlY3VyIixpY2FsdHlwZToicmVjdXIiLGl0ZXJhdG9yOmZ1bmN0aW9uKGMpe3JldHVybiBuZXcgZS5SZWN1ckl0ZXJhdG9yKHtydWxlOnRoaXMsZHRzdGFydDpjfSl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlLlJlY3VyKHRoaXMudG9KU09OKCkpfSxpc0Zpbml0ZTpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuY291bnR8fHRoaXMudW50aWwpfSxpc0J5Q291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLmNvdW50JiYhdGhpcy51bnRpbCl9LGFkZENvbXBvbmVudDpmdW5jdGlvbihkLGYpe3ZhciBwPWQudG9VcHBlckNhc2UoKTtwIGluIHRoaXMucGFydHM/dGhpcy5wYXJ0c1twXS5wdXNoKGYpOnRoaXMucGFydHNbcF09W2ZdfSxzZXRDb21wb25lbnQ6ZnVuY3Rpb24oZCxmKXt0aGlzLnBhcnRzW2QudG9VcHBlckNhc2UoKV09Zi5zbGljZSgpfSxnZXRDb21wb25lbnQ6ZnVuY3Rpb24oZCl7dmFyIGY9ZC50b1VwcGVyQ2FzZSgpO3JldHVybiBmIGluIHRoaXMucGFydHM/dGhpcy5wYXJ0c1tmXS5zbGljZSgpOltdfSxnZXROZXh0T2NjdXJyZW5jZTpmdW5jdGlvbihkLGYpe3ZhciBwPXRoaXMuaXRlcmF0b3IoZCksbTtkbyBtPXAubmV4dCgpO3doaWxlKG0mJm0uY29tcGFyZShmKTw9MCk7cmV0dXJuIG0mJmYuem9uZSYmKG0uem9uZT1mLnpvbmUpLG19LGZyb21EYXRhOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZCBpbiBjKXt2YXIgZj1kLnRvVXBwZXJDYXNlKCk7ZiBpbiBoP0FycmF5LmlzQXJyYXkoY1tkXSk/dGhpcy5wYXJ0c1tmXT1jW2RdOnRoaXMucGFydHNbZl09W2NbZF1dOnRoaXNbZF09Y1tkXX10aGlzLmludGVydmFsJiZ0eXBlb2YgdGhpcy5pbnRlcnZhbCE9Im51bWJlciImJnUuSU5URVJWQUwodGhpcy5pbnRlcnZhbCx0aGlzKSx0aGlzLndrc3QmJnR5cGVvZiB0aGlzLndrc3QhPSJudW1iZXIiJiYodGhpcy53a3N0PWUuUmVjdXIuaWNhbERheVRvTnVtZXJpY0RheSh0aGlzLndrc3QpKSx0aGlzLnVudGlsJiYhKHRoaXMudW50aWwgaW5zdGFuY2VvZiBlLlRpbWUpJiYodGhpcy51bnRpbD1lLlRpbWUuZnJvbVN0cmluZyh0aGlzLnVudGlsKSl9LHRvSlNPTjpmdW5jdGlvbigpe3ZhciBjPU9iamVjdC5jcmVhdGUobnVsbCk7Yy5mcmVxPXRoaXMuZnJlcSx0aGlzLmNvdW50JiYoYy5jb3VudD10aGlzLmNvdW50KSx0aGlzLmludGVydmFsPjEmJihjLmludGVydmFsPXRoaXMuaW50ZXJ2YWwpO2Zvcih2YXIgZCBpbiB0aGlzLnBhcnRzKWlmKHRoaXMucGFydHMuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBmPXRoaXMucGFydHNbZF07QXJyYXkuaXNBcnJheShmKSYmZi5sZW5ndGg9PTE/Y1tkLnRvTG93ZXJDYXNlKCldPWZbMF06Y1tkLnRvTG93ZXJDYXNlKCldPWUuaGVscGVycy5jbG9uZSh0aGlzLnBhcnRzW2RdKX1yZXR1cm4gdGhpcy51bnRpbCYmKGMudW50aWw9dGhpcy51bnRpbC50b1N0cmluZygpKSwid2tzdCJpbiB0aGlzJiZ0aGlzLndrc3QhPT1lLlRpbWUuREVGQVVMVF9XRUVLX1NUQVJUJiYoYy53a3N0PWUuUmVjdXIubnVtZXJpY0RheVRvSWNhbERheSh0aGlzLndrc3QpKSxjfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBkPSJGUkVRPSIrdGhpcy5mcmVxO3RoaXMuY291bnQmJihkKz0iO0NPVU5UPSIrdGhpcy5jb3VudCksdGhpcy5pbnRlcnZhbD4xJiYoZCs9IjtJTlRFUlZBTD0iK3RoaXMuaW50ZXJ2YWwpO2Zvcih2YXIgZiBpbiB0aGlzLnBhcnRzKXRoaXMucGFydHMuaGFzT3duUHJvcGVydHkoZikmJihkKz0iOyIrZisiPSIrdGhpcy5wYXJ0c1tmXSk7cmV0dXJuIHRoaXMudW50aWwmJihkKz0iO1VOVElMPSIrdGhpcy51bnRpbC50b0lDQUxTdHJpbmcoKSksIndrc3QiaW4gdGhpcyYmdGhpcy53a3N0IT09ZS5UaW1lLkRFRkFVTFRfV0VFS19TVEFSVCYmKGQrPSI7V0tTVD0iK2UuUmVjdXIubnVtZXJpY0RheVRvSWNhbERheSh0aGlzLndrc3QpKSxkfX07ZnVuY3Rpb24gcihjLGQsZixwKXt2YXIgbT1wO2lmKHBbMF09PT0iKyImJihtPXAuc3Vic3RyKDEpKSxtPWUuaGVscGVycy5zdHJpY3RQYXJzZUludChtKSxkIT09dm9pZCAwJiZwPGQpdGhyb3cgbmV3IEVycm9yKGMrJzogaW52YWxpZCB2YWx1ZSAiJytwKyciIG11c3QgYmUgPiAnK2QpO2lmKGYhPT12b2lkIDAmJnA+Zil0aHJvdyBuZXcgRXJyb3IoYysnOiBpbnZhbGlkIHZhbHVlICInK3ArJyIgbXVzdCBiZSA8ICcrZCk7cmV0dXJuIG19ZS5SZWN1ci5pY2FsRGF5VG9OdW1lcmljRGF5PWZ1bmN0aW9uKGQsZil7dmFyIHA9Znx8ZS5UaW1lLlNVTkRBWTtyZXR1cm4odFtkXS1wKzcpJTcrMX0sZS5SZWN1ci5udW1lcmljRGF5VG9JY2FsRGF5PWZ1bmN0aW9uKGQsZil7dmFyIHA9Znx8ZS5UaW1lLlNVTkRBWSxtPWQrcC1lLlRpbWUuU1VOREFZO3JldHVybiBtPjcmJihtLT03KSxuW21dfTt2YXIgbz0vXihTVXxNT3xUVXxXRXxUSHxGUnxTQSkkLyxhPS9eKFsrLV0pPyg1WzAtM118WzEtNF1bMC05XXxbMS05XSk/KFNVfE1PfFRVfFdFfFRIfEZSfFNBKSQvLGw9WyJTRUNPTkRMWSIsIk1JTlVURUxZIiwiSE9VUkxZIiwiREFJTFkiLCJXRUVLTFkiLCJNT05USExZIiwiWUVBUkxZIl0sdT17RlJFUTpmdW5jdGlvbihjLGQsZil7aWYobC5pbmRleE9mKGMpIT09LTEpZC5mcmVxPWM7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZnJlcXVlbmN5ICInK2MrJyIgZXhwZWN0ZWQ6ICInK2wuam9pbigiLCAiKSsnIicpfSxDT1VOVDpmdW5jdGlvbihjLGQsZil7ZC5jb3VudD1lLmhlbHBlcnMuc3RyaWN0UGFyc2VJbnQoYyl9LElOVEVSVkFMOmZ1bmN0aW9uKGMsZCxmKXtkLmludGVydmFsPWUuaGVscGVycy5zdHJpY3RQYXJzZUludChjKSxkLmludGVydmFsPDEmJihkLmludGVydmFsPTEpfSxVTlRJTDpmdW5jdGlvbihjLGQsZil7Yy5sZW5ndGg+MTA/ZC51bnRpbD1lLmRlc2lnbi5pY2FsZW5kYXIudmFsdWVbImRhdGUtdGltZSJdLmZyb21JQ0FMKGMpOmQudW50aWw9ZS5kZXNpZ24uaWNhbGVuZGFyLnZhbHVlLmRhdGUuZnJvbUlDQUwoYyksZnx8KGQudW50aWw9ZS5UaW1lLmZyb21TdHJpbmcoZC51bnRpbCkpfSxXS1NUOmZ1bmN0aW9uKGMsZCxmKXtpZihvLnRlc3QoYykpZC53a3N0PWUuUmVjdXIuaWNhbERheVRvTnVtZXJpY0RheShjKTtlbHNlIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBXS1NUIHZhbHVlICInK2MrJyInKX19LGg9e0JZU0VDT05EOnIuYmluZCh0aGlzLCJCWVNFQ09ORCIsMCw2MCksQllNSU5VVEU6ci5iaW5kKHRoaXMsIkJZTUlOVVRFIiwwLDU5KSxCWUhPVVI6ci5iaW5kKHRoaXMsIkJZSE9VUiIsMCwyMyksQllEQVk6ZnVuY3Rpb24oYyl7aWYoYS50ZXN0KGMpKXJldHVybiBjO3Rocm93IG5ldyBFcnJvcignaW52YWxpZCBCWURBWSB2YWx1ZSAiJytjKyciJyl9LEJZTU9OVEhEQVk6ci5iaW5kKHRoaXMsIkJZTU9OVEhEQVkiLC0zMSwzMSksQllZRUFSREFZOnIuYmluZCh0aGlzLCJCWVlFQVJEQVkiLC0zNjYsMzY2KSxCWVdFRUtOTzpyLmJpbmQodGhpcywiQllXRUVLTk8iLC01Myw1MyksQllNT05USDpyLmJpbmQodGhpcywiQllNT05USCIsMSwxMiksQllTRVRQT1M6ci5iaW5kKHRoaXMsIkJZU0VUUE9TIiwtMzY2LDM2Nil9O2UuUmVjdXIuZnJvbVN0cmluZz1mdW5jdGlvbihjKXt2YXIgZD1lLlJlY3VyLl9zdHJpbmdUb0RhdGEoYywhMSk7cmV0dXJuIG5ldyBlLlJlY3VyKGQpfSxlLlJlY3VyLmZyb21EYXRhPWZ1bmN0aW9uKGMpe3JldHVybiBuZXcgZS5SZWN1cihjKX0sZS5SZWN1ci5fc3RyaW5nVG9EYXRhPWZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCkscD1jLnNwbGl0KCI7IiksbT1wLmxlbmd0aCx5PTA7eTxtO3krKyl7dmFyIFQ9cFt5XS5zcGxpdCgiPSIpLHY9VFswXS50b1VwcGVyQ2FzZSgpLF89VFswXS50b0xvd2VyQ2FzZSgpLE89ZD9fOnYsST1UWzFdO2lmKHYgaW4gaCl7Zm9yKHZhciB3PUkuc3BsaXQoIiwiKSxBPTAsRT13Lmxlbmd0aDtBPEU7QSsrKXdbQV09aFt2XSh3W0FdKTtmW09dPXcubGVuZ3RoPT0xP3dbMF06d31lbHNlIHYgaW4gdT91W3ZdKEksZixkKTpmW19dPUl9cmV0dXJuIGZ9fSgpLGUuUmVjdXJJdGVyYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobil7dGhpcy5mcm9tRGF0YShuKX1yZXR1cm4gdC5wcm90b3R5cGU9e2NvbXBsZXRlZDohMSxydWxlOm51bGwsZHRzdGFydDpudWxsLGxhc3Q6bnVsbCxvY2N1cnJlbmNlX251bWJlcjowLGJ5X2luZGljZXM6bnVsbCxpbml0aWFsaXplZDohMSxieV9kYXRhOm51bGwsZGF5czpudWxsLGRheXNfaW5kZXg6MCxmcm9tRGF0YTpmdW5jdGlvbihuKXtpZih0aGlzLnJ1bGU9ZS5oZWxwZXJzLmZvcm1hdENsYXNzVHlwZShuLnJ1bGUsZS5SZWN1ciksIXRoaXMucnVsZSl0aHJvdyBuZXcgRXJyb3IoIml0ZXJhdG9yIHJlcXVpcmVzIGEgKElDQUwuUmVjdXIpIHJ1bGUiKTtpZih0aGlzLmR0c3RhcnQ9ZS5oZWxwZXJzLmZvcm1hdENsYXNzVHlwZShuLmR0c3RhcnQsZS5UaW1lKSwhdGhpcy5kdHN0YXJ0KXRocm93IG5ldyBFcnJvcigiaXRlcmF0b3IgcmVxdWlyZXMgYSAoSUNBTC5UaW1lKSBkdHN0YXJ0Iik7bi5ieV9kYXRhP3RoaXMuYnlfZGF0YT1uLmJ5X2RhdGE6dGhpcy5ieV9kYXRhPWUuaGVscGVycy5jbG9uZSh0aGlzLnJ1bGUucGFydHMsITApLG4ub2NjdXJyZW5jZV9udW1iZXImJih0aGlzLm9jY3VycmVuY2VfbnVtYmVyPW4ub2NjdXJyZW5jZV9udW1iZXIpLHRoaXMuZGF5cz1uLmRheXN8fFtdLG4ubGFzdCYmKHRoaXMubGFzdD1lLmhlbHBlcnMuZm9ybWF0Q2xhc3NUeXBlKG4ubGFzdCxlLlRpbWUpKSx0aGlzLmJ5X2luZGljZXM9bi5ieV9pbmRpY2VzLHRoaXMuYnlfaW5kaWNlc3x8KHRoaXMuYnlfaW5kaWNlcz17QllTRUNPTkQ6MCxCWU1JTlVURTowLEJZSE9VUjowLEJZREFZOjAsQllNT05USDowLEJZV0VFS05POjAsQllNT05USERBWTowfSksdGhpcy5pbml0aWFsaXplZD1uLmluaXRpYWxpemVkfHwhMSx0aGlzLmluaXRpYWxpemVkfHx0aGlzLmluaXQoKX0saW5pdDpmdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sYXN0PXRoaXMuZHRzdGFydC5jbG9uZSgpO3ZhciBzPXRoaXMuYnlfZGF0YTtpZigiQllEQVkiaW4gcyYmdGhpcy5zb3J0X2J5ZGF5X3J1bGVzKHMuQllEQVkpLCJCWVlFQVJEQVkiaW4gcyYmKCJCWU1PTlRIImluIHN8fCJCWVdFRUtOTyJpbiBzfHwiQllNT05USERBWSJpbiBzfHwiQllEQVkiaW4gcykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIEJZWUVBUkRBWSBydWxlIik7aWYoIkJZV0VFS05PImluIHMmJiJCWU1PTlRIREFZImluIHMpdGhyb3cgbmV3IEVycm9yKCJCWVdFRUtOTyBkb2VzIG5vdCBmaXQgdG8gQllNT05USERBWSIpO2lmKHRoaXMucnVsZS5mcmVxPT0iTU9OVEhMWSImJigiQllZRUFSREFZImluIHN8fCJCWVdFRUtOTyJpbiBzKSl0aHJvdyBuZXcgRXJyb3IoIkZvciBNT05USExZIHJlY3VycmVuY2VzIG5laXRoZXIgQllZRUFSREFZIG5vciBCWVdFRUtOTyBtYXkgYXBwZWFyIik7aWYodGhpcy5ydWxlLmZyZXE9PSJXRUVLTFkiJiYoIkJZWUVBUkRBWSJpbiBzfHwiQllNT05USERBWSJpbiBzKSl0aHJvdyBuZXcgRXJyb3IoIkZvciBXRUVLTFkgcmVjdXJyZW5jZXMgbmVpdGhlciBCWU1PTlRIREFZIG5vciBCWVlFQVJEQVkgbWF5IGFwcGVhciIpO2lmKHRoaXMucnVsZS5mcmVxIT0iWUVBUkxZIiYmIkJZWUVBUkRBWSJpbiBzKXRocm93IG5ldyBFcnJvcigiQllZRUFSREFZIG1heSBvbmx5IGFwcGVhciBpbiBZRUFSTFkgcnVsZXMiKTtpZih0aGlzLmxhc3Quc2Vjb25kPXRoaXMuc2V0dXBfZGVmYXVsdHMoIkJZU0VDT05EIiwiU0VDT05ETFkiLHRoaXMuZHRzdGFydC5zZWNvbmQpLHRoaXMubGFzdC5taW51dGU9dGhpcy5zZXR1cF9kZWZhdWx0cygiQllNSU5VVEUiLCJNSU5VVEVMWSIsdGhpcy5kdHN0YXJ0Lm1pbnV0ZSksdGhpcy5sYXN0LmhvdXI9dGhpcy5zZXR1cF9kZWZhdWx0cygiQllIT1VSIiwiSE9VUkxZIix0aGlzLmR0c3RhcnQuaG91ciksdGhpcy5sYXN0LmRheT10aGlzLnNldHVwX2RlZmF1bHRzKCJCWU1PTlRIREFZIiwiREFJTFkiLHRoaXMuZHRzdGFydC5kYXkpLHRoaXMubGFzdC5tb250aD10aGlzLnNldHVwX2RlZmF1bHRzKCJCWU1PTlRIIiwiTU9OVEhMWSIsdGhpcy5kdHN0YXJ0Lm1vbnRoKSx0aGlzLnJ1bGUuZnJlcT09IldFRUtMWSIpaWYoIkJZREFZImluIHMpe3ZhciByPXRoaXMucnVsZURheU9mV2VlayhzLkJZREFZWzBdLHRoaXMucnVsZS53a3N0KSxvPXJbMF0sYT1yWzFdLGw9YS10aGlzLmxhc3QuZGF5T2ZXZWVrKHRoaXMucnVsZS53a3N0KTsodGhpcy5sYXN0LmRheU9mV2Vlayh0aGlzLnJ1bGUud2tzdCk8YSYmbD49MHx8bDwwKSYmKHRoaXMubGFzdC5kYXkrPWwpfWVsc2V7dmFyIHU9ZS5SZWN1ci5udW1lcmljRGF5VG9JY2FsRGF5KHRoaXMuZHRzdGFydC5kYXlPZldlZWsoKSk7cy5CWURBWT1bdV19aWYodGhpcy5ydWxlLmZyZXE9PSJZRUFSTFkiKXtmb3IoO3RoaXMuZXhwYW5kX3llYXJfZGF5cyh0aGlzLmxhc3QueWVhciksISh0aGlzLmRheXMubGVuZ3RoPjApOyl0aGlzLmluY3JlbWVudF95ZWFyKHRoaXMucnVsZS5pbnRlcnZhbCk7dGhpcy5fbmV4dEJ5WWVhckRheSgpfWlmKHRoaXMucnVsZS5mcmVxPT0iTU9OVEhMWSImJnRoaXMuaGFzX2J5X2RhdGEoIkJZREFZIikpe3ZhciBoPW51bGwsYz10aGlzLmxhc3QuY2xvbmUoKSxkPWUuVGltZS5kYXlzSW5Nb250aCh0aGlzLmxhc3QubW9udGgsdGhpcy5sYXN0LnllYXIpO2Zvcih2YXIgZiBpbiB0aGlzLmJ5X2RhdGEuQllEQVkpaWYodGhpcy5ieV9kYXRhLkJZREFZLmhhc093blByb3BlcnR5KGYpKXt0aGlzLmxhc3Q9Yy5jbG9uZSgpO3ZhciByPXRoaXMucnVsZURheU9mV2Vlayh0aGlzLmJ5X2RhdGEuQllEQVlbZl0pLG89clswXSxhPXJbMV0scD10aGlzLmxhc3QubnRoV2Vla0RheShhLG8pO2lmKG8+PTZ8fG88PS02KXRocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIHZhbHVlcyBpbiBCWURBWSBwYXJ0Iik7aWYocD5kfHxwPD0wKXtpZihoJiZoLm1vbnRoPT1jLm1vbnRoKWNvbnRpbnVlO2Zvcig7cD5kfHxwPD0wOyl0aGlzLmluY3JlbWVudF9tb250aCgpLGQ9ZS5UaW1lLmRheXNJbk1vbnRoKHRoaXMubGFzdC5tb250aCx0aGlzLmxhc3QueWVhcikscD10aGlzLmxhc3QubnRoV2Vla0RheShhLG8pfXRoaXMubGFzdC5kYXk9cCwoIWh8fHRoaXMubGFzdC5jb21wYXJlKGgpPDApJiYoaD10aGlzLmxhc3QuY2xvbmUoKSl9aWYodGhpcy5sYXN0PWguY2xvbmUoKSx0aGlzLmhhc19ieV9kYXRhKCJCWU1PTlRIREFZIikmJnRoaXMuX2J5RGF5QW5kTW9udGhEYXkoITApLHRoaXMubGFzdC5kYXk+ZHx8dGhpcy5sYXN0LmRheT09MCl0aHJvdyBuZXcgRXJyb3IoIk1hbGZvcm1lZCB2YWx1ZXMgaW4gQllEQVkgcGFydCIpfWVsc2UgaWYodGhpcy5oYXNfYnlfZGF0YSgiQllNT05USERBWSIpJiZ0aGlzLmxhc3QuZGF5PDApe3ZhciBkPWUuVGltZS5kYXlzSW5Nb250aCh0aGlzLmxhc3QubW9udGgsdGhpcy5sYXN0LnllYXIpO3RoaXMubGFzdC5kYXk9ZCt0aGlzLmxhc3QuZGF5KzF9fSxuZXh0OmZ1bmN0aW9uKCl7dmFyIHM9dGhpcy5sYXN0P3RoaXMubGFzdC5jbG9uZSgpOm51bGw7aWYodGhpcy5ydWxlLmNvdW50JiZ0aGlzLm9jY3VycmVuY2VfbnVtYmVyPj10aGlzLnJ1bGUuY291bnR8fHRoaXMucnVsZS51bnRpbCYmdGhpcy5sYXN0LmNvbXBhcmUodGhpcy5ydWxlLnVudGlsKT4wKXJldHVybiB0aGlzLmNvbXBsZXRlZD0hMCxudWxsO2lmKHRoaXMub2NjdXJyZW5jZV9udW1iZXI9PTAmJnRoaXMubGFzdC5jb21wYXJlKHRoaXMuZHRzdGFydCk+PTApcmV0dXJuIHRoaXMub2NjdXJyZW5jZV9udW1iZXIrKyx0aGlzLmxhc3Q7dmFyIHI7ZG8gc3dpdGNoKHI9MSx0aGlzLnJ1bGUuZnJlcSl7Y2FzZSJTRUNPTkRMWSI6dGhpcy5uZXh0X3NlY29uZCgpO2JyZWFrO2Nhc2UiTUlOVVRFTFkiOnRoaXMubmV4dF9taW51dGUoKTticmVhaztjYXNlIkhPVVJMWSI6dGhpcy5uZXh0X2hvdXIoKTticmVhaztjYXNlIkRBSUxZIjp0aGlzLm5leHRfZGF5KCk7YnJlYWs7Y2FzZSJXRUVLTFkiOnRoaXMubmV4dF93ZWVrKCk7YnJlYWs7Y2FzZSJNT05USExZIjpyPXRoaXMubmV4dF9tb250aCgpO2JyZWFrO2Nhc2UiWUVBUkxZIjp0aGlzLm5leHRfeWVhcigpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9d2hpbGUoIXRoaXMuY2hlY2tfY29udHJhY3RpbmdfcnVsZXMoKXx8dGhpcy5sYXN0LmNvbXBhcmUodGhpcy5kdHN0YXJ0KTwwfHwhcik7aWYodGhpcy5sYXN0LmNvbXBhcmUocyk9PTApdGhyb3cgbmV3IEVycm9yKCJTYW1lIG9jY3VycmVuY2UgZm91bmQgdHdpY2UsIHByb3RlY3RpbmcgeW91IGZyb20gZGVhdGggYnkgcmVjdXJzaW9uIik7cmV0dXJuIHRoaXMucnVsZS51bnRpbCYmdGhpcy5sYXN0LmNvbXBhcmUodGhpcy5ydWxlLnVudGlsKT4wPyh0aGlzLmNvbXBsZXRlZD0hMCxudWxsKToodGhpcy5vY2N1cnJlbmNlX251bWJlcisrLHRoaXMubGFzdCl9LG5leHRfc2Vjb25kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dF9nZW5lcmljKCJCWVNFQ09ORCIsIlNFQ09ORExZIiwic2Vjb25kIiwibWludXRlIil9LGluY3JlbWVudF9zZWNvbmQ6ZnVuY3Rpb24ocyl7cmV0dXJuIHRoaXMuaW5jcmVtZW50X2dlbmVyaWMocywic2Vjb25kIiw2MCwibWludXRlIil9LG5leHRfbWludXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dF9nZW5lcmljKCJCWU1JTlVURSIsIk1JTlVURUxZIiwibWludXRlIiwiaG91ciIsIm5leHRfc2Vjb25kIil9LGluY3JlbWVudF9taW51dGU6ZnVuY3Rpb24ocyl7cmV0dXJuIHRoaXMuaW5jcmVtZW50X2dlbmVyaWMocywibWludXRlIiw2MCwiaG91ciIpfSxuZXh0X2hvdXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0X2dlbmVyaWMoIkJZSE9VUiIsIkhPVVJMWSIsImhvdXIiLCJtb250aGRheSIsIm5leHRfbWludXRlIil9LGluY3JlbWVudF9ob3VyOmZ1bmN0aW9uKHMpe3RoaXMuaW5jcmVtZW50X2dlbmVyaWMocywiaG91ciIsMjQsIm1vbnRoZGF5Iil9LG5leHRfZGF5OmZ1bmN0aW9uKCl7IkJZREFZImluIHRoaXMuYnlfZGF0YTt2YXIgcz10aGlzLnJ1bGUuZnJlcT09IkRBSUxZIjtyZXR1cm4gdGhpcy5uZXh0X2hvdXIoKT09MHx8KHM/dGhpcy5pbmNyZW1lbnRfbW9udGhkYXkodGhpcy5ydWxlLmludGVydmFsKTp0aGlzLmluY3JlbWVudF9tb250aGRheSgxKSksMH0sbmV4dF93ZWVrOmZ1bmN0aW9uKCl7dmFyIHM9MDtpZih0aGlzLm5leHRfd2Vla2RheV9ieV93ZWVrKCk9PTApcmV0dXJuIHM7aWYodGhpcy5oYXNfYnlfZGF0YSgiQllXRUVLTk8iKSl7Kyt0aGlzLmJ5X2luZGljZXMuQllXRUVLTk8sdGhpcy5ieV9pbmRpY2VzLkJZV0VFS05PPT10aGlzLmJ5X2RhdGEuQllXRUVLTk8ubGVuZ3RoJiYodGhpcy5ieV9pbmRpY2VzLkJZV0VFS05PPTAscz0xKSx0aGlzLmxhc3QubW9udGg9MSx0aGlzLmxhc3QuZGF5PTE7dmFyIHI9dGhpcy5ieV9kYXRhLkJZV0VFS05PW3RoaXMuYnlfaW5kaWNlcy5CWVdFRUtOT107dGhpcy5sYXN0LmRheSs9NypyLHMmJnRoaXMuaW5jcmVtZW50X3llYXIoMSl9ZWxzZSB0aGlzLmluY3JlbWVudF9tb250aGRheSg3KnRoaXMucnVsZS5pbnRlcnZhbCk7cmV0dXJuIHN9LG5vcm1hbGl6ZUJ5TW9udGhEYXlSdWxlczpmdW5jdGlvbihuLHMscil7Zm9yKHZhciBvPWUuVGltZS5kYXlzSW5Nb250aChzLG4pLGE9W10sbD0wLHU9ci5sZW5ndGgsaDtsPHU7bCsrKWlmKGg9cltsXSwhKE1hdGguYWJzKGgpPm8pKXtpZihoPDApaD1vKyhoKzEpO2Vsc2UgaWYoaD09PTApY29udGludWU7YS5pbmRleE9mKGgpPT09LTEmJmEucHVzaChoKX1yZXR1cm4gYS5zb3J0KGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGMtZH0pfSxfYnlEYXlBbmRNb250aERheTpmdW5jdGlvbihuKXt2YXIgcyxyPXRoaXMuYnlfZGF0YS5CWURBWSxvLGE9MCxsLHU9ci5sZW5ndGgsaD0wLGMsZD10aGlzLGY9dGhpcy5sYXN0LmRheTtmdW5jdGlvbiBwKCl7Zm9yKGM9ZS5UaW1lLmRheXNJbk1vbnRoKGQubGFzdC5tb250aCxkLmxhc3QueWVhcikscz1kLm5vcm1hbGl6ZUJ5TW9udGhEYXlSdWxlcyhkLmxhc3QueWVhcixkLmxhc3QubW9udGgsZC5ieV9kYXRhLkJZTU9OVEhEQVkpLGw9cy5sZW5ndGg7c1thXTw9ZiYmIShuJiZzW2FdPT1mKSYmYTxsLTE7KWErK31mdW5jdGlvbiBtKCl7Zj0wLGQuaW5jcmVtZW50X21vbnRoKCksYT0wLHAoKX1wKCksbiYmKGYtPTEpO2Zvcih2YXIgeT00ODshaCYmeTspe2lmKHktLSxvPWYrMSxvPmMpe20oKTtjb250aW51ZX12YXIgVD1zW2ErK107aWYoVD49bylmPVQ7ZWxzZXttKCk7Y29udGludWV9Zm9yKHZhciB2PTA7djx1O3YrKyl7dmFyIF89dGhpcy5ydWxlRGF5T2ZXZWVrKHJbdl0pLE89X1swXSxJPV9bMV07aWYodGhpcy5sYXN0LmRheT1mLHRoaXMubGFzdC5pc050aFdlZWtEYXkoSSxPKSl7aD0xO2JyZWFrfX1pZighaCYmYT09PWwpe20oKTtjb250aW51ZX19aWYoeTw9MCl0aHJvdyBuZXcgRXJyb3IoIk1hbGZvcm1lZCB2YWx1ZXMgaW4gQllEQVkgY29tYmluZWQgd2l0aCBCWU1PTlRIREFZIHBhcnRzIik7cmV0dXJuIGh9LG5leHRfbW9udGg6ZnVuY3Rpb24oKXt0aGlzLnJ1bGUuZnJlcT09Ik1PTlRITFkiO3ZhciBzPTE7aWYodGhpcy5uZXh0X2hvdXIoKT09MClyZXR1cm4gcztpZih0aGlzLmhhc19ieV9kYXRhKCJCWURBWSIpJiZ0aGlzLmhhc19ieV9kYXRhKCJCWU1PTlRIREFZIikpcz10aGlzLl9ieURheUFuZE1vbnRoRGF5KCk7ZWxzZSBpZih0aGlzLmhhc19ieV9kYXRhKCJCWURBWSIpKXt2YXIgcj1lLlRpbWUuZGF5c0luTW9udGgodGhpcy5sYXN0Lm1vbnRoLHRoaXMubGFzdC55ZWFyKSxvPTAsYT0wO2lmKHRoaXMuaGFzX2J5X2RhdGEoIkJZU0VUUE9TIikpe2Zvcih2YXIgbD10aGlzLmxhc3QuZGF5LHU9MTt1PD1yO3UrKyl0aGlzLmxhc3QuZGF5PXUsdGhpcy5pc19kYXlfaW5fYnlkYXkodGhpcy5sYXN0KSYmKGErKyx1PD1sJiZvKyspO3RoaXMubGFzdC5kYXk9bH1zPTA7Zm9yKHZhciB1PXRoaXMubGFzdC5kYXkrMTt1PD1yO3UrKylpZih0aGlzLmxhc3QuZGF5PXUsdGhpcy5pc19kYXlfaW5fYnlkYXkodGhpcy5sYXN0KSYmKCF0aGlzLmhhc19ieV9kYXRhKCJCWVNFVFBPUyIpfHx0aGlzLmNoZWNrX3NldF9wb3NpdGlvbigrK28pfHx0aGlzLmNoZWNrX3NldF9wb3NpdGlvbihvLWEtMSkpKXtzPTE7YnJlYWt9dT5yJiYodGhpcy5sYXN0LmRheT0xLHRoaXMuaW5jcmVtZW50X21vbnRoKCksdGhpcy5pc19kYXlfaW5fYnlkYXkodGhpcy5sYXN0KT8oIXRoaXMuaGFzX2J5X2RhdGEoIkJZU0VUUE9TIil8fHRoaXMuY2hlY2tfc2V0X3Bvc2l0aW9uKDEpKSYmKHM9MSk6cz0wKX1lbHNlIGlmKHRoaXMuaGFzX2J5X2RhdGEoIkJZTU9OVEhEQVkiKSl7dGhpcy5ieV9pbmRpY2VzLkJZTU9OVEhEQVkrKyx0aGlzLmJ5X2luZGljZXMuQllNT05USERBWT49dGhpcy5ieV9kYXRhLkJZTU9OVEhEQVkubGVuZ3RoJiYodGhpcy5ieV9pbmRpY2VzLkJZTU9OVEhEQVk9MCx0aGlzLmluY3JlbWVudF9tb250aCgpKTt2YXIgcj1lLlRpbWUuZGF5c0luTW9udGgodGhpcy5sYXN0Lm1vbnRoLHRoaXMubGFzdC55ZWFyKSx1PXRoaXMuYnlfZGF0YS5CWU1PTlRIREFZW3RoaXMuYnlfaW5kaWNlcy5CWU1PTlRIREFZXTt1PDAmJih1PXIrdSsxKSx1PnI/KHRoaXMubGFzdC5kYXk9MSxzPXRoaXMuaXNfZGF5X2luX2J5ZGF5KHRoaXMubGFzdCkpOnRoaXMubGFzdC5kYXk9dX1lbHNle3RoaXMuaW5jcmVtZW50X21vbnRoKCk7dmFyIHI9ZS5UaW1lLmRheXNJbk1vbnRoKHRoaXMubGFzdC5tb250aCx0aGlzLmxhc3QueWVhcik7dGhpcy5ieV9kYXRhLkJZTU9OVEhEQVlbMF0+cj9zPTA6dGhpcy5sYXN0LmRheT10aGlzLmJ5X2RhdGEuQllNT05USERBWVswXX1yZXR1cm4gc30sbmV4dF93ZWVrZGF5X2J5X3dlZWs6ZnVuY3Rpb24oKXt2YXIgcz0wO2lmKHRoaXMubmV4dF9ob3VyKCk9PTApcmV0dXJuIHM7aWYoIXRoaXMuaGFzX2J5X2RhdGEoIkJZREFZIikpcmV0dXJuIDE7Zm9yKDs7KXt2YXIgcj1uZXcgZS5UaW1lO3RoaXMuYnlfaW5kaWNlcy5CWURBWSsrLHRoaXMuYnlfaW5kaWNlcy5CWURBWT09T2JqZWN0LmtleXModGhpcy5ieV9kYXRhLkJZREFZKS5sZW5ndGgmJih0aGlzLmJ5X2luZGljZXMuQllEQVk9MCxzPTEpO3ZhciBvPXRoaXMuYnlfZGF0YS5CWURBWVt0aGlzLmJ5X2luZGljZXMuQllEQVldLGE9dGhpcy5ydWxlRGF5T2ZXZWVrKG8pLGw9YVsxXTtsLT10aGlzLnJ1bGUud2tzdCxsPDAmJihsKz03KSxyLnllYXI9dGhpcy5sYXN0LnllYXIsci5tb250aD10aGlzLmxhc3QubW9udGgsci5kYXk9dGhpcy5sYXN0LmRheTt2YXIgdT1yLnN0YXJ0RG95V2Vlayh0aGlzLnJ1bGUud2tzdCk7aWYoIShsK3U8MSYmIXMpKXt2YXIgaD1lLlRpbWUuZnJvbURheU9mWWVhcih1K2wsdGhpcy5sYXN0LnllYXIpO3JldHVybiB0aGlzLmxhc3QueWVhcj1oLnllYXIsdGhpcy5sYXN0Lm1vbnRoPWgubW9udGgsdGhpcy5sYXN0LmRheT1oLmRheSxzfX19LG5leHRfeWVhcjpmdW5jdGlvbigpe2lmKHRoaXMubmV4dF9ob3VyKCk9PTApcmV0dXJuIDA7aWYoKyt0aGlzLmRheXNfaW5kZXg9PXRoaXMuZGF5cy5sZW5ndGgpe3RoaXMuZGF5c19pbmRleD0wO2RvIHRoaXMuaW5jcmVtZW50X3llYXIodGhpcy5ydWxlLmludGVydmFsKSx0aGlzLmV4cGFuZF95ZWFyX2RheXModGhpcy5sYXN0LnllYXIpO3doaWxlKHRoaXMuZGF5cy5sZW5ndGg9PTApfXJldHVybiB0aGlzLl9uZXh0QnlZZWFyRGF5KCksMX0sX25leHRCeVllYXJEYXk6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLmRheXNbdGhpcy5kYXlzX2luZGV4XSxyPXRoaXMubGFzdC55ZWFyO3M8MSYmKHMrPTEscis9MSk7dmFyIG89ZS5UaW1lLmZyb21EYXlPZlllYXIocyxyKTt0aGlzLmxhc3QuZGF5PW8uZGF5LHRoaXMubGFzdC5tb250aD1vLm1vbnRofSxydWxlRGF5T2ZXZWVrOmZ1bmN0aW9uKHMscil7dmFyIG89cy5tYXRjaCgvKFsrLV0/WzAtOV0pPyhNT3xUVXxXRXxUSHxGUnxTQXxTVSkvKTtpZihvKXt2YXIgYT1wYXJzZUludChvWzFdfHwwLDEwKTtyZXR1cm4gcz1lLlJlY3VyLmljYWxEYXlUb051bWVyaWNEYXkob1syXSxyKSxbYSxzXX1lbHNlIHJldHVyblswLDBdfSxuZXh0X2dlbmVyaWM6ZnVuY3Rpb24ocyxyLG8sYSxsKXt2YXIgdT1zIGluIHRoaXMuYnlfZGF0YSxoPXRoaXMucnVsZS5mcmVxPT1yLGM9MDtpZihsJiZ0aGlzW2xdKCk9PTApcmV0dXJuIGM7aWYodSl7dGhpcy5ieV9pbmRpY2VzW3NdKyssdGhpcy5ieV9pbmRpY2VzW3NdO3ZhciBkPXRoaXMuYnlfZGF0YVtzXTt0aGlzLmJ5X2luZGljZXNbc109PWQubGVuZ3RoJiYodGhpcy5ieV9pbmRpY2VzW3NdPTAsYz0xKSx0aGlzLmxhc3Rbb109ZFt0aGlzLmJ5X2luZGljZXNbc11dfWVsc2UgaCYmdGhpc1siaW5jcmVtZW50XyIrb10odGhpcy5ydWxlLmludGVydmFsKTtyZXR1cm4gdSYmYyYmaCYmdGhpc1siaW5jcmVtZW50XyIrYV0oMSksY30saW5jcmVtZW50X21vbnRoZGF5OmZ1bmN0aW9uKHMpe2Zvcih2YXIgcj0wO3I8cztyKyspe3ZhciBvPWUuVGltZS5kYXlzSW5Nb250aCh0aGlzLmxhc3QubW9udGgsdGhpcy5sYXN0LnllYXIpO3RoaXMubGFzdC5kYXkrKyx0aGlzLmxhc3QuZGF5Pm8mJih0aGlzLmxhc3QuZGF5LT1vLHRoaXMuaW5jcmVtZW50X21vbnRoKCkpfX0saW5jcmVtZW50X21vbnRoOmZ1bmN0aW9uKCl7aWYodGhpcy5sYXN0LmRheT0xLHRoaXMuaGFzX2J5X2RhdGEoIkJZTU9OVEgiKSl0aGlzLmJ5X2luZGljZXMuQllNT05USCsrLHRoaXMuYnlfaW5kaWNlcy5CWU1PTlRIPT10aGlzLmJ5X2RhdGEuQllNT05USC5sZW5ndGgmJih0aGlzLmJ5X2luZGljZXMuQllNT05USD0wLHRoaXMuaW5jcmVtZW50X3llYXIoMSkpLHRoaXMubGFzdC5tb250aD10aGlzLmJ5X2RhdGEuQllNT05USFt0aGlzLmJ5X2luZGljZXMuQllNT05USF07ZWxzZXt0aGlzLnJ1bGUuZnJlcT09Ik1PTlRITFkiP3RoaXMubGFzdC5tb250aCs9dGhpcy5ydWxlLmludGVydmFsOnRoaXMubGFzdC5tb250aCsrLHRoaXMubGFzdC5tb250aC0tO3ZhciBzPWUuaGVscGVycy50cnVuYyh0aGlzLmxhc3QubW9udGgvMTIpO3RoaXMubGFzdC5tb250aCU9MTIsdGhpcy5sYXN0Lm1vbnRoKysscyE9MCYmdGhpcy5pbmNyZW1lbnRfeWVhcihzKX19LGluY3JlbWVudF95ZWFyOmZ1bmN0aW9uKHMpe3RoaXMubGFzdC55ZWFyKz1zfSxpbmNyZW1lbnRfZ2VuZXJpYzpmdW5jdGlvbihzLHIsbyxhKXt0aGlzLmxhc3Rbcl0rPXM7dmFyIGw9ZS5oZWxwZXJzLnRydW5jKHRoaXMubGFzdFtyXS9vKTt0aGlzLmxhc3Rbcl0lPW8sbCE9MCYmdGhpc1siaW5jcmVtZW50XyIrYV0obCl9LGhhc19ieV9kYXRhOmZ1bmN0aW9uKHMpe3JldHVybiBzIGluIHRoaXMucnVsZS5wYXJ0c30sZXhwYW5kX3llYXJfZGF5czpmdW5jdGlvbihzKXt2YXIgcj1uZXcgZS5UaW1lO3RoaXMuZGF5cz1bXTt2YXIgbz17fSxhPVsiQllEQVkiLCJCWVdFRUtOTyIsIkJZTU9OVEhEQVkiLCJCWU1PTlRIIiwiQllZRUFSREFZIl07Zm9yKHZhciBsIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIHU9YVtsXTt1IGluIHRoaXMucnVsZS5wYXJ0cyYmKG9bdV09dGhpcy5ydWxlLnBhcnRzW3VdKX1pZigiQllNT05USCJpbiBvJiYiQllXRUVLTk8iaW4gbyl7dmFyIGg9MSxjPXt9O3IueWVhcj1zLHIuaXNEYXRlPSEwO2Zvcih2YXIgZD0wO2Q8dGhpcy5ieV9kYXRhLkJZTU9OVEgubGVuZ3RoO2QrKyl7dmFyIGY9dGhpcy5ieV9kYXRhLkJZTU9OVEhbZF07ci5tb250aD1mLHIuZGF5PTE7dmFyIHA9ci53ZWVrTnVtYmVyKHRoaXMucnVsZS53a3N0KTtyLmRheT1lLlRpbWUuZGF5c0luTW9udGgoZixzKTt2YXIgbT1yLndlZWtOdW1iZXIodGhpcy5ydWxlLndrc3QpO2ZvcihkPXA7ZDxtO2QrKyljW2RdPTF9Zm9yKHZhciB5PTA7eTx0aGlzLmJ5X2RhdGEuQllXRUVLTk8ubGVuZ3RoJiZoO3krKyl7dmFyIFQ9dGhpcy5ieV9kYXRhLkJZV0VFS05PW3ldO1Q8NTI/aCY9Y1t5XTpoPTB9aD9kZWxldGUgby5CWU1PTlRIOmRlbGV0ZSBvLkJZV0VFS05PfXZhciB2PU9iamVjdC5rZXlzKG8pLmxlbmd0aDtpZih2PT0wKXt2YXIgXz10aGlzLmR0c3RhcnQuY2xvbmUoKTtfLnllYXI9dGhpcy5sYXN0LnllYXIsdGhpcy5kYXlzLnB1c2goXy5kYXlPZlllYXIoKSl9ZWxzZSBpZih2PT0xJiYiQllNT05USCJpbiBvKXtmb3IodmFyIE8gaW4gdGhpcy5ieV9kYXRhLkJZTU9OVEgpaWYodGhpcy5ieV9kYXRhLkJZTU9OVEguaGFzT3duUHJvcGVydHkoTykpe3ZhciBJPXRoaXMuZHRzdGFydC5jbG9uZSgpO0kueWVhcj1zLEkubW9udGg9dGhpcy5ieV9kYXRhLkJZTU9OVEhbT10sSS5pc0RhdGU9ITAsdGhpcy5kYXlzLnB1c2goSS5kYXlPZlllYXIoKSl9fWVsc2UgaWYodj09MSYmIkJZTU9OVEhEQVkiaW4gbyl7Zm9yKHZhciB3IGluIHRoaXMuYnlfZGF0YS5CWU1PTlRIREFZKWlmKHRoaXMuYnlfZGF0YS5CWU1PTlRIREFZLmhhc093blByb3BlcnR5KHcpKXt2YXIgQT10aGlzLmR0c3RhcnQuY2xvbmUoKSxFPXRoaXMuYnlfZGF0YS5CWU1PTlRIREFZW3ddO2lmKEU8MCl7dmFyIEM9ZS5UaW1lLmRheXNJbk1vbnRoKEEubW9udGgscyk7RT1FK0MrMX1BLmRheT1FLEEueWVhcj1zLEEuaXNEYXRlPSEwLHRoaXMuZGF5cy5wdXNoKEEuZGF5T2ZZZWFyKCkpfX1lbHNlIGlmKHY9PTImJiJCWU1PTlRIREFZImluIG8mJiJCWU1PTlRIImluIG8pe2Zvcih2YXIgTyBpbiB0aGlzLmJ5X2RhdGEuQllNT05USClpZih0aGlzLmJ5X2RhdGEuQllNT05USC5oYXNPd25Qcm9wZXJ0eShPKSl7dmFyIFA9dGhpcy5ieV9kYXRhLkJZTU9OVEhbT10sQz1lLlRpbWUuZGF5c0luTW9udGgoUCxzKTtmb3IodmFyIHcgaW4gdGhpcy5ieV9kYXRhLkJZTU9OVEhEQVkpaWYodGhpcy5ieV9kYXRhLkJZTU9OVEhEQVkuaGFzT3duUHJvcGVydHkodykpe3ZhciBFPXRoaXMuYnlfZGF0YS5CWU1PTlRIREFZW3ddO0U8MCYmKEU9RStDKzEpLHIuZGF5PUUsci5tb250aD1QLHIueWVhcj1zLHIuaXNEYXRlPSEwLHRoaXMuZGF5cy5wdXNoKHIuZGF5T2ZZZWFyKCkpfX19ZWxzZSBpZighKHY9PTEmJiJCWVdFRUtOTyJpbiBvKSl7aWYoISh2PT0yJiYiQllXRUVLTk8iaW4gbyYmIkJZTU9OVEhEQVkiaW4gbykpaWYodj09MSYmIkJZREFZImluIG8pdGhpcy5kYXlzPXRoaXMuZGF5cy5jb25jYXQodGhpcy5leHBhbmRfYnlfZGF5KHMpKTtlbHNlIGlmKHY9PTImJiJCWURBWSJpbiBvJiYiQllNT05USCJpbiBvKXtmb3IodmFyIE8gaW4gdGhpcy5ieV9kYXRhLkJZTU9OVEgpaWYodGhpcy5ieV9kYXRhLkJZTU9OVEguaGFzT3duUHJvcGVydHkoTykpe3ZhciBmPXRoaXMuYnlfZGF0YS5CWU1PTlRIW09dLEM9ZS5UaW1lLmRheXNJbk1vbnRoKGYscyk7ci55ZWFyPXMsci5tb250aD10aGlzLmJ5X2RhdGEuQllNT05USFtPXSxyLmRheT0xLHIuaXNEYXRlPSEwO3ZhciBZPXIuZGF5T2ZXZWVrKCkseD1yLmRheU9mWWVhcigpLTE7ci5kYXk9Qzt2YXIgWj1yLmRheU9mV2VlaygpO2lmKHRoaXMuaGFzX2J5X2RhdGEoIkJZU0VUUE9TIikpe2Zvcih2YXIgVj1bXSxXPTE7Vzw9QztXKyspci5kYXk9Vyx0aGlzLmlzX2RheV9pbl9ieWRheShyKSYmVi5wdXNoKFcpO2Zvcih2YXIgUj0wO1I8Vi5sZW5ndGg7UisrKSh0aGlzLmNoZWNrX3NldF9wb3NpdGlvbihSKzEpfHx0aGlzLmNoZWNrX3NldF9wb3NpdGlvbihSLVYubGVuZ3RoKSkmJnRoaXMuZGF5cy5wdXNoKHgrVltSXSl9ZWxzZSBmb3IodmFyIGsgaW4gdGhpcy5ieV9kYXRhLkJZREFZKWlmKHRoaXMuYnlfZGF0YS5CWURBWS5oYXNPd25Qcm9wZXJ0eShrKSl7dmFyIGc9dGhpcy5ieV9kYXRhLkJZREFZW2tdLE09dGhpcy5ydWxlRGF5T2ZXZWVrKGcpLHo9TVswXSxMPU1bMV0sYWUsSWU9KEwrNy1ZKSU3KzEsa2U9Qy0oWis3LUwpJTc7aWYoej09MClmb3IodmFyIFc9SWU7Vzw9QztXKz03KXRoaXMuZGF5cy5wdXNoKHgrVyk7ZWxzZSB6PjA/KGFlPUllKyh6LTEpKjcsYWU8PUMmJnRoaXMuZGF5cy5wdXNoKHgrYWUpKTooYWU9a2UrKHorMSkqNyxhZT4wJiZ0aGlzLmRheXMucHVzaCh4K2FlKSl9fXRoaXMuZGF5cy5zb3J0KGZ1bmN0aW9uKG9tLGFtKXtyZXR1cm4gb20tYW19KX1lbHNlIGlmKHY9PTImJiJCWURBWSJpbiBvJiYiQllNT05USERBWSJpbiBvKXt2YXIgU2U9dGhpcy5leHBhbmRfYnlfZGF5KHMpO2Zvcih2YXIgQmUgaW4gU2UpaWYoU2UuaGFzT3duUHJvcGVydHkoQmUpKXt2YXIgVz1TZVtCZV0sRXQ9ZS5UaW1lLmZyb21EYXlPZlllYXIoVyxzKTt0aGlzLmJ5X2RhdGEuQllNT05USERBWS5pbmRleE9mKEV0LmRheSk+PTAmJnRoaXMuZGF5cy5wdXNoKFcpfX1lbHNlIGlmKHY9PTMmJiJCWURBWSJpbiBvJiYiQllNT05USERBWSJpbiBvJiYiQllNT05USCJpbiBvKXt2YXIgU2U9dGhpcy5leHBhbmRfYnlfZGF5KHMpO2Zvcih2YXIgQmUgaW4gU2UpaWYoU2UuaGFzT3duUHJvcGVydHkoQmUpKXt2YXIgVz1TZVtCZV0sRXQ9ZS5UaW1lLmZyb21EYXlPZlllYXIoVyxzKTt0aGlzLmJ5X2RhdGEuQllNT05USC5pbmRleE9mKEV0Lm1vbnRoKT49MCYmdGhpcy5ieV9kYXRhLkJZTU9OVEhEQVkuaW5kZXhPZihFdC5kYXkpPj0wJiZ0aGlzLmRheXMucHVzaChXKX19ZWxzZSBpZih2PT0yJiYiQllEQVkiaW4gbyYmIkJZV0VFS05PImluIG8pe3ZhciBTZT10aGlzLmV4cGFuZF9ieV9kYXkocyk7Zm9yKHZhciBCZSBpbiBTZSlpZihTZS5oYXNPd25Qcm9wZXJ0eShCZSkpe3ZhciBXPVNlW0JlXSxFdD1lLlRpbWUuZnJvbURheU9mWWVhcihXLHMpLFQ9RXQud2Vla051bWJlcih0aGlzLnJ1bGUud2tzdCk7dGhpcy5ieV9kYXRhLkJZV0VFS05PLmluZGV4T2YoVCkmJnRoaXMuZGF5cy5wdXNoKFcpfX1lbHNlIHY9PTMmJiJCWURBWSJpbiBvJiYiQllXRUVLTk8iaW4gbyYmIkJZTU9OVEhEQVkiaW4gb3x8KHY9PTEmJiJCWVlFQVJEQVkiaW4gbz90aGlzLmRheXM9dGhpcy5kYXlzLmNvbmNhdCh0aGlzLmJ5X2RhdGEuQllZRUFSREFZKTp0aGlzLmRheXM9W10pfXJldHVybiAwfSxleHBhbmRfYnlfZGF5OmZ1bmN0aW9uKHMpe3ZhciByPVtdLG89dGhpcy5sYXN0LmNsb25lKCk7by55ZWFyPXMsby5tb250aD0xLG8uZGF5PTEsby5pc0RhdGU9ITA7dmFyIGE9by5kYXlPZldlZWsoKTtvLm1vbnRoPTEyLG8uZGF5PTMxLG8uaXNEYXRlPSEwO3ZhciBsPW8uZGF5T2ZXZWVrKCksdT1vLmRheU9mWWVhcigpO2Zvcih2YXIgaCBpbiB0aGlzLmJ5X2RhdGEuQllEQVkpaWYodGhpcy5ieV9kYXRhLkJZREFZLmhhc093blByb3BlcnR5KGgpKXt2YXIgYz10aGlzLmJ5X2RhdGEuQllEQVlbaF0sZD10aGlzLnJ1bGVEYXlPZldlZWsoYyksZj1kWzBdLHA9ZFsxXTtpZihmPT0wKWZvcih2YXIgbT0ocCs3LWEpJTcrMSx5PW07eTw9dTt5Kz03KXIucHVzaCh5KTtlbHNlIGlmKGY+MCl7dmFyIFQ7cD49YT9UPXAtYSsxOlQ9cC1hKzgsci5wdXNoKFQrKGYtMSkqNyl9ZWxzZXt2YXIgdjtmPS1mLHA8PWw/dj11LWwrcDp2PXUtbCtwLTcsci5wdXNoKHYtKGYtMSkqNyl9fXJldHVybiByfSxpc19kYXlfaW5fYnlkYXk6ZnVuY3Rpb24ocyl7Zm9yKHZhciByIGluIHRoaXMuYnlfZGF0YS5CWURBWSlpZih0aGlzLmJ5X2RhdGEuQllEQVkuaGFzT3duUHJvcGVydHkocikpe3ZhciBvPXRoaXMuYnlfZGF0YS5CWURBWVtyXSxhPXRoaXMucnVsZURheU9mV2VlayhvKSxsPWFbMF0sdT1hWzFdLGg9cy5kYXlPZldlZWsoKTtpZihsPT0wJiZ1PT1ofHxzLm50aFdlZWtEYXkodSxsKT09cy5kYXkpcmV0dXJuIDF9cmV0dXJuIDB9LGNoZWNrX3NldF9wb3NpdGlvbjpmdW5jdGlvbihzKXtpZih0aGlzLmhhc19ieV9kYXRhKCJCWVNFVFBPUyIpKXt2YXIgcj10aGlzLmJ5X2RhdGEuQllTRVRQT1MuaW5kZXhPZihzKTtyZXR1cm4gciE9PS0xfXJldHVybiExfSxzb3J0X2J5ZGF5X3J1bGVzOmZ1bmN0aW9uKHMpe2Zvcih2YXIgcj0wO3I8cy5sZW5ndGg7cisrKWZvcih2YXIgbz0wO288cjtvKyspe3ZhciBhPXRoaXMucnVsZURheU9mV2VlayhzW29dLHRoaXMucnVsZS53a3N0KVsxXSxsPXRoaXMucnVsZURheU9mV2VlayhzW3JdLHRoaXMucnVsZS53a3N0KVsxXTtpZihhPmwpe3ZhciB1PXNbcl07c1tyXT1zW29dLHNbb109dX19fSxjaGVja19jb250cmFjdF9yZXN0cmljdGlvbjpmdW5jdGlvbihzLHIpe3ZhciBvPXQuX2luZGV4TWFwW3NdLGE9dC5fZXhwYW5kTWFwW3RoaXMucnVsZS5mcmVxXVtvXSxsPSExO2lmKHMgaW4gdGhpcy5ieV9kYXRhJiZhPT10LkNPTlRSQUNUKXt2YXIgdT10aGlzLmJ5X2RhdGFbc107Zm9yKHZhciBoIGluIHUpaWYodS5oYXNPd25Qcm9wZXJ0eShoKSYmdVtoXT09cil7bD0hMDticmVha319ZWxzZSBsPSEwO3JldHVybiBsfSxjaGVja19jb250cmFjdGluZ19ydWxlczpmdW5jdGlvbigpe3ZhciBzPXRoaXMubGFzdC5kYXlPZldlZWsoKSxyPXRoaXMubGFzdC53ZWVrTnVtYmVyKHRoaXMucnVsZS53a3N0KSxvPXRoaXMubGFzdC5kYXlPZlllYXIoKTtyZXR1cm4gdGhpcy5jaGVja19jb250cmFjdF9yZXN0cmljdGlvbigiQllTRUNPTkQiLHRoaXMubGFzdC5zZWNvbmQpJiZ0aGlzLmNoZWNrX2NvbnRyYWN0X3Jlc3RyaWN0aW9uKCJCWU1JTlVURSIsdGhpcy5sYXN0Lm1pbnV0ZSkmJnRoaXMuY2hlY2tfY29udHJhY3RfcmVzdHJpY3Rpb24oIkJZSE9VUiIsdGhpcy5sYXN0LmhvdXIpJiZ0aGlzLmNoZWNrX2NvbnRyYWN0X3Jlc3RyaWN0aW9uKCJCWURBWSIsZS5SZWN1ci5udW1lcmljRGF5VG9JY2FsRGF5KHMpKSYmdGhpcy5jaGVja19jb250cmFjdF9yZXN0cmljdGlvbigiQllXRUVLTk8iLHIpJiZ0aGlzLmNoZWNrX2NvbnRyYWN0X3Jlc3RyaWN0aW9uKCJCWU1PTlRIREFZIix0aGlzLmxhc3QuZGF5KSYmdGhpcy5jaGVja19jb250cmFjdF9yZXN0cmljdGlvbigiQllNT05USCIsdGhpcy5sYXN0Lm1vbnRoKSYmdGhpcy5jaGVja19jb250cmFjdF9yZXN0cmljdGlvbigiQllZRUFSREFZIixvKX0sc2V0dXBfZGVmYXVsdHM6ZnVuY3Rpb24ocyxyLG8pe3ZhciBhPXQuX2luZGV4TWFwW3NdLGw9dC5fZXhwYW5kTWFwW3RoaXMucnVsZS5mcmVxXVthXTtyZXR1cm4gbCE9dC5DT05UUkFDVCYmKHMgaW4gdGhpcy5ieV9kYXRhfHwodGhpcy5ieV9kYXRhW3NdPVtvXSksdGhpcy5ydWxlLmZyZXEhPXIpP3RoaXMuYnlfZGF0YVtzXVswXTpvfSx0b0pTT046ZnVuY3Rpb24oKXt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBuLmluaXRpYWxpemVkPXRoaXMuaW5pdGlhbGl6ZWQsbi5ydWxlPXRoaXMucnVsZS50b0pTT04oKSxuLmR0c3RhcnQ9dGhpcy5kdHN0YXJ0LnRvSlNPTigpLG4uYnlfZGF0YT10aGlzLmJ5X2RhdGEsbi5kYXlzPXRoaXMuZGF5cyxuLmxhc3Q9dGhpcy5sYXN0LnRvSlNPTigpLG4uYnlfaW5kaWNlcz10aGlzLmJ5X2luZGljZXMsbi5vY2N1cnJlbmNlX251bWJlcj10aGlzLm9jY3VycmVuY2VfbnVtYmVyLG59fSx0Ll9pbmRleE1hcD17QllTRUNPTkQ6MCxCWU1JTlVURToxLEJZSE9VUjoyLEJZREFZOjMsQllNT05USERBWTo0LEJZWUVBUkRBWTo1LEJZV0VFS05POjYsQllNT05USDo3LEJZU0VUUE9TOjh9LHQuX2V4cGFuZE1hcD17U0VDT05ETFk6WzEsMSwxLDEsMSwxLDEsMV0sTUlOVVRFTFk6WzIsMSwxLDEsMSwxLDEsMV0sSE9VUkxZOlsyLDIsMSwxLDEsMSwxLDFdLERBSUxZOlsyLDIsMiwxLDEsMSwxLDFdLFdFRUtMWTpbMiwyLDIsMiwzLDMsMSwxXSxNT05USExZOlsyLDIsMiwyLDIsMywzLDFdLFlFQVJMWTpbMiwyLDIsMiwyLDIsMiwyXX0sdC5VTktOT1dOPTAsdC5DT05UUkFDVD0xLHQuRVhQQU5EPTIsdC5JTExFR0FMPTMsdH0oKSxlLlJlY3VyRXhwYW5zaW9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChvKXtyZXR1cm4gZS5oZWxwZXJzLmZvcm1hdENsYXNzVHlwZShvLGUuVGltZSl9ZnVuY3Rpb24gbihvLGEpe3JldHVybiBvLmNvbXBhcmUoYSl9ZnVuY3Rpb24gcyhvKXtyZXR1cm4gby5oYXNQcm9wZXJ0eSgicmRhdGUiKXx8by5oYXNQcm9wZXJ0eSgicnJ1bGUiKXx8by5oYXNQcm9wZXJ0eSgicmVjdXJyZW5jZS1pZCIpfWZ1bmN0aW9uIHIobyl7dGhpcy5ydWxlRGF0ZXM9W10sdGhpcy5leERhdGVzPVtdLHRoaXMuZnJvbURhdGEobyl9cmV0dXJuIHIucHJvdG90eXBlPXtjb21wbGV0ZTohMSxydWxlSXRlcmF0b3JzOm51bGwscnVsZURhdGVzOm51bGwsZXhEYXRlczpudWxsLHJ1bGVEYXRlSW5jOjAsZXhEYXRlSW5jOjAsZXhEYXRlOm51bGwscnVsZURhdGU6bnVsbCxkdHN0YXJ0Om51bGwsbGFzdDpudWxsLGZyb21EYXRhOmZ1bmN0aW9uKG8pe3ZhciBhPWUuaGVscGVycy5mb3JtYXRDbGFzc1R5cGUoby5kdHN0YXJ0LGUuVGltZSk7aWYoYSl0aGlzLmR0c3RhcnQ9YTtlbHNlIHRocm93IG5ldyBFcnJvcigiLmR0c3RhcnQgKElDQUwuVGltZSkgbXVzdCBiZSBnaXZlbiIpO2lmKG8uY29tcG9uZW50KXRoaXMuX2luaXQoby5jb21wb25lbnQpO2Vsc2V7aWYodGhpcy5sYXN0PXQoby5sYXN0KXx8YS5jbG9uZSgpLCFvLnJ1bGVJdGVyYXRvcnMpdGhyb3cgbmV3IEVycm9yKCIucnVsZUl0ZXJhdG9ycyBvciAuY29tcG9uZW50IG11c3QgYmUgZ2l2ZW4iKTt0aGlzLnJ1bGVJdGVyYXRvcnM9by5ydWxlSXRlcmF0b3JzLm1hcChmdW5jdGlvbihsKXtyZXR1cm4gZS5oZWxwZXJzLmZvcm1hdENsYXNzVHlwZShsLGUuUmVjdXJJdGVyYXRvcil9KSx0aGlzLnJ1bGVEYXRlSW5jPW8ucnVsZURhdGVJbmMsdGhpcy5leERhdGVJbmM9by5leERhdGVJbmMsby5ydWxlRGF0ZXMmJih0aGlzLnJ1bGVEYXRlcz1vLnJ1bGVEYXRlcy5tYXAodCksdGhpcy5ydWxlRGF0ZT10aGlzLnJ1bGVEYXRlc1t0aGlzLnJ1bGVEYXRlSW5jXSksby5leERhdGVzJiYodGhpcy5leERhdGVzPW8uZXhEYXRlcy5tYXAodCksdGhpcy5leERhdGU9dGhpcy5leERhdGVzW3RoaXMuZXhEYXRlSW5jXSksdHlwZW9mIG8uY29tcGxldGU8InUiJiYodGhpcy5jb21wbGV0ZT1vLmNvbXBsZXRlKX19LG5leHQ6ZnVuY3Rpb24oKXtmb3IodmFyIG8sYSxsLHU9NTAwLGg9MDs7KXtpZihoKys+dSl0aHJvdyBuZXcgRXJyb3IoIm1heCB0cmllcyBoYXZlIG9jY3VyZWQsIHJ1bGUgbWF5IGJlIGltcG9zc2libGUgdG8gZm9yZmlsbC4iKTtpZihhPXRoaXMucnVsZURhdGUsbz10aGlzLl9uZXh0UmVjdXJyZW5jZUl0ZXIodGhpcy5sYXN0KSwhYSYmIW8pe3RoaXMuY29tcGxldGU9ITA7YnJlYWt9aWYoKCFhfHxvJiZhLmNvbXBhcmUoby5sYXN0KT4wKSYmKGE9by5sYXN0LmNsb25lKCksby5uZXh0KCkpLHRoaXMucnVsZURhdGU9PT1hJiZ0aGlzLl9uZXh0UnVsZURheSgpLHRoaXMubGFzdD1hLHRoaXMuZXhEYXRlJiYobD10aGlzLmV4RGF0ZS5jb21wYXJlKHRoaXMubGFzdCksbDwwJiZ0aGlzLl9uZXh0RXhEYXkoKSxsPT09MCkpe3RoaXMuX25leHRFeERheSgpO2NvbnRpbnVlfXJldHVybiB0aGlzLmxhc3R9fSx0b0pTT046ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGwpe3JldHVybiBsLnRvSlNPTigpfXZhciBhPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGEucnVsZUl0ZXJhdG9ycz10aGlzLnJ1bGVJdGVyYXRvcnMubWFwKG8pLHRoaXMucnVsZURhdGVzJiYoYS5ydWxlRGF0ZXM9dGhpcy5ydWxlRGF0ZXMubWFwKG8pKSx0aGlzLmV4RGF0ZXMmJihhLmV4RGF0ZXM9dGhpcy5leERhdGVzLm1hcChvKSksYS5ydWxlRGF0ZUluYz10aGlzLnJ1bGVEYXRlSW5jLGEuZXhEYXRlSW5jPXRoaXMuZXhEYXRlSW5jLGEubGFzdD10aGlzLmxhc3QudG9KU09OKCksYS5kdHN0YXJ0PXRoaXMuZHRzdGFydC50b0pTT04oKSxhLmNvbXBsZXRlPXRoaXMuY29tcGxldGUsYX0sX2V4dHJhY3REYXRlczpmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIGwocCl7Zj1lLmhlbHBlcnMuYmluc2VhcmNoSW5zZXJ0KHUscCxuKSx1LnNwbGljZShmLDAscCl9Zm9yKHZhciB1PVtdLGg9by5nZXRBbGxQcm9wZXJ0aWVzKGEpLGM9aC5sZW5ndGgsZD0wLGY7ZDxjO2QrKyloW2RdLmdldFZhbHVlcygpLmZvckVhY2gobCk7cmV0dXJuIHV9LF9pbml0OmZ1bmN0aW9uKG8pe2lmKHRoaXMucnVsZUl0ZXJhdG9ycz1bXSx0aGlzLmxhc3Q9dGhpcy5kdHN0YXJ0LmNsb25lKCksIXMobykpe3RoaXMucnVsZURhdGU9dGhpcy5sYXN0LmNsb25lKCksdGhpcy5jb21wbGV0ZT0hMDtyZXR1cm59aWYoby5oYXNQcm9wZXJ0eSgicmRhdGUiKSYmKHRoaXMucnVsZURhdGVzPXRoaXMuX2V4dHJhY3REYXRlcyhvLCJyZGF0ZSIpLHRoaXMucnVsZURhdGVzWzBdJiZ0aGlzLnJ1bGVEYXRlc1swXS5jb21wYXJlKHRoaXMuZHRzdGFydCk8MD8odGhpcy5ydWxlRGF0ZUluYz0wLHRoaXMubGFzdD10aGlzLnJ1bGVEYXRlc1swXS5jbG9uZSgpKTp0aGlzLnJ1bGVEYXRlSW5jPWUuaGVscGVycy5iaW5zZWFyY2hJbnNlcnQodGhpcy5ydWxlRGF0ZXMsdGhpcy5sYXN0LG4pLHRoaXMucnVsZURhdGU9dGhpcy5ydWxlRGF0ZXNbdGhpcy5ydWxlRGF0ZUluY10pLG8uaGFzUHJvcGVydHkoInJydWxlIikpZm9yKHZhciBhPW8uZ2V0QWxsUHJvcGVydGllcygicnJ1bGUiKSxsPTAsdT1hLmxlbmd0aCxoLGM7bDx1O2wrKyloPWFbbF0uZ2V0Rmlyc3RWYWx1ZSgpLGM9aC5pdGVyYXRvcih0aGlzLmR0c3RhcnQpLHRoaXMucnVsZUl0ZXJhdG9ycy5wdXNoKGMpLGMubmV4dCgpO28uaGFzUHJvcGVydHkoImV4ZGF0ZSIpJiYodGhpcy5leERhdGVzPXRoaXMuX2V4dHJhY3REYXRlcyhvLCJleGRhdGUiKSx0aGlzLmV4RGF0ZUluYz1lLmhlbHBlcnMuYmluc2VhcmNoSW5zZXJ0KHRoaXMuZXhEYXRlcyx0aGlzLmxhc3QsbiksdGhpcy5leERhdGU9dGhpcy5leERhdGVzW3RoaXMuZXhEYXRlSW5jXSl9LF9uZXh0RXhEYXk6ZnVuY3Rpb24oKXt0aGlzLmV4RGF0ZT10aGlzLmV4RGF0ZXNbKyt0aGlzLmV4RGF0ZUluY119LF9uZXh0UnVsZURheTpmdW5jdGlvbigpe3RoaXMucnVsZURhdGU9dGhpcy5ydWxlRGF0ZXNbKyt0aGlzLnJ1bGVEYXRlSW5jXX0sX25leHRSZWN1cnJlbmNlSXRlcjpmdW5jdGlvbigpe3ZhciBvPXRoaXMucnVsZUl0ZXJhdG9ycztpZihvLmxlbmd0aD09PTApcmV0dXJuIG51bGw7Zm9yKHZhciBhPW8ubGVuZ3RoLGwsdSxoPTAsYztoPGE7aCsrKXtpZihsPW9baF0sdT1sLmxhc3QsbC5jb21wbGV0ZWQpe2EtLSxoIT09MCYmaC0tLG8uc3BsaWNlKGgsMSk7Y29udGludWV9KCFjfHxjLmxhc3QuY29tcGFyZSh1KT4wKSYmKGM9bCl9cmV0dXJuIGN9fSxyfSgpLGUuRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHMscil7cyBpbnN0YW5jZW9mIGUuQ29tcG9uZW50fHwocj1zLHM9bnVsbCkscz90aGlzLmNvbXBvbmVudD1zOnRoaXMuY29tcG9uZW50PW5ldyBlLkNvbXBvbmVudCgidmV2ZW50IiksdGhpcy5fcmFuZ2VFeGNlcHRpb25DYWNoZT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuZXhjZXB0aW9ucz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMucmFuZ2VFeGNlcHRpb25zPVtdLHImJnIuc3RyaWN0RXhjZXB0aW9ucyYmKHRoaXMuc3RyaWN0RXhjZXB0aW9ucz1yLnN0cmljdEV4Y2VwdGlvbnMpLHImJnIuZXhjZXB0aW9ucz9yLmV4Y2VwdGlvbnMuZm9yRWFjaCh0aGlzLnJlbGF0ZUV4Y2VwdGlvbix0aGlzKTp0aGlzLmNvbXBvbmVudC5wYXJlbnQmJiF0aGlzLmlzUmVjdXJyZW5jZUV4Y2VwdGlvbigpJiZ0aGlzLmNvbXBvbmVudC5wYXJlbnQuZ2V0QWxsU3ViY29tcG9uZW50cygidmV2ZW50IikuZm9yRWFjaChmdW5jdGlvbihvKXtvLmhhc1Byb3BlcnR5KCJyZWN1cnJlbmNlLWlkIikmJnRoaXMucmVsYXRlRXhjZXB0aW9uKG8pfSx0aGlzKX10LnByb3RvdHlwZT17VEhJU0FOREZVVFVSRToiVEhJU0FOREZVVFVSRSIsZXhjZXB0aW9uczpudWxsLHN0cmljdEV4Y2VwdGlvbnM6ITEscmVsYXRlRXhjZXB0aW9uOmZ1bmN0aW9uKHMpe2lmKHRoaXMuaXNSZWN1cnJlbmNlRXhjZXB0aW9uKCkpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgcmVsYXRlIGV4Y2VwdGlvbiB0byBleGNlcHRpb25zIik7aWYocyBpbnN0YW5jZW9mIGUuQ29tcG9uZW50JiYocz1uZXcgZS5FdmVudChzKSksdGhpcy5zdHJpY3RFeGNlcHRpb25zJiZzLnVpZCE9PXRoaXMudWlkKXRocm93IG5ldyBFcnJvcigiYXR0ZW1wdGVkIHRvIHJlbGF0ZSB1bnJlbGF0ZWQgZXhjZXB0aW9uIik7dmFyIHI9cy5yZWN1cnJlbmNlSWQudG9TdHJpbmcoKTtpZih0aGlzLmV4Y2VwdGlvbnNbcl09cyxzLm1vZGlmaWVzRnV0dXJlKCkpe3ZhciBvPVtzLnJlY3VycmVuY2VJZC50b1VuaXhUaW1lKCkscl0sYT1lLmhlbHBlcnMuYmluc2VhcmNoSW5zZXJ0KHRoaXMucmFuZ2VFeGNlcHRpb25zLG8sbik7dGhpcy5yYW5nZUV4Y2VwdGlvbnMuc3BsaWNlKGEsMCxvKX19LG1vZGlmaWVzRnV0dXJlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJyZWN1cnJlbmNlLWlkIikpcmV0dXJuITE7dmFyIHM9dGhpcy5jb21wb25lbnQuZ2V0Rmlyc3RQcm9wZXJ0eSgicmVjdXJyZW5jZS1pZCIpLmdldFBhcmFtZXRlcigicmFuZ2UiKTtyZXR1cm4gcz09PXRoaXMuVEhJU0FOREZVVFVSRX0sZmluZFJhbmdlRXhjZXB0aW9uOmZ1bmN0aW9uKHMpe2lmKCF0aGlzLnJhbmdlRXhjZXB0aW9ucy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9cy50b1VuaXhUaW1lKCksbz1lLmhlbHBlcnMuYmluc2VhcmNoSW5zZXJ0KHRoaXMucmFuZ2VFeGNlcHRpb25zLFtyXSxuKTtpZihvLT0xLG88MClyZXR1cm4gbnVsbDt2YXIgYT10aGlzLnJhbmdlRXhjZXB0aW9uc1tvXTtyZXR1cm4gcjxhWzBdP251bGw6YVsxXX0sZ2V0T2NjdXJyZW5jZURldGFpbHM6ZnVuY3Rpb24ocyl7dmFyIHI9cy50b1N0cmluZygpLG89cy5jb252ZXJ0VG9ab25lKGUuVGltZXpvbmUudXRjVGltZXpvbmUpLnRvU3RyaW5nKCksYSxsPXtyZWN1cnJlbmNlSWQ6c307aWYociBpbiB0aGlzLmV4Y2VwdGlvbnMpYT1sLml0ZW09dGhpcy5leGNlcHRpb25zW3JdLGwuc3RhcnREYXRlPWEuc3RhcnREYXRlLGwuZW5kRGF0ZT1hLmVuZERhdGUsbC5pdGVtPWE7ZWxzZSBpZihvIGluIHRoaXMuZXhjZXB0aW9ucylhPXRoaXMuZXhjZXB0aW9uc1tvXSxsLnN0YXJ0RGF0ZT1hLnN0YXJ0RGF0ZSxsLmVuZERhdGU9YS5lbmREYXRlLGwuaXRlbT1hO2Vsc2V7dmFyIHU9dGhpcy5maW5kUmFuZ2VFeGNlcHRpb24ocyksaDtpZih1KXt2YXIgYz10aGlzLmV4Y2VwdGlvbnNbdV07bC5pdGVtPWM7dmFyIGQ9dGhpcy5fcmFuZ2VFeGNlcHRpb25DYWNoZVt1XTtpZighZCl7dmFyIGY9Yy5yZWN1cnJlbmNlSWQuY2xvbmUoKSxwPWMuc3RhcnREYXRlLmNsb25lKCk7Zi56b25lPXAuem9uZSxkPXAuc3VidHJhY3REYXRlKGYpLHRoaXMuX3JhbmdlRXhjZXB0aW9uQ2FjaGVbdV09ZH12YXIgbT1zLmNsb25lKCk7bS56b25lPWMuc3RhcnREYXRlLnpvbmUsbS5hZGREdXJhdGlvbihkKSxoPW0uY2xvbmUoKSxoLmFkZER1cmF0aW9uKGMuZHVyYXRpb24pLGwuc3RhcnREYXRlPW0sbC5lbmREYXRlPWh9ZWxzZSBoPXMuY2xvbmUoKSxoLmFkZER1cmF0aW9uKHRoaXMuZHVyYXRpb24pLGwuZW5kRGF0ZT1oLGwuc3RhcnREYXRlPXMsbC5pdGVtPXRoaXN9cmV0dXJuIGx9LGl0ZXJhdG9yOmZ1bmN0aW9uKHMpe3JldHVybiBuZXcgZS5SZWN1ckV4cGFuc2lvbih7Y29tcG9uZW50OnRoaXMuY29tcG9uZW50LGR0c3RhcnQ6c3x8dGhpcy5zdGFydERhdGV9KX0saXNSZWN1cnJpbmc6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLmNvbXBvbmVudDtyZXR1cm4gcy5oYXNQcm9wZXJ0eSgicnJ1bGUiKXx8cy5oYXNQcm9wZXJ0eSgicmRhdGUiKX0saXNSZWN1cnJlbmNlRXhjZXB0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJyZWN1cnJlbmNlLWlkIil9LGdldFJlY3VycmVuY2VUeXBlczpmdW5jdGlvbigpe2Zvcih2YXIgcz10aGlzLmNvbXBvbmVudC5nZXRBbGxQcm9wZXJ0aWVzKCJycnVsZSIpLHI9MCxvPXMubGVuZ3RoLGE9T2JqZWN0LmNyZWF0ZShudWxsKTtyPG87cisrKXt2YXIgbD1zW3JdLmdldEZpcnN0VmFsdWUoKTthW2wuZnJlcV09ITB9cmV0dXJuIGF9LGdldCB1aWQoKXtyZXR1cm4gdGhpcy5fZmlyc3RQcm9wKCJ1aWQiKX0sc2V0IHVpZChzKXt0aGlzLl9zZXRQcm9wKCJ1aWQiLHMpfSxnZXQgc3RhcnREYXRlKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgiZHRzdGFydCIpfSxzZXQgc3RhcnREYXRlKHMpe3RoaXMuX3NldFRpbWUoImR0c3RhcnQiLHMpfSxnZXQgZW5kRGF0ZSgpe3ZhciBzPXRoaXMuX2ZpcnN0UHJvcCgiZHRlbmQiKTtpZighcyl7dmFyIHI9dGhpcy5fZmlyc3RQcm9wKCJkdXJhdGlvbiIpO3M9dGhpcy5zdGFydERhdGUuY2xvbmUoKSxyP3MuYWRkRHVyYXRpb24ocik6cy5pc0RhdGUmJihzLmRheSs9MSl9cmV0dXJuIHN9LHNldCBlbmREYXRlKHMpe3RoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJkdXJhdGlvbiIpJiZ0aGlzLmNvbXBvbmVudC5yZW1vdmVQcm9wZXJ0eSgiZHVyYXRpb24iKSx0aGlzLl9zZXRUaW1lKCJkdGVuZCIscyl9LGdldCBkdXJhdGlvbigpe3ZhciBzPXRoaXMuX2ZpcnN0UHJvcCgiZHVyYXRpb24iKTtyZXR1cm4gc3x8dGhpcy5lbmREYXRlLnN1YnRyYWN0RGF0ZVR6KHRoaXMuc3RhcnREYXRlKX0sc2V0IGR1cmF0aW9uKHMpe3RoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJkdGVuZCIpJiZ0aGlzLmNvbXBvbmVudC5yZW1vdmVQcm9wZXJ0eSgiZHRlbmQiKSx0aGlzLl9zZXRQcm9wKCJkdXJhdGlvbiIscyl9LGdldCBsb2NhdGlvbigpe3JldHVybiB0aGlzLl9maXJzdFByb3AoImxvY2F0aW9uIil9LHNldCBsb2NhdGlvbihzKXtyZXR1cm4gdGhpcy5fc2V0UHJvcCgibG9jYXRpb24iLHMpfSxnZXQgYXR0ZW5kZWVzKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50LmdldEFsbFByb3BlcnRpZXMoImF0dGVuZGVlIil9LGdldCBzdW1tYXJ5KCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgic3VtbWFyeSIpfSxzZXQgc3VtbWFyeShzKXt0aGlzLl9zZXRQcm9wKCJzdW1tYXJ5IixzKX0sZ2V0IGRlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgiZGVzY3JpcHRpb24iKX0sc2V0IGRlc2NyaXB0aW9uKHMpe3RoaXMuX3NldFByb3AoImRlc2NyaXB0aW9uIixzKX0sZ2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgiY29sb3IiKX0sc2V0IGNvbG9yKHMpe3RoaXMuX3NldFByb3AoImNvbG9yIixzKX0sZ2V0IG9yZ2FuaXplcigpe3JldHVybiB0aGlzLl9maXJzdFByb3AoIm9yZ2FuaXplciIpfSxzZXQgb3JnYW5pemVyKHMpe3RoaXMuX3NldFByb3AoIm9yZ2FuaXplciIscyl9LGdldCBzZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9maXJzdFByb3AoInNlcXVlbmNlIil9LHNldCBzZXF1ZW5jZShzKXt0aGlzLl9zZXRQcm9wKCJzZXF1ZW5jZSIscyl9LGdldCByZWN1cnJlbmNlSWQoKXtyZXR1cm4gdGhpcy5fZmlyc3RQcm9wKCJyZWN1cnJlbmNlLWlkIil9LHNldCByZWN1cnJlbmNlSWQocyl7dGhpcy5fc2V0VGltZSgicmVjdXJyZW5jZS1pZCIscyl9LF9zZXRUaW1lOmZ1bmN0aW9uKHMscil7dmFyIG89dGhpcy5jb21wb25lbnQuZ2V0Rmlyc3RQcm9wZXJ0eShzKTtvfHwobz1uZXcgZS5Qcm9wZXJ0eShzKSx0aGlzLmNvbXBvbmVudC5hZGRQcm9wZXJ0eShvKSksci56b25lPT09ZS5UaW1lem9uZS5sb2NhbFRpbWV6b25lfHxyLnpvbmU9PT1lLlRpbWV6b25lLnV0Y1RpbWV6b25lP28ucmVtb3ZlUGFyYW1ldGVyKCJ0emlkIik6by5zZXRQYXJhbWV0ZXIoInR6aWQiLHIuem9uZS50emlkKSxvLnNldFZhbHVlKHIpfSxfc2V0UHJvcDpmdW5jdGlvbihzLHIpe3RoaXMuY29tcG9uZW50LnVwZGF0ZVByb3BlcnR5V2l0aFZhbHVlKHMscil9LF9maXJzdFByb3A6ZnVuY3Rpb24ocyl7cmV0dXJuIHRoaXMuY29tcG9uZW50LmdldEZpcnN0UHJvcGVydHlWYWx1ZShzKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnQudG9TdHJpbmcoKX19O2Z1bmN0aW9uIG4ocyxyKXtyZXR1cm4gc1swXT5yWzBdPzE6clswXT5zWzBdPy0xOjB9cmV0dXJuIHR9KCksZS5Db21wb25lbnRQYXJzZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4pe3R5cGVvZiBuPiJ1IiYmKG49e30pO3ZhciBzO2ZvcihzIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShzKSYmKHRoaXNbc109bltzXSl9cmV0dXJuIHQucHJvdG90eXBlPXtwYXJzZUV2ZW50OiEwLHBhcnNlVGltZXpvbmU6ITAsb25jb21wbGV0ZTpmdW5jdGlvbigpe30sb25lcnJvcjpmdW5jdGlvbihuKXt9LG9udGltZXpvbmU6ZnVuY3Rpb24obil7fSxvbmV2ZW50OmZ1bmN0aW9uKG4pe30scHJvY2VzczpmdW5jdGlvbihuKXt0eXBlb2Ygbj09InN0cmluZyImJihuPWUucGFyc2UobikpLG4gaW5zdGFuY2VvZiBlLkNvbXBvbmVudHx8KG49bmV3IGUuQ29tcG9uZW50KG4pKTtmb3IodmFyIHM9bi5nZXRBbGxTdWJjb21wb25lbnRzKCkscj0wLG89cy5sZW5ndGgsYTtyPG87cisrKXN3aXRjaChhPXNbcl0sYS5uYW1lKXtjYXNlInZ0aW1lem9uZSI6aWYodGhpcy5wYXJzZVRpbWV6b25lKXt2YXIgbD1hLmdldEZpcnN0UHJvcGVydHlWYWx1ZSgidHppZCIpO2wmJnRoaXMub250aW1lem9uZShuZXcgZS5UaW1lem9uZSh7dHppZDpsLGNvbXBvbmVudDphfSkpfWJyZWFrO2Nhc2UidmV2ZW50Ijp0aGlzLnBhcnNlRXZlbnQmJnRoaXMub25ldmVudChuZXcgZS5FdmVudChhKSk7YnJlYWs7ZGVmYXVsdDpjb250aW51ZX10aGlzLm9uY29tcGxldGUoKX19LHR9KCl9KShlbSk7dmFyIFg7KGZ1bmN0aW9uKGkpe2lbaS5TRUNPTkQ9MF09IlNFQ09ORCIsaVtpLlFVQVJURVJfTUlOVVRFPTFdPSJRVUFSVEVSX01JTlVURSIsaVtpLk1JTlVURT0yXT0iTUlOVVRFIixpW2kuUVVBUlRFUl9IT1VSPTNdPSJRVUFSVEVSX0hPVVIiLGlbaS5IT1VSPTRdPSJIT1VSIixpW2kuREFZPTVdPSJEQVkiLGlbaS5NT05USD02XT0iTU9OVEgiLGlbaS5ZRUFSPTddPSJZRUFSIixpW2kuREVDQURFPThdPSJERUNBREUiLGlbaS5DRU5UPTldPSJDRU5UIn0pKFh8fChYPXt9KSksWC5DRU5UKyIiLFguREVDQURFKyIiLFguWUVBUisiIixYLk1PTlRIKyIiLFguREFZKyIiLFguSE9VUisiIixYLk1JTlVURSsiIixYLlFVQVJURVJfSE9VUisiIixYLlFVQVJURVJfTUlOVVRFKyIiLFguU0VDT05EKyIiLFguQ0VOVCsiIixYLkRFQ0FERSsiIixYLllFQVIrIiIsWC5NT05USCsiIixYLkRBWSsiIixYLkhPVVIrIiIsWC5RVUFSVEVSX0hPVVIrIiIsWC5NSU5VVEUrIiIsWC5RVUFSVEVSX01JTlVURSsiIixYLlNFQ09ORCsiIjtjb25zdCB0bT0iMC4xMC4xNSIsbm09aT0+e2NvbnN0IGU9aS5zcGxpdChgCmApO2xldCB0PVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKW49PT0wJiZ0LnB1c2goMCksdC5wdXNoKDErZVtuXS5sZW5ndGgrdFt0Lmxlbmd0aC0xXXx8MCk7cmV0dXJue2xpbmVzOmUsbGVuZ3RoQXRJbmRleDp0fX07ZnVuY3Rpb24gc20oaSxlKXtlPT09ITAmJihlPW5ldyB0byk7Y29uc3QgdD17dmVyc2lvbjp0bX07aWYoIWkpcmV0dXJue3RpbWVsaW5lczpbbWgoKV0sY2FjaGU6ZSxwYXJzZXI6dH07Y29uc3R7bGluZXM6bixsZW5ndGhBdEluZGV4OnN9PW5tKGkpO3JldHVybnt0aW1lbGluZXM6W2ltKG4scyxlKV0sY2FjaGU6ZSxwYXJzZXI6dH19ZnVuY3Rpb24gaW0oaSxlLHQpe2NvbnN0IG49bmV3IEZoLHM9UWQoaSxlLG4sdCk7Zm9yKGxldCByPXM7cjxpLmxlbmd0aDtyKyspe2NvbnN0IG89aVtyXTskaChvLHIsZSxuLHQpfHwocj1ZaChvLGkscixlLG4sdCkpfXJldHVybiBuLnRvVGltZWxpbmUoZSxpLmxlbmd0aC0xLGVbaS5sZW5ndGgtMV0raVtpLmxlbmd0aC0xXS5sZW5ndGgpfWNvbnN0IHJtPW5ldyB0bzthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpPT57cG9zdE1lc3NhZ2Uoc20oaS5kYXRhLnJhd1RpbWVsaW5lU3RyaW5nLHJtKSl9KX0pKCk7Cg==",Za=r=>Uint8Array.from(atob(r),e=>e.charCodeAt(0)),mi=typeof window<"u"&&window.Blob&&new Blob([Za(Gr)],{type:"text/javascript;charset=utf-8"});function Sa(r){let e;try{if(e=mi&&(window.URL||window.webkitURL).createObjectURL(mi),!e)throw"";const t=new Worker(e,{name:r==null?void 0:r.name});return t.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+Gr,{name:r==null?void 0:r.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}const Ta=r=>{let e=!1,t="",n="";const i=new Sa;return i.onmessage=s=>{const{timelines:o}=s.data;r(o[0]),n!==t?(t=n,i.postMessage({rawTimelineString:n})):e=!1},s=>{n=s,e?console.info("Would post but running"):(e=!0,t=s,i.postMessage({rawTimelineString:s}))}},Wr=fi.StateEffect.define();class wa{constructor(e){this.markwhen=Fo(),this.worker=Ta(t=>{this.markwhen=t,this.view.dispatch({effects:Wr.of(t)})}),this.view=e,this.worker(e.state.doc.sliceString(0))}update(e){e.docChanged&&this.worker(e.state.sliceDoc())}}const Ga='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Calendar</title>\n    <script type="module" crossorigin>\n(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll(\'link[rel="modulepreload"]\'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dm={exports:{}},Nl={},Am={exports:{}},U={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var ws=Symbol.for("react.element"),GE=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),ZE=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),eS=Symbol.for("react.suspense"),tS=Symbol.for("react.memo"),nS=Symbol.for("react.lazy"),kf=Symbol.iterator;function rS(t){return t===null||typeof t!="object"?null:(t=kf&&t[kf]||t["@@iterator"],typeof t=="function"?t:null)}var Cm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bm=Object.assign,km={};function ai(t,e,n){this.props=t,this.context=e,this.refs=km,this.updater=n||Cm}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Om(){}Om.prototype=ai.prototype;function Rc(t,e,n){this.props=t,this.context=e,this.refs=km,this.updater=n||Cm}var Nc=Rc.prototype=new Om;Nc.constructor=Rc;bm(Nc,ai.prototype);Nc.isPureReactComponent=!0;var Of=Array.isArray,Rm=Object.prototype.hasOwnProperty,Mc={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Mm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Rm.call(e,r)&&!Nm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ws,type:t,key:s,ref:o,props:i,_owner:Mc.current}}function iS(t,e){return{$$typeof:ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ic(t){return typeof t=="object"&&t!==null&&t.$$typeof===ws}function sS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rf=/\\/+/g;function fa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sS(""+t.key):e.toString(36)}function go(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ws:case GE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fa(o,0):r,Of(i)?(n="",t!=null&&(n=t.replace(Rf,"$&/")+"/"),go(i,e,n,"",function(u){return u})):i!=null&&(Ic(i)&&(i=iS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Of(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+fa(s,l);o+=go(s,e,n,a,i)}else if(a=rS(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+fa(s,l++),o+=go(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ls(t,e,n){if(t==null)return t;var r=[],i=0;return go(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},vo={transition:null},lS={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:vo,ReactCurrentOwner:Mc};U.Children={map:Ls,forEach:function(t,e,n){Ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ls(t,function(){e++}),e},toArray:function(t){return Ls(t,function(e){return e})||[]},only:function(t){if(!Ic(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=ai;U.Fragment=qE;U.Profiler=ZE;U.PureComponent=Rc;U.StrictMode=QE;U.Suspense=eS;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bm({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Rm.call(e,a)&&!Nm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ws,type:t.type,key:i,ref:s,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:XE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KE,_context:t},t.Consumer=t};U.createElement=Mm;U.createFactory=function(t){var e=Mm.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:JE,render:t}};U.isValidElement=Ic;U.lazy=function(t){return{$$typeof:nS,_payload:{_status:-1,_result:t},_init:oS}};U.memo=function(t,e){return{$$typeof:tS,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=vo.transition;vo.transition={};try{t()}finally{vo.transition=e}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(t,e){return Ve.current.useCallback(t,e)};U.useContext=function(t){return Ve.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ve.current.useEffect(t,e)};U.useId=function(){return Ve.current.useId()};U.useImperativeHandle=function(t,e,n){return Ve.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Ve.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ve.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ve.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Ve.current.useReducer(t,e,n)};U.useRef=function(t){return Ve.current.useRef(t)};U.useState=function(t){return Ve.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Ve.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Ve.current.useTransition()};U.version="18.2.0";Am.exports=U;var Mt=Am.exports;const Ho=_m(Mt);/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var aS=Mt,uS=Symbol.for("react.element"),cS=Symbol.for("react.fragment"),dS=Object.prototype.hasOwnProperty,fS=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hS={key:!0,ref:!0,__self:!0,__source:!0};function Im(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dS.call(e,r)&&!hS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uS,type:t,key:s,ref:o,props:i,_owner:fS.current}}Nl.Fragment=cS;Nl.jsx=Im;Nl.jsxs=Im;Dm.exports=Nl;var Li=Dm.exports,cu={},xm={exports:{}},lt={},Pm={exports:{}},Lm={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */(function(t){function e(S,k){var R=S.length;S.push(k);e:for(;0<R;){var N=R-1>>>1,Y=S[N];if(0<i(Y,k))S[N]=k,S[R]=Y,R=N;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var k=S[0],R=S.pop();if(R!==k){S[0]=R;e:for(var N=0,Y=S.length,Re=Y>>>1;N<Re;){var Ae=2*(N+1)-1,Ue=S[Ae],Ne=Ae+1,St=S[Ne];if(0>i(Ue,R))Ne<Y&&0>i(St,Ue)?(S[N]=St,S[Ne]=R,N=Ne):(S[N]=Ue,S[Ae]=R,N=Ae);else if(Ne<Y&&0>i(St,R))S[N]=St,S[Ne]=R,N=Ne;else break e}}return k}function i(S,k){var R=S.sortIndex-k.sortIndex;return R!==0?R:S.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,h=3,d=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(S){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=S)r(u),k.sortIndex=k.expirationTime,e(a,k);else break;k=n(u)}}function w(S){if(v=!1,E(S),!p)if(n(a)!==null)p=!0,ct(D);else{var k=n(u);k!==null&&ye(w,k.startTime-S)}}function D(S,k){p=!1,v&&(v=!1,m(A),A=-1),d=!0;var R=h;try{for(E(k),f=n(a);f!==null&&(!(f.expirationTime>k)||S&&!W());){var N=f.callback;if(typeof N=="function"){f.callback=null,h=f.priorityLevel;var Y=N(f.expirationTime<=k);k=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(a)&&r(a),E(k)}else r(a);f=n(a)}if(f!==null)var Re=!0;else{var Ae=n(u);Ae!==null&&ye(w,Ae.startTime-k),Re=!1}return Re}finally{f=null,h=R,d=!1}}var _=!1,b=null,A=-1,x=5,P=-1;function W(){return!(t.unstable_now()-P<x)}function $(){if(b!==null){var S=t.unstable_now();P=S;var k=!0;try{k=b(!0,S)}finally{k?Te():(_=!1,b=null)}}else _=!1}var Te;if(typeof g=="function")Te=function(){g($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ne=se.port2;se.port1.onmessage=$,Te=function(){ne.postMessage(null)}}else Te=function(){y($,0)};function ct(S){b=S,_||(_=!0,Te())}function ye(S,k){A=y(function(){S(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,ct(D))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(S){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var R=h;h=k;try{return S()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=h;h=S;try{return k()}finally{h=R}},t.unstable_scheduleCallback=function(S,k,R){var N=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?N+R:N):R=N,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,S={id:c++,callback:k,priorityLevel:S,startTime:R,expirationTime:Y,sortIndex:-1},R>N?(S.sortIndex=R,e(u,S),n(a)===null&&S===n(u)&&(v?(m(A),A=-1):v=!0,ye(w,R-N))):(S.sortIndex=Y,e(a,S),p||d||(p=!0,ct(D))),S},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(S){var k=h;return function(){var R=h;h=k;try{return S.apply(this,arguments)}finally{h=R}}}})(Lm);Pm.exports=Lm;var pS=Pm.exports;/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var zm=Mt,ot=pS;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm=new Set,Ji={};function pr(t,e){Zr(t,e),Zr(t+"Capture",e)}function Zr(t,e){for(Ji[t]=e,t=0;t<e.length;t++)Hm.add(e[t])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=Object.prototype.hasOwnProperty,mS=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,Nf={},Mf={};function gS(t){return du.call(Mf,t)?!0:du.call(Nf,t)?!1:mS.test(t)?Mf[t]=!0:(Nf[t]=!0,!1)}function vS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yS(t,e,n,r){if(e===null||typeof e>"u"||vS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ke[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ke[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ke[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ke[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ke[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ke[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ke[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ke[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ke[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var xc=/[\\-:]([a-z])/g;function Pc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xc,Pc);ke[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xc,Pc);ke[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xc,Pc);ke[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ke[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});ke.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ke[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var i=ke.hasOwnProperty(e)?ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yS(e,n,i,r)&&(n=null),r||i===null?gS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),Um=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),Hc=Symbol.for("react.forward_ref"),hu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Fm=Symbol.for("react.offscreen"),If=Symbol.iterator;function vi(t){return t===null||typeof t!="object"?null:(t=If&&t[If]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,ha;function Oi(t){if(ha===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\\n( *(at )?)/);ha=e&&e[1]||""}return`\n`+ha+t}var pa=!1;function ma(t,e){if(!t||pa)return"";pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`\n`),s=r.stack.split(`\n`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`\n`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{pa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oi(t):""}function ES(t){switch(t.tag){case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return t=ma(t.type,!1),t;case 11:return t=ma(t.type.render,!1),t;case 1:return t=ma(t.type,!0),t;default:return""}}function mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cr:return"Fragment";case Ar:return"Portal";case fu:return"Profiler";case zc:return"StrictMode";case hu:return"Suspense";case pu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bm:return(t.displayName||"Context")+".Consumer";case Um:return(t._context.displayName||"Context")+".Provider";case Hc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uc:return e=t.displayName||null,e!==null?e:mu(t.type)||"Memo";case hn:e=t._payload,t=t._init;try{return mu(t(e))}catch{}}return null}function SS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(e);case 8:return e===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function In(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ym(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wS(t){var e=Ym(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hs(t){t._valueTracker||(t._valueTracker=wS(t))}function jm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ym(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gu(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=In(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vm(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function vu(t,e){Vm(t,e);var n=In(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yu(t,e.type,n):e.hasOwnProperty("defaultValue")&&yu(t,e.type,In(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yu(t,e,n){(e!=="number"||Uo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ri=Array.isArray;function Br(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+In(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Ri(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:In(n)}}function Wm(t,e){var n=In(e.value),r=In(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $m(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$m(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Us,Gm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Us=Us||document.createElement("div"),Us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TS=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(t){TS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zi[e]=zi[t]})});function qm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zi.hasOwnProperty(t)&&zi[t]?(""+e).trim():e+"px"}function Qm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _S=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(t,e){if(e){if(_S[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Tu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=null;function Bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Du=null,Fr=null,Yr=null;function Hf(t){if(t=Ds(t)){if(typeof Du!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Ll(e),Du(t.stateNode,t.type,e))}}function Zm(t){Fr?Yr?Yr.push(t):Yr=[t]:Fr=t}function Km(){if(Fr){var t=Fr,e=Yr;if(Yr=Fr=null,Hf(t),e)for(t=0;t<e.length;t++)Hf(e[t])}}function Xm(t,e){return t(e)}function Jm(){}var ga=!1;function eg(t,e,n){if(ga)return t(e,n);ga=!0;try{return Xm(t,e,n)}finally{ga=!1,(Fr!==null||Yr!==null)&&(Jm(),Km())}}function ts(t,e){var n=t.stateNode;if(n===null)return null;var r=Ll(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Au=!1;if(Jt)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Au=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Au=!1}function DS(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Hi=!1,Bo=null,Fo=!1,Cu=null,AS={onError:function(t){Hi=!0,Bo=t}};function CS(t,e,n,r,i,s,o,l,a){Hi=!1,Bo=null,DS.apply(AS,arguments)}function bS(t,e,n,r,i,s,o,l,a){if(CS.apply(this,arguments),Hi){if(Hi){var u=Bo;Hi=!1,Bo=null}else throw Error(O(198));Fo||(Fo=!0,Cu=u)}}function mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uf(t){if(mr(t)!==t)throw Error(O(188))}function kS(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uf(i),t;if(s===r)return Uf(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function ng(t){return t=kS(t),t!==null?rg(t):null}function rg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rg(t);if(e!==null)return e;t=t.sibling}return null}var ig=ot.unstable_scheduleCallback,Bf=ot.unstable_cancelCallback,OS=ot.unstable_shouldYield,RS=ot.unstable_requestPaint,he=ot.unstable_now,NS=ot.unstable_getCurrentPriorityLevel,Fc=ot.unstable_ImmediatePriority,sg=ot.unstable_UserBlockingPriority,Yo=ot.unstable_NormalPriority,MS=ot.unstable_LowPriority,og=ot.unstable_IdlePriority,Ml=null,Ut=null;function IS(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:LS,xS=Math.log,PS=Math.LN2;function LS(t){return t>>>=0,t===0?32:31-(xS(t)/PS|0)|0}var Bs=64,Fs=4194304;function Ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ni(l):(s&=o,s!==0&&(r=Ni(s)))}else o=n&~i,o!==0?r=Ni(o):s!==0&&(r=Ni(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),i=1<<n,r|=t[n],e&=~i;return r}function zS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ot(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=zS(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lg(){var t=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),t}function va(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function US(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Q=0;function ag(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ug,jc,cg,dg,fg,ku=!1,Ys=[],Dn=null,An=null,Cn=null,ns=new Map,rs=new Map,gn=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ff(t,e){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(e.pointerId)}}function Ei(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ds(e),e!==null&&jc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FS(t,e,n,r,i){switch(e){case"focusin":return Dn=Ei(Dn,t,e,n,r,i),!0;case"dragenter":return An=Ei(An,t,e,n,r,i),!0;case"mouseover":return Cn=Ei(Cn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ns.set(s,Ei(ns.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rs.set(s,Ei(rs.get(s)||null,t,e,n,r,i)),!0}return!1}function hg(t){var e=Qn(t.target);if(e!==null){var n=mr(e);if(n!==null){if(e=n.tag,e===13){if(e=tg(n),e!==null){t.blockedOn=e,fg(t.priority,function(){cg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ou(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_u=r,n.target.dispatchEvent(r),_u=null}else return e=Ds(n),e!==null&&jc(e),t.blockedOn=n,!1;e.shift()}return!0}function Yf(t,e,n){yo(t)&&n.delete(e)}function YS(){ku=!1,Dn!==null&&yo(Dn)&&(Dn=null),An!==null&&yo(An)&&(An=null),Cn!==null&&yo(Cn)&&(Cn=null),ns.forEach(Yf),rs.forEach(Yf)}function Si(t,e){t.blockedOn===e&&(t.blockedOn=null,ku||(ku=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,YS)))}function is(t){function e(i){return Si(i,t)}if(0<Ys.length){Si(Ys[0],t);for(var n=1;n<Ys.length;n++){var r=Ys[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dn!==null&&Si(Dn,t),An!==null&&Si(An,t),Cn!==null&&Si(Cn,t),ns.forEach(e),rs.forEach(e),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)hg(n),n.blockedOn===null&&gn.shift()}var jr=ln.ReactCurrentBatchConfig,Vo=!0;function jS(t,e,n,r){var i=Q,s=jr.transition;jr.transition=null;try{Q=1,Vc(t,e,n,r)}finally{Q=i,jr.transition=s}}function VS(t,e,n,r){var i=Q,s=jr.transition;jr.transition=null;try{Q=4,Vc(t,e,n,r)}finally{Q=i,jr.transition=s}}function Vc(t,e,n,r){if(Vo){var i=Ou(t,e,n,r);if(i===null)ba(t,e,r,Wo,n),Ff(t,r);else if(FS(i,t,e,n,r))r.stopPropagation();else if(Ff(t,r),e&4&&-1<BS.indexOf(t)){for(;i!==null;){var s=Ds(i);if(s!==null&&ug(s),s=Ou(t,e,n,r),s===null&&ba(t,e,r,Wo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ba(t,e,r,null,n)}}var Wo=null;function Ou(t,e,n,r){if(Wo=null,t=Bc(r),t=Qn(t),t!==null)if(e=mr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function pg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NS()){case Fc:return 1;case sg:return 4;case Yo:case MS:return 16;case og:return 536870912;default:return 16}default:return 16}}var En=null,Wc=null,Eo=null;function mg(){if(Eo)return Eo;var t,e=Wc,n=e.length,r,i="value"in En?En.value:En.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eo=i.slice(t,1<r?1-r:void 0)}function So(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function jf(){return!1}function at(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?js:jf,this.isPropagationStopped=jf,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),e}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=at(ui),_s=ue({},ui,{view:0,detail:0}),WS=at(_s),ya,Ea,wi,Il=ue({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(ya=t.screenX-wi.screenX,Ea=t.screenY-wi.screenY):Ea=ya=0,wi=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Vf=at(Il),$S=ue({},Il,{dataTransfer:0}),GS=at($S),qS=ue({},_s,{relatedTarget:0}),Sa=at(qS),QS=ue({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ZS=at(QS),KS=ue({},ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XS=at(KS),JS=ue({},ui,{data:0}),Wf=at(JS),ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nw[t])?!!e[t]:!1}function Gc(){return rw}var iw=ue({},_s,{key:function(t){if(t.key){var e=ew[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sw=at(iw),ow=ue({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=at(ow),lw=ue({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),aw=at(lw),uw=ue({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=at(uw),dw=ue({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fw=at(dw),hw=[9,13,27,32],qc=Jt&&"CompositionEvent"in window,Ui=null;Jt&&"documentMode"in document&&(Ui=document.documentMode);var pw=Jt&&"TextEvent"in window&&!Ui,gg=Jt&&(!qc||Ui&&8<Ui&&11>=Ui),Gf=String.fromCharCode(32),qf=!1;function vg(t,e){switch(t){case"keyup":return hw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function mw(t,e){switch(t){case"compositionend":return yg(e);case"keypress":return e.which!==32?null:(qf=!0,Gf);case"textInput":return t=e.data,t===Gf&&qf?null:t;default:return null}}function gw(t,e){if(br)return t==="compositionend"||!qc&&vg(t,e)?(t=mg(),Eo=Wc=En=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gg&&e.locale!=="ko"?null:e.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vw[t.type]:e==="textarea"}function Eg(t,e,n,r){Zm(r),e=$o(e,"onChange"),0<e.length&&(n=new $c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bi=null,ss=null;function yw(t){Rg(t,0)}function xl(t){var e=Rr(t);if(jm(e))return t}function Ew(t,e){if(t==="change")return e}var Sg=!1;if(Jt){var wa;if(Jt){var Ta="oninput"in document;if(!Ta){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Ta=typeof Zf.oninput=="function"}wa=Ta}else wa=!1;Sg=wa&&(!document.documentMode||9<document.documentMode)}function Kf(){Bi&&(Bi.detachEvent("onpropertychange",wg),ss=Bi=null)}function wg(t){if(t.propertyName==="value"&&xl(ss)){var e=[];Eg(e,ss,t,Bc(t)),eg(yw,e)}}function Sw(t,e,n){t==="focusin"?(Kf(),Bi=e,ss=n,Bi.attachEvent("onpropertychange",wg)):t==="focusout"&&Kf()}function ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xl(ss)}function Tw(t,e){if(t==="click")return xl(e)}function _w(t,e){if(t==="input"||t==="change")return xl(e)}function Dw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:Dw;function os(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!du.call(e,i)||!It(t[i],e[i]))return!1}return!0}function Xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jf(t,e){var n=Xf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xf(n)}}function Tg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _g(){for(var t=window,e=Uo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uo(t.document)}return e}function Qc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Aw(t){var e=_g(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tg(n.ownerDocument.documentElement,n)){if(r!==null&&Qc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jf(n,s);var o=Jf(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cw=Jt&&"documentMode"in document&&11>=document.documentMode,kr=null,Ru=null,Fi=null,Nu=!1;function eh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nu||kr==null||kr!==Uo(r)||(r=kr,"selectionStart"in r&&Qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&os(Fi,r)||(Fi=r,r=$o(Ru,"onSelect"),0<r.length&&(e=new $c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=kr)))}function Vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Or={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},_a={},Dg={};Jt&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Pl(t){if(_a[t])return _a[t];if(!Or[t])return t;var e=Or[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dg)return _a[t]=e[n];return t}var Ag=Pl("animationend"),Cg=Pl("animationiteration"),bg=Pl("animationstart"),kg=Pl("transitionend"),Og=new Map,th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Og.set(t,e),pr(e,[t])}for(var Da=0;Da<th.length;Da++){var Aa=th[Da],bw=Aa.toLowerCase(),kw=Aa[0].toUpperCase()+Aa.slice(1);zn(bw,"on"+kw)}zn(Ag,"onAnimationEnd");zn(Cg,"onAnimationIteration");zn(bg,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(kg,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function nh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bS(r,e,void 0,t),t.currentTarget=null}function Rg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;nh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;nh(i,l,u),s=a}}}if(Fo)throw t=Cu,Fo=!1,Cu=null,t}function X(t,e){var n=e[Lu];n===void 0&&(n=e[Lu]=new Set);var r=t+"__bubble";n.has(r)||(Ng(e,t,2,!1),n.add(r))}function Ca(t,e,n){var r=0;e&&(r|=4),Ng(n,t,r,e)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function ls(t){if(!t[Ws]){t[Ws]=!0,Hm.forEach(function(n){n!=="selectionchange"&&(Ow.has(n)||Ca(n,!1,t),Ca(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ws]||(e[Ws]=!0,Ca("selectionchange",!1,e))}}function Ng(t,e,n,r){switch(pg(e)){case 1:var i=jS;break;case 4:i=VS;break;default:i=Vc}n=i.bind(null,e,n,t),i=void 0,!Au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ba(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}eg(function(){var u=s,c=Bc(n),f=[];e:{var h=Og.get(t);if(h!==void 0){var d=$c,p=t;switch(t){case"keypress":if(So(n)===0)break e;case"keydown":case"keyup":d=sw;break;case"focusin":p="focus",d=Sa;break;case"focusout":p="blur",d=Sa;break;case"beforeblur":case"afterblur":d=Sa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=GS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=aw;break;case Ag:case Cg:case bg:d=ZS;break;case kg:d=cw;break;case"scroll":d=WS;break;case"wheel":d=fw;break;case"copy":case"cut":case"paste":d=XS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=$f}var v=(e&4)!==0,y=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,E;g!==null;){E=g;var w=E.stateNode;if(E.tag===5&&w!==null&&(E=w,m!==null&&(w=ts(g,m),w!=null&&v.push(as(g,w,E)))),y)break;g=g.return}0<v.length&&(h=new d(h,p,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==_u&&(p=n.relatedTarget||n.fromElement)&&(Qn(p)||p[en]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Qn(p):null,p!==null&&(y=mr(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(v=Vf,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=$f,w="onPointerLeave",m="onPointerEnter",g="pointer"),y=d==null?h:Rr(d),E=p==null?h:Rr(p),h=new v(w,g+"leave",d,n,c),h.target=y,h.relatedTarget=E,w=null,Qn(c)===u&&(v=new v(m,g+"enter",p,n,c),v.target=E,v.relatedTarget=y,w=v),y=w,d&&p)t:{for(v=d,m=p,g=0,E=v;E;E=Sr(E))g++;for(E=0,w=m;w;w=Sr(w))E++;for(;0<g-E;)v=Sr(v),g--;for(;0<E-g;)m=Sr(m),E--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Sr(v),m=Sr(m)}v=null}else v=null;d!==null&&rh(f,h,d,v,!1),p!==null&&y!==null&&rh(f,y,p,v,!0)}}e:{if(h=u?Rr(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var D=Ew;else if(Qf(h))if(Sg)D=_w;else{D=ww;var _=Sw}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=Tw);if(D&&(D=D(t,u))){Eg(f,D,n,c);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&yu(h,"number",h.value)}switch(_=u?Rr(u):window,t){case"focusin":(Qf(_)||_.contentEditable==="true")&&(kr=_,Ru=u,Fi=null);break;case"focusout":Fi=Ru=kr=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,eh(f,n,c);break;case"selectionchange":if(Cw)break;case"keydown":case"keyup":eh(f,n,c)}var b;if(qc)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else br?vg(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(gg&&n.locale!=="ko"&&(br||A!=="onCompositionStart"?A==="onCompositionEnd"&&br&&(b=mg()):(En=c,Wc="value"in En?En.value:En.textContent,br=!0)),_=$o(u,A),0<_.length&&(A=new Wf(A,t,null,n,c),f.push({event:A,listeners:_}),b?A.data=b:(b=yg(n),b!==null&&(A.data=b)))),(b=pw?mw(t,n):gw(t,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(c=new Wf("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}Rg(f,e)})}function as(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $o(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ts(t,n),s!=null&&r.unshift(as(t,s,i)),s=ts(t,e),s!=null&&r.push(as(t,s,i))),t=t.return}return r}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ts(n,s),a!=null&&o.unshift(as(n,a,l))):i||(a=ts(n,s),a!=null&&o.push(as(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rw=/\\r\\n?/g,Nw=/\\u0000|\\uFFFD/g;function ih(t){return(typeof t=="string"?t:""+t).replace(Rw,`\n`).replace(Nw,"")}function $s(t,e,n){if(e=ih(e),ih(t)!==e&&n)throw Error(O(425))}function Go(){}var Mu=null,Iu=null;function xu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(t){return sh.resolve(null).then(t).catch(xw)}:Pu;function xw(t){setTimeout(function(){throw t})}function ka(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),is(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);is(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ci,us="__reactProps$"+ci,en="__reactContainer$"+ci,Lu="__reactEvents$"+ci,Pw="__reactListeners$"+ci,Lw="__reactHandles$"+ci;function Qn(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oh(t);t!==null;){if(n=t[Ht])return n;t=oh(t)}return e}t=n,n=t.parentNode}return null}function Ds(t){return t=t[Ht]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Ll(t){return t[us]||null}var zu=[],Nr=-1;function Hn(t){return{current:t}}function te(t){0>Nr||(t.current=zu[Nr],zu[Nr]=null,Nr--)}function Z(t,e){Nr++,zu[Nr]=t.current,t.current=e}var xn={},He=Hn(xn),Qe=Hn(!1),or=xn;function Kr(t,e){var n=t.type.contextTypes;if(!n)return xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(t){return t=t.childContextTypes,t!=null}function qo(){te(Qe),te(He)}function lh(t,e,n){if(He.current!==xn)throw Error(O(168));Z(He,e),Z(Qe,n)}function Mg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,SS(t)||"Unknown",i));return ue({},n,r)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,or=He.current,Z(He,t),Z(Qe,Qe.current),!0}function ah(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Mg(t,e,or),r.__reactInternalMemoizedMergedChildContext=t,te(Qe),te(He),Z(He,t)):te(Qe),Z(Qe,n)}var Wt=null,zl=!1,Oa=!1;function Ig(t){Wt===null?Wt=[t]:Wt.push(t)}function zw(t){zl=!0,Ig(t)}function Un(){if(!Oa&&Wt!==null){Oa=!0;var t=0,e=Q;try{var n=Wt;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wt=null,zl=!1}catch(i){throw Wt!==null&&(Wt=Wt.slice(t+1)),ig(Fc,Un),i}finally{Q=e,Oa=!1}}return null}var Mr=[],Ir=0,Zo=null,Ko=0,ft=[],ht=0,lr=null,$t=1,Gt="";function Yn(t,e){Mr[Ir++]=Ko,Mr[Ir++]=Zo,Zo=t,Ko=e}function xg(t,e,n){ft[ht++]=$t,ft[ht++]=Gt,ft[ht++]=lr,lr=t;var r=$t;t=Gt;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var s=32-Ot(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$t=1<<32-Ot(e)+i|n<<i|r,Gt=s+t}else $t=1<<s|n<<i|r,Gt=t}function Zc(t){t.return!==null&&(Yn(t,1),xg(t,1,0))}function Kc(t){for(;t===Zo;)Zo=Mr[--Ir],Mr[Ir]=null,Ko=Mr[--Ir],Mr[Ir]=null;for(;t===lr;)lr=ft[--ht],ft[ht]=null,Gt=ft[--ht],ft[ht]=null,$t=ft[--ht],ft[ht]=null}var nt=null,tt=null,re=!1,Ct=null;function Pg(t,e){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lr!==null?{id:$t,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uu(t){if(re){var e=tt;if(e){var n=e;if(!uh(t,e)){if(Hu(t))throw Error(O(418));e=bn(n.nextSibling);var r=nt;e&&uh(t,e)?Pg(r,n):(t.flags=t.flags&-4097|2,re=!1,nt=t)}}else{if(Hu(t))throw Error(O(418));t.flags=t.flags&-4097|2,re=!1,nt=t}}}function ch(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Gs(t){if(t!==nt)return!1;if(!re)return ch(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xu(t.type,t.memoizedProps)),e&&(e=tt)){if(Hu(t))throw Lg(),Error(O(418));for(;e;)Pg(t,e),e=bn(e.nextSibling)}if(ch(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?bn(t.stateNode.nextSibling):null;return!0}function Lg(){for(var t=tt;t;)t=bn(t.nextSibling)}function Xr(){tt=nt=null,re=!1}function Xc(t){Ct===null?Ct=[t]:Ct.push(t)}var Hw=ln.ReactCurrentBatchConfig;function Dt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xo=Hn(null),Jo=null,xr=null,Jc=null;function ed(){Jc=xr=Jo=null}function td(t){var e=Xo.current;te(Xo),t._currentValue=e}function Bu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vr(t,e){Jo=t,Jc=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function yt(t){var e=t._currentValue;if(Jc!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(Jo===null)throw Error(O(308));xr=t,Jo.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var Zn=null;function nd(t){Zn===null?Zn=[t]:Zn.push(t)}function zg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nd(e)):(n.next=i.next,i.next=n),e.interleaved=n,tn(t,r)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pn=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tn(t,n)}return i=r.interleaved,i===null?(e.next=e,nd(r)):(e.next=i.next,i.next=e),r.interleaved=e,tn(t,n)}function wo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yc(t,n)}}function dh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function el(t,e,n,r){var i=t.updateQueue;pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,d=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,v=l;switch(h=e,d=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(d,f,h):p,h==null)break e;f=ue({},f,h);break e;case 2:pn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else d={eventTime:d,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,a=f):c=c.next=d,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ur|=o,t.lanes=o,t.memoizedState=f}}function fh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Ug=new zm.Component().refs;function Fu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hl={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Rn(t),s=Zt(r,i);s.payload=e,n!=null&&(s.callback=n),e=kn(t,s,i),e!==null&&(Rt(e,t,i,r),wo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Rn(t),s=Zt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kn(t,s,i),e!==null&&(Rt(e,t,i,r),wo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=Rn(t),i=Zt(n,r);i.tag=2,e!=null&&(i.callback=e),e=kn(t,i,r),e!==null&&(Rt(e,t,r,n),wo(e,t,r))}};function hh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!os(n,r)||!os(i,s):!0}function Bg(t,e,n){var r=!1,i=xn,s=e.contextType;return typeof s=="object"&&s!==null?s=yt(s):(i=Ze(e)?or:He.current,r=e.contextTypes,s=(r=r!=null)?Kr(t,i):xn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ph(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hl.enqueueReplaceState(e,e.state,null)}function Yu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ug,rd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yt(s):(s=Ze(e)?or:He.current,i.context=Kr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hl.enqueueReplaceState(i,i.state,null),el(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Ug&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function qs(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mh(t){var e=t._init;return e(t._payload)}function Fg(t){function e(m,g){if(t){var E=m.deletions;E===null?(m.deletions=[g],m.flags|=16):E.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Nn(m,g),m.index=0,m.sibling=null,m}function s(m,g,E){return m.index=E,t?(E=m.alternate,E!==null?(E=E.index,E<g?(m.flags|=2,g):E):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,g,E,w){return g===null||g.tag!==6?(g=La(E,m.mode,w),g.return=m,g):(g=i(g,E),g.return=m,g)}function a(m,g,E,w){var D=E.type;return D===Cr?c(m,g,E.props.children,w,E.key):g!==null&&(g.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hn&&mh(D)===g.type)?(w=i(g,E.props),w.ref=Ti(m,g,E),w.return=m,w):(w=bo(E.type,E.key,E.props,null,m.mode,w),w.ref=Ti(m,g,E),w.return=m,w)}function u(m,g,E,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=za(E,m.mode,w),g.return=m,g):(g=i(g,E.children||[]),g.return=m,g)}function c(m,g,E,w,D){return g===null||g.tag!==7?(g=tr(E,m.mode,w,D),g.return=m,g):(g=i(g,E),g.return=m,g)}function f(m,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=La(""+g,m.mode,E),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zs:return E=bo(g.type,g.key,g.props,null,m.mode,E),E.ref=Ti(m,null,g),E.return=m,E;case Ar:return g=za(g,m.mode,E),g.return=m,g;case hn:var w=g._init;return f(m,w(g._payload),E)}if(Ri(g)||vi(g))return g=tr(g,m.mode,E,null),g.return=m,g;qs(m,g)}return null}function h(m,g,E,w){var D=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:l(m,g,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zs:return E.key===D?a(m,g,E,w):null;case Ar:return E.key===D?u(m,g,E,w):null;case hn:return D=E._init,h(m,g,D(E._payload),w)}if(Ri(E)||vi(E))return D!==null?null:c(m,g,E,w,null);qs(m,E)}return null}function d(m,g,E,w,D){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(E)||null,l(g,m,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zs:return m=m.get(w.key===null?E:w.key)||null,a(g,m,w,D);case Ar:return m=m.get(w.key===null?E:w.key)||null,u(g,m,w,D);case hn:var _=w._init;return d(m,g,E,_(w._payload),D)}if(Ri(w)||vi(w))return m=m.get(E)||null,c(g,m,w,D,null);qs(g,w)}return null}function p(m,g,E,w){for(var D=null,_=null,b=g,A=g=0,x=null;b!==null&&A<E.length;A++){b.index>A?(x=b,b=null):x=b.sibling;var P=h(m,b,E[A],w);if(P===null){b===null&&(b=x);break}t&&b&&P.alternate===null&&e(m,b),g=s(P,g,A),_===null?D=P:_.sibling=P,_=P,b=x}if(A===E.length)return n(m,b),re&&Yn(m,A),D;if(b===null){for(;A<E.length;A++)b=f(m,E[A],w),b!==null&&(g=s(b,g,A),_===null?D=b:_.sibling=b,_=b);return re&&Yn(m,A),D}for(b=r(m,b);A<E.length;A++)x=d(b,m,A,E[A],w),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?A:x.key),g=s(x,g,A),_===null?D=x:_.sibling=x,_=x);return t&&b.forEach(function(W){return e(m,W)}),re&&Yn(m,A),D}function v(m,g,E,w){var D=vi(E);if(typeof D!="function")throw Error(O(150));if(E=D.call(E),E==null)throw Error(O(151));for(var _=D=null,b=g,A=g=0,x=null,P=E.next();b!==null&&!P.done;A++,P=E.next()){b.index>A?(x=b,b=null):x=b.sibling;var W=h(m,b,P.value,w);if(W===null){b===null&&(b=x);break}t&&b&&W.alternate===null&&e(m,b),g=s(W,g,A),_===null?D=W:_.sibling=W,_=W,b=x}if(P.done)return n(m,b),re&&Yn(m,A),D;if(b===null){for(;!P.done;A++,P=E.next())P=f(m,P.value,w),P!==null&&(g=s(P,g,A),_===null?D=P:_.sibling=P,_=P);return re&&Yn(m,A),D}for(b=r(m,b);!P.done;A++,P=E.next())P=d(b,m,A,P.value,w),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?A:P.key),g=s(P,g,A),_===null?D=P:_.sibling=P,_=P);return t&&b.forEach(function($){return e(m,$)}),re&&Yn(m,A),D}function y(m,g,E,w){if(typeof E=="object"&&E!==null&&E.type===Cr&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zs:e:{for(var D=E.key,_=g;_!==null;){if(_.key===D){if(D=E.type,D===Cr){if(_.tag===7){n(m,_.sibling),g=i(_,E.props.children),g.return=m,m=g;break e}}else if(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hn&&mh(D)===_.type){n(m,_.sibling),g=i(_,E.props),g.ref=Ti(m,_,E),g.return=m,m=g;break e}n(m,_);break}else e(m,_);_=_.sibling}E.type===Cr?(g=tr(E.props.children,m.mode,w,E.key),g.return=m,m=g):(w=bo(E.type,E.key,E.props,null,m.mode,w),w.ref=Ti(m,g,E),w.return=m,m=w)}return o(m);case Ar:e:{for(_=E.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(m,g.sibling),g=i(g,E.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=za(E,m.mode,w),g.return=m,m=g}return o(m);case hn:return _=E._init,y(m,g,_(E._payload),w)}if(Ri(E))return p(m,g,E,w);if(vi(E))return v(m,g,E,w);qs(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,E),g.return=m,m=g):(n(m,g),g=La(E,m.mode,w),g.return=m,m=g),o(m)):n(m,g)}return y}var Jr=Fg(!0),Yg=Fg(!1),As={},Bt=Hn(As),cs=Hn(As),ds=Hn(As);function Kn(t){if(t===As)throw Error(O(174));return t}function id(t,e){switch(Z(ds,e),Z(cs,t),Z(Bt,As),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Su(e,t)}te(Bt),Z(Bt,e)}function ei(){te(Bt),te(cs),te(ds)}function jg(t){Kn(ds.current);var e=Kn(Bt.current),n=Su(e,t.type);e!==n&&(Z(cs,t),Z(Bt,n))}function sd(t){cs.current===t&&(te(Bt),te(cs))}var oe=Hn(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ra=[];function od(){for(var t=0;t<Ra.length;t++)Ra[t]._workInProgressVersionPrimary=null;Ra.length=0}var To=ln.ReactCurrentDispatcher,Na=ln.ReactCurrentBatchConfig,ar=0,ae=null,Ee=null,_e=null,nl=!1,Yi=!1,fs=0,Uw=0;function Me(){throw Error(O(321))}function ld(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function ad(t,e,n,r,i,s){if(ar=s,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,To.current=t===null||t.memoizedState===null?jw:Vw,t=n(r,i),Yi){s=0;do{if(Yi=!1,fs=0,25<=s)throw Error(O(301));s+=1,_e=Ee=null,e.updateQueue=null,To.current=Ww,t=n(r,i)}while(Yi)}if(To.current=rl,e=Ee!==null&&Ee.next!==null,ar=0,_e=Ee=ae=null,nl=!1,e)throw Error(O(300));return t}function ud(){var t=fs!==0;return fs=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ae.memoizedState=_e=t:_e=_e.next=t,_e}function Et(){if(Ee===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=_e===null?ae.memoizedState:_e.next;if(e!==null)_e=e,Ee=t;else{if(t===null)throw Error(O(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},_e===null?ae.memoizedState=_e=t:_e=_e.next=t}return _e}function hs(t,e){return typeof e=="function"?e(t):e}function Ma(t){var e=Et(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((ar&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ae.lanes|=c,ur|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,It(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ae.lanes|=s,ur|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ia(t){var e=Et(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);It(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vg(){}function Wg(t,e){var n=ae,r=Et(),i=e(),s=!It(r.memoizedState,i);if(s&&(r.memoizedState=i,Ge=!0),r=r.queue,cd(qg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,ps(9,Gg.bind(null,n,r,i,e),void 0,null),De===null)throw Error(O(349));ar&30||$g(n,e,i)}return i}function $g(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gg(t,e,n,r){e.value=n,e.getSnapshot=r,Qg(e)&&Zg(t)}function qg(t,e,n){return n(function(){Qg(e)&&Zg(t)})}function Qg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!It(t,n)}catch{return!0}}function Zg(t){var e=tn(t,1);e!==null&&Rt(e,t,1,-1)}function gh(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},e.queue=t,t=t.dispatch=Yw.bind(null,ae,t),[e.memoizedState,t]}function ps(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kg(){return Et().memoizedState}function _o(t,e,n,r){var i=Lt();ae.flags|=t,i.memoizedState=ps(1|e,n,void 0,r===void 0?null:r)}function Ul(t,e,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&ld(r,o.deps)){i.memoizedState=ps(e,n,s,r);return}}ae.flags|=t,i.memoizedState=ps(1|e,n,s,r)}function vh(t,e){return _o(8390656,8,t,e)}function cd(t,e){return Ul(2048,8,t,e)}function Xg(t,e){return Ul(4,2,t,e)}function Jg(t,e){return Ul(4,4,t,e)}function ev(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tv(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4,4,ev.bind(null,e,t),n)}function dd(){}function nv(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rv(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iv(t,e,n){return ar&21?(It(n,e)||(n=lg(),ae.lanes|=n,ur|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=n)}function Bw(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=Na.transition;Na.transition={};try{t(!1),e()}finally{Q=n,Na.transition=r}}function sv(){return Et().memoizedState}function Fw(t,e,n){var r=Rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ov(t))lv(e,n);else if(n=zg(t,e,n,r),n!==null){var i=Ye();Rt(n,t,r,i),av(n,e,r)}}function Yw(t,e,n){var r=Rn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ov(t))lv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,It(l,o)){var a=e.interleaved;a===null?(i.next=i,nd(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=zg(t,e,i,r),n!==null&&(i=Ye(),Rt(n,t,r,i),av(n,e,r))}}function ov(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function lv(t,e){Yi=nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function av(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yc(t,n)}}var rl={readContext:yt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},jw={readContext:yt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:vh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_o(4194308,4,ev.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _o(4194308,4,t,e)},useInsertionEffect:function(t,e){return _o(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fw.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:gh,useDebugValue:dd,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=gh(!1),e=t[0];return t=Bw.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,i=Lt();if(re){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),De===null)throw Error(O(349));ar&30||$g(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vh(qg.bind(null,r,s,t),[t]),r.flags|=2048,ps(9,Gg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lt(),e=De.identifierPrefix;if(re){var n=Gt,r=$t;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vw={readContext:yt,useCallback:nv,useContext:yt,useEffect:cd,useImperativeHandle:tv,useInsertionEffect:Xg,useLayoutEffect:Jg,useMemo:rv,useReducer:Ma,useRef:Kg,useState:function(){return Ma(hs)},useDebugValue:dd,useDeferredValue:function(t){var e=Et();return iv(e,Ee.memoizedState,t)},useTransition:function(){var t=Ma(hs)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Vg,useSyncExternalStore:Wg,useId:sv,unstable_isNewReconciler:!1},Ww={readContext:yt,useCallback:nv,useContext:yt,useEffect:cd,useImperativeHandle:tv,useInsertionEffect:Xg,useLayoutEffect:Jg,useMemo:rv,useReducer:Ia,useRef:Kg,useState:function(){return Ia(hs)},useDebugValue:dd,useDeferredValue:function(t){var e=Et();return Ee===null?e.memoizedState=t:iv(e,Ee.memoizedState,t)},useTransition:function(){var t=Ia(hs)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Vg,useSyncExternalStore:Wg,useId:sv,unstable_isNewReconciler:!1};function ti(t,e){try{var n="",r=e;do n+=ES(r),r=r.return;while(r);var i=n}catch(s){i=`\nError generating stack: `+s.message+`\n`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ju(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function uv(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,Ju=r),ju(t,e)},n}function cv(t,e,n){n=Zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ju(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ju(t,e),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $w;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oT.bind(null,t,e,n),e.then(t,t))}function Eh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,kn(n,e,1))),n.lanes|=1),t)}var Gw=ln.ReactCurrentOwner,Ge=!1;function Be(t,e,n,r){e.child=t===null?Yg(e,null,n,r):Jr(e,t.child,n,r)}function wh(t,e,n,r,i){n=n.render;var s=e.ref;return Vr(e,i),r=ad(t,e,n,r,s,i),n=ud(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(re&&n&&Zc(e),e.flags|=1,Be(t,e,r,i),e.child)}function Th(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ed(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dv(t,e,s,r,i)):(t=bo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(o,r)&&t.ref===e.ref)return nn(t,e,i)}return e.flags|=1,t=Nn(s,r),t.ref=e.ref,t.return=e,e.child=t}function dv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(os(s,r)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,nn(t,e,i)}return Vu(t,e,n,r,i)}function fv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Lr,Je),Je|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Lr,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Z(Lr,Je),Je|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Z(Lr,Je),Je|=r;return Be(t,e,i,n),e.child}function hv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vu(t,e,n,r,i){var s=Ze(n)?or:He.current;return s=Kr(e,s),Vr(e,i),n=ad(t,e,n,r,s,i),r=ud(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(re&&r&&Zc(e),e.flags|=1,Be(t,e,n,i),e.child)}function _h(t,e,n,r,i){if(Ze(n)){var s=!0;Qo(e)}else s=!1;if(Vr(e,i),e.stateNode===null)Do(t,e),Bg(e,n,r),Yu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ze(n)?or:He.current,u=Kr(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ph(e,o,r,u),pn=!1;var h=e.memoizedState;o.state=h,el(e,r,o,i),a=e.memoizedState,l!==r||h!==a||Qe.current||pn?(typeof c=="function"&&(Fu(e,n,c,r),a=e.memoizedState),(l=pn||hh(e,n,l,r,h,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Dt(e.type,l),o.props=u,f=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=yt(a):(a=Ze(n)?or:He.current,a=Kr(e,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&ph(e,o,r,a),pn=!1,h=e.memoizedState,o.state=h,el(e,r,o,i);var p=e.memoizedState;l!==f||h!==p||Qe.current||pn?(typeof d=="function"&&(Fu(e,n,d,r),p=e.memoizedState),(u=pn||hh(e,n,u,r,h,p,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wu(t,e,n,r,s,i)}function Wu(t,e,n,r,i,s){hv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ah(e,n,!1),nn(t,e,s);r=e.stateNode,Gw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jr(e,t.child,null,s),e.child=Jr(e,null,l,s)):Be(t,e,l,s),e.memoizedState=r.state,i&&ah(e,n,!0),e.child}function pv(t){var e=t.stateNode;e.pendingContext?lh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lh(t,e.context,!1),id(t,e.containerInfo)}function Dh(t,e,n,r,i){return Xr(),Xc(i),e.flags|=256,Be(t,e,n,r),e.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function Gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function mv(t,e,n){var r=e.pendingProps,i=oe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Z(oe,i&1),t===null)return Uu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yl(o,r,0,null),t=tr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gu(n),e.memoizedState=$u,t):fd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qw(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Nn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Nn(l,s):(s=tr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$u,r}return s=t.child,t=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fd(t,e){return e=Yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qs(t,e,n,r){return r!==null&&Xc(r),Jr(e,t.child,null,n),t=fd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qw(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xa(Error(O(422))),Qs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yl({mode:"visible",children:r.children},i,0,null),s=tr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jr(e,t.child,null,o),e.child.memoizedState=Gu(o),e.memoizedState=$u,s);if(!(e.mode&1))return Qs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(O(419)),r=xa(s,r,void 0),Qs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ge||l){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tn(t,i),Rt(r,t,i,-1))}return yd(),r=xa(Error(O(421))),Qs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tt=bn(i.nextSibling),nt=e,re=!0,Ct=null,t!==null&&(ft[ht++]=$t,ft[ht++]=Gt,ft[ht++]=lr,$t=t.id,Gt=t.overflow,lr=e),e=fd(e,r.children),e.flags|=4096,e)}function Ah(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bu(t.return,e,n)}function Pa(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Be(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ah(t,n,e);else if(t.tag===19)Ah(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pa(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pa(e,!0,n,null,s);break;case"together":Pa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Do(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qw(t,e,n){switch(e.tag){case 3:pv(e),Xr();break;case 5:jg(e);break;case 1:Ze(e.type)&&Qo(e);break;case 4:id(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Z(Xo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?mv(t,e,n):(Z(oe,oe.current&1),t=nn(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,fv(t,e,n)}return nn(t,e,n)}var vv,qu,yv,Ev;vv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qu=function(){};yv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kn(Bt.current);var s=null;switch(n){case"input":i=gu(t,i),r=gu(t,r),s=[];break;case"select":i=ue({},i,{value:void 0}),r=ue({},r,{value:void 0}),s=[];break;case"textarea":i=Eu(t,i),r=Eu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Go)}wu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ji.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&X("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ev=function(t,e,n,r){n!==r&&(e.flags|=4)};function _i(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zw(t,e,n){var r=e.pendingProps;switch(Kc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Ze(e.type)&&qo(),Ie(e),null;case 3:return r=e.stateNode,ei(),te(Qe),te(He),od(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(nc(Ct),Ct=null))),qu(t,e),Ie(e),null;case 5:sd(e);var i=Kn(ds.current);if(n=e.type,t!==null&&e.stateNode!=null)yv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ie(e),null}if(t=Kn(Bt.current),Gs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ht]=e,r[us]=s,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)X(Mi[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":xf(r,s),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},X("invalid",r);break;case"textarea":Lf(r,s),X("invalid",r)}wu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$s(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$s(r.textContent,l,t),i=["children",""+l]):Ji.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":Hs(r),Pf(r,s,!0);break;case"textarea":Hs(r),zf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Go)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$m(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ht]=e,t[us]=r,vv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tu(n,r),n){case"dialog":X("cancel",t),X("close",t),i=r;break;case"iframe":case"object":case"embed":X("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)X(Mi[i],t);i=r;break;case"source":X("error",t),i=r;break;case"img":case"image":case"link":X("error",t),X("load",t),i=r;break;case"details":X("toggle",t),i=r;break;case"input":xf(t,r),i=gu(t,r),X("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ue({},r,{value:void 0}),X("invalid",t);break;case"textarea":Lf(t,r),i=Eu(t,r),X("invalid",t);break;default:i=r}wu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Qm(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Gm(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&es(t,a):typeof a=="number"&&es(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ji.hasOwnProperty(s)?a!=null&&s==="onScroll"&&X("scroll",t):a!=null&&Lc(t,s,a,o))}switch(n){case"input":Hs(t),Pf(t,r,!1);break;case"textarea":Hs(t),zf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+In(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Br(t,!!r.multiple,s,!1):r.defaultValue!=null&&Br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(t&&e.stateNode!=null)Ev(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Kn(ds.current),Kn(Bt.current),Gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ht]=e,(s=r.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:$s(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$s(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=e,e.stateNode=r}return Ie(e),null;case 13:if(te(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&tt!==null&&e.mode&1&&!(e.flags&128))Lg(),Xr(),e.flags|=98560,s=!1;else if(s=Gs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Ht]=e}else Xr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),s=!1}else Ct!==null&&(nc(Ct),Ct=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?Se===0&&(Se=3):yd())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return ei(),qu(t,e),t===null&&ls(e.stateNode.containerInfo),Ie(e),null;case 10:return td(e.type._context),Ie(e),null;case 17:return Ze(e.type)&&qo(),Ie(e),null;case 19:if(te(oe),s=e.memoizedState,s===null)return Ie(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_i(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tl(t),o!==null){for(e.flags|=128,_i(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&he()>ni&&(e.flags|=128,r=!0,_i(s,!1),e.lanes=4194304)}else{if(!r)if(t=tl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!re)return Ie(e),null}else 2*he()-s.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,r=!0,_i(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=he(),e.sibling=null,n=oe.current,Z(oe,r?n&1|2:n&1),e):(Ie(e),null);case 22:case 23:return vd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Je&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function Kw(t,e){switch(Kc(e),e.tag){case 1:return Ze(e.type)&&qo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),te(Qe),te(He),od(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sd(e),null;case 13:if(te(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Xr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(oe),null;case 4:return ei(),null;case 10:return td(e.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var Zs=!1,xe=!1,Xw=typeof WeakSet=="function"?WeakSet:Set,I=null;function Pr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Qu(t,e,n){try{n()}catch(r){fe(t,e,r)}}var Ch=!1;function Jw(t,e){if(Mu=Vo,t=_g(),Qc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++c===r&&(a=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:t,selectionRange:n},Vo=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Dt(e.type,v),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return p=Ch,Ch=!1,p}function ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qu(e,n,s)}i=i.next}while(i!==r)}}function Bl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sv(t){var e=t.alternate;e!==null&&(t.alternate=null,Sv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[us],delete e[Lu],delete e[Pw],delete e[Lw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wv(t){return t.tag===5||t.tag===3||t.tag===4}function bh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Go));else if(r!==4&&(t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}function Xu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xu(t,e,n),t=t.sibling;t!==null;)Xu(t,e,n),t=t.sibling}var Ce=null,At=!1;function cn(t,e,n){for(n=n.child;n!==null;)Tv(t,e,n),n=n.sibling}function Tv(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:xe||Pr(n,e);case 6:var r=Ce,i=At;Ce=null,cn(t,e,n),Ce=r,At=i,Ce!==null&&(At?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(At?(t=Ce,n=n.stateNode,t.nodeType===8?ka(t.parentNode,n):t.nodeType===1&&ka(t,n),is(t)):ka(Ce,n.stateNode));break;case 4:r=Ce,i=At,Ce=n.stateNode.containerInfo,At=!0,cn(t,e,n),Ce=r,At=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qu(n,e,o),i=i.next}while(i!==r)}cn(t,e,n);break;case 1:if(!xe&&(Pr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fe(n,e,l)}cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,cn(t,e,n),xe=r):cn(t,e,n);break;default:cn(t,e,n)}}function kh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xw),e.forEach(function(r){var i=aT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,At=!1;break e;case 3:Ce=l.stateNode.containerInfo,At=!0;break e;case 4:Ce=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(Ce===null)throw Error(O(160));Tv(s,o,i),Ce=null,At=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_v(e,t),e=e.sibling}function _v(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Pt(t),r&4){try{ji(3,t,t.return),Bl(3,t)}catch(v){fe(t,t.return,v)}try{ji(5,t,t.return)}catch(v){fe(t,t.return,v)}}break;case 1:wt(e,t),Pt(t),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(wt(e,t),Pt(t),r&512&&n!==null&&Pr(n,n.return),t.flags&32){var i=t.stateNode;try{es(i,"")}catch(v){fe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Vm(i,s),Tu(l,o);var u=Tu(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Qm(i,f):c==="dangerouslySetInnerHTML"?Gm(i,f):c==="children"?es(i,f):Lc(i,c,f,u)}switch(l){case"input":vu(i,s);break;case"textarea":Wm(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Br(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Br(i,!!s.multiple,s.defaultValue,!0):Br(i,!!s.multiple,s.multiple?[]:"",!1))}i[us]=s}catch(v){fe(t,t.return,v)}}break;case 6:if(wt(e,t),Pt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){fe(t,t.return,v)}}break;case 3:if(wt(e,t),Pt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{is(e.containerInfo)}catch(v){fe(t,t.return,v)}break;case 4:wt(e,t),Pt(t);break;case 13:wt(e,t),Pt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(md=he())),r&4&&kh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xe=(u=xe)||c,wt(e,t),xe=u):wt(e,t),Pt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(f=I=c;I!==null;){switch(h=I,d=h.child,h.tag){case 0:case 11:case 14:case 15:ji(4,h,h.return);break;case 1:Pr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:Pr(h,h.return);break;case 22:if(h.memoizedState!==null){Rh(f);continue}}d!==null?(d.return=h,I=d):Rh(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=qm("display",o))}catch(v){fe(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){fe(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wt(e,t),Pt(t),r&4&&kh(t);break;case 21:break;default:wt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wv(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(es(i,""),r.flags&=-33);var s=bh(t);Xu(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bh(t);Ku(t,l,o);break;default:throw Error(O(161))}}catch(a){fe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eT(t,e,n){I=t,Dv(t)}function Dv(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Zs;var u=xe;if(Zs=o,(xe=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Nh(i):a!==null?(a.return=o,I=a):Nh(i);for(;s!==null;)I=s,Dv(s),s=s.sibling;I=i,Zs=l,xe=u}Oh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):Oh(t)}}function Oh(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xe||Bl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fh(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&is(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}xe||e.flags&512&&Zu(e)}catch(h){fe(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Rh(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Nh(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bl(4,e)}catch(a){fe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){fe(e,i,a)}}var s=e.return;try{Zu(e)}catch(a){fe(e,s,a)}break;case 5:var o=e.return;try{Zu(e)}catch(a){fe(e,o,a)}}}catch(a){fe(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var tT=Math.ceil,il=ln.ReactCurrentDispatcher,hd=ln.ReactCurrentOwner,vt=ln.ReactCurrentBatchConfig,V=0,De=null,ve=null,be=0,Je=0,Lr=Hn(0),Se=0,ms=null,ur=0,Fl=0,pd=0,Vi=null,$e=null,md=0,ni=1/0,Vt=null,sl=!1,Ju=null,On=null,Ks=!1,Sn=null,ol=0,Wi=0,ec=null,Ao=-1,Co=0;function Ye(){return V&6?he():Ao!==-1?Ao:Ao=he()}function Rn(t){return t.mode&1?V&2&&be!==0?be&-be:Hw.transition!==null?(Co===0&&(Co=lg()),Co):(t=Q,t!==0||(t=window.event,t=t===void 0?16:pg(t.type)),t):1}function Rt(t,e,n,r){if(50<Wi)throw Wi=0,ec=null,Error(O(185));Ts(t,n,r),(!(V&2)||t!==De)&&(t===De&&(!(V&2)&&(Fl|=n),Se===4&&vn(t,be)),Ke(t,r),n===1&&V===0&&!(e.mode&1)&&(ni=he()+500,zl&&Un()))}function Ke(t,e){var n=t.callbackNode;HS(t,e);var r=jo(t,t===De?be:0);if(r===0)n!==null&&Bf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bf(n),e===1)t.tag===0?zw(Mh.bind(null,t)):Ig(Mh.bind(null,t)),Iw(function(){!(V&6)&&Un()}),n=null;else{switch(ag(r)){case 1:n=Fc;break;case 4:n=sg;break;case 16:n=Yo;break;case 536870912:n=og;break;default:n=Yo}n=Mv(n,Av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Av(t,e){if(Ao=-1,Co=0,V&6)throw Error(O(327));var n=t.callbackNode;if(Wr()&&t.callbackNode!==n)return null;var r=jo(t,t===De?be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ll(t,r);else{e=r;var i=V;V|=2;var s=bv();(De!==t||be!==e)&&(Vt=null,ni=he()+500,er(t,e));do try{iT();break}catch(l){Cv(t,l)}while(1);ed(),il.current=s,V=i,ve!==null?e=0:(De=null,be=0,e=Se)}if(e!==0){if(e===2&&(i=bu(t),i!==0&&(r=i,e=tc(t,i))),e===1)throw n=ms,er(t,0),vn(t,r),Ke(t,he()),n;if(e===6)vn(t,r);else{if(i=t.current.alternate,!(r&30)&&!nT(i)&&(e=ll(t,r),e===2&&(s=bu(t),s!==0&&(r=s,e=tc(t,s))),e===1))throw n=ms,er(t,0),vn(t,r),Ke(t,he()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:jn(t,$e,Vt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=md+500-he(),10<e)){if(jo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pu(jn.bind(null,t,$e,Vt),e);break}jn(t,$e,Vt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ot(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tT(r/1960))-r,10<r){t.timeoutHandle=Pu(jn.bind(null,t,$e,Vt),r);break}jn(t,$e,Vt);break;case 5:jn(t,$e,Vt);break;default:throw Error(O(329))}}}return Ke(t,he()),t.callbackNode===n?Av.bind(null,t):null}function tc(t,e){var n=Vi;return t.current.memoizedState.isDehydrated&&(er(t,e).flags|=256),t=ll(t,e),t!==2&&(e=$e,$e=n,e!==null&&nc(e)),t}function nc(t){$e===null?$e=t:$e.push.apply($e,t)}function nT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!It(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~pd,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function Mh(t){if(V&6)throw Error(O(327));Wr();var e=jo(t,0);if(!(e&1))return Ke(t,he()),null;var n=ll(t,e);if(t.tag!==0&&n===2){var r=bu(t);r!==0&&(e=r,n=tc(t,r))}if(n===1)throw n=ms,er(t,0),vn(t,e),Ke(t,he()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jn(t,$e,Vt),Ke(t,he()),null}function gd(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(ni=he()+500,zl&&Un())}}function cr(t){Sn!==null&&Sn.tag===0&&!(V&6)&&Wr();var e=V;V|=1;var n=vt.transition,r=Q;try{if(vt.transition=null,Q=1,t)return t()}finally{Q=r,vt.transition=n,V=e,!(V&6)&&Un()}}function vd(){Je=Lr.current,te(Lr)}function er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mw(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qo();break;case 3:ei(),te(Qe),te(He),od();break;case 5:sd(r);break;case 4:ei();break;case 13:te(oe);break;case 19:te(oe);break;case 10:td(r.type._context);break;case 22:case 23:vd()}n=n.return}if(De=t,ve=t=Nn(t.current,null),be=Je=e,Se=0,ms=null,pd=Fl=ur=0,$e=Vi=null,Zn!==null){for(e=0;e<Zn.length;e++)if(n=Zn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zn=null}return t}function Cv(t,e){do{var n=ve;try{if(ed(),To.current=rl,nl){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nl=!1}if(ar=0,_e=Ee=ae=null,Yi=!1,fs=0,hd.current=null,n===null||n.return===null){Se=1,ms=e,ve=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Eh(o);if(d!==null){d.flags&=-257,Sh(d,o,l,s,e),d.mode&1&&yh(s,u,e),e=d,a=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(a),e.updateQueue=v}else p.add(a);break e}else{if(!(e&1)){yh(s,u,e),yd();break e}a=Error(O(426))}}else if(re&&l.mode&1){var y=Eh(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Sh(y,o,l,s,e),Xc(ti(a,l));break e}}s=a=ti(a,l),Se!==4&&(Se=2),Vi===null?Vi=[s]:Vi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=uv(s,a,e);dh(s,m);break e;case 1:l=a;var g=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(On===null||!On.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=cv(s,l,e);dh(s,w);break e}}s=s.return}while(s!==null)}Ov(n)}catch(D){e=D,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function bv(){var t=il.current;return il.current=rl,t===null?rl:t}function yd(){(Se===0||Se===3||Se===2)&&(Se=4),De===null||!(ur&268435455)&&!(Fl&268435455)||vn(De,be)}function ll(t,e){var n=V;V|=2;var r=bv();(De!==t||be!==e)&&(Vt=null,er(t,e));do try{rT();break}catch(i){Cv(t,i)}while(1);if(ed(),V=n,il.current=r,ve!==null)throw Error(O(261));return De=null,be=0,Se}function rT(){for(;ve!==null;)kv(ve)}function iT(){for(;ve!==null&&!OS();)kv(ve)}function kv(t){var e=Nv(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?Ov(t):ve=e,hd.current=null}function Ov(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kw(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ve=null;return}}else if(n=Zw(n,e,Je),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Se===0&&(Se=5)}function jn(t,e,n){var r=Q,i=vt.transition;try{vt.transition=null,Q=1,sT(t,e,n,r)}finally{vt.transition=i,Q=r}return null}function sT(t,e,n,r){do Wr();while(Sn!==null);if(V&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(US(t,s),t===De&&(ve=De=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Mv(Yo,function(){return Wr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vt.transition,vt.transition=null;var o=Q;Q=1;var l=V;V|=4,hd.current=null,Jw(t,n),_v(n,t),Aw(Iu),Vo=!!Mu,Iu=Mu=null,t.current=n,eT(n),RS(),V=l,Q=o,vt.transition=s}else t.current=n;if(Ks&&(Ks=!1,Sn=t,ol=i),s=t.pendingLanes,s===0&&(On=null),IS(n.stateNode),Ke(t,he()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sl)throw sl=!1,t=Ju,Ju=null,t;return ol&1&&t.tag!==0&&Wr(),s=t.pendingLanes,s&1?t===ec?Wi++:(Wi=0,ec=t):Wi=0,Un(),null}function Wr(){if(Sn!==null){var t=ag(ol),e=vt.transition,n=Q;try{if(vt.transition=null,Q=16>t?16:t,Sn===null)var r=!1;else{if(t=Sn,Sn=null,ol=0,V&6)throw Error(O(331));var i=V;for(V|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:ji(8,c,s)}var f=c.child;if(f!==null)f.return=c,I=f;else for(;I!==null;){c=I;var h=c.sibling,d=c.return;if(Sv(c),c===u){I=null;break}if(h!==null){h.return=d,I=h;break}I=d}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ji(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,I=m;break e}I=s.return}}var g=t.current;for(I=g;I!==null;){o=I;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,I=E;else e:for(o=g;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bl(9,l)}}catch(D){fe(l,l.return,D)}if(l===o){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(V=i,Un(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{Q=n,vt.transition=e}}return!1}function Ih(t,e,n){e=ti(n,e),e=uv(t,e,1),t=kn(t,e,1),e=Ye(),t!==null&&(Ts(t,1,e),Ke(t,e))}function fe(t,e,n){if(t.tag===3)Ih(t,t,n);else for(;e!==null;){if(e.tag===3){Ih(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){t=ti(n,t),t=cv(e,t,1),e=kn(e,t,1),t=Ye(),e!==null&&(Ts(e,1,t),Ke(e,t));break}}e=e.return}}function oT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(be&n)===n&&(Se===4||Se===3&&(be&130023424)===be&&500>he()-md?er(t,0):pd|=n),Ke(t,e)}function Rv(t,e){e===0&&(t.mode&1?(e=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):e=1);var n=Ye();t=tn(t,e),t!==null&&(Ts(t,e,n),Ke(t,n))}function lT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rv(t,n)}function aT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Rv(t,n)}var Nv;Nv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qe.current)Ge=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ge=!1,Qw(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,re&&e.flags&1048576&&xg(e,Ko,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Do(t,e),t=e.pendingProps;var i=Kr(e,He.current);Vr(e,n),i=ad(null,e,r,t,i,n);var s=ud();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ze(r)?(s=!0,Qo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rd(e),i.updater=Hl,e.stateNode=i,i._reactInternals=e,Yu(e,r,t,n),e=Wu(null,e,r,!0,s,n)):(e.tag=0,re&&s&&Zc(e),Be(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Do(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cT(r),t=Dt(r,t),i){case 0:e=Vu(null,e,r,t,n);break e;case 1:e=_h(null,e,r,t,n);break e;case 11:e=wh(null,e,r,t,n);break e;case 14:e=Th(null,e,r,Dt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),Vu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),_h(t,e,r,i,n);case 3:e:{if(pv(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Hg(t,e),el(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ti(Error(O(423)),e),e=Dh(t,e,r,n,i);break e}else if(r!==i){i=ti(Error(O(424)),e),e=Dh(t,e,r,n,i);break e}else for(tt=bn(e.stateNode.containerInfo.firstChild),nt=e,re=!0,Ct=null,n=Yg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xr(),r===i){e=nn(t,e,n);break e}Be(t,e,r,n)}e=e.child}return e;case 5:return jg(e),t===null&&Uu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xu(r,i)?o=null:s!==null&&xu(r,s)&&(e.flags|=32),hv(t,e),Be(t,e,o,n),e.child;case 6:return t===null&&Uu(e),null;case 13:return mv(t,e,n);case 4:return id(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jr(e,null,r,n):Be(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),wh(t,e,r,i,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Z(Xo,r._currentValue),r._currentValue=o,s!==null)if(It(s.value,o)){if(s.children===i.children&&!Qe.current){e=nn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Zt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bu(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vr(e,n),i=yt(i),r=r(i),e.flags|=1,Be(t,e,r,n),e.child;case 14:return r=e.type,i=Dt(r,e.pendingProps),i=Dt(r.type,i),Th(t,e,r,i,n);case 15:return dv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),Do(t,e),e.tag=1,Ze(r)?(t=!0,Qo(e)):t=!1,Vr(e,n),Bg(e,r,i),Yu(e,r,i,n),Wu(null,e,r,!0,t,n);case 19:return gv(t,e,n);case 22:return fv(t,e,n)}throw Error(O(156,e.tag))};function Mv(t,e){return ig(t,e)}function uT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,e,n,r){return new uT(t,e,n,r)}function Ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cT(t){if(typeof t=="function")return Ed(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hc)return 11;if(t===Uc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ed(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cr:return tr(n.children,i,s,e);case zc:o=8,i|=8;break;case fu:return t=mt(12,n,e,i|2),t.elementType=fu,t.lanes=s,t;case hu:return t=mt(13,n,e,i),t.elementType=hu,t.lanes=s,t;case pu:return t=mt(19,n,e,i),t.elementType=pu,t.lanes=s,t;case Fm:return Yl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Um:o=10;break e;case Bm:o=9;break e;case Hc:o=11;break e;case Uc:o=14;break e;case hn:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function tr(t,e,n,r){return t=mt(7,t,r,e),t.lanes=n,t}function Yl(t,e,n,r){return t=mt(22,t,r,e),t.elementType=Fm,t.lanes=n,t.stateNode={isHidden:!1},t}function La(t,e,n){return t=mt(6,t,null,e),t.lanes=n,t}function za(t,e,n){return e=mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sd(t,e,n,r,i,s,o,l,a){return t=new dT(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(s),t}function fT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iv(t){if(!t)return xn;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Ze(n))return Mg(t,n,e)}return e}function xv(t,e,n,r,i,s,o,l,a){return t=Sd(n,r,!0,t,i,s,o,l,a),t.context=Iv(null),n=t.current,r=Ye(),i=Rn(n),s=Zt(r,i),s.callback=e??null,kn(n,s,i),t.current.lanes=i,Ts(t,i,r),Ke(t,r),t}function jl(t,e,n,r){var i=e.current,s=Ye(),o=Rn(i);return n=Iv(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kn(i,e,o),t!==null&&(Rt(t,i,o,s),wo(t,i,o)),o}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wd(t,e){xh(t,e),(t=t.alternate)&&xh(t,e)}function hT(){return null}var Pv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}Vl.prototype.render=Td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));jl(t,e,null,null)};Vl.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){jl(null,t,null,null)}),e[en]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=dg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gn.length&&e!==0&&e<gn[n].priority;n++);gn.splice(n,0,t),n===0&&hg(t)}};function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ph(){}function pT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=al(o);s.call(u)}}var o=xv(e,r,t,0,null,!1,!1,"",Ph);return t._reactRootContainer=o,t[en]=o.current,ls(t.nodeType===8?t.parentNode:t),cr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=al(a);l.call(u)}}var a=Sd(t,0,!1,null,null,!1,!1,"",Ph);return t._reactRootContainer=a,t[en]=a.current,ls(t.nodeType===8?t.parentNode:t),cr(function(){jl(e,a,n,r)}),a}function $l(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=al(o);l.call(a)}}jl(e,o,t,i)}else o=pT(n,e,t,i,r);return al(o)}ug=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ni(e.pendingLanes);n!==0&&(Yc(e,n|1),Ke(e,he()),!(V&6)&&(ni=he()+500,Un()))}break;case 13:cr(function(){var r=tn(t,1);if(r!==null){var i=Ye();Rt(r,t,1,i)}}),wd(t,1)}};jc=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=Ye();Rt(e,t,134217728,n)}wd(t,134217728)}};cg=function(t){if(t.tag===13){var e=Rn(t),n=tn(t,e);if(n!==null){var r=Ye();Rt(n,t,e,r)}wd(t,e)}};dg=function(){return Q};fg=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};Du=function(t,e,n){switch(e){case"input":if(vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+\'][type="radio"]\'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ll(r);if(!i)throw Error(O(90));jm(r),vu(r,i)}}}break;case"textarea":Wm(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};Xm=gd;Jm=cr;var mT={usingClientEntryPoint:!1,Events:[Ds,Rr,Ll,Zm,Km,gd]},Di={findFiberByHostInstance:Qn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gT={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ng(t),t===null?null:t.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||hT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Ml=Xs.inject(gT),Ut=Xs}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(e))throw Error(O(200));return fT(t,e,null,n)};lt.createRoot=function(t,e){if(!_d(t))throw Error(O(299));var n=!1,r="",i=Pv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sd(t,1,!1,null,null,n,!1,r,i),t[en]=e.current,ls(t.nodeType===8?t.parentNode:t),new Td(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=ng(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return cr(t)};lt.hydrate=function(t,e,n){if(!Wl(e))throw Error(O(200));return $l(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!_d(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Pv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xv(e,null,t,1,n??null,i,!1,s,o),t[en]=e.current,ls(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vl(e)};lt.render=function(t,e,n){if(!Wl(e))throw Error(O(200));return $l(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!Wl(t))throw Error(O(40));return t._reactRootContainer?(cr(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};lt.unstable_batchedUpdates=gd;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wl(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return $l(t,e,n,!1,r)};lt.version="18.2.0-next-9e3b772b8-20220608";function Lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lv)}catch(t){console.error(t)}}Lv(),xm.exports=lt;var Dd=xm.exports,Lh=Dd;cu.createRoot=Lh.createRoot,cu.hydrateRoot=Lh.hydrateRoot;const zh=t=>{let e;const n=new Set,r=(a,u)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),n.forEach(h=>h(e,f))}},i=()=>e,l={setState:r,getState:i,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{n.clear()}};return e=t(r,i,l),l},vT=t=>t?zh(t):zh;var zv={exports:{}},Hv={},Uv={exports:{}},Bv={};/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var ri=Mt;function yT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ET=typeof Object.is=="function"?Object.is:yT,ST=ri.useState,wT=ri.useEffect,TT=ri.useLayoutEffect,_T=ri.useDebugValue;function DT(t,e){var n=e(),r=ST({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return TT(function(){i.value=n,i.getSnapshot=e,Ha(i)&&s({inst:i})},[t,n,e]),wT(function(){return Ha(i)&&s({inst:i}),t(function(){Ha(i)&&s({inst:i})})},[t]),_T(n),n}function Ha(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ET(t,n)}catch{return!0}}function AT(t,e){return e()}var CT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AT:DT;Bv.useSyncExternalStore=ri.useSyncExternalStore!==void 0?ri.useSyncExternalStore:CT;Uv.exports=Bv;var bT=Uv.exports;/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Gl=Mt,kT=bT;function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RT=typeof Object.is=="function"?Object.is:OT,NT=kT.useSyncExternalStore,MT=Gl.useRef,IT=Gl.useEffect,xT=Gl.useMemo,PT=Gl.useDebugValue;Hv.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=MT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=xT(function(){function a(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return f=p}return f=d}if(p=f,RT(c,d))return p;var v=r(d);return i!==void 0&&i(p,v)?p:(c=d,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return a(e())},h===null?void 0:function(){return a(h())}]},[e,n,r,i]);var l=NT(t,s[0],s[1]);return IT(function(){o.hasValue=!0,o.value=l},[l]),PT(l),l};zv.exports=Hv;var LT=zv.exports;const zT=_m(LT),{useSyncExternalStoreWithSelector:HT}=zT;function UT(t,e=t.getState,n){const r=HT(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return Mt.useDebugValue(r),r}const Hh=t=>{const e=typeof t=="function"?vT(t):t,n=(r,i)=>UT(e,r,i);return Object.assign(n,e),n},BT=t=>t?Hh(t):Hh,FT=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},YT=t=>{const e=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let r,i=!1;n&&(r=new WebSocket(n),r.onopen=()=>{i=!0,a("appState"),a("markwhenState")});let s;const o=()=>s||(s=acquireVsCodeApi(),s),l=d=>{var p;r&&i?r.send(JSON.stringify(d)):typeof acquireVsCodeApi<"u"?(p=o())==null||p.postMessage(d):typeof window<"u"&&typeof window.parent<"u"?window.parent.postMessage(d,"*"):console.error("Nothing to post to")},a=(d,p)=>{const v=`markwhen_${FT()}`;return new Promise((y,m)=>{e.set(v,{resolve:y,reject:m}),l({type:d,request:!0,id:v,params:p})})},u=(d,p,v)=>l({type:p,response:!0,id:d,params:v}),c=d=>{var v,y;if(!d.data.id||!d.data.id.startsWith("markwhen")||d.source===window)return;const p=d.data;if(p.response)(v=e.get(p.id))==null||v.resolve(p),e.delete(p.id);else if(p.request){const m=(y=t==null?void 0:t[p.type])==null?void 0:y.call(t,p.params);Promise.resolve(m).then(g=>{u(p.id,p.type,g)})}else console.error("Not a request or response",p)};r?r.onmessage=d=>{const p=new MessageEvent("message",{data:JSON.parse(d.data)});c(p)}:typeof window<"u"&&(window==null||window.addEventListener("message",c));const f=typeof window<"u"&&window.__markwhen_initial_state;return f&&t&&t.markwhenState&&t.markwhenState(f),{postRequest:a,close:()=>{r&&r.close(),window&&window.removeEventListener("message",c)}}},Uh=(t,e)=>{if(!t||!e)return!1;const n=t,r=e;return n.join(",")===r.join(",")};class gr extends Error{}class jT extends gr{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class VT extends gr{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class WT extends gr{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ii extends gr{}class Fv extends gr{constructor(e){super(`Invalid unit ${e}`)}}class pt extends gr{}class dn extends gr{constructor(){super("Zone is an abstract class")}}const M="numeric",xt="short",rt="long",ul={year:M,month:M,day:M},Yv={year:M,month:xt,day:M},$T={year:M,month:xt,day:M,weekday:xt},jv={year:M,month:rt,day:M},Vv={year:M,month:rt,day:M,weekday:rt},Wv={hour:M,minute:M},$v={hour:M,minute:M,second:M},Gv={hour:M,minute:M,second:M,timeZoneName:xt},qv={hour:M,minute:M,second:M,timeZoneName:rt},Qv={hour:M,minute:M,hourCycle:"h23"},Zv={hour:M,minute:M,second:M,hourCycle:"h23"},Kv={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:xt},Xv={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:rt},Jv={year:M,month:M,day:M,hour:M,minute:M},ey={year:M,month:M,day:M,hour:M,minute:M,second:M},ty={year:M,month:xt,day:M,hour:M,minute:M},ny={year:M,month:xt,day:M,hour:M,minute:M,second:M},GT={year:M,month:xt,day:M,weekday:xt,hour:M,minute:M},ry={year:M,month:rt,day:M,hour:M,minute:M,timeZoneName:xt},iy={year:M,month:rt,day:M,hour:M,minute:M,second:M,timeZoneName:xt},sy={year:M,month:rt,day:M,weekday:rt,hour:M,minute:M,timeZoneName:rt},oy={year:M,month:rt,day:M,weekday:rt,hour:M,minute:M,second:M,timeZoneName:rt};class Cs{get type(){throw new dn}get name(){throw new dn}get ianaName(){return this.name}get isUniversal(){throw new dn}offsetName(e,n){throw new dn}formatOffset(e,n){throw new dn}offset(e){throw new dn}equals(e){throw new dn}get isValid(){throw new dn}}let Ua=null;class ql extends Cs{static get instance(){return Ua===null&&(Ua=new ql),Ua}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return ay(e,n,r)}formatOffset(e,n){return Gi(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let ko={};function qT(t){return ko[t]||(ko[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ko[t]}const QT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ZT(t,e){const n=t.format(e).replace(/\\u200E/g,""),r=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,i,s,o,l,a,u,c]=r;return[o,i,s,l,a,u,c]}function KT(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=QT[s];s==="era"?r[l]=o:F(l)||(r[l]=parseInt(o,10))}return r}let Js={};class rn extends Cs{static create(e){return Js[e]||(Js[e]=new rn(e)),Js[e]}static resetCache(){Js={},ko={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=rn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return ay(e,n,r,this.name)}formatOffset(e,n){return Gi(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=qT(this.name);let[i,s,o,l,a,u,c]=r.formatToParts?KT(r,n):ZT(r,n);l==="BC"&&(i=-Math.abs(i)+1);const h=bd({year:i,month:s,day:o,hour:a===24?0:a,minute:u,second:c,millisecond:0});let d=+n;const p=d%1e3;return d-=p>=0?p:1e3+p,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Bh={};function XT(t,e={}){const n=JSON.stringify([t,e]);let r=Bh[n];return r||(r=new Intl.ListFormat(t,e),Bh[n]=r),r}let rc={};function ic(t,e={}){const n=JSON.stringify([t,e]);let r=rc[n];return r||(r=new Intl.DateTimeFormat(t,e),rc[n]=r),r}let sc={};function JT(t,e={}){const n=JSON.stringify([t,e]);let r=sc[n];return r||(r=new Intl.NumberFormat(t,e),sc[n]=r),r}let oc={};function e_(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=oc[i];return s||(s=new Intl.RelativeTimeFormat(t,e),oc[i]=s),s}let xi=null;function t_(){return xi||(xi=new Intl.DateTimeFormat().resolvedOptions().locale,xi)}function n_(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=ic(t).resolvedOptions(),i=t}catch{const a=t.substring(0,n);r=ic(a).resolvedOptions(),i=a}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function r_(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function i_(t){const e=[];for(let n=1;n<=12;n++){const r=H.utc(2016,n,1);e.push(t(r))}return e}function s_(t){const e=[];for(let n=1;n<=7;n++){const r=H.utc(2016,11,13+n);e.push(t(r))}return e}function eo(t,e,n,r,i){const s=t.listingMode(n);return s==="error"?null:s==="en"?r(e):i(e)}function o_(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class l_{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=JT(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Cd(e,3);return me(n,this.padTo)}}}class a_{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&rn.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=ic(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class u_{constructor(e,n,r){this.opts={style:"long",...r},!n&&ly()&&(this.rtf=e_(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):C_(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class J{static fromOpts(e){return J.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const s=e||pe.defaultLocale,o=s||(i?"en-US":t_()),l=n||pe.defaultNumberingSystem,a=r||pe.defaultOutputCalendar;return new J(o,l,a,s)}static resetCache(){xi=null,rc={},sc={},oc={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return J.create(e,n,r)}constructor(e,n,r,i){const[s,o,l]=n_(e);this.locale=s,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.intl=r_(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=o_(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:J.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return eo(this,e,r,dy,()=>{const i=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=i_(o=>this.extract(o,i,"month"))),this.monthsCache[s][e]})}weekdays(e,n=!1,r=!0){return eo(this,e,r,py,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=n?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=s_(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return eo(this,void 0,e,()=>my,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[H.utc(2016,11,13,9),H.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return eo(this,e,n,gy,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[H.utc(-40,1,1),H.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new l_(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new a_(e,this.intl,n)}relFormatter(e={}){return new u_(this.intl,this.isEnglish(),e)}listFormatter(e={}){return XT(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Ba=null;class Fe extends Cs{static get utcInstance(){return Ba===null&&(Ba=new Fe(0)),Ba}static instance(e){return e===0?Fe.utcInstance:new Fe(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new Fe(Zl(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Gi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Gi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Gi(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class c_ extends Cs{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function yn(t,e){if(F(t)||t===null)return e;if(t instanceof Cs)return t;if(d_(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?ql.instance:n==="utc"||n==="gmt"?Fe.utcInstance:Fe.parseSpecifier(n)||rn.create(t)}else return nr(t)?Fe.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new c_(t)}let Fh=()=>Date.now(),Yh="system",jh=null,Vh=null,Wh=null,$h=60,Gh;class pe{static get now(){return Fh}static set now(e){Fh=e}static set defaultZone(e){Yh=e}static get defaultZone(){return yn(Yh,ql.instance)}static get defaultLocale(){return jh}static set defaultLocale(e){jh=e}static get defaultNumberingSystem(){return Vh}static set defaultNumberingSystem(e){Vh=e}static get defaultOutputCalendar(){return Wh}static set defaultOutputCalendar(e){Wh=e}static get twoDigitCutoffYear(){return $h}static set twoDigitCutoffYear(e){$h=e%100}static get throwOnInvalid(){return Gh}static set throwOnInvalid(e){Gh=e}static resetCaches(){J.resetCache(),rn.resetCache()}}function F(t){return typeof t>"u"}function nr(t){return typeof t=="number"}function Ql(t){return typeof t=="number"&&t%1===0}function d_(t){return typeof t=="string"}function f_(t){return Object.prototype.toString.call(t)==="[object Date]"}function ly(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function h_(t){return Array.isArray(t)?t:[t]}function qh(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function p_(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function ii(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qt(t,e,n){return Ql(t)&&t>=e&&t<=n}function m_(t,e){return t-e*Math.floor(t/e)}function me(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function mn(t){if(!(F(t)||t===null||t===""))return parseInt(t,10)}function Fn(t){if(!(F(t)||t===null||t===""))return parseFloat(t)}function Ad(t){if(!(F(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Cd(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function bs(t){return t%4===0&&(t%100!==0||t%400===0)}function $i(t){return bs(t)?366:365}function cl(t,e){const n=m_(e-1,12)+1,r=t+(e-n)/12;return n===2?bs(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function bd(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function dl(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function lc(t){return t>99?t:t>pe.twoDigitCutoffYear?1900+t:2e3+t}function ay(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(a=>a.type.toLowerCase()==="timezonename");return l?l.value:null}function Zl(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function uy(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new pt(`Invalid unit value ${t}`);return e}function fl(t,e){const n={};for(const r in t)if(ii(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=uy(i)}return n}function Gi(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${me(n,2)}:${me(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${me(n,2)}${me(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Kl(t){return p_(t,["hour","minute","second","millisecond"])}const g_=["January","February","March","April","May","June","July","August","September","October","November","December"],cy=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v_=["J","F","M","A","M","J","J","A","S","O","N","D"];function dy(t){switch(t){case"narrow":return[...v_];case"short":return[...cy];case"long":return[...g_];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const fy=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hy=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],y_=["M","T","W","T","F","S","S"];function py(t){switch(t){case"narrow":return[...y_];case"short":return[...hy];case"long":return[...fy];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const my=["AM","PM"],E_=["Before Christ","Anno Domini"],S_=["BC","AD"],w_=["B","A"];function gy(t){switch(t){case"narrow":return[...w_];case"short":return[...S_];case"long":return[...E_];default:return null}}function T_(t){return my[t.hour<12?0:1]}function __(t,e){return py(e)[t.weekday-1]}function D_(t,e){return dy(e)[t.month-1]}function A_(t,e){return gy(e)[t.year<0?0:1]}function C_(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),a=l===1,u=i[t],c=r?a?u[1]:u[2]||u[1]:a?i[t][0]:t;return o?`${l} ${c} ago`:`in ${l} ${c}`}function Qh(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const b_={D:ul,DD:Yv,DDD:jv,DDDD:Vv,t:Wv,tt:$v,ttt:Gv,tttt:qv,T:Qv,TT:Zv,TTT:Kv,TTTT:Xv,f:Jv,ff:ty,fff:ry,ffff:sy,F:ey,FF:ny,FFF:iy,FFFF:oy};class Pe{static create(e,n={}){return new Pe(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="\'"?(r.length>0&&s.push({literal:i||/^\\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return b_[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}formatInterval(e,n={}){return this.loc.dtFormatter(e.start,{...this.opts,...n}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return me(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,p)=>this.loc.extract(e,d,p),o=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",l=()=>r?T_(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(d,p)=>r?D_(e,d):s(p?{month:d}:{month:d,day:"numeric"},"month"),u=(d,p)=>r?__(e,d):s(p?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const p=Pe.macroTokenToFormatOpts(d);return p?this.formatWithSystemDefault(e,p):d},f=d=>r?A_(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return Qh(Pe.parseFormat(n),h)}formatDurationFromString(e,n){const r=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=a=>u=>{const c=r(u);return c?this.num(a.get(c),u.length):u},s=Pe.parseFormat(n),o=s.reduce((a,{literal:u,val:c})=>u?a:a.concat(c),[]),l=e.shiftTo(...o.map(r).filter(a=>a));return Qh(s,i(l))}}class bt{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const vy=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function di(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function fi(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,a]=s(e,i);return[{...n,...o},l||r,a]},[{},null,1]).slice(0,2)}function hi(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function yy(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=mn(e[n+i]);return[r,null,n+i]}}const Ey=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,k_=`(?:${Ey.source}?(?:\\\\[(${vy.source})\\\\])?)?`,kd=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,Sy=RegExp(`${kd.source}${k_}`),Od=RegExp(`(?:T${Sy.source})?`),O_=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,R_=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,N_=/(\\d{4})-?(\\d{3})/,M_=yy("weekYear","weekNumber","weekDay"),I_=yy("year","ordinal"),x_=/(\\d{4})-(\\d\\d)-(\\d\\d)/,wy=RegExp(`${kd.source} ?(?:${Ey.source}|(${vy.source}))?`),P_=RegExp(`(?: ${wy.source})?`);function $r(t,e,n){const r=t[e];return F(r)?n:mn(r)}function L_(t,e){return[{year:$r(t,e),month:$r(t,e+1,1),day:$r(t,e+2,1)},null,e+3]}function pi(t,e){return[{hours:$r(t,e,0),minutes:$r(t,e+1,0),seconds:$r(t,e+2,0),milliseconds:Ad(t[e+3])},null,e+4]}function ks(t,e){const n=!t[e]&&!t[e+1],r=Zl(t[e+1],t[e+2]),i=n?null:Fe.instance(r);return[{},i,e+3]}function Os(t,e){const n=t[e]?rn.create(t[e]):null;return[{},n,e+1]}const z_=RegExp(`^T?${kd.source}$`),H_=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function U_(t){const[e,n,r,i,s,o,l,a,u]=t,c=e[0]==="-",f=a&&a[0]==="-",h=(d,p=!1)=>d!==void 0&&(p||d&&c)?-d:d;return[{years:h(Fn(n)),months:h(Fn(r)),weeks:h(Fn(i)),days:h(Fn(s)),hours:h(Fn(o)),minutes:h(Fn(l)),seconds:h(Fn(a),a==="-0"),milliseconds:h(Ad(u),f)}]}const B_={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Rd(t,e,n,r,i,s,o){const l={year:e.length===2?lc(mn(e)):mn(e),month:cy.indexOf(n)+1,day:mn(r),hour:mn(i),minute:mn(s)};return o&&(l.second=mn(o)),t&&(l.weekday=t.length>3?fy.indexOf(t)+1:hy.indexOf(t)+1),l}const F_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function Y_(t){const[,e,n,r,i,s,o,l,a,u,c,f]=t,h=Rd(e,i,r,n,s,o,l);let d;return a?d=B_[a]:u?d=0:d=Zl(c,f),[h,new Fe(d)]}function j_(t){return t.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const V_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,W_=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,$_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function Zh(t){const[,e,n,r,i,s,o,l]=t;return[Rd(e,i,r,n,s,o,l),Fe.utcInstance]}function G_(t){const[,e,n,r,i,s,o,l]=t;return[Rd(e,l,n,r,i,s,o),Fe.utcInstance]}const q_=di(O_,Od),Q_=di(R_,Od),Z_=di(N_,Od),K_=di(Sy),Ty=fi(L_,pi,ks,Os),X_=fi(M_,pi,ks,Os),J_=fi(I_,pi,ks,Os),eD=fi(pi,ks,Os);function tD(t){return hi(t,[q_,Ty],[Q_,X_],[Z_,J_],[K_,eD])}function nD(t){return hi(j_(t),[F_,Y_])}function rD(t){return hi(t,[V_,Zh],[W_,Zh],[$_,G_])}function iD(t){return hi(t,[H_,U_])}const sD=fi(pi);function oD(t){return hi(t,[z_,sD])}const lD=di(x_,P_),aD=di(wy),uD=fi(pi,ks,Os);function cD(t){return hi(t,[lD,Ty],[aD,uD])}const dD="Invalid Duration",_y={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},fD={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},..._y},dt=146097/400,wr=146097/4800,hD={years:{quarters:4,months:12,weeks:dt/7,days:dt,hours:dt*24,minutes:dt*24*60,seconds:dt*24*60*60,milliseconds:dt*24*60*60*1e3},quarters:{months:3,weeks:dt/28,days:dt/4,hours:dt*24/4,minutes:dt*24*60/4,seconds:dt*24*60*60/4,milliseconds:dt*24*60*60*1e3/4},months:{weeks:wr/7,days:wr,hours:wr*24,minutes:wr*24*60,seconds:wr*24*60*60,milliseconds:wr*24*60*60*1e3},..._y},Vn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pD=Vn.slice(0).reverse();function fn(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new j(r)}function mD(t){return t<0?Math.floor(t):Math.ceil(t)}function Dy(t,e,n,r,i){const s=t[i][n],o=e[n]/s,l=Math.sign(o)===Math.sign(r[i]),a=!l&&r[i]!==0&&Math.abs(o)<=1?mD(o):Math.trunc(o);r[i]+=a,e[n]-=a*s}function gD(t,e){pD.reduce((n,r)=>F(e[r])?n:(n&&Dy(t,e,n,e,r),r),null)}function vD(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class j{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?hD:fD;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||J.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return j.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new pt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new j({values:fl(e,j.normalizeUnit),loc:J.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(nr(e))return j.fromMillis(e);if(j.isDuration(e))return e;if(typeof e=="object")return j.fromObject(e);throw new pt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=iD(e);return r?j.fromObject(r,n):j.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=oD(e);return r?j.fromObject(r,n):j.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new pt("need to specify a reason the Duration is invalid");const r=e instanceof bt?e:new bt(e,n);if(pe.throwOnInvalid)throw new WT(r);return new j({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Fv(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Pe.create(this.loc,r).formatDurationFromString(this,e):dD}toHuman(e={}){const n=Vn.map(r=>{const i=this.values[r];return F(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Cd(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let s=r.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e),r={};for(const i of Vn)(ii(n.values,i)||ii(this.values,i))&&(r[i]=n.get(i)+this.get(i));return fn(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=uy(e(this.values[r],r));return fn(this,{values:n},!0)}get(e){return this[j.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...fl(e,j.normalizeUnit)};return fn(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return fn(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return gD(this.matrix,e),fn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=vD(this.normalize().shiftToAll().toObject());return fn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>j.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Vn)if(e.indexOf(o)>=0){s=o;let l=0;for(const u in r)l+=this.matrix[u][o]*r[u],r[u]=0;nr(i[o])&&(l+=i[o]);const a=Math.trunc(l);n[o]=a,r[o]=(l*1e3-a*1e3)/1e3;for(const u in i)Vn.indexOf(u)>Vn.indexOf(o)&&Dy(this.matrix,i,u,n,o)}else nr(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return fn(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return fn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Vn)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Tr="Invalid Interval";function yD(t,e){return!t||!t.isValid?ce.invalid("missing or invalid start"):!e||!e.isValid?ce.invalid("missing or invalid end"):e<t?ce.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ce{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new pt("need to specify a reason the Interval is invalid");const r=e instanceof bt?e:new bt(e,n);if(pe.throwOnInvalid)throw new VT(r);return new ce({invalid:r})}static fromDateTimes(e,n){const r=bi(e),i=bi(n),s=yD(r,i);return s??new ce({start:r,end:i})}static after(e,n){const r=j.fromDurationLike(n),i=bi(e);return ce.fromDateTimes(i,i.plus(r))}static before(e,n){const r=j.fromDurationLike(n),i=bi(e);return ce.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=H.fromISO(r,n),o=s.isValid}catch{o=!1}let l,a;try{l=H.fromISO(i,n),a=l.isValid}catch{a=!1}if(o&&a)return ce.fromDateTimes(s,l);if(o){const u=j.fromISO(i,n);if(u.isValid)return ce.after(s,u)}else if(a){const u=j.fromISO(r,n);if(u.isValid)return ce.before(l,u)}}return ce.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ce.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(bi).filter(o=>this.contains(o)).sort(),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(ce.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=j.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(a=>a*i));s=+l>+this.e?this.e:l,o.push(ce.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ce.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ce.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((a,u)=>a.time-u.time);for(const a of l)r+=a.type==="s"?1:-1,r===1?n=a.time:(n&&+n!=+a.time&&i.push(ce.fromDateTimes(n,a.time)),n=null);return ce.merge(i)}difference(...e){return ce.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Tr}toLocaleString(e=ul,n={}){return this.isValid?Pe.create(this.s.loc.clone(n),e).formatInterval(this):Tr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Tr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Tr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Tr}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Tr}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):j.invalid(this.invalidReason)}mapEndpoints(e){return ce.fromDateTimes(e(this.s),e(this.e))}}class to{static hasDST(e=pe.defaultZone){const n=H.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return rn.isValidZone(e)}static normalizeZone(e){return yn(e,pe.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||J.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||J.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||J.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||J.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return J.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return J.create(n,null,"gregory").eras(e)}static features(){return{relative:ly()}}}function Kh(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(j.fromMillis(r).as("days"))}function ED(t,e,n){const r=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const c=Kh(a,u);return(c-c%7)/7}],["days",Kh]],i={},s=t;let o,l;for(const[a,u]of r)n.indexOf(a)>=0&&(o=a,i[a]=u(t,e),l=s.plus(i),l>e?(i[a]--,t=s.plus(i)):t=l);return[t,i,l,o]}function SD(t,e,n,r){let[i,s,o,l]=ED(t,e,n);const a=e-i,u=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+a/(o-i)));const c=j.fromObject(s,r);return u.length>0?j.fromMillis(a,r).shiftTo(...u).plus(c):c}const Nd={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},Xh={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},wD=Nd.hanidec.replace(/[\\[|\\]]/g,"").split("");function TD(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(Nd.hanidec)!==-1)e+=wD.indexOf(t[n]);else for(const i in Xh){const[s,o]=Xh[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}function Tt({numberingSystem:t},e=""){return new RegExp(`${Nd[t||"latn"]}${e}`)}const _D="missing Intl.DateTimeFormat.formatToParts support";function G(t,e=n=>n){return{regex:t,deser:([n])=>e(TD(n))}}const DD=String.fromCharCode(160),Ay=`[ ${DD}]`,Cy=new RegExp(Ay,"g");function AD(t){return t.replace(/\\./g,"\\\\.?").replace(Cy,Ay)}function Jh(t){return t.replace(/\\./g,"").replace(Cy," ").toLowerCase()}function _t(t,e){return t===null?null:{regex:RegExp(t.map(AD).join("|")),deser:([n])=>t.findIndex(r=>Jh(n)===Jh(r))+e}}function ep(t,e){return{regex:t,deser:([,n,r])=>Zl(n,r),groups:e}}function no(t){return{regex:t,deser:([e])=>e}}function CD(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function bD(t,e){const n=Tt(e),r=Tt(e,"{2}"),i=Tt(e,"{3}"),s=Tt(e,"{4}"),o=Tt(e,"{6}"),l=Tt(e,"{1,2}"),a=Tt(e,"{1,3}"),u=Tt(e,"{1,6}"),c=Tt(e,"{1,9}"),f=Tt(e,"{2,4}"),h=Tt(e,"{4,6}"),d=y=>({regex:RegExp(CD(y.val)),deser:([m])=>m,literal:!0}),v=(y=>{if(t.literal)return d(y);switch(y.val){case"G":return _t(e.eras("short",!1),0);case"GG":return _t(e.eras("long",!1),0);case"y":return G(u);case"yy":return G(f,lc);case"yyyy":return G(s);case"yyyyy":return G(h);case"yyyyyy":return G(o);case"M":return G(l);case"MM":return G(r);case"MMM":return _t(e.months("short",!0,!1),1);case"MMMM":return _t(e.months("long",!0,!1),1);case"L":return G(l);case"LL":return G(r);case"LLL":return _t(e.months("short",!1,!1),1);case"LLLL":return _t(e.months("long",!1,!1),1);case"d":return G(l);case"dd":return G(r);case"o":return G(a);case"ooo":return G(i);case"HH":return G(r);case"H":return G(l);case"hh":return G(r);case"h":return G(l);case"mm":return G(r);case"m":return G(l);case"q":return G(l);case"qq":return G(r);case"s":return G(l);case"ss":return G(r);case"S":return G(a);case"SSS":return G(i);case"u":return no(c);case"uu":return no(l);case"uuu":return G(n);case"a":return _t(e.meridiems(),0);case"kkkk":return G(s);case"kk":return G(f,lc);case"W":return G(l);case"WW":return G(r);case"E":case"c":return G(n);case"EEE":return _t(e.weekdays("short",!1,!1),1);case"EEEE":return _t(e.weekdays("long",!1,!1),1);case"ccc":return _t(e.weekdays("short",!0,!1),1);case"cccc":return _t(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ep(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return ep(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return no(/[a-z_+-/]{1,256}?/i);case" ":return no(/[^\\S\\n\\r]/);default:return d(y)}})(t)||{invalidReason:_D};return v.token=t,v}const kD={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function OD(t,e){const{type:n,value:r}=t;if(n==="literal"){const o=/^\\s+$/.test(r);return{literal:!o,val:o?" ":r}}const i=e[n];let s=kD[n];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function RD(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function ND(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(ii(n,o)){const l=n[o],a=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+a))),s+=a}return[r,i]}else return[r,{}]}function MD(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return F(t.z)||(n=rn.create(t.z)),F(t.Z)||(n||(n=new Fe(t.Z)),r=t.Z),F(t.q)||(t.M=(t.q-1)*3+1),F(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),F(t.u)||(t.S=Ad(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let Fa=null;function ID(){return Fa||(Fa=H.fromMillis(1555555555555)),Fa}function xD(t,e){if(t.literal)return t;const n=Pe.macroTokenToFormatOpts(t.val),r=Oy(n,e);return r==null||r.includes(void 0)?t:r}function by(t,e){return Array.prototype.concat(...t.map(n=>xD(n,e)))}function ky(t,e,n){const r=by(Pe.parseFormat(n),t),i=r.map(o=>bD(o,t)),s=i.find(o=>o.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[o,l]=RD(i),a=RegExp(o,"i"),[u,c]=ND(e,a,l),[f,h,d]=c?MD(c):[null,null,void 0];if(ii(c,"a")&&ii(c,"H"))throw new Ii("Can\'t include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:a,rawMatches:u,matches:c,result:f,zone:h,specificOffset:d}}}function PD(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=ky(t,e,n);return[r,i,s,o]}function Oy(t,e){return t?Pe.create(e,t).formatDateTimeParts(ID()).map(i=>OD(i,t)):null}const Ry=[0,31,59,90,120,151,181,212,243,273,304,334],Ny=[0,31,60,91,121,152,182,213,244,274,305,335];function gt(t,e){return new bt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function My(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Iy(t,e,n){return n+(bs(t)?Ny:Ry)[e-1]}function xy(t,e){const n=bs(t)?Ny:Ry,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function ac(t){const{year:e,month:n,day:r}=t,i=Iy(e,n,r),s=My(e,n,r);let o=Math.floor((i-s+10)/7),l;return o<1?(l=e-1,o=dl(l)):o>dl(e)?(l=e+1,o=1):l=e,{weekYear:l,weekNumber:o,weekday:s,...Kl(t)}}function tp(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=My(e,1,4),s=$i(e);let o=n*7+r-i-3,l;o<1?(l=e-1,o+=$i(l)):o>s?(l=e+1,o-=$i(e)):l=e;const{month:a,day:u}=xy(l,o);return{year:l,month:a,day:u,...Kl(t)}}function Ya(t){const{year:e,month:n,day:r}=t,i=Iy(e,n,r);return{year:e,ordinal:i,...Kl(t)}}function np(t){const{year:e,ordinal:n}=t,{month:r,day:i}=xy(e,n);return{year:e,month:r,day:i,...Kl(t)}}function LD(t){const e=Ql(t.weekYear),n=qt(t.weekNumber,1,dl(t.weekYear)),r=qt(t.weekday,1,7);return e?n?r?!1:gt("weekday",t.weekday):gt("week",t.week):gt("weekYear",t.weekYear)}function zD(t){const e=Ql(t.year),n=qt(t.ordinal,1,$i(t.year));return e?n?!1:gt("ordinal",t.ordinal):gt("year",t.year)}function Py(t){const e=Ql(t.year),n=qt(t.month,1,12),r=qt(t.day,1,cl(t.year,t.month));return e?n?r?!1:gt("day",t.day):gt("month",t.month):gt("year",t.year)}function Ly(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=qt(e,0,23)||e===24&&n===0&&r===0&&i===0,o=qt(n,0,59),l=qt(r,0,59),a=qt(i,0,999);return s?o?l?a?!1:gt("millisecond",i):gt("second",r):gt("minute",n):gt("hour",e)}const ja="Invalid DateTime",rp=864e13;function ro(t){return new bt("unsupported zone",`the zone "${t.name}" is not supported`)}function Va(t){return t.weekData===null&&(t.weekData=ac(t.c)),t.weekData}function Ai(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new H({...n,...e,old:n})}function zy(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function ip(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Oo(t,e,n){return zy(bd(t),e,n)}function sp(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,cl(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=j.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=bd(s);let[a,u]=zy(l,n,t.zone);return o!==0&&(a+=o,u=t.zone.offset(a)),{ts:a,o:u}}function Ci(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const a=e||l,u=H.fromObject(t,{...n,zone:a,specificOffset:s});return o?u:u.setZone(l)}else return H.invalid(new bt("unparsable",`the input "${i}" can\'t be parsed as ${r}`))}function io(t,e,n=!0){return t.isValid?Pe.create(J.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Wa(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=me(t.c.year,n?6:4),e?(r+="-",r+=me(t.c.month),r+="-",r+=me(t.c.day)):(r+=me(t.c.month),r+=me(t.c.day)),r}function op(t,e,n,r,i,s){let o=me(t.c.hour);return e?(o+=":",o+=me(t.c.minute),(t.c.second!==0||!n)&&(o+=":")):o+=me(t.c.minute),(t.c.second!==0||!n)&&(o+=me(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=me(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=me(Math.trunc(-t.o/60)),o+=":",o+=me(Math.trunc(-t.o%60))):(o+="+",o+=me(Math.trunc(t.o/60)),o+=":",o+=me(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const Hy={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},HD={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},UD={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Uy=["year","month","day","hour","minute","second","millisecond"],BD=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],FD=["year","ordinal","hour","minute","second","millisecond"];function lp(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Fv(t);return e}function ap(t,e){const n=yn(e.zone,pe.defaultZone),r=J.fromObject(e),i=pe.now();let s,o;if(F(t.year))s=i;else{for(const u of Uy)F(t[u])&&(t[u]=Hy[u]);const l=Py(t)||Ly(t);if(l)return H.invalid(l);const a=n.offset(i);[s,o]=Oo(t,a,n)}return new H({ts:s,zone:n,loc:r,o})}function up(t,e,n){const r=F(n.round)?!0:n.round,i=(o,l)=>(o=Cd(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function cp(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class H{constructor(e){const n=e.zone||pe.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new bt("invalid input"):null)||(n.isValid?null:ro(n));this.ts=F(e.ts)?pe.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=n.offset(this.ts);i=ip(this.ts,l),r=Number.isNaN(i.year)?new bt("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||J.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new H({})}static local(){const[e,n]=cp(arguments),[r,i,s,o,l,a,u]=n;return ap({year:r,month:i,day:s,hour:o,minute:l,second:a,millisecond:u},e)}static utc(){const[e,n]=cp(arguments),[r,i,s,o,l,a,u]=n;return e.zone=Fe.utcInstance,ap({year:r,month:i,day:s,hour:o,minute:l,second:a,millisecond:u},e)}static fromJSDate(e,n={}){const r=f_(e)?e.valueOf():NaN;if(Number.isNaN(r))return H.invalid("invalid input");const i=yn(n.zone,pe.defaultZone);return i.isValid?new H({ts:r,zone:i,loc:J.fromObject(n)}):H.invalid(ro(i))}static fromMillis(e,n={}){if(nr(e))return e<-rp||e>rp?H.invalid("Timestamp out of range"):new H({ts:e,zone:yn(n.zone,pe.defaultZone),loc:J.fromObject(n)});throw new pt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(nr(e))return new H({ts:e*1e3,zone:yn(n.zone,pe.defaultZone),loc:J.fromObject(n)});throw new pt("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=yn(n.zone,pe.defaultZone);if(!r.isValid)return H.invalid(ro(r));const i=pe.now(),s=F(n.specificOffset)?r.offset(i):n.specificOffset,o=fl(e,lp),l=!F(o.ordinal),a=!F(o.year),u=!F(o.month)||!F(o.day),c=a||u,f=o.weekYear||o.weekNumber,h=J.fromObject(n);if((c||l)&&f)throw new Ii("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&l)throw new Ii("Can\'t mix ordinal dates with month/day");const d=f||o.weekday&&!c;let p,v,y=ip(i,s);d?(p=BD,v=HD,y=ac(y)):l?(p=FD,v=UD,y=Ya(y)):(p=Uy,v=Hy);let m=!1;for(const A of p){const x=o[A];F(x)?m?o[A]=v[A]:o[A]=y[A]:m=!0}const g=d?LD(o):l?zD(o):Py(o),E=g||Ly(o);if(E)return H.invalid(E);const w=d?tp(o):l?np(o):o,[D,_]=Oo(w,s,r),b=new H({ts:D,zone:r,o:_,loc:h});return o.weekday&&c&&e.weekday!==b.weekday?H.invalid("mismatched weekday",`you can\'t specify both a weekday of ${o.weekday} and a date of ${b.toISO()}`):b}static fromISO(e,n={}){const[r,i]=tD(e);return Ci(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=nD(e);return Ci(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=rD(e);return Ci(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(F(e)||F(n))throw new pt("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=J.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,a,u,c]=PD(o,e,n);return c?H.invalid(c):Ci(l,a,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return H.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=cD(e);return Ci(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new pt("need to specify a reason the DateTime is invalid");const r=e instanceof bt?e:new bt(e,n);if(pe.throwOnInvalid)throw new jT(r);return new H({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=Oy(e,J.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return by(Pe.parseFormat(e),J.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Va(this).weekYear:NaN}get weekNumber(){return this.isValid?Va(this).weekNumber:NaN}get weekday(){return this.isValid?Va(this).weekday:NaN}get ordinal(){return this.isValid?Ya(this.c).ordinal:NaN}get monthShort(){return this.isValid?to.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?to.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?to.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?to.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return bs(this.year)}get daysInMonth(){return cl(this.year,this.month)}get daysInYear(){return this.isValid?$i(this.year):NaN}get weeksInWeekYear(){return this.isValid?dl(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Pe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Fe.instance(e),n)}toLocal(){return this.setZone(pe.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=yn(e,pe.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=Oo(o,s,e)}return Ai(this,{ts:i,zone:e})}else return H.invalid(ro(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Ai(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=fl(e,lp),r=!F(n.weekYear)||!F(n.weekNumber)||!F(n.weekday),i=!F(n.ordinal),s=!F(n.year),o=!F(n.month)||!F(n.day),l=s||o,a=n.weekYear||n.weekNumber;if((l||i)&&a)throw new Ii("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new Ii("Can\'t mix ordinal dates with month/day");let u;r?u=tp({...ac(this.c),...n}):F(n.ordinal)?(u={...this.toObject(),...n},F(n.day)&&(u.day=Math.min(cl(u.year,u.month),u.day))):u=np({...Ya(this.c),...n});const[c,f]=Oo(u,this.o,this.zone);return Ai(this,{ts:c,o:f})}plus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e);return Ai(this,sp(this,n))}minus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e).negate();return Ai(this,sp(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=j.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Pe.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):ja}toLocaleString(e=ul,n={}){return this.isValid?Pe.create(this.loc.clone(n),e).formatDateTime(this):ja}toLocaleParts(e={}){return this.isValid?Pe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=Wa(this,o);return l+="T",l+=op(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?Wa(this,e==="extended"):null}toISOWeekDate(){return io(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+op(this,o==="extended",n,e,r,s):null}toRFC2822(){return io(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return io(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?Wa(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),io(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ja}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return j.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=h_(n).map(j.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,a=o?e:this,u=SD(l,a,s,i);return o?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(H.now(),e,n)}until(e){return this.isValid?ce.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||H.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),up(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?up(e.base||H.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(H.isDateTime))throw new pt("min requires all arguments be DateTimes");return qh(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(H.isDateTime))throw new pt("max requires all arguments be DateTimes");return qh(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=J.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return ky(o,e,n)}static fromStringExplain(e,n,r={}){return H.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return ul}static get DATE_MED(){return Yv}static get DATE_MED_WITH_WEEKDAY(){return $T}static get DATE_FULL(){return jv}static get DATE_HUGE(){return Vv}static get TIME_SIMPLE(){return Wv}static get TIME_WITH_SECONDS(){return $v}static get TIME_WITH_SHORT_OFFSET(){return Gv}static get TIME_WITH_LONG_OFFSET(){return qv}static get TIME_24_SIMPLE(){return Qv}static get TIME_24_WITH_SECONDS(){return Zv}static get TIME_24_WITH_SHORT_OFFSET(){return Kv}static get TIME_24_WITH_LONG_OFFSET(){return Xv}static get DATETIME_SHORT(){return Jv}static get DATETIME_SHORT_WITH_SECONDS(){return ey}static get DATETIME_MED(){return ty}static get DATETIME_MED_WITH_SECONDS(){return ny}static get DATETIME_MED_WITH_WEEKDAY(){return GT}static get DATETIME_FULL(){return ry}static get DATETIME_FULL_WITH_SECONDS(){return iy}static get DATETIME_HUGE(){return sy}static get DATETIME_HUGE_WITH_SECONDS(){return oy}}function bi(t){if(H.isDateTime(t))return t;if(t&&t.valueOf&&nr(t.valueOf()))return H.fromJSDate(t);if(t&&typeof t=="object")return H.fromObject(t);throw new pt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Md=/(milliseconds|ms)/i,Id=/(seconds|second|secs|sec|s)/i,xd=/(minutes|minute|mins|min)/i,Pd=/(hours|hour|h)/i,Ld=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,zd=/(weeks|week|w)/i,Hd=/(months|month)/i,Ud=/(years|year|y)/i,YD=new RegExp(`(\\\\d+\\\\W*)(${Md.source}|${Id.source}|${xd.source}|${Pd.source}|${Ld.source}|${zd.source}|${Hd.source}|${Ud.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),jD=/(?:\\W|^)(!\\w+)/,uc=new RegExp(`(by|before|after)?(\\\\s*${jD.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${YD.source})*`),VD=/january|february|march|april|may|june|july|august|september|october|november|december/,WD=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,Bd=new RegExp(`(?:(${VD.source})|(${WD.source}))`),$D=new RegExp(`(([0-3]?[0-9])\\\\s+${Bd.source})`),GD=new RegExp(`(${Bd.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),Xl=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2})?)/,qD=new RegExp(`(?:(?:${$D.source}|${GD.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${Xl.source})?)|(${Bd.source}(?:\\\\s+(\\\\d{1,4}))?)`),QD=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,cc=/now/,ZD=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${Xl.source})?)?)?)`),dp=new RegExp(`(${QD.source})|(${cc.source})|${Xl.source}|(${ZD.source})|(${uc.source})|${qD.source}`),KD=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${Md.source}|${Id.source}|${xd.source}|${Pd.source}|${Ld.source}|${zd.source}|${Hd.source}|${Ud.source})`,"g"),XD=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${Md.source}|${Id.source}|${xd.source}|${Pd.source}|${Ld.source}|${zd.source}|${Hd.source}|${Ud.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),By=new RegExp(`\\\\s*every\\\\s+${KD.source}${XD.source}`),JD=new RegExp(`((${dp.source})(?:\\\\s*(?:-|to)\\\\s*(${dp.source}))?)(${By.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${JD.source}(.*)`,"i");const fp=new RegExp(`(\\\\d{4}(-\\\\d{2}(-\\\\d{2}(?:\\\\s+${Xl.source})?)?)?)`),e1=new RegExp(`((?:${fp.source}|(${uc.source})|(${cc.source}))(\\\\s*/\\\\s*(?:${fp.source}|(${uc.source})|(${cc.source})))?)(${By.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${e1.source}(.*)`,"i");var hp;(function(t){t.TEXT="text",t.LIST_ITEM="listItem",t.CHECKBOX="checkbox",t.IMAGE="image"})(hp||(hp={}));var pp;(function(t){t.Comment="comment",t.CheckboxItemIndicator="checkboxItemIndicator",t.listItemIndicator="listItemIndicator",t.ListItemContents="listItemContents",t.Tag="tag",t.tagDefinition="tagDefinition",t.Title="title",t.View="view",t.Viewer="viewer",t.Description="description",t.Section="section",t.DateRange="dateRange",t.DateRangeColon="dateRangeColon",t.Event="event",t.Edit="edit",t.Editor="editor",t.Recurrence="recurrence",t.FrontmatterDelimiter="frontMatterDelimiter",t.HeaderKey="headerKey",t.HeaderKeyColon="headerKeyColon",t.HeaderValue="headerValue"})(pp||(pp={}));const mp=t=>({[Symbol.iterator](){let e=[t],n=[],r=[];return{next(){const i=[...r],s=e.shift();if(Array.isArray(s==null?void 0:s.value))e=s.value.concat(e),n.push(s.value.length),r.push(0);else for(n[n.length-1]-=1,r[r.length-1]+=1;n[n.length-1]<=0;)n.pop(),n[n.length-1]-=1,r.pop(),r[r.length-1]+=1;return{done:!s,value:{path:i,node:s}}}}}}),so=t=>!Array.isArray(t.value),Fd=Symbol.for("yaml.alias"),t1=Symbol.for("yaml.document"),rr=Symbol.for("yaml.map"),Fy=Symbol.for("yaml.pair"),Yd=Symbol.for("yaml.scalar"),Rs=Symbol.for("yaml.seq"),Yt=Symbol.for("yaml.node.type"),mi=t=>!!t&&typeof t=="object"&&t[Yt]===Fd,Jl=t=>!!t&&typeof t=="object"&&t[Yt]===t1,Yy=t=>!!t&&typeof t=="object"&&t[Yt]===rr,Oe=t=>!!t&&typeof t=="object"&&t[Yt]===Fy,we=t=>!!t&&typeof t=="object"&&t[Yt]===Yd,jd=t=>!!t&&typeof t=="object"&&t[Yt]===Rs;function et(t){if(t&&typeof t=="object")switch(t[Yt]){case rr:case Rs:return!0}return!1}function Xe(t){if(t&&typeof t=="object")switch(t[Yt]){case Fd:case rr:case Yd:case Rs:return!0}return!1}const n1=t=>(we(t)||et(t))&&!!t.anchor,Wn=Symbol("break visit"),r1=Symbol("skip children"),qi=Symbol("remove node");function gs(t,e){const n=i1(e);Jl(t)?zr(null,t.contents,n,Object.freeze([t]))===qi&&(t.contents=null):zr(null,t,n,Object.freeze([]))}gs.BREAK=Wn;gs.SKIP=r1;gs.REMOVE=qi;function zr(t,e,n,r){const i=s1(t,e,n,r);if(Xe(i)||Oe(i))return o1(t,r,i),zr(t,i,n,r);if(typeof i!="symbol"){if(et(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=zr(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Wn)return Wn;o===qi&&(e.items.splice(s,1),s-=1)}}}else if(Oe(e)){r=Object.freeze(r.concat(e));const s=zr("key",e.key,n,r);if(s===Wn)return Wn;s===qi&&(e.key=null);const o=zr("value",e.value,n,r);if(o===Wn)return Wn;o===qi&&(e.value=null)}}return i}function i1(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function s1(t,e,n,r){var i,s,o,l,a;if(typeof n=="function")return n(t,e,r);if(Yy(e))return(i=n.Map)==null?void 0:i.call(n,t,e,r);if(jd(e))return(s=n.Seq)==null?void 0:s.call(n,t,e,r);if(Oe(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,r);if(we(e))return(l=n.Scalar)==null?void 0:l.call(n,t,e,r);if(mi(e))return(a=n.Alias)==null?void 0:a.call(n,t,e,r)}function o1(t,e,n){const r=e[e.length-1];if(et(r))r.items[t]=n;else if(Oe(r))t==="key"?r.key=n:r.value=n;else if(Jl(r))r.contents=n;else{const i=mi(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}function jy(t){if(/[\\x00-\\x19\\s,[\\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Pi(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],l=Pi(t,r,String(i),o);l===void 0?delete r[i]:l!==o&&(r[i]=l)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=Pi(t,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=Pi(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=Pi(t,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return t.call(e,n,r)}function Nt(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Nt(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!n1(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class Vd{constructor(e){Object.defineProperty(this,Yt,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!Jl(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=Nt(this,"",o);if(typeof i=="function")for(const{count:a,res:u}of o.anchors.values())i(u,a);return typeof s=="function"?Pi(s,{"":l},"",l):l}}class l1 extends Vd{constructor(e){super(Fd),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return gs(e,{Node:(r,i)=>{if(i===this)return gs.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(Nt(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(s>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=Ro(i,o,r)),l.count*l.aliasCount>s)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(jy(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function Ro(t,e,n){if(mi(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(et(e)){let r=0;for(const i of e.items){const s=Ro(t,i,n);s>r&&(r=s)}return r}else if(Oe(e)){const r=Ro(t,e.key,n),i=Ro(t,e.value,n);return Math.max(r,i)}return 1}const Vy=t=>!t||typeof t!="function"&&typeof t!="object";class ge extends Vd{constructor(e){super(Yd),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Nt(this.value,e,n)}toString(){return String(this.value)}}ge.BLOCK_FOLDED="BLOCK_FOLDED";ge.BLOCK_LITERAL="BLOCK_LITERAL";ge.PLAIN="PLAIN";ge.QUOTE_DOUBLE="QUOTE_DOUBLE";ge.QUOTE_SINGLE="QUOTE_SINGLE";const a1="tag:yaml.org,2002:";function u1(t,e,n){if(e){const r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,t))&&!r.format})}function hl(t,e,n){var f,h,d;if(Jl(t)&&(t=t.contents),Xe(t))return t;if(Oe(t)){const p=(h=(f=n.schema[rr]).createNode)==null?void 0:h.call(f,n.schema,null,n);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:l}=n;let a;if(r&&t&&typeof t=="object"){if(a=l.get(t),a)return a.anchor||(a.anchor=i(t)),new l1(a.anchor);a={anchor:null,node:null},l.set(t,a)}e!=null&&e.startsWith("!!")&&(e=a1+e.slice(2));let u=u1(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const p=new ge(t);return a&&(a.node=p),p}u=t instanceof Map?o[rr]:Symbol.iterator in Object(t)?o[Rs]:o[rr]}s&&(s(u),delete n.onTagObj);const c=u!=null&&u.createNode?u.createNode(n.schema,t,n):typeof((d=u==null?void 0:u.nodeClass)==null?void 0:d.from)=="function"?u.nodeClass.from(n.schema,t,n):new ge(t);return e?c.tag=e:u.default||(c.tag=u.tag),a&&(a.node=c),c}function gp(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return hl(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const c1=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class ea extends Vd{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Xe(r)||Oe(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(c1(e))this.add(n);else{const[r,...i]=e,s=this.get(r,!0);if(et(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,gp(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(et(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&we(s)?s.value:s:et(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Oe(n))return!1;const r=n.value;return r==null||e&&we(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return et(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(et(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,gp(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}ea.maxFlowStringSingleLineLength=60;const d1=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function vs(t,e){return/^\\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Xn=(t,e,n)=>t.endsWith(`\n`)?vs(n,e):n.includes(`\n`)?`\n`+vs(n,e):(t.endsWith(" ")?"":" ")+n,Wy="flow",dc="block",No="quoted";function ta(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:l}={}){if(!i||i<0)return t;const a=Math.max(1+s,1+i-e.length);if(t.length<=a)return t;const u=[],c={};let f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let h,d,p=!1,v=-1,y=-1,m=-1;n===dc&&(v=vp(t,v),v!==-1&&(f=v+a));for(let E;E=t[v+=1];){if(n===No&&E==="\\\\"){switch(y=v,t[v+1]){case"x":v+=3;break;case"u":v+=5;break;case"U":v+=9;break;default:v+=1}m=v}if(E===`\n`)n===dc&&(v=vp(t,v)),f=v+a,h=void 0;else{if(E===" "&&d&&d!==" "&&d!==`\n`&&d!=="	"){const w=t[v+1];w&&w!==" "&&w!==`\n`&&w!=="	"&&(h=v)}if(v>=f)if(h)u.push(h),f=h+a,h=void 0;else if(n===No){for(;d===" "||d==="	";)d=E,E=t[v+=1],p=!0;const w=v>m+1?v-2:y-1;if(c[w])return t;u.push(w),c[w]=!0,f=w+a,h=void 0}else p=!0}d=E}if(p&&l&&l(),u.length===0)return t;o&&o();let g=t.slice(0,u[0]);for(let E=0;E<u.length;++E){const w=u[E],D=u[E+1]||t.length;w===0?g=`\n${e}${t.slice(0,D)}`:(n===No&&c[w]&&(g+=`${t[w]}\\\\`),g+=`\n${e}${t.slice(w+1,D)}`)}return g}function vp(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`\n`);n=t[e+1]}return e}const na=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ra=t=>/^(%|---|\\.\\.\\.)/m.test(t);function f1(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`\n`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function Qi(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(ra(t)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\\\ ",a+=1,l=a,u="\\\\"),u==="\\\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const c=n.substr(a+2,4);switch(c){case"0000":o+="\\\\0";break;case"0007":o+="\\\\a";break;case"000b":o+="\\\\v";break;case"001b":o+="\\\\e";break;case"0085":o+="\\\\N";break;case"00a0":o+="\\\\_";break;case"2028":o+="\\\\L";break;case"2029":o+="\\\\P";break;default:c.substr(0,2)==="00"?o+="\\\\x"+c.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]===\'"\'||n.length<i)a+=1;else{for(o+=n.slice(l,a)+`\n\n`;n[a+2]==="\\\\"&&n[a+3]==="n"&&n[a+4]!==\'"\';)o+=`\n`,a+=2;o+=s,n[a+2]===" "&&(o+="\\\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:ta(o,s,No,na(e,!1))}function fc(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`\n`)||/[ \\t]\\n|\\n[ \\t]/.test(t))return Qi(t,e);const n=e.indent||(ra(t)?"  ":""),r="\'"+t.replace(/\'/g,"\'\'").replace(/\\n+/g,`$&\n${n}`)+"\'";return e.implicitKey?r:ta(r,n,Wy,na(e,!1))}function Hr(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Qi;else{const i=t.includes(\'"\'),s=t.includes("\'");i&&!s?r=fc:s&&!i?r=Qi:r=n?fc:Qi}return r(t,e)}let hc;try{hc=new RegExp(`(^|(?<!\n))\n+(?!\n|$)`,"g")}catch{hc=/\\n+(?!\\n|$)/g}function Mo({comment:t,type:e,value:n},r,i,s){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\\n[\\t ]+$/.test(n)||/^\\s*$/.test(n))return Hr(n,r);const u=r.indent||(r.forceBlockIndent||ra(n)?"  ":""),c=o==="literal"?!0:o==="folded"||e===ge.BLOCK_FOLDED?!1:e===ge.BLOCK_LITERAL?!0:!f1(n,a,u.length);if(!n)return c?`|\n`:`>\n`;let f,h;for(h=n.length;h>0;--h){const _=n[h-1];if(_!==`\n`&&_!=="	"&&_!==" ")break}let d=n.substring(h);const p=d.indexOf(`\n`);p===-1?f="-":n===d||p!==d.length-1?(f="+",s&&s()):f="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`\n`&&(d=d.slice(0,-1)),d=d.replace(hc,`$&${u}`));let v=!1,y,m=-1;for(y=0;y<n.length;++y){const _=n[y];if(_===" ")v=!0;else if(_===`\n`)m=y;else break}let g=n.substring(0,m<y?m+1:y);g&&(n=n.substring(g.length),g=g.replace(/\\n+/g,`$&${u}`));let w=(c?"|":">")+(v?u?"2":"1":"")+f;if(t&&(w+=" "+l(t.replace(/ ?[\\r\\n]+/g," ")),i&&i()),c)return n=n.replace(/\\n+/g,`$&${u}`),`${w}\n${u}${g}${n}${d}`;n=n.replace(/\\n+/g,`\n$&`).replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g,"$1$2").replace(/\\n+/g,`$&${u}`);const D=ta(`${g}${n}${d}`,u,dc,na(r,!0));return`${w}\n${u}${D}`}function h1(t,e,n,r){const{type:i,value:s}=t,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:c}=e;if(l&&/[\\n[\\]{},]/.test(s)||c&&/[[\\]{},]/.test(s))return Hr(s,e);if(!s||/^[\\n\\t ,[\\]{}#&*!|>\'"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(s))return l||c||!s.includes(`\n`)?Hr(s,e):Mo(t,e,n,r);if(!l&&!c&&i!==ge.PLAIN&&s.includes(`\n`))return Mo(t,e,n,r);if(ra(s)){if(a==="")return e.forceBlockIndent=!0,Mo(t,e,n,r);if(l&&a===u)return Hr(s,e)}const f=s.replace(/\\n+/g,`$&\n${a}`);if(o){const h=v=>{var y;return v.default&&v.tag!=="tag:yaml.org,2002:str"&&((y=v.test)==null?void 0:y.test(f))},{compat:d,tags:p}=e.doc.schema;if(p.some(h)||d!=null&&d.some(h))return Hr(s,e)}return l?f:ta(f,a,Wy,na(e,!1))}function p1(t,e,n,r){const{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:l}=t;l!==ge.QUOTE_DOUBLE&&/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(o.value)&&(l=ge.QUOTE_DOUBLE);const a=c=>{switch(c){case ge.BLOCK_FOLDED:case ge.BLOCK_LITERAL:return i||s?Hr(o.value,e):Mo(o,e,n,r);case ge.QUOTE_DOUBLE:return Qi(o.value,e);case ge.QUOTE_SINGLE:return fc(o.value,e);case ge.PLAIN:return h1(o,e,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:c,defaultStringType:f}=e.options,h=i&&c||f;if(u=a(h),u===null)throw new Error(`Unsupported default string type ${h}`)}return u}function m1(t,e){const n=Object.assign({blockQuote:!0,commentString:d1,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function g1(t,e){var i;if(e.tag){const s=t.filter(o=>o.tag===e.tag);if(s.length>0)return s.find(o=>o.format===e.format)??s[0]}let n,r;if(we(e)){r=e.value;const s=t.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});n=s.find(o=>o.format===e.format)??s.find(o=>!o.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${s} value`)}return n}function v1(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(we(t)||et(t))&&t.anchor;s&&jy(s)&&(n.add(s),i.push(`&${s}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(r.directives.tagString(o)),i.join(" ")}function pl(t,e,n,r){var a;if(Oe(t))return t.toString(e,n,r);if(mi(t)){if(e.doc.directives)return t.toString(e);if((a=e.resolvedAliases)!=null&&a.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const s=Xe(t)?t:e.doc.createNode(t,{onTagObj:u=>i=u});i||(i=g1(e.doc.schema.tags,s));const o=v1(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const l=typeof i.stringify=="function"?i.stringify(s,e,n,r):we(s)?p1(s,e,n,r):s.toString(e,n,r);return o?we(s)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}\n${e.indent}${l}`:l}function y1({key:t,value:e},n,r,i){const{allNullValues:s,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:c,simpleKeys:f}}=n;let h=Xe(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(et(t)){const b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let d=!f&&(!t||h&&e==null&&!n.inFlow||et(t)||(we(t)?t.type===ge.BLOCK_FOLDED||t.type===ge.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!s),indent:l+a});let p=!1,v=!1,y=pl(t,n,()=>p=!0,()=>v=!0);if(!d&&!n.inFlow&&y.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(s||e==null)return p&&r&&r(),y===""?"?":d?`? ${y}`:y}else if(s&&!f||e==null&&d)return y=`? ${y}`,h&&!p?y+=Xn(y,n.indent,u(h)):v&&i&&i(),y;p&&(h=null),d?(h&&(y+=Xn(y,n.indent,u(h))),y=`? ${y}\n${l}:`):(y=`${y}:`,h&&(y+=Xn(y,n.indent,u(h))));let m,g,E;Xe(e)?(m=!!e.spaceBefore,g=e.commentBefore,E=e.comment):(m=!1,g=null,E=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&we(e)&&(n.indentAtStart=y.length+1),v=!1,!c&&a.length>=2&&!n.inFlow&&!d&&jd(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const D=pl(e,n,()=>w=!0,()=>v=!0);let _=" ";if(h||m||g){if(_=m?`\n`:"",g){const b=u(g);_+=`\n${vs(b,n.indent)}`}D===""&&!n.inFlow?_===`\n`&&(_=`\n\n`):_+=`\n${n.indent}`}else if(!d&&et(e)){const b=D[0],A=D.indexOf(`\n`),x=A!==-1,P=n.inFlow??e.flow??e.items.length===0;if(x||!P){let W=!1;if(x&&(b==="&"||b==="!")){let $=D.indexOf(" ");b==="&"&&$!==-1&&$<A&&D[$+1]==="!"&&($=D.indexOf(" ",$+1)),($===-1||A<$)&&(W=!0)}W||(_=`\n${n.indent}`)}}else(D===""||D[0]===`\n`)&&(_="");return y+=_+D,n.inFlow?w&&r&&r():E&&!w?y+=Xn(y,n.indent,u(E)):v&&i&&i(),y}function E1(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const yp="<<";function $y(t,e,{key:n,value:r}){if(t!=null&&t.doc.schema.merge&&S1(n))if(r=mi(r)?r.resolve(t.doc):r,jd(r))for(const i of r.items)$a(t,e,i);else if(Array.isArray(r))for(const i of r)$a(t,e,i);else $a(t,e,r);else{const i=Nt(n,"",t);if(e instanceof Map)e.set(i,Nt(r,i,t));else if(e instanceof Set)e.add(i);else{const s=w1(n,i,t),o=Nt(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}const S1=t=>t===yp||we(t)&&t.value===yp&&(!t.type||t.type===ge.PLAIN);function $a(t,e,n){const r=t&&mi(n)?n.resolve(t.doc):n;if(!Yy(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function w1(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Xe(t)&&n&&n.doc){const r=m1(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+\'..."\'),E1(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Wd(t,e,n){const r=hl(t,void 0,n),i=hl(e,void 0,n);return new Kt(r,i)}class Kt{constructor(e,n=null){Object.defineProperty(this,Yt,{value:Fy}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Xe(n)&&(n=n.clone(e)),Xe(r)&&(r=r.clone(e)),new Kt(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return $y(n,r,this)}toString(e,n,r){return e!=null&&e.doc?y1(this,e,n,r):JSON.stringify(this)}}function Gy(t,e,n){return(e.inFlow??t.flow?_1:T1)(t,e,n)}function T1({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let f=!1;const h=[];for(let p=0;p<e.length;++p){const v=e[p];let y=null;if(Xe(v))!f&&v.spaceBefore&&h.push(""),ml(n,h,v.commentBefore,f),v.comment&&(y=v.comment);else if(Oe(v)){const g=Xe(v.key)?v.key:null;g&&(!f&&g.spaceBefore&&h.push(""),ml(n,h,g.commentBefore,f))}f=!1;let m=pl(v,c,()=>y=null,()=>f=!0);y&&(m+=Xn(m,s,u(y))),f&&y&&(f=!1),h.push(r+m)}let d;if(h.length===0)d=i.start+i.end;else{d=h[0];for(let p=1;p<h.length;++p){const v=h[p];d+=v?`\n${a}${v}`:`\n`}}return t?(d+=`\n`+vs(u(t),a),l&&l()):f&&o&&o(),d}function _1({comment:t,items:e},n,{flowChars:r,itemIndent:i,onComment:s}){const{indent:o,indentStep:l,flowCollectionPadding:a,options:{commentString:u}}=n;i+=l;const c=Object.assign({},n,{indent:i,inFlow:!0,type:null});let f=!1,h=0;const d=[];for(let m=0;m<e.length;++m){const g=e[m];let E=null;if(Xe(g))g.spaceBefore&&d.push(""),ml(n,d,g.commentBefore,!1),g.comment&&(E=g.comment);else if(Oe(g)){const D=Xe(g.key)?g.key:null;D&&(D.spaceBefore&&d.push(""),ml(n,d,D.commentBefore,!1),D.comment&&(f=!0));const _=Xe(g.value)?g.value:null;_?(_.comment&&(E=_.comment),_.commentBefore&&(f=!0)):g.value==null&&D&&D.comment&&(E=D.comment)}E&&(f=!0);let w=pl(g,c,()=>E=null);m<e.length-1&&(w+=","),E&&(w+=Xn(w,i,u(E))),!f&&(d.length>h||w.includes(`\n`))&&(f=!0),d.push(w),h=d.length}let p;const{start:v,end:y}=r;if(d.length===0)p=v+y;else if(f||(f=d.reduce((g,E)=>g+E.length+2,2)>ea.maxFlowStringSingleLineLength),f){p=v;for(const m of d)p+=m?`\n${l}${o}${m}`:`\n`;p+=`\n${o}${y}`}else p=`${v}${a}${d.join(" ")}${a}${y}`;return t&&(p+=Xn(p,o,u(t)),s&&s()),p}function ml({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\\n+/,"")),r){const s=vs(e(r),t);n.push(s.trimStart())}}function Jn(t,e){const n=we(e)?e.value:e;for(const r of t)if(Oe(r)&&(r.key===e||r.key===n||we(r.key)&&r.key.value===n))return r}class _r extends ea{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(rr,e),this.items=[]}static from(e,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(e),l=(a,u)=>{if(typeof s=="function")u=s.call(n,a,u);else if(Array.isArray(s)&&!s.includes(a))return;(u!==void 0||i)&&o.items.push(Wd(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let r;Oe(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Kt(e,e==null?void 0:e.value):r=new Kt(e.key,e.value);const i=Jn(this.items,r.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);we(i.value)&&Vy(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const l=this.items.findIndex(a=>s(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(e){const n=Jn(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Jn(this.items,e),i=r==null?void 0:r.value;return(!n&&we(i)?i.value:i)??void 0}has(e){return!!Jn(this.items,e)}set(e,n){this.add(new Kt(e,n),!0)}toJSON(e,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const s of this.items)$y(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Oe(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Gy(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}class qy extends ea{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Rs,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=oo(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=oo(e);if(typeof r!="number")return;const i=this.items[r];return!n&&we(i)?i.value:i}has(e){const n=oo(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=oo(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];we(i)&&Vy(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(Nt(s,String(i++),n));return r}toString(e,n,r){return e?Gy(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof i=="function"){const a=n instanceof Set?l:String(o++);l=i.call(n,a,l)}s.items.push(hl(l,void 0,r))}}return s}}function oo(t){let e=we(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function D1(t,e,n){const{replacer:r}=n,i=new qy(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else l=o;i.items.push(Wd(l,a,n))}return i}class $d extends qy{constructor(){super(),this.add=_r.prototype.add.bind(this),this.delete=_r.prototype.delete.bind(this),this.get=_r.prototype.get.bind(this),this.has=_r.prototype.has.bind(this),this.set=_r.prototype.set.bind(this),this.tag=$d.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(Oe(i)?(s=Nt(i.key,"",n),o=Nt(i.value,s,n)):s=Nt(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){const i=D1(e,n,r),s=new this;return s.items=i.items,s}}$d.tag="tag:yaml.org,2002:omap";class Gd extends _r{constructor(e){super(e),this.tag=Gd.tag}add(e){let n;Oe(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Kt(e.key,null):n=new Kt(e,null),Jn(this.items,n.key)||this.items.push(n)}get(e,n){const r=Jn(this.items,e);return!n&&Oe(r)?we(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Jn(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Kt(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(Wd(o,null,r));return s}}Gd.tag="tag:yaml.org,2002:set";var A1={exports:{}};(function(t){var e;(function(){e=t.exports})(),e.foldLength=75,e.newLineChar=`\\r\n`,e.helpers={updateTimezones:function(n){var r,i,s,o,l,a;if(!n||n.name!=="vcalendar")return n;for(r=n.getAllSubcomponents(),i=[],s={},l=0;l<r.length;l++)r[l].name==="vtimezone"?(a=r[l].getFirstProperty("tzid").getFirstValue(),s[a]=r[l]):i=i.concat(r[l].getAllProperties());for(o={},l=0;l<i.length;l++)(a=i[l].getParameter("tzid"))&&(o[a]=!0);for(l in s)s.hasOwnProperty(l)&&!o[l]&&n.removeSubcomponent(s[l]);for(l in o)o.hasOwnProperty(l)&&!s[l]&&e.TimezoneService.has(l)&&n.addSubcomponent(e.TimezoneService.get(l).component);return n},isStrictlyNaN:function(n){return typeof n=="number"&&isNaN(n)},strictParseInt:function(n){var r=parseInt(n,10);if(e.helpers.isStrictlyNaN(r))throw new Error(\'Could not extract integer from "\'+n+\'"\');return r},formatClassType:function(r,i){if(!(typeof r>"u"))return r instanceof i?r:new i(r)},unescapedIndexOf:function(n,r,i){for(;(i=n.indexOf(r,i))!==-1;)if(i>0&&n[i-1]==="\\\\")i+=1;else return i;return-1},binsearchInsert:function(n,r,i){if(!n.length)return 0;for(var s=0,o=n.length-1,l,a;s<=o;)if(l=s+Math.floor((o-s)/2),a=i(r,n[l]),a<0)o=l-1;else if(a>0)s=l+1;else break;return a<0?l:a>0?l+1:l},dumpn:function(){e.debug&&(typeof console<"u"&&"log"in console?e.helpers.dumpn=function(r){console.log(r)}:e.helpers.dumpn=function(r){dump(r+`\n`)},e.helpers.dumpn(arguments[0]))},clone:function(n,r){if(!n||typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());if("clone"in n)return n.clone();if(Array.isArray(n)){for(var i=[],s=0;s<n.length;s++)i.push(r?e.helpers.clone(n[s],!0):n[s]);return i}else{var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r?o[l]=e.helpers.clone(n[l],!0):o[l]=n[l]);return o}},foldline:function(r){for(var i="",s=r||"",o=0,l=0;s.length;){var a=s.codePointAt(o);a<128?++l:a<2048?l+=2:a<65536?l+=3:l+=4,l<e.foldLength+1?o+=a>65535?2:1:(i+=e.newLineChar+" "+s.substring(0,o),s=s.substring(o),o=l=0)}return i.substr(e.newLineChar.length+1)},pad2:function(r){typeof r!="string"&&(typeof r=="number"&&(r=parseInt(r)),r=String(r));var i=r.length;switch(i){case 0:return"00";case 1:return"0"+r;default:return r}},trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)},inherits:function(n,r,i){function s(){}s.prototype=n.prototype,r.prototype=new s,i&&e.helpers.extend(i,r.prototype)},extend:function(n,r){for(var i in n){var s=Object.getOwnPropertyDescriptor(n,i);s&&!Object.getOwnPropertyDescriptor(r,i)&&Object.defineProperty(r,i,s)}return r}},e.design=function(){var n=/\\\\\\\\|\\\\;|\\\\,|\\\\[Nn]/g,r=/\\\\|;|,|\\n/g,i=/\\\\\\\\|\\\\,|\\\\[Nn]/g,s=/\\\\|,|\\n/g;function o(S,k){var R={matches:/.*/,fromICAL:function(N,Y){return g(N,S,Y)},toICAL:function(N,Y){var Re=k;return Y&&(Re=new RegExp(Re.source+"|"+Y)),N.replace(Re,function(Ae){switch(Ae){case"\\\\":return"\\\\\\\\";case";":return"\\\\;";case",":return"\\\\,";case`\n`:return"\\\\n";default:return Ae}})}};return R}var l={defaultType:"text"},a={defaultType:"text",multiValue:","},u={defaultType:"text",structuredValue:";"},c={defaultType:"integer"},f={defaultType:"date-time",allowedTypes:["date-time","date"]},h={defaultType:"date-time"},d={defaultType:"uri"},p={defaultType:"utc-offset"},v={defaultType:"recur"},y={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function m(S){switch(S){case"\\\\\\\\":return"\\\\";case"\\\\;":return";";case"\\\\,":return",";case"\\\\n":case"\\\\N":return`\n`;default:return S}}function g(S,k,R){return S.indexOf("\\\\")===-1?S:(R&&(k=new RegExp(k.source+"|\\\\\\\\"+R)),S.replace(k,m))}var E={categories:a,url:d,version:l,uid:l},w={boolean:{values:["TRUE","FALSE"],fromICAL:function(S){switch(S){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(S){return S?"TRUE":"FALSE"}},float:{matches:/^[+-]?\\d+\\.\\d+$/,fromICAL:function(S){var k=parseFloat(S);return e.helpers.isStrictlyNaN(k)?0:k},toICAL:function(S){return String(S)}},integer:{fromICAL:function(S){var k=parseInt(S);return e.helpers.isStrictlyNaN(k)?0:k},toICAL:function(S){return String(S)}},"utc-offset":{toICAL:function(S){return S.length<7?S.substr(0,3)+S.substr(4,2):S.substr(0,3)+S.substr(4,2)+S.substr(7,2)},fromICAL:function(S){return S.length<6?S.substr(0,3)+":"+S.substr(3,2):S.substr(0,3)+":"+S.substr(3,2)+":"+S.substr(5,2)},decorate:function(S){return e.UtcOffset.fromString(S)},undecorate:function(S){return S.toString()}}},D={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},_=e.helpers.extend(w,{text:o(n,r),uri:{},binary:{decorate:function(S){return e.Binary.fromString(S)},undecorate:function(S){return S.toString()}},"cal-address":{},date:{decorate:function(S,k){return ye.strict?e.Time.fromDateString(S,k):e.Time.fromString(S,k)},undecorate:function(S){return S.toString()},fromICAL:function(S){return!ye.strict&&S.length>=15?_["date-time"].fromICAL(S):S.substr(0,4)+"-"+S.substr(4,2)+"-"+S.substr(6,2)},toICAL:function(S){var k=S.length;return k==10?S.substr(0,4)+S.substr(5,2)+S.substr(8,2):k>=19?_["date-time"].toICAL(S):S}},"date-time":{fromICAL:function(S){if(!ye.strict&&S.length==8)return _.date.fromICAL(S);var k=S.substr(0,4)+"-"+S.substr(4,2)+"-"+S.substr(6,2)+"T"+S.substr(9,2)+":"+S.substr(11,2)+":"+S.substr(13,2);return S[15]&&S[15]==="Z"&&(k+="Z"),k},toICAL:function(S){var k=S.length;if(k==10&&!ye.strict)return _.date.toICAL(S);if(k>=19){var R=S.substr(0,4)+S.substr(5,2)+S.substr(8,5)+S.substr(14,2)+S.substr(17,2);return S[19]&&S[19]==="Z"&&(R+="Z"),R}else return S},decorate:function(S,k){return ye.strict?e.Time.fromDateTimeString(S,k):e.Time.fromString(S,k)},undecorate:function(S){return S.toString()}},duration:{decorate:function(S){return e.Duration.fromString(S)},undecorate:function(S){return S.toString()}},period:{fromICAL:function(S){var k=S.split("/");return k[0]=_["date-time"].fromICAL(k[0]),e.Duration.isValueString(k[1])||(k[1]=_["date-time"].fromICAL(k[1])),k},toICAL:function(S){return!ye.strict&&S[0].length==10?S[0]=_.date.toICAL(S[0]):S[0]=_["date-time"].toICAL(S[0]),e.Duration.isValueString(S[1])||(!ye.strict&&S[1].length==10?S[1]=_.date.toICAL(S[1]):S[1]=_["date-time"].toICAL(S[1])),S.join("/")},decorate:function(S,k){return e.Period.fromJSON(S,k,!ye.strict)},undecorate:function(S){return S.toJSON()}},recur:{fromICAL:function(S){return e.Recur._stringToData(S,!0)},toICAL:function(S){var k="";for(var R in S)if(Object.prototype.hasOwnProperty.call(S,R)){var N=S[R];R=="until"?N.length>10?N=_["date-time"].toICAL(N):N=_.date.toICAL(N):R=="wkst"?typeof N=="number"&&(N=e.Recur.numericDayToIcalDay(N)):Array.isArray(N)&&(N=N.join(",")),k+=R.toUpperCase()+"="+N+";"}return k.substr(0,k.length-1)},decorate:function(k){return e.Recur.fromData(k)},undecorate:function(S){return S.toJSON()}},time:{fromICAL:function(S){if(S.length<6)return S;var k=S.substr(0,2)+":"+S.substr(2,2)+":"+S.substr(4,2);return S[6]==="Z"&&(k+="Z"),k},toICAL:function(S){if(S.length<8)return S;var k=S.substr(0,2)+S.substr(3,2)+S.substr(6,2);return S[8]==="Z"&&(k+="Z"),k}}}),b=e.helpers.extend(E,{action:l,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:l,class:l,comment:l,completed:h,contact:l,created:h,description:l,dtend:f,dtstamp:h,dtstart:f,due:f,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:v,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":h,location:l,method:l,organizer:{defaultType:"cal-address"},"percent-complete":c,priority:c,prodid:l,"related-to":l,repeat:c,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(S){return S.indexOf("/")!==-1?"period":S.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":f,resources:a,"request-status":u,rrule:v,sequence:c,status:l,summary:l,transp:l,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:p,tzoffsetto:p,tzurl:d,tzid:l,tzname:l}),A=e.helpers.extend(w,{text:o(i,s),uri:o(i,s),date:{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date")},undecorate:function(S){return S.toString()},fromICAL:function(S){return S.length==8?_.date.fromICAL(S):S[0]=="-"&&S.length==6?S.substr(0,4)+"-"+S.substr(4):S},toICAL:function(S){return S.length==10?_.date.toICAL(S):S[0]=="-"&&S.length==7?S.substr(0,4)+S.substr(5):S}},time:{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString("T"+S,"time")},undecorate:function(S){return S.toString()},fromICAL:function(S){var k=A.time._splitZone(S,!0),R=k[0],N=k[1];return N.length==6?N=N.substr(0,2)+":"+N.substr(2,2)+":"+N.substr(4,2):N.length==4&&N[0]!="-"?N=N.substr(0,2)+":"+N.substr(2,2):N.length==5&&(N=N.substr(0,3)+":"+N.substr(3,2)),R.length==5&&(R[0]=="-"||R[0]=="+")&&(R=R.substr(0,3)+":"+R.substr(3)),N+R},toICAL:function(S){var k=A.time._splitZone(S),R=k[0],N=k[1];return N.length==8?N=N.substr(0,2)+N.substr(3,2)+N.substr(6,2):N.length==5&&N[0]!="-"?N=N.substr(0,2)+N.substr(3,2):N.length==6&&(N=N.substr(0,3)+N.substr(4,2)),R.length==6&&(R[0]=="-"||R[0]=="+")&&(R=R.substr(0,3)+R.substr(4)),N+R},_splitZone:function(S,k){var R=S.length-1,N=S.length-(k?5:6),Y=S[N],Re,Ae;return S[R]=="Z"?(Re=S[R],Ae=S.substr(0,R)):S.length>6&&(Y=="-"||Y=="+")?(Re=S.substr(N),Ae=S.substr(0,N)):(Re="",Ae=S),[Re,Ae]}},"date-time":{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date-time")},undecorate:function(S){return S.toString()},fromICAL:function(S){return A["date-and-or-time"].fromICAL(S)},toICAL:function(S){return A["date-and-or-time"].toICAL(S)}},"date-and-or-time":{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date-and-or-time")},undecorate:function(S){return S.toString()},fromICAL:function(S){var k=S.split("T");return(k[0]?A.date.fromICAL(k[0]):"")+(k[1]?"T"+A.time.fromICAL(k[1]):"")},toICAL:function(S){var k=S.split("T");return A.date.toICAL(k[0])+(k[1]?"T"+A.time.toICAL(k[1]):"")}},timestamp:_["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}}),x={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},P=e.helpers.extend(E,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:y,bday:y,caladruri:d,caluri:d,clientpidmap:u,email:l,fburl:d,fn:l,gender:u,geo:d,impp:d,key:d,kind:l,lang:{defaultType:"language-tag"},logo:d,member:d,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:a,note:l,org:{defaultType:"text",structuredValue:";"},photo:d,related:d,rev:{defaultType:"timestamp"},role:l,sound:d,source:d,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:l,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:l}),W=e.helpers.extend(w,{binary:_.binary,date:A.date,"date-time":A["date-time"],"phone-number":{},uri:_.uri,text:_.text,time:_.time,vcard:_.text,"utc-offset":{toICAL:function(S){return S.substr(0,7)},fromICAL:function(S){return S.substr(0,7)},decorate:function(S){return e.UtcOffset.fromString(S)},undecorate:function(S){return S.toString()}}}),$={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},Te=e.helpers.extend(E,{fn:l,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:a,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(S){return S.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:l,tel:{defaultType:"phone-number"},email:l,mailer:l,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:l,role:l,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:u,note:a,prodid:l,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(S){return S.indexOf("T")===-1?"date":"date-time"}},"sort-string":l,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:l,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),se={value:_,param:D,property:b},ne={value:A,param:x,property:P},ct={value:W,param:$,property:Te},ye={strict:!0,defaultSet:se,defaultType:"unknown",components:{vcard:ne,vcard3:ct,vevent:se,vtodo:se,vjournal:se,valarm:se,vtimezone:se,daylight:se,standard:se},icalendar:se,vcard:ne,vcard3:ct,getDesignSet:function(S){var k=S&&S in ye.components;return k?ye.components[S]:ye.defaultSet}};return ye}(),e.stringify=function(){var n=`\\r\n`,r="unknown",i=e.design,s=e.helpers;function o(a){typeof a[0]=="string"&&(a=[a]);for(var u=0,c=a.length,f="";u<c;u++)f+=o.component(a[u])+n;return f}o.component=function(a,u){var c=a[0].toUpperCase(),f="BEGIN:"+c+n,h=a[1],d=0,p=h.length,v=a[0];for(v==="vcard"&&a[1].length>0&&!(a[1][0][0]==="version"&&a[1][0][3]==="4.0")&&(v="vcard3"),u=u||i.getDesignSet(v);d<p;d++)f+=o.property(h[d],u)+n;for(var y=a[2]||[],m=0,g=y.length;m<g;m++)f+=o.component(y[m],u)+n;return f+="END:"+c,f},o.property=function(a,u,c){var f=a[0].toUpperCase(),h=a[0],d=a[1],p=f,v;for(v in d){var y=d[v];if(d.hasOwnProperty(v)){var E=v in u.param&&u.param[v].multiValue;E&&Array.isArray(y)?(u.param[v].multiValueSeparateDQuote&&(E=\'"\'+E+\'"\'),y=y.map(o._rfc6868Unescape),y=o.multiValue(y,E,"unknown",null,u)):y=o._rfc6868Unescape(y),p+=";"+v.toUpperCase(),p+="="+o.propertyValue(y)}}if(a.length===3)return p+":";var m=a[2];u||(u=i.defaultSet);var g,E=!1,w=!1,D=!1;return h in u.property?(g=u.property[h],"multiValue"in g&&(E=g.multiValue),"structuredValue"in g&&Array.isArray(a[3])&&(w=g.structuredValue),"defaultType"in g?m===g.defaultType&&(D=!0):m===r&&(D=!0)):m===r&&(D=!0),D||(p+=";VALUE="+m.toUpperCase()),p+=":",E&&w?p+=o.multiValue(a[3],w,m,E,u,w):E?p+=o.multiValue(a.slice(3),E,m,null,u,!1):w?p+=o.multiValue(a[3],w,m,null,u,w):p+=o.value(a[3],m,u,!1),c?p:e.helpers.foldline(p)},o.propertyValue=function(a){return s.unescapedIndexOf(a,",")===-1&&s.unescapedIndexOf(a,":")===-1&&s.unescapedIndexOf(a,";")===-1?a:\'"\'+a+\'"\'},o.multiValue=function(a,u,c,f,h,d){for(var p="",v=a.length,y=0;y<v;y++)f&&Array.isArray(a[y])?p+=o.multiValue(a[y],f,c,null,h,d):p+=o.value(a[y],c,h,d),y!==v-1&&(p+=u);return p},o.value=function(a,u,c,f){return u in c.value&&"toICAL"in c.value[u]?c.value[u].toICAL(a,f):a},o._rfc6868Unescape=function(a){return a.replace(/[\\n^"]/g,function(u){return l[u]})};var l={\'"\':"^\'","\\n":"^n","^":"^^"};return o}(),e.parse=function(){var n=/[^ \\t]/,r=":",i=";",s="=",o="unknown",l="text",a=e.design,u=e.helpers;function c(d){this.message=d,this.name="ParserError";try{throw new Error}catch(v){if(v.stack){var p=v.stack.split(`\n`);p.shift(),this.stack=p.join(`\n`)}}}c.prototype=Error.prototype;function f(d){var p={},v=p.component=[];if(p.stack=[v],f._eachLine(d,function(y,m){f._handleContentLine(m,p)}),p.stack.length>1)throw new c("invalid ical body. component began but did not end");return p=null,v.length==1?v[0]:v}f.property=function(d,p){var v={component:[[],[]],designSet:p||a.defaultSet};return f._handleContentLine(d,v),v.component[1][0]},f.component=function(d){return f(d)},f.ParserError=c,f._handleContentLine=function(d,p){var v=d.indexOf(r),y=d.indexOf(i),m,g,E,w,D={};y!==-1&&v!==-1&&y>v&&(y=-1);var _;if(y!==-1){if(E=d.substring(0,y).toLowerCase(),_=f._parseParameters(d.substring(y),0,p.designSet),_[2]==-1)throw new c("Invalid parameters in \'"+d+"\'");if(D=_[0],m=_[1].length+_[2]+y,(g=d.substring(m).indexOf(r))!==-1)w=d.substring(m+g+1);else throw new c("Missing parameter value in \'"+d+"\'")}else if(v!==-1){if(E=d.substring(0,v).toLowerCase(),w=d.substring(v+1),E==="begin"){var b=[w.toLowerCase(),[],[]];p.stack.length===1?p.component.push(b):p.component[2].push(b),p.stack.push(p.component),p.component=b,p.designSet||(p.designSet=a.getDesignSet(p.component[0]));return}else if(E==="end"){p.component=p.stack.pop();return}}else throw new c(\'invalid line (no token ";" or ":") "\'+d+\'"\');var A,x=!1,P=!1,W;E in p.designSet.property&&(W=p.designSet.property[E],"multiValue"in W&&(x=W.multiValue),"structuredValue"in W&&(P=W.structuredValue),w&&"detectType"in W&&(A=W.detectType(w))),A||("value"in D?A=D.value.toLowerCase():W?A=W.defaultType:A=o),delete D.value;var $;x&&P?(w=f._parseMultiValue(w,P,A,[],x,p.designSet,P),$=[E,D,A,w]):x?($=[E,D,A],f._parseMultiValue(w,x,A,$,null,p.designSet,!1)):P?(w=f._parseMultiValue(w,P,A,[],null,p.designSet,P),$=[E,D,A,w]):(w=f._parseValue(w,A,p.designSet,!1),$=[E,D,A,w]),p.component[0]==="vcard"&&p.component[1].length===0&&!(E==="version"&&w==="4.0")&&(p.designSet=a.getDesignSet("vcard3")),p.component[1].push($)},f._parseValue=function(d,p,v,y){return p in v.value&&"fromICAL"in v.value[p]?v.value[p].fromICAL(d,y):d},f._parseParameters=function(d,p,v){for(var y=p,m=0,g=s,E={},w,D,_,b=-1,A,x,P;m!==!1&&(m=u.unescapedIndexOf(d,g,m+1))!==-1;){if(w=d.substr(y+1,m-y-1),w.length==0)throw new c("Empty parameter name in \'"+d+"\'");D=w.toLowerCase(),P=!1,x=!1,D in v.param&&v.param[D].valueType?A=v.param[D].valueType:A=l,D in v.param&&(x=v.param[D].multiValue,v.param[D].multiValueSeparateDQuote&&(P=f._rfc6868Escape(\'"\'+x+\'"\')));var W=d[m+1];if(W===\'"\'){if(b=m+2,m=u.unescapedIndexOf(d,\'"\',b),x&&m!=-1)for(var $=!0;$;)d[m+1]==x&&d[m+2]==\'"\'?m=u.unescapedIndexOf(d,\'"\',m+3):$=!1;if(m===-1)throw new c(\'invalid line (no matching double quote) "\'+d+\'"\');_=d.substr(b,m-b),y=u.unescapedIndexOf(d,i,m),y===-1&&(m=!1)}else{b=m+1;var Te=u.unescapedIndexOf(d,i,b),se=u.unescapedIndexOf(d,r,b);se!==-1&&Te>se?(Te=se,m=!1):Te===-1?(se===-1?Te=d.length:Te=se,m=!1):(y=Te,m=Te),_=d.substr(b,Te-b)}if(_=f._rfc6868Escape(_),x){var ne=P||x;_=f._parseMultiValue(_,ne,A,[],null,v)}else _=f._parseValue(_,A,v);x&&D in E?Array.isArray(E[D])?E[D].push(_):E[D]=[E[D],_]:E[D]=_}return[E,_,b]},f._rfc6868Escape=function(d){return d.replace(/\\^[\'n^]/g,function(p){return h[p]})};var h={"^\'":\'"\',"^n":`\n`,"^^":"^"};return f._parseMultiValue=function(d,p,v,y,m,g,E){var w=0,D=0,_;if(p.length===0)return d;for(;(w=u.unescapedIndexOf(d,p,D))!==-1;)_=d.substr(D,w-D),m?_=f._parseMultiValue(_,m,v,[],null,g,E):_=f._parseValue(_,v,g,E),y.push(_),D=w+p.length;return _=d.substr(D),m?_=f._parseMultiValue(_,m,v,[],null,g,E):_=f._parseValue(_,v,g,E),y.push(_),y.length==1?y[0]:y},f._eachLine=function(d,p){var v=d.length,y=d.search(n),m=y,g,E,w;do m=d.indexOf(`\n`,y)+1,m>1&&d[m-2]==="\\r"?w=2:w=1,m===0&&(m=v,w=0),E=d[y],E===" "||E==="	"?g+=d.substr(y+1,m-y-(w+1)):(g&&p(null,g),g=d.substr(y,m-y-w)),y=m;while(m!==v);g=g.trim(),g.length&&p(null,g)},f}(),e.Component=function(){var n=1,r=2,i=0;function s(o,l){typeof o=="string"&&(o=[o,[],[]]),this.jCal=o,this.parent=l||null}return s.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[i]},get _designSet(){var o=this.parent&&this.parent._designSet;return o||e.design.getDesignSet(this.name)},_hydrateComponent:function(o){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[o])return this._components[o];var l=new s(this.jCal[r][o],this);return this._hydratedComponentCount++,this._components[o]=l},_hydrateProperty:function(o){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[o])return this._properties[o];var l=new e.Property(this.jCal[n][o],this);return this._hydratedPropertyCount++,this._properties[o]=l},getFirstSubcomponent:function(o){if(o){for(var l=0,a=this.jCal[r],u=a.length;l<u;l++)if(a[l][i]===o){var c=this._hydrateComponent(l);return c}}else if(this.jCal[r].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(o){var l=this.jCal[r].length,a=0;if(o){for(var u=this.jCal[r],c=[];a<l;a++)o===u[a][i]&&c.push(this._hydrateComponent(a));return c}else{if(!this._components||this._hydratedComponentCount!==l)for(;a<l;a++)this._hydrateComponent(a);return this._components||[]}},hasProperty:function(o){for(var l=this.jCal[n],a=l.length,u=0;u<a;u++)if(l[u][i]===o)return!0;return!1},getFirstProperty:function(o){if(o){for(var l=0,a=this.jCal[n],u=a.length;l<u;l++)if(a[l][i]===o){var c=this._hydrateProperty(l);return c}}else if(this.jCal[n].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(o){var l=this.getFirstProperty(o);return l?l.getFirstValue():null},getAllProperties:function(o){var l=this.jCal[n].length,a=0;if(o){for(var u=this.jCal[n],c=[];a<l;a++)o===u[a][i]&&c.push(this._hydrateProperty(a));return c}else{if(!this._properties||this._hydratedPropertyCount!==l)for(;a<l;a++)this._hydrateProperty(a);return this._properties||[]}},_removeObjectByIndex:function(o,l,a){if(l=l||[],l[a]){var u=l[a];"parent"in u&&(u.parent=null)}l.splice(a,1),this.jCal[o].splice(a,1)},_removeObject:function(o,l,a){var u=0,c=this.jCal[o],f=c.length,h=this[l];if(typeof a=="string"){for(;u<f;u++)if(c[u][i]===a)return this._removeObjectByIndex(o,h,u),!0}else if(h){for(;u<f;u++)if(h[u]&&h[u]===a)return this._removeObjectByIndex(o,h,u),!0}return!1},_removeAllObjects:function(o,l,a){for(var u=this[l],c=this.jCal[o],f=c.length-1;f>=0;f--)(!a||c[f][i]===a)&&this._removeObjectByIndex(o,u,f)},addSubcomponent:function(o){this._components||(this._components=[],this._hydratedComponentCount=0),o.parent&&o.parent.removeSubcomponent(o);var l=this.jCal[r].push(o.jCal);return this._components[l-1]=o,this._hydratedComponentCount++,o.parent=this,o},removeSubcomponent:function(o){var l=this._removeObject(r,"_components",o);return l&&this._hydratedComponentCount--,l},removeAllSubcomponents:function(o){var l=this._removeAllObjects(r,"_components",o);return this._hydratedComponentCount=0,l},addProperty:function(o){if(!(o instanceof e.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),o.parent&&o.parent.removeProperty(o);var l=this.jCal[n].push(o.jCal);return this._properties[l-1]=o,this._hydratedPropertyCount++,o.parent=this,o},addPropertyWithValue:function(o,l){var a=new e.Property(o);return a.setValue(l),this.addProperty(a),a},updatePropertyWithValue:function(o,l){var a=this.getFirstProperty(o);return a?a.setValue(l):a=this.addPropertyWithValue(o,l),a},removeProperty:function(o){var l=this._removeObject(n,"_properties",o);return l&&this._hydratedPropertyCount--,l},removeAllProperties:function(o){var l=this._removeAllObjects(n,"_properties",o);return this._hydratedPropertyCount=0,l},toJSON:function(){return this.jCal},toString:function(){return e.stringify.component(this.jCal,this._designSet)}},s.fromString=function(o){return new s(e.parse.component(o))},s}(),e.Property=function(){var n=0,r=1,i=2,s=3,o=e.design;function l(a,u){this._parent=u||null,typeof a=="string"?(this.jCal=[a,{},o.defaultType],this.jCal[i]=this.getDefaultType()):this.jCal=a,this._updateType()}return l.prototype={get type(){return this.jCal[i]},get name(){return this.jCal[n]},get parent(){return this._parent},set parent(a){var u=!this._parent||a&&a._designSet!=this._parent._designSet;return this._parent=a,this.type==o.defaultType&&u&&(this.jCal[i]=this.getDefaultType(),this._updateType()),a},get _designSet(){return this.parent?this.parent._designSet:o.defaultSet},_updateType:function(){var a=this._designSet;this.type in a.value&&(a.value[this.type],"decorate"in a.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in a.property&&(this.isMultiValue="multiValue"in a.property[this.name],this.isStructuredValue="structuredValue"in a.property[this.name]))},_hydrateValue:function(a){return this._values&&this._values[a]?this._values[a]:this.jCal.length<=s+a?null:this.isDecorated?(this._values||(this._values=[]),this._values[a]=this._decorate(this.jCal[s+a])):this.jCal[s+a]},_decorate:function(a){return this._designSet.value[this.type].decorate(a,this)},_undecorate:function(a){return this._designSet.value[this.type].undecorate(a,this)},_setDecoratedValue:function(a,u){this._values||(this._values=[]),typeof a=="object"&&"icaltype"in a?(this.jCal[s+u]=this._undecorate(a),this._values[u]=a):(this.jCal[s+u]=a,this._values[u]=this._decorate(a))},getParameter:function(a){if(a in this.jCal[r])return this.jCal[r][a]},getFirstParameter:function(a){var u=this.getParameter(a);return Array.isArray(u)?u[0]:u},setParameter:function(a,u){var c=a.toLowerCase();typeof u=="string"&&c in this._designSet.param&&"multiValue"in this._designSet.param[c]&&(u=[u]),this.jCal[r][a]=u},removeParameter:function(a){delete this.jCal[r][a]},getDefaultType:function(){var a=this.jCal[n],u=this._designSet;if(a in u.property){var c=u.property[a];if("defaultType"in c)return c.defaultType}return o.defaultType},resetType:function(a){this.removeAllValues(),this.jCal[i]=a,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var a=this.jCal.length-s;if(a<1)return[];for(var u=0,c=[];u<a;u++)c[u]=this._hydrateValue(u);return c},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(a){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.\noverride isMultiValue`);var u=a.length,c=0;if(this.removeAllValues(),u>0&&typeof a[0]=="object"&&"icaltype"in a[0]&&this.resetType(a[0].icaltype),this.isDecorated)for(;c<u;c++)this._setDecoratedValue(a[c],c);else for(;c<u;c++)this.jCal[s+c]=a[c]},setValue:function(a){this.removeAllValues(),typeof a=="object"&&"icaltype"in a&&this.resetType(a.icaltype),this.isDecorated?this._setDecoratedValue(a,0):this.jCal[s]=a},toJSON:function(){return this.jCal},toICALString:function(){return e.stringify.property(this.jCal,this._designSet,!0)}},l.fromString=function(a,u){return new l(e.parse.property(a,u))},l}(),e.UtcOffset=function(){function n(r){this.fromData(r)}return n.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return e.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(r){if(r)for(var i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this._normalize()},fromSeconds:function(r){var i=Math.abs(r);return this.factor=r<0?-1:1,this.hours=e.helpers.trunc(i/3600),i-=this.hours*3600,this.minutes=e.helpers.trunc(i/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(i){var s=this.toSeconds(),o=i.toSeconds();return(s>o)-(o>s)},_normalize:function(){for(var r=this.toSeconds(),i=this.factor;r<-43200;)r+=97200;for(;r>50400;)r-=97200;this.fromSeconds(r),r==0&&(this.factor=i)},toICALString:function(){return e.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(this.factor==1?"+":"-")+e.helpers.pad2(this.hours)+":"+e.helpers.pad2(this.minutes)}},n.fromString=function(r){var i={};return i.factor=r[0]==="+"?1:-1,i.hours=e.helpers.strictParseInt(r.substr(1,2)),i.minutes=e.helpers.strictParseInt(r.substr(4,2)),new e.UtcOffset(i)},n.fromSeconds=function(r){var i=new n;return i.fromSeconds(r),i},n}(),e.Binary=function(){function n(r){this.value=r}return n.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(i){this.value=this._b64_encode(i)},_b64_encode:function(i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,l,a,u,c,f,h,d,p=0,v=0,y="",m=[];if(!i)return i;do o=i.charCodeAt(p++),l=i.charCodeAt(p++),a=i.charCodeAt(p++),d=o<<16|l<<8|a,u=d>>18&63,c=d>>12&63,f=d>>6&63,h=d&63,m[v++]=s.charAt(u)+s.charAt(c)+s.charAt(f)+s.charAt(h);while(p<i.length);y=m.join("");var g=i.length%3;return(g?y.slice(0,g-3):y)+"===".slice(g||3)},_b64_decode:function(i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,l,a,u,c,f,h,d,p=0,v=0,y="",m=[];if(!i)return i;i+="";do u=s.indexOf(i.charAt(p++)),c=s.indexOf(i.charAt(p++)),f=s.indexOf(i.charAt(p++)),h=s.indexOf(i.charAt(p++)),d=u<<18|c<<12|f<<6|h,o=d>>16&255,l=d>>8&255,a=d&255,f==64?m[v++]=String.fromCharCode(o):h==64?m[v++]=String.fromCharCode(o,l):m[v++]=String.fromCharCode(o,l,a);while(p<i.length);return y=m.join(""),y},toString:function(){return this.value}},n.fromString=function(r){return new n(r)},n}(),function(){e.Period=function(r){if(this.wrappedJSObject=this,r&&"start"in r){if(r.start&&!(r.start instanceof e.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=r.start}if(r&&r.end&&r.duration)throw new Error("cannot accept both end and duration");if(r&&"end"in r){if(r.end&&!(r.end instanceof e.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=r.end}if(r&&"duration"in r){if(r.duration&&!(r.duration instanceof e.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=r.duration}},e.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return e.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var n=this.start.clone();return n.addDuration(this.duration),n},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},e.Period.fromString=function(r,i){var s=r.split("/");if(s.length!==2)throw new Error(\'Invalid string value: "\'+r+\'" must contain a "/" char.\');var o={start:e.Time.fromDateTimeString(s[0],i)},l=s[1];return e.Duration.isValueString(l)?o.duration=e.Duration.fromString(l):o.end=e.Time.fromDateTimeString(l,i),new e.Period(o)},e.Period.fromData=function(r){return new e.Period(r)},e.Period.fromJSON=function(n,r,i){function s(o,l){return i?e.Time.fromString(o,l):e.Time.fromDateTimeString(o,l)}return e.Duration.isValueString(n[1])?e.Period.fromData({start:s(n[0],r),duration:e.Duration.fromString(n[1])}):e.Period.fromData({start:s(n[0],r),end:s(n[1],r)})}}(),function(){var n=/([PDWHMTS]{1,1})/;e.Duration=function(s){this.wrappedJSObject=this,this.fromData(s)},e.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return e.Duration.fromData(this)},toSeconds:function(){var s=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-s:s},fromSeconds:function(s){var o=Math.abs(s);return this.isNegative=s<0,this.days=e.helpers.trunc(o/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,o-=(this.days+7*this.weeks)*86400,this.hours=e.helpers.trunc(o/3600),o-=this.hours*3600,this.minutes=e.helpers.trunc(o/60),o-=this.minutes*60,this.seconds=o,this},fromData:function(s){var o=["weeks","days","hours","minutes","seconds","isNegative"];for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];s&&a in s?this[a]=s[a]:this[a]=0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(s){var o=this.toSeconds(),l=s.toSeconds();return(o>l)-(o<l)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(this.toSeconds()==0)return"PT0S";var s="";return this.isNegative&&(s+="-"),s+="P",this.weeks&&(s+=this.weeks+"W"),this.days&&(s+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(s+="T",this.hours&&(s+=this.hours+"H"),this.minutes&&(s+=this.minutes+"M"),this.seconds&&(s+=this.seconds+"S")),s},toICALString:function(){return this.toString()}},e.Duration.fromSeconds=function(s){return new e.Duration().fromSeconds(s)};function r(i,s,o){var l;switch(i){case"P":s&&s==="-"?o.isNegative=!0:o.isNegative=!1;break;case"D":l="days";break;case"W":l="weeks";break;case"H":l="hours";break;case"M":l="minutes";break;case"S":l="seconds";break;default:return 0}if(l){if(!s&&s!==0)throw new Error(\'invalid duration value: Missing number before "\'+i+\'"\');var a=parseInt(s,10);if(e.helpers.isStrictlyNaN(a))throw new Error(\'invalid duration value: Invalid number "\'+s+\'" before "\'+i+\'"\');o[l]=a}return 1}e.Duration.isValueString=function(i){return i[0]==="P"||i[1]==="P"},e.Duration.fromString=function(s){for(var o=0,l=Object.create(null),a=0;(o=s.search(n))!==-1;){var u=s[o],c=s.substr(0,o);s=s.substr(o+1),a+=r(u,c,l)}if(a<2)throw new Error(\'invalid duration value: Not enough duration components in "\'+s+\'"\');return new e.Duration(l)},e.Duration.fromData=function(s){return new e.Duration(s)}}(),function(){var n=["tzid","location","tznames","latitude","longitude"];e.Timezone=function(i){this.wrappedJSObject=this,this.fromData(i)},e.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(i){if(this.expandedUntilYear=0,this.changes=[],i instanceof e.Component)this.component=i;else{if(i&&"component"in i)if(typeof i.component=="string"){var s=e.parse(i.component);this.component=new e.Component(s)}else i.component instanceof e.Component?this.component=i.component:this.component=null;for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];i&&l in i&&(this[l]=i[l])}}return this.component instanceof e.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(i){if(this==e.Timezone.utcTimezone||this==e.Timezone.localTimezone||(this._ensureCoverage(i.year),!this.changes.length))return 0;for(var s={year:i.year,month:i.month,day:i.day,hour:i.hour,minute:i.minute,second:i.second},o=this._findNearbyChange(s),l=-1,a=1;;){var u=e.helpers.clone(this.changes[o],!0);u.utcOffset<u.prevUtcOffset?e.Timezone.adjust_change(u,0,0,0,u.utcOffset):e.Timezone.adjust_change(u,0,0,0,u.prevUtcOffset);var c=e.Timezone._compare_change_fn(s,u);if(c>=0?l=o:a=-1,a==-1&&l!=-1)break;if(o+=a,o<0)return 0;if(o>=this.changes.length)break}var f=this.changes[l],h=f.utcOffset-f.prevUtcOffset;if(h<0&&l>0){var d=e.helpers.clone(f,!0);if(e.Timezone.adjust_change(d,0,0,0,d.prevUtcOffset),e.Timezone._compare_change_fn(s,d)<0){var p=this.changes[l-1],v=!1;f.is_daylight!=v&&p.is_daylight==v&&(f=p)}}return f.utcOffset},_findNearbyChange:function(i){var s=e.helpers.binsearchInsert(this.changes,i,e.Timezone._compare_change_fn);return s>=this.changes.length?this.changes.length-1:s},_ensureCoverage:function(r){if(e.Timezone._minimumExpansionYear==-1){var i=e.Time.now();e.Timezone._minimumExpansionYear=i.year}var s=r;if(s<e.Timezone._minimumExpansionYear&&(s=e.Timezone._minimumExpansionYear),s+=e.Timezone.EXTRA_COVERAGE,s>e.Timezone.MAX_YEAR&&(s=e.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<r){for(var o=this.component.getAllSubcomponents(),l=o.length,a=0;a<l;a++)this._expandComponent(o[a],s,this.changes);this.changes.sort(e.Timezone._compare_change_fn),this.expandedUntilYear=s}},_expandComponent:function(r,i,s){if(!r.hasProperty("dtstart")||!r.hasProperty("tzoffsetto")||!r.hasProperty("tzoffsetfrom"))return null;var o=r.getFirstProperty("dtstart").getFirstValue(),l;function a(m){return m.factor*(m.hours*3600+m.minutes*60)}function u(){var m={};return m.is_daylight=r.name=="daylight",m.utcOffset=a(r.getFirstProperty("tzoffsetto").getFirstValue()),m.prevUtcOffset=a(r.getFirstProperty("tzoffsetfrom").getFirstValue()),m}if(!r.hasProperty("rrule")&&!r.hasProperty("rdate"))l=u(),l.year=o.year,l.month=o.month,l.day=o.day,l.hour=o.hour,l.minute=o.minute,l.second=o.second,e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset),s.push(l);else{var c=r.getAllProperties("rdate");for(var f in c)if(c.hasOwnProperty(f)){var h=c[f],d=h.getFirstValue();l=u(),l.year=d.year,l.month=d.month,l.day=d.day,d.isDate?(l.hour=o.hour,l.minute=o.minute,l.second=o.second,o.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset)):(l.hour=d.hour,l.minute=d.minute,l.second=d.second,d.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset)),s.push(l)}var p=r.getFirstProperty("rrule");if(p){p=p.getFirstValue(),l=u(),p.until&&p.until.zone==e.Timezone.utcTimezone&&(p.until.adjust(0,0,0,l.prevUtcOffset),p.until.zone=e.Timezone.localTimezone);for(var v=p.iterator(o),y;(y=v.next())&&(l=u(),!(y.year>i||!y));)l.year=y.year,l.month=y.month,l.day=y.day,l.hour=y.hour,l.minute=y.minute,l.second=y.second,l.isDate=y.isDate,e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset),s.push(l)}}return s},toString:function(){return this.tznames?this.tznames:this.tzid}},e.Timezone._compare_change_fn=function(i,s){return i.year<s.year?-1:i.year>s.year?1:i.month<s.month?-1:i.month>s.month?1:i.day<s.day?-1:i.day>s.day?1:i.hour<s.hour?-1:i.hour>s.hour?1:i.minute<s.minute?-1:i.minute>s.minute?1:i.second<s.second?-1:i.second>s.second?1:0},e.Timezone.convert_time=function(i,s,o){if(i.isDate||s.tzid==o.tzid||s==e.Timezone.localTimezone||o==e.Timezone.localTimezone)return i.zone=o,i;var l=s.utcOffset(i);return i.adjust(0,0,0,-l),l=o.utcOffset(i),i.adjust(0,0,0,l),null},e.Timezone.fromData=function(i){var s=new e.Timezone;return s.fromData(i)},e.Timezone.utcTimezone=e.Timezone.fromData({tzid:"UTC"}),e.Timezone.localTimezone=e.Timezone.fromData({tzid:"floating"}),e.Timezone.adjust_change=function(i,s,o,l,a){return e.Time.prototype.adjust.call(i,s,o,l,a,i)},e.Timezone._minimumExpansionYear=-1,e.Timezone.MAX_YEAR=2035,e.Timezone.EXTRA_COVERAGE=5}(),e.TimezoneService=function(){var n,r={get count(){return Object.keys(n).length},reset:function(){n=Object.create(null);var i=e.Timezone.utcTimezone;n.Z=i,n.UTC=i,n.GMT=i},has:function(i){return!!n[i]},get:function(i){return n[i]},register:function(i,s){if(i instanceof e.Component&&i.name==="vtimezone"&&(s=new e.Timezone(i),i=s.tzid),s instanceof e.Timezone)n[i]=s;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(i){return delete n[i]}};return r.reset(),r}(),function(){e.Time=function(r,i){this.wrappedJSObject=this;var s=this._time=Object.create(null);s.year=0,s.month=1,s.day=1,s.hour=0,s.minute=0,s.second=0,s.isDate=!1,this.fromData(r,i)},e.Time._dowCache={},e.Time._wnCache={},e.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new e.Time(this._time,this.zone)},reset:function(){this.fromData(e.Time.epochTime),this.zone=e.Timezone.utcTimezone},resetTo:function(r,i,s,o,l,a,u){this.fromData({year:r,month:i,day:s,hour:o,minute:l,second:a,zone:u})},fromJSDate:function(r,i){return r?i?(this.zone=e.Timezone.utcTimezone,this.year=r.getUTCFullYear(),this.month=r.getUTCMonth()+1,this.day=r.getUTCDate(),this.hour=r.getUTCHours(),this.minute=r.getUTCMinutes(),this.second=r.getUTCSeconds()):(this.zone=e.Timezone.localTimezone,this.year=r.getFullYear(),this.month=r.getMonth()+1,this.day=r.getDate(),this.hour=r.getHours(),this.minute=r.getMinutes(),this.second=r.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(r,i){if(r){for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(s==="icaltype")continue;this[s]=r[s]}}if(i&&(this.zone=i),r&&!("isDate"in r)?this.isDate=!("hour"in r):r&&"isDate"in r&&(this.isDate=r.isDate),r&&"timezone"in r){var o=e.TimezoneService.get(r.timezone);this.zone=o||e.Timezone.localTimezone}return r&&"zone"in r&&(this.zone=r.zone),this.zone||(this.zone=e.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(r){var i=r||e.Time.SUNDAY,s=(this.year<<12)+(this.month<<8)+(this.day<<3)+i;if(s in e.Time._dowCache)return e.Time._dowCache[s];var o=this.day,l=this.month+(this.month<3?12:0),a=this.year-(this.month<3?1:0),u=o+a+e.helpers.trunc((l+1)*26/10)+e.helpers.trunc(a/4);return u+=e.helpers.trunc(a/100)*6+e.helpers.trunc(a/400),u=(u+7-i)%7+1,e.Time._dowCache[s]=u,u},dayOfYear:function(){var r=e.Time.isLeapYear(this.year)?1:0,i=e.Time.daysInYearPassedMonth;return i[r][this.month-1]+this.day},startOfWeek:function(r){var i=r||e.Time.SUNDAY,s=this.clone();return s.day-=(this.dayOfWeek()+7-i)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},endOfWeek:function(r){var i=r||e.Time.SUNDAY,s=this.clone();return s.day+=(7-this.dayOfWeek()+i-e.Time.SUNDAY)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},startOfMonth:function(){var r=this.clone();return r.day=1,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},endOfMonth:function(){var r=this.clone();return r.day=e.Time.daysInMonth(r.month,r.year),r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},startOfYear:function(){var r=this.clone();return r.day=1,r.month=1,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},endOfYear:function(){var r=this.clone();return r.day=31,r.month=12,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},startDoyWeek:function(r){var i=r||e.Time.SUNDAY,s=this.dayOfWeek()-i;return s<0&&(s+=7),this.dayOfYear()-s},getDominicalLetter:function(){return e.Time.getDominicalLetter(this.year)},nthWeekDay:function(r,i){var s=e.Time.daysInMonth(this.month,this.year),o,l=i,a=0,u=this.clone();if(l>=0){u.day=1,l!=0&&l--,a=u.day;var c=u.dayOfWeek(),f=r-c;f<0&&(f+=7),a+=f,a-=r,o=r}else{u.day=s;var h=u.dayOfWeek();l++,o=h-r,o<0&&(o+=7),o=s-o}return o+=l*7,a+o},isNthWeekDay:function(n,r){var i=this.dayOfWeek();if(r===0&&i===n)return!0;var s=this.nthWeekDay(n,r);return s===this.day},weekNumber:function(r){var i=(this.year<<12)+(this.month<<8)+(this.day<<3)+r;if(i in e.Time._wnCache)return e.Time._wnCache[i];var s,o=this.clone();o.isDate=!0;var l=this.year;o.month==12&&o.day>25?(s=e.Time.weekOneStarts(l+1,r),o.compare(s)<0?s=e.Time.weekOneStarts(l,r):l++):(s=e.Time.weekOneStarts(l,r),o.compare(s)<0&&(s=e.Time.weekOneStarts(--l,r)));var a=o.subtractDate(s).toSeconds()/86400,u=e.helpers.trunc(a/7)+1;return e.Time._wnCache[i]=u,u},addDuration:function(r){var i=r.isNegative?-1:1,s=this.second,o=this.minute,l=this.hour,a=this.day;s+=i*r.seconds,o+=i*r.minutes,l+=i*r.hours,a+=i*r.days,a+=i*7*r.weeks,this.second=s,this.minute=o,this.hour=l,this.day=a,this._cachedUnixTime=null},subtractDate:function(r){var i=this.toUnixTime()+this.utcOffset(),s=r.toUnixTime()+r.utcOffset();return e.Duration.fromSeconds(i-s)},subtractDateTz:function(r){var i=this.toUnixTime(),s=r.toUnixTime();return e.Duration.fromSeconds(i-s)},compare:function(r){var i=this.toUnixTime(),s=r.toUnixTime();return i>s?1:s>i?-1:0},compareDateOnlyTz:function(r,i){function s(u){return e.Time._cmp_attr(o,l,u)}var o=this.convertToZone(i),l=r.convertToZone(i),a=0;return(a=s("year"))!=0||(a=s("month"))!=0||(a=s("day"))!=0,a},convertToZone:function(r){var i=this.clone(),s=this.zone.tzid==r.tzid;return!this.isDate&&!s&&e.Timezone.convert_time(i,this.zone,r),i.zone=r,i},utcOffset:function(){return this.zone==e.Timezone.localTimezone||this.zone==e.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var n=this.toString();return n.length>10?e.design.icalendar.value["date-time"].toICAL(n):e.design.icalendar.value.date.toICAL(n)},toString:function(){var r=this.year+"-"+e.helpers.pad2(this.month)+"-"+e.helpers.pad2(this.day);return this.isDate||(r+="T"+e.helpers.pad2(this.hour)+":"+e.helpers.pad2(this.minute)+":"+e.helpers.pad2(this.second),this.zone===e.Timezone.utcTimezone&&(r+="Z")),r},toJSDate:function(){return this.zone==e.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)},_normalize:function(){return this._time.isDate,this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(r,i,s,o,l){var a,u,c=0,f=0,h,d,p,v,y,m=l||this._time;if(m.isDate||(h=m.second+o,m.second=h%60,a=e.helpers.trunc(h/60),m.second<0&&(m.second+=60,a--),d=m.minute+s+a,m.minute=d%60,u=e.helpers.trunc(d/60),m.minute<0&&(m.minute+=60,u--),p=m.hour+i+u,m.hour=p%24,c=e.helpers.trunc(p/24),m.hour<0&&(m.hour+=24,c--)),m.month>12?f=e.helpers.trunc((m.month-1)/12):m.month<1&&(f=e.helpers.trunc(m.month/12)-1),m.year+=f,m.month-=12*f,v=m.day+r+c,v>0)for(;y=e.Time.daysInMonth(m.month,m.year),!(v<=y);)m.month++,m.month>12&&(m.year++,m.month=1),v-=y;else for(;v<=0;)m.month==1?(m.year--,m.month=12):m.month--,v+=e.Time.daysInMonth(m.month,m.year);return m.day=v,this._cachedUnixTime=null,this},fromUnixTime:function(r){this.zone=e.Timezone.utcTimezone;var i=e.Time.epochTime.clone();i.adjust(0,0,0,r),this.year=i.year,this.month=i.month,this.day=i.day,this.hour=i.hour,this.minute=i.minute,this.second=Math.floor(i.second),this._cachedUnixTime=null},toUnixTime:function(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;var r=this.utcOffset(),i=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-r);return this._cachedUnixTime=i/1e3,this._cachedUnixTime},toJSON:function(){for(var n=["year","month","day","hour","minute","second","isDate"],r=Object.create(null),i=0,s=n.length,o;i<s;i++)o=n[i],r[o]=this[o];return this.zone&&(r.timezone=this.zone.tzid),r}},function(){function r(i){Object.defineProperty(e.Time.prototype,i,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[i]},set:function(o){return i==="isDate"&&o&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[i]=o,o}})}"defineProperty"in Object&&(r("year"),r("month"),r("day"),r("hour"),r("minute"),r("second"),r("isDate"))}(),e.Time.daysInMonth=function(r,i){var s=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=30;return r<1||r>12||(o=s[r],r==2&&(o+=e.Time.isLeapYear(i))),o},e.Time.isLeapYear=function(r){return r<=1752?r%4==0:r%4==0&&r%100!=0||r%400==0},e.Time.fromDayOfYear=function(r,i){var s=i,o=r,l=new e.Time;l.auto_normalize=!1;var a=e.Time.isLeapYear(s)?1:0;if(o<1)return s--,a=e.Time.isLeapYear(s)?1:0,o+=e.Time.daysInYearPassedMonth[a][12],e.Time.fromDayOfYear(o,s);if(o>e.Time.daysInYearPassedMonth[a][12])return a=e.Time.isLeapYear(s)?1:0,o-=e.Time.daysInYearPassedMonth[a][12],s++,e.Time.fromDayOfYear(o,s);l.year=s,l.isDate=!0;for(var u=11;u>=0;u--)if(o>e.Time.daysInYearPassedMonth[a][u]){l.month=u+1,l.day=o-e.Time.daysInYearPassedMonth[a][u];break}return l.auto_normalize=!0,l},e.Time.fromStringv2=function(r){return new e.Time({year:parseInt(r.substr(0,4),10),month:parseInt(r.substr(5,2),10),day:parseInt(r.substr(8,2),10),isDate:!0})},e.Time.fromDateString=function(n){return new e.Time({year:e.helpers.strictParseInt(n.substr(0,4)),month:e.helpers.strictParseInt(n.substr(5,2)),day:e.helpers.strictParseInt(n.substr(8,2)),isDate:!0})},e.Time.fromDateTimeString=function(n,r){if(n.length<19)throw new Error(\'invalid date-time value: "\'+n+\'"\');var i;n[19]&&n[19]==="Z"?i="Z":r&&(i=r.getParameter("tzid"));var s=new e.Time({year:e.helpers.strictParseInt(n.substr(0,4)),month:e.helpers.strictParseInt(n.substr(5,2)),day:e.helpers.strictParseInt(n.substr(8,2)),hour:e.helpers.strictParseInt(n.substr(11,2)),minute:e.helpers.strictParseInt(n.substr(14,2)),second:e.helpers.strictParseInt(n.substr(17,2)),timezone:i});return s},e.Time.fromString=function(r,i){return r.length>10?e.Time.fromDateTimeString(r,i):e.Time.fromDateString(r)},e.Time.fromJSDate=function(r,i){var s=new e.Time;return s.fromJSDate(r,i)},e.Time.fromData=function(r,i){var s=new e.Time;return s.fromData(r,i)},e.Time.now=function(){return e.Time.fromJSDate(new Date,!1)},e.Time.weekOneStarts=function(r,i){var s=e.Time.fromData({year:r,month:1,day:1,isDate:!0}),o=s.dayOfWeek(),l=i||e.Time.DEFAULT_WEEK_START;return o>e.Time.THURSDAY&&(s.day+=7),l>e.Time.THURSDAY&&(s.day-=7),s.day-=o-l,s},e.Time.getDominicalLetter=function(n){var r="GFEDCBA",i=(n+(n/4|0)+(n/400|0)-(n/100|0)-1)%7,s=e.Time.isLeapYear(n);return s?r[(i+6)%7]+r[i]:r[i]},e.Time.epochTime=e.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),e.Time._cmp_attr=function(r,i,s){return r[s]>i[s]?1:r[s]<i[s]?-1:0},e.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],e.Time.SUNDAY=1,e.Time.MONDAY=2,e.Time.TUESDAY=3,e.Time.WEDNESDAY=4,e.Time.THURSDAY=5,e.Time.FRIDAY=6,e.Time.SATURDAY=7,e.Time.DEFAULT_WEEK_START=e.Time.MONDAY}(),function(){e.VCardTime=function(n,r,i){this.wrappedJSObject=this;var s=this._time=Object.create(null);s.year=null,s.month=null,s.day=null,s.hour=null,s.minute=null,s.second=null,this.icaltype=i||"date-and-or-time",this.fromData(n,r)},e.helpers.inherits(e.Time,e.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new e.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof e.UtcOffset?this.zone.toSeconds():e.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return e.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var r=e.helpers.pad2,i=this.year,s=this.month,o=this.day,l=this.hour,a=this.minute,u=this.second,c=i!==null,f=s!==null,h=o!==null,d=l!==null,p=a!==null,v=u!==null,y=(c?r(i)+(f||h?"-":""):f||h?"--":"")+(f?r(s):"")+(h?"-"+r(o):""),m=(d?r(l):"-")+(d&&p?":":"")+(p?r(a):"")+(!d&&!p?"-":"")+(p&&v?":":"")+(v?r(u):""),g;if(this.zone===e.Timezone.utcTimezone)g="Z";else if(this.zone instanceof e.UtcOffset)g=this.zone.toString();else if(this.zone===e.Timezone.localTimezone)g="";else if(this.zone instanceof e.Timezone){var E=e.UtcOffset.fromSeconds(this.zone.utcOffset(this));g=E.toString()}else g="";switch(this.icaltype){case"time":return m+g;case"date-and-or-time":case"date-time":return y+(m=="--"?"":"T"+m+g);case"date":return y}return null}}),e.VCardTime.fromDateAndOrTimeString=function(n,r){function i(y,m,g){return y?e.helpers.strictParseInt(y.substr(m,g)):null}var s=n.split("T"),o=s[0],l=s[1],a=l?e.design.vcard.value.time._splitZone(l):[],u=a[0],c=a[1];e.helpers.strictParseInt;var f=o?o.length:0,h=c?c.length:0,d=o&&o[0]=="-"&&o[1]=="-",p=c&&c[0]=="-",v={year:d?null:i(o,0,4),month:d&&(f==4||f==7)?i(o,2,2):f==7||f==10?i(o,5,2):null,day:f==5?i(o,3,2):f==7&&d?i(o,5,2):f==10?i(o,8,2):null,hour:p?null:i(c,0,2),minute:p&&h==3?i(c,1,2):h>4?p?i(c,1,2):i(c,3,2):null,second:h==4?i(c,2,2):h==6?i(c,4,2):h==8?i(c,6,2):null};return u=="Z"?u=e.Timezone.utcTimezone:u&&u[3]==":"?u=e.UtcOffset.fromString(u):u=null,new e.VCardTime(v,u,r)}}(),function(){var n={SU:e.Time.SUNDAY,MO:e.Time.MONDAY,TU:e.Time.TUESDAY,WE:e.Time.WEDNESDAY,TH:e.Time.THURSDAY,FR:e.Time.FRIDAY,SA:e.Time.SATURDAY},r={};for(var i in n)n.hasOwnProperty(i)&&(r[n[i]]=i);e.Recur=function(h){this.wrappedJSObject=this,this.parts={},h&&typeof h=="object"&&this.fromData(h)},e.Recur.prototype={parts:null,interval:1,wkst:e.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(f){return new e.RecurIterator({rule:this,dtstart:f})},clone:function(){return new e.Recur(this.toJSON())},isFinite:function(){return!!(this.count||this.until)},isByCount:function(){return!!(this.count&&!this.until)},addComponent:function(h,d){var p=h.toUpperCase();p in this.parts?this.parts[p].push(d):this.parts[p]=[d]},setComponent:function(h,d){this.parts[h.toUpperCase()]=d.slice()},getComponent:function(h){var d=h.toUpperCase();return d in this.parts?this.parts[d].slice():[]},getNextOccurrence:function(h,d){var p=this.iterator(h),v;do v=p.next();while(v&&v.compare(d)<=0);return v&&d.zone&&(v.zone=d.zone),v},fromData:function(f){for(var h in f){var d=h.toUpperCase();d in c?Array.isArray(f[h])?this.parts[d]=f[h]:this.parts[d]=[f[h]]:this[h]=f[h]}this.interval&&typeof this.interval!="number"&&u.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=e.Recur.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof e.Time)&&(this.until=e.Time.fromString(this.until))},toJSON:function(){var f=Object.create(null);f.freq=this.freq,this.count&&(f.count=this.count),this.interval>1&&(f.interval=this.interval);for(var h in this.parts)if(this.parts.hasOwnProperty(h)){var d=this.parts[h];Array.isArray(d)&&d.length==1?f[h.toLowerCase()]=d[0]:f[h.toLowerCase()]=e.helpers.clone(this.parts[h])}return this.until&&(f.until=this.until.toString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(f.wkst=e.Recur.numericDayToIcalDay(this.wkst)),f},toString:function(){var h="FREQ="+this.freq;this.count&&(h+=";COUNT="+this.count),this.interval>1&&(h+=";INTERVAL="+this.interval);for(var d in this.parts)this.parts.hasOwnProperty(d)&&(h+=";"+d+"="+this.parts[d]);return this.until&&(h+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(h+=";WKST="+e.Recur.numericDayToIcalDay(this.wkst)),h}};function s(f,h,d,p){var v=p;if(p[0]==="+"&&(v=p.substr(1)),v=e.helpers.strictParseInt(v),h!==void 0&&p<h)throw new Error(f+\': invalid value "\'+p+\'" must be > \'+h);if(d!==void 0&&p>d)throw new Error(f+\': invalid value "\'+p+\'" must be < \'+h);return v}e.Recur.icalDayToNumericDay=function(h,d){var p=d||e.Time.SUNDAY;return(n[h]-p+7)%7+1},e.Recur.numericDayToIcalDay=function(h,d){var p=d||e.Time.SUNDAY,v=h+p-e.Time.SUNDAY;return v>7&&(v-=7),r[v]};var o=/^(SU|MO|TU|WE|TH|FR|SA)$/,l=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,a=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],u={FREQ:function(f,h,d){if(a.indexOf(f)!==-1)h.freq=f;else throw new Error(\'invalid frequency "\'+f+\'" expected: "\'+a.join(", ")+\'"\')},COUNT:function(f,h,d){h.count=e.helpers.strictParseInt(f)},INTERVAL:function(f,h,d){h.interval=e.helpers.strictParseInt(f),h.interval<1&&(h.interval=1)},UNTIL:function(f,h,d){f.length>10?h.until=e.design.icalendar.value["date-time"].fromICAL(f):h.until=e.design.icalendar.value.date.fromICAL(f),d||(h.until=e.Time.fromString(h.until))},WKST:function(f,h,d){if(o.test(f))h.wkst=e.Recur.icalDayToNumericDay(f);else throw new Error(\'invalid WKST value "\'+f+\'"\')}},c={BYSECOND:s.bind(this,"BYSECOND",0,60),BYMINUTE:s.bind(this,"BYMINUTE",0,59),BYHOUR:s.bind(this,"BYHOUR",0,23),BYDAY:function(f){if(l.test(f))return f;throw new Error(\'invalid BYDAY value "\'+f+\'"\')},BYMONTHDAY:s.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:s.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:s.bind(this,"BYWEEKNO",-53,53),BYMONTH:s.bind(this,"BYMONTH",1,12),BYSETPOS:s.bind(this,"BYSETPOS",-366,366)};e.Recur.fromString=function(f){var h=e.Recur._stringToData(f,!1);return new e.Recur(h)},e.Recur.fromData=function(f){return new e.Recur(f)},e.Recur._stringToData=function(f,h){for(var d=Object.create(null),p=f.split(";"),v=p.length,y=0;y<v;y++){var m=p[y].split("="),g=m[0].toUpperCase(),E=m[0].toLowerCase(),w=h?E:g,D=m[1];if(g in c){for(var _=D.split(","),b=0,A=_.length;b<A;b++)_[b]=c[g](_[b]);d[w]=_.length==1?_[0]:_}else g in u?u[g](D,d,h):d[E]=D}return d}}(),e.RecurIterator=function(){function n(r){this.fromData(r)}return n.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(r){if(this.rule=e.helpers.formatClassType(r.rule,e.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=e.helpers.formatClassType(r.dtstart,e.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");r.by_data?this.by_data=r.by_data:this.by_data=e.helpers.clone(this.rule.parts,!0),r.occurrence_number&&(this.occurrence_number=r.occurrence_number),this.days=r.days||[],r.last&&(this.last=e.helpers.formatClassType(r.last,e.Time)),this.by_indices=r.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=r.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var i=this.by_data;if("BYDAY"in i&&this.sort_byday_rules(i.BYDAY),"BYYEARDAY"in i&&("BYMONTH"in i||"BYWEEKNO"in i||"BYMONTHDAY"in i||"BYDAY"in i))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in i&&"BYMONTHDAY"in i)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in i||"BYWEEKNO"in i))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in i||"BYMONTHDAY"in i))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in i)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in i){var s=this.ruleDayOfWeek(i.BYDAY[0],this.rule.wkst),o=s[0],l=s[1],a=l-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<l&&a>=0||a<0)&&(this.last.day+=a)}else{var u=e.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());i.BYDAY=[u]}if(this.rule.freq=="YEARLY"){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if(this.rule.freq=="MONTHLY"&&this.has_by_data("BYDAY")){var c=null,f=this.last.clone(),h=e.Time.daysInMonth(this.last.month,this.last.year);for(var d in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(d)){this.last=f.clone();var s=this.ruleDayOfWeek(this.by_data.BYDAY[d]),o=s[0],l=s[1],p=this.last.nthWeekDay(l,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(p>h||p<=0){if(c&&c.month==f.month)continue;for(;p>h||p<=0;)this.increment_month(),h=e.Time.daysInMonth(this.last.month,this.last.year),p=this.last.nthWeekDay(l,o)}this.last.day=p,(!c||this.last.compare(c)<0)&&(c=this.last.clone())}if(this.last=c.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>h||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var h=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day=h+this.last.day+1}},next:function(){var i=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var s;do switch(s=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":s=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!s);if(this.last.compare(i)==0)throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(i){return this.increment_generic(i,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(i){return this.increment_generic(i,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(i){this.increment_generic(i,"hour",24,"monthday")},next_day:function(){"BYDAY"in this.by_data;var i=this.rule.freq=="DAILY";return this.next_hour()==0||(i?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0},next_week:function(){var i=0;if(this.next_weekday_by_week()==0)return i;if(this.has_by_data("BYWEEKNO")){++this.by_indices.BYWEEKNO,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,i=1),this.last.month=1,this.last.day=1;var s=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*s,i&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return i},normalizeByMonthDayRules:function(r,i,s){for(var o=e.Time.daysInMonth(i,r),l=[],a=0,u=s.length,c;a<u;a++)if(c=s[a],!(Math.abs(c)>o)){if(c<0)c=o+(c+1);else if(c===0)continue;l.indexOf(c)===-1&&l.push(c)}return l.sort(function(f,h){return f-h})},_byDayAndMonthDay:function(r){var i,s=this.by_data.BYDAY,o,l=0,a,u=s.length,c=0,f,h=this,d=this.last.day;function p(){for(f=e.Time.daysInMonth(h.last.month,h.last.year),i=h.normalizeByMonthDayRules(h.last.year,h.last.month,h.by_data.BYMONTHDAY),a=i.length;i[l]<=d&&!(r&&i[l]==d)&&l<a-1;)l++}function v(){d=0,h.increment_month(),l=0,p()}p(),r&&(d-=1);for(var y=48;!c&&y;){if(y--,o=d+1,o>f){v();continue}var m=i[l++];if(m>=o)d=m;else{v();continue}for(var g=0;g<u;g++){var E=this.ruleDayOfWeek(s[g]),w=E[0],D=E[1];if(this.last.day=d,this.last.isNthWeekDay(D,w)){c=1;break}}if(!c&&l===a){v();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return c},next_month:function(){this.rule.freq=="MONTHLY";var i=1;if(this.next_hour()==0)return i;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))i=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var s=e.Time.daysInMonth(this.last.month,this.last.year),o=0,l=0;if(this.has_by_data("BYSETPOS")){for(var a=this.last.day,u=1;u<=s;u++)this.last.day=u,this.is_day_in_byday(this.last)&&(l++,u<=a&&o++);this.last.day=a}i=0;for(var u=this.last.day+1;u<=s;u++)if(this.last.day=u,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++o)||this.check_set_position(o-l-1))){i=1;break}u>s&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(i=1):i=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var s=e.Time.daysInMonth(this.last.month,this.last.year),u=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];u<0&&(u=s+u+1),u>s?(this.last.day=1,i=this.is_day_in_byday(this.last)):this.last.day=u}else{this.increment_month();var s=e.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>s?i=0:this.last.day=this.by_data.BYMONTHDAY[0]}return i},next_weekday_by_week:function(){var i=0;if(this.next_hour()==0)return i;if(!this.has_by_data("BYDAY"))return 1;for(;;){var s=new e.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,i=1);var o=this.by_data.BYDAY[this.by_indices.BYDAY],l=this.ruleDayOfWeek(o),a=l[1];a-=this.rule.wkst,a<0&&(a+=7),s.year=this.last.year,s.month=this.last.month,s.day=this.last.day;var u=s.startDoyWeek(this.rule.wkst);if(!(a+u<1&&!i)){var c=e.Time.fromDayOfYear(u+a,this.last.year);return this.last.year=c.year,this.last.month=c.month,this.last.day=c.day,i}}},next_year:function(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1},_nextByYearDay:function(){var i=this.days[this.days_index],s=this.last.year;i<1&&(i+=1,s+=1);var o=e.Time.fromDayOfYear(i,s);this.last.day=o.day,this.last.month=o.month},ruleDayOfWeek:function(i,s){var o=i.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(o){var l=parseInt(o[1]||0,10);return i=e.Recur.icalDayToNumericDay(o[2],s),[l,i]}else return[0,0]},next_generic:function(i,s,o,l,a){var u=i in this.by_data,c=this.rule.freq==s,f=0;if(a&&this[a]()==0)return f;if(u){this.by_indices[i]++,this.by_indices[i];var h=this.by_data[i];this.by_indices[i]==h.length&&(this.by_indices[i]=0,f=1),this.last[o]=h[this.by_indices[i]]}else c&&this["increment_"+o](this.rule.interval);return u&&f&&c&&this["increment_"+l](1),f},increment_monthday:function(i){for(var s=0;s<i;s++){var o=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>o&&(this.last.day-=o,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var i=e.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,i!=0&&this.increment_year(i)}},increment_year:function(i){this.last.year+=i},increment_generic:function(i,s,o,l){this.last[s]+=i;var a=e.helpers.trunc(this.last[s]/o);this.last[s]%=o,a!=0&&this["increment_"+l](a)},has_by_data:function(i){return i in this.rule.parts},expand_year_days:function(i){var s=new e.Time;this.days=[];var o={},l=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var a in l)if(l.hasOwnProperty(a)){var u=l[a];u in this.rule.parts&&(o[u]=this.rule.parts[u])}if("BYMONTH"in o&&"BYWEEKNO"in o){var c=1,f={};s.year=i,s.isDate=!0;for(var h=0;h<this.by_data.BYMONTH.length;h++){var d=this.by_data.BYMONTH[h];s.month=d,s.day=1;var p=s.weekNumber(this.rule.wkst);s.day=e.Time.daysInMonth(d,i);var v=s.weekNumber(this.rule.wkst);for(h=p;h<v;h++)f[h]=1}for(var y=0;y<this.by_data.BYWEEKNO.length&&c;y++){var m=this.by_data.BYWEEKNO[y];m<52?c&=f[y]:c=0}c?delete o.BYMONTH:delete o.BYWEEKNO}var g=Object.keys(o).length;if(g==0){var E=this.dtstart.clone();E.year=this.last.year,this.days.push(E.dayOfYear())}else if(g==1&&"BYMONTH"in o){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var D=this.dtstart.clone();D.year=i,D.month=this.by_data.BYMONTH[w],D.isDate=!0,this.days.push(D.dayOfYear())}}else if(g==1&&"BYMONTHDAY"in o){for(var _ in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(_)){var b=this.dtstart.clone(),A=this.by_data.BYMONTHDAY[_];if(A<0){var x=e.Time.daysInMonth(b.month,i);A=A+x+1}b.day=A,b.year=i,b.isDate=!0,this.days.push(b.dayOfYear())}}else if(g==2&&"BYMONTHDAY"in o&&"BYMONTH"in o){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var P=this.by_data.BYMONTH[w],x=e.Time.daysInMonth(P,i);for(var _ in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(_)){var A=this.by_data.BYMONTHDAY[_];A<0&&(A=A+x+1),s.day=A,s.month=P,s.year=i,s.isDate=!0,this.days.push(s.dayOfYear())}}}else if(!(g==1&&"BYWEEKNO"in o)){if(!(g==2&&"BYWEEKNO"in o&&"BYMONTHDAY"in o))if(g==1&&"BYDAY"in o)this.days=this.days.concat(this.expand_by_day(i));else if(g==2&&"BYDAY"in o&&"BYMONTH"in o){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var d=this.by_data.BYMONTH[w],x=e.Time.daysInMonth(d,i);s.year=i,s.month=this.by_data.BYMONTH[w],s.day=1,s.isDate=!0;var W=s.dayOfWeek(),$=s.dayOfYear()-1;s.day=x;var Te=s.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var se=[],ne=1;ne<=x;ne++)s.day=ne,this.is_day_in_byday(s)&&se.push(ne);for(var ct=0;ct<se.length;ct++)(this.check_set_position(ct+1)||this.check_set_position(ct-se.length))&&this.days.push($+se[ct])}else for(var ye in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(ye)){var S=this.by_data.BYDAY[ye],k=this.ruleDayOfWeek(S),R=k[0],N=k[1],Y,Re=(N+7-W)%7+1,Ae=x-(Te+7-N)%7;if(R==0)for(var ne=Re;ne<=x;ne+=7)this.days.push($+ne);else R>0?(Y=Re+(R-1)*7,Y<=x&&this.days.push($+Y)):(Y=Ae+(R+1)*7,Y>0&&this.days.push($+Y))}}this.days.sort(function(WE,$E){return WE-$E})}else if(g==2&&"BYDAY"in o&&"BYMONTHDAY"in o){var Ue=this.expand_by_day(i);for(var Ne in Ue)if(Ue.hasOwnProperty(Ne)){var ne=Ue[Ne],St=e.Time.fromDayOfYear(ne,i);this.by_data.BYMONTHDAY.indexOf(St.day)>=0&&this.days.push(ne)}}else if(g==3&&"BYDAY"in o&&"BYMONTHDAY"in o&&"BYMONTH"in o){var Ue=this.expand_by_day(i);for(var Ne in Ue)if(Ue.hasOwnProperty(Ne)){var ne=Ue[Ne],St=e.Time.fromDayOfYear(ne,i);this.by_data.BYMONTH.indexOf(St.month)>=0&&this.by_data.BYMONTHDAY.indexOf(St.day)>=0&&this.days.push(ne)}}else if(g==2&&"BYDAY"in o&&"BYWEEKNO"in o){var Ue=this.expand_by_day(i);for(var Ne in Ue)if(Ue.hasOwnProperty(Ne)){var ne=Ue[Ne],St=e.Time.fromDayOfYear(ne,i),m=St.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(m)&&this.days.push(ne)}}else g==3&&"BYDAY"in o&&"BYWEEKNO"in o&&"BYMONTHDAY"in o||(g==1&&"BYYEARDAY"in o?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}return 0},expand_by_day:function(i){var s=[],o=this.last.clone();o.year=i,o.month=1,o.day=1,o.isDate=!0;var l=o.dayOfWeek();o.month=12,o.day=31,o.isDate=!0;var a=o.dayOfWeek(),u=o.dayOfYear();for(var c in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(c)){var f=this.by_data.BYDAY[c],h=this.ruleDayOfWeek(f),d=h[0],p=h[1];if(d==0)for(var v=(p+7-l)%7+1,y=v;y<=u;y+=7)s.push(y);else if(d>0){var m;p>=l?m=p-l+1:m=p-l+8,s.push(m+(d-1)*7)}else{var g;d=-d,p<=a?g=u-a+p:g=u-a+p-7,s.push(g-(d-1)*7)}}return s},is_day_in_byday:function(i){for(var s in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(s)){var o=this.by_data.BYDAY[s],l=this.ruleDayOfWeek(o),a=l[0],u=l[1],c=i.dayOfWeek();if(a==0&&u==c||i.nthWeekDay(u,a)==i.day)return 1}return 0},check_set_position:function(i){if(this.has_by_data("BYSETPOS")){var s=this.by_data.BYSETPOS.indexOf(i);return s!==-1}return!1},sort_byday_rules:function(i){for(var s=0;s<i.length;s++)for(var o=0;o<s;o++){var l=this.ruleDayOfWeek(i[o],this.rule.wkst)[1],a=this.ruleDayOfWeek(i[s],this.rule.wkst)[1];if(l>a){var u=i[s];i[s]=i[o],i[o]=u}}},check_contract_restriction:function(i,s){var o=n._indexMap[i],l=n._expandMap[this.rule.freq][o],a=!1;if(i in this.by_data&&l==n.CONTRACT){var u=this.by_data[i];for(var c in u)if(u.hasOwnProperty(c)&&u[c]==s){a=!0;break}}else a=!0;return a},check_contracting_rules:function(){var i=this.last.dayOfWeek(),s=this.last.weekNumber(this.rule.wkst),o=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",e.Recur.numericDayToIcalDay(i))&&this.check_contract_restriction("BYWEEKNO",s)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",o)},setup_defaults:function(i,s,o){var l=n._indexMap[i],a=n._expandMap[this.rule.freq][l];return a!=n.CONTRACT&&(i in this.by_data||(this.by_data[i]=[o]),this.rule.freq!=s)?this.by_data[i][0]:o},toJSON:function(){var r=Object.create(null);return r.initialized=this.initialized,r.rule=this.rule.toJSON(),r.dtstart=this.dtstart.toJSON(),r.by_data=this.by_data,r.days=this.days,r.last=this.last.toJSON(),r.by_indices=this.by_indices,r.occurrence_number=this.occurrence_number,r}},n._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},n._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},n.UNKNOWN=0,n.CONTRACT=1,n.EXPAND=2,n.ILLEGAL=3,n}(),e.RecurExpansion=function(){function n(o){return e.helpers.formatClassType(o,e.Time)}function r(o,l){return o.compare(l)}function i(o){return o.hasProperty("rdate")||o.hasProperty("rrule")||o.hasProperty("recurrence-id")}function s(o){this.ruleDates=[],this.exDates=[],this.fromData(o)}return s.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(o){var l=e.helpers.formatClassType(o.dtstart,e.Time);if(l)this.dtstart=l;else throw new Error(".dtstart (ICAL.Time) must be given");if(o.component)this._init(o.component);else{if(this.last=n(o.last)||l.clone(),!o.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=o.ruleIterators.map(function(a){return e.helpers.formatClassType(a,e.RecurIterator)}),this.ruleDateInc=o.ruleDateInc,this.exDateInc=o.exDateInc,o.ruleDates&&(this.ruleDates=o.ruleDates.map(n),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.exDates&&(this.exDates=o.exDates.map(n),this.exDate=this.exDates[this.exDateInc]),typeof o.complete<"u"&&(this.complete=o.complete)}},next:function(){for(var o,l,a,u=500,c=0;;){if(c++>u)throw new Error("max tries have occured, rule may be impossible to forfill.");if(l=this.ruleDate,o=this._nextRecurrenceIter(this.last),!l&&!o){this.complete=!0;break}if((!l||o&&l.compare(o.last)>0)&&(l=o.last.clone(),o.next()),this.ruleDate===l&&this._nextRuleDay(),this.last=l,this.exDate&&(a=this.exDate.compare(this.last),a<0&&this._nextExDay(),a===0)){this._nextExDay();continue}return this.last}},toJSON:function(){function o(a){return a.toJSON()}var l=Object.create(null);return l.ruleIterators=this.ruleIterators.map(o),this.ruleDates&&(l.ruleDates=this.ruleDates.map(o)),this.exDates&&(l.exDates=this.exDates.map(o)),l.ruleDateInc=this.ruleDateInc,l.exDateInc=this.exDateInc,l.last=this.last.toJSON(),l.dtstart=this.dtstart.toJSON(),l.complete=this.complete,l},_extractDates:function(o,l){function a(p){d=e.helpers.binsearchInsert(u,p,r),u.splice(d,0,p)}for(var u=[],c=o.getAllProperties(l),f=c.length,h=0,d;h<f;h++)c[h].getValues().forEach(a);return u},_init:function(o){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!i(o)){this.ruleDate=this.last.clone(),this.complete=!0;return}if(o.hasProperty("rdate")&&(this.ruleDates=this._extractDates(o,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=e.helpers.binsearchInsert(this.ruleDates,this.last,r),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.hasProperty("rrule"))for(var l=o.getAllProperties("rrule"),a=0,u=l.length,c,f;a<u;a++)c=l[a].getFirstValue(),f=c.iterator(this.dtstart),this.ruleIterators.push(f),f.next();o.hasProperty("exdate")&&(this.exDates=this._extractDates(o,"exdate"),this.exDateInc=e.helpers.binsearchInsert(this.exDates,this.last,r),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var o=this.ruleIterators;if(o.length===0)return null;for(var l=o.length,a,u,c=0,f;c<l;c++){if(a=o[c],u=a.last,a.completed){l--,c!==0&&c--,o.splice(c,1);continue}(!f||f.last.compare(u)>0)&&(f=a)}return f}},s}(),e.Event=function(){function n(i,s){i instanceof e.Component||(s=i,i=null),i?this.component=i:this.component=new e.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],s&&s.strictExceptions&&(this.strictExceptions=s.strictExceptions),s&&s.exceptions?s.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(o){o.hasProperty("recurrence-id")&&this.relateException(o)},this)}n.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(i){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(i instanceof e.Component&&(i=new e.Event(i)),this.strictExceptions&&i.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var s=i.recurrenceId.toString();if(this.exceptions[s]=i,i.modifiesFuture()){var o=[i.recurrenceId.toUnixTime(),s],l=e.helpers.binsearchInsert(this.rangeExceptions,o,r);this.rangeExceptions.splice(l,0,o)}},modifiesFuture:function(){if(!this.component.hasProperty("recurrence-id"))return!1;var i=this.component.getFirstProperty("recurrence-id").getParameter("range");return i===this.THISANDFUTURE},findRangeException:function(i){if(!this.rangeExceptions.length)return null;var s=i.toUnixTime(),o=e.helpers.binsearchInsert(this.rangeExceptions,[s],r);if(o-=1,o<0)return null;var l=this.rangeExceptions[o];return s<l[0]?null:l[1]},getOccurrenceDetails:function(i){var s=i.toString(),o=i.convertToZone(e.Timezone.utcTimezone).toString(),l,a={recurrenceId:i};if(s in this.exceptions)l=a.item=this.exceptions[s],a.startDate=l.startDate,a.endDate=l.endDate,a.item=l;else if(o in this.exceptions)l=this.exceptions[o],a.startDate=l.startDate,a.endDate=l.endDate,a.item=l;else{var u=this.findRangeException(i),c;if(u){var f=this.exceptions[u];a.item=f;var h=this._rangeExceptionCache[u];if(!h){var d=f.recurrenceId.clone(),p=f.startDate.clone();d.zone=p.zone,h=p.subtractDate(d),this._rangeExceptionCache[u]=h}var v=i.clone();v.zone=f.startDate.zone,v.addDuration(h),c=v.clone(),c.addDuration(f.duration),a.startDate=v,a.endDate=c}else c=i.clone(),c.addDuration(this.duration),a.endDate=c,a.startDate=i,a.item=this}return a},iterator:function(i){return new e.RecurExpansion({component:this.component,dtstart:i||this.startDate})},isRecurring:function(){var i=this.component;return i.hasProperty("rrule")||i.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var i=this.component.getAllProperties("rrule"),s=0,o=i.length,l=Object.create(null);s<o;s++){var a=i[s].getFirstValue();l[a.freq]=!0}return l},get uid(){return this._firstProp("uid")},set uid(i){this._setProp("uid",i)},get startDate(){return this._firstProp("dtstart")},set startDate(i){this._setTime("dtstart",i)},get endDate(){var i=this._firstProp("dtend");if(!i){var s=this._firstProp("duration");i=this.startDate.clone(),s?i.addDuration(s):i.isDate&&(i.day+=1)}return i},set endDate(i){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",i)},get duration(){var i=this._firstProp("duration");return i||this.endDate.subtractDateTz(this.startDate)},set duration(i){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",i)},get location(){return this._firstProp("location")},set location(i){return this._setProp("location",i)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(i){this._setProp("summary",i)},get description(){return this._firstProp("description")},set description(i){this._setProp("description",i)},get color(){return this._firstProp("color")},set color(i){this._setProp("color",i)},get organizer(){return this._firstProp("organizer")},set organizer(i){this._setProp("organizer",i)},get sequence(){return this._firstProp("sequence")},set sequence(i){this._setProp("sequence",i)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(i){this._setTime("recurrence-id",i)},_setTime:function(i,s){var o=this.component.getFirstProperty(i);o||(o=new e.Property(i),this.component.addProperty(o)),s.zone===e.Timezone.localTimezone||s.zone===e.Timezone.utcTimezone?o.removeParameter("tzid"):o.setParameter("tzid",s.zone.tzid),o.setValue(s)},_setProp:function(i,s){this.component.updatePropertyWithValue(i,s)},_firstProp:function(i){return this.component.getFirstPropertyValue(i)},toString:function(){return this.component.toString()}};function r(i,s){return i[0]>s[0]?1:s[0]>i[0]?-1:0}return n}(),e.ComponentParser=function(){function n(r){typeof r>"u"&&(r={});var i;for(i in r)r.hasOwnProperty(i)&&(this[i]=r[i])}return n.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(r){},ontimezone:function(r){},onevent:function(r){},process:function(r){typeof r=="string"&&(r=e.parse(r)),r instanceof e.Component||(r=new e.Component(r));for(var i=r.getAllSubcomponents(),s=0,o=i.length,l;s<o;s++)switch(l=i[s],l.name){case"vtimezone":if(this.parseTimezone){var a=l.getFirstPropertyValue("tzid");a&&this.ontimezone(new e.Timezone({tzid:a,component:l}))}break;case"vevent":this.parseEvent&&this.onevent(new e.Event(l));break;default:continue}this.oncomplete()}},n}()})(A1);var de;(function(t){t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT"})(de||(de={}));de.CENT+"",de.DECADE+"",de.YEAR+"",de.MONTH+"",de.DAY+"",de.HOUR+"",de.MINUTE+"",de.QUARTER_HOUR+"",de.QUARTER_MINUTE+"",de.SECOND+"";de.CENT+"",de.DECADE+"",de.YEAR+"",de.MONTH+"",de.DAY+"",de.HOUR+"",de.QUARTER_HOUR+"",de.MINUTE+"",de.QUARTER_MINUTE+"",de.SECOND+"";const Ga=BT(t=>{let e={isDark:!1,colorMap:{default:{}}},n={parsed:[],transformed:void 0},r=[];const{postRequest:i}=YT({appState(c){t(f=>{var v,y,m;const h=g=>{var w;const E=so(g)?g.value.eventDescription.tags:g.tags;return E?(w=c==null?void 0:c.colorMap)==null?void 0:w[g.source||"default"][E[0]]:void 0};let d=[];const p=(v=f==null?void 0:f.markwhenState)==null?void 0:v.transformed;if(p){for(const{node:g,path:E}of mp(p))if(so(g)){const w=h(g)||"31, 32, 35",D=((y=c==null?void 0:c.hoveringPath)==null?void 0:y.join(","))===E.join(","),_=((m=c==null?void 0:c.detailPath)==null?void 0:m.join(","))===E.join(","),b=c==null?void 0:c.isDark,A=H.fromISO(g.value.dateRangeIso.fromDateTimeIso),P=H.fromISO(g.value.dateRangeIso.toDateTimeIso).diff(A).as("day")>1;d.push({id:E.join(","),start:g.value.dateRangeIso.fromDateTimeIso,end:g.value.dateRangeIso.toDateTimeIso,title:`${g.value.eventDescription.eventDescription}`,backgroundColor:`rgba(${w}, ${D||_?.95:.8})`,allDay:P,borderColor:D||_?b?"white":"black":void 0,dateText:g.value.dateText})}}return{appState:c,...p?{events:d}:{}}})},markwhenState:c=>{t(f=>{var v,y,m;const h=g=>{var w,D;const E=so(g)?g.value.eventDescription.tags:g.tags;return E?(D=(w=f.appState)==null?void 0:w.colorMap)==null?void 0:D[E[0]]:void 0};let d=[];const p=c==null?void 0:c.transformed;if(p){for(const{node:g,path:E}of mp(p))if(so(g)){const w=h(g)||"31, 32, 35",D=Uh((v=f.appState)==null?void 0:v.hoveringPath,E),_=Uh((y=f.appState)==null?void 0:y.detailPath,E),b=(m=f.appState)==null?void 0:m.isDark;d.push({id:E.join(","),start:g.value.dateRangeIso.fromDateTimeIso,end:g.value.dateRangeIso.toDateTimeIso,title:`${g.value.eventDescription.eventDescription}`,backgroundColor:`rgba(${w}, ${D||_?.95:.8})`,borderColor:D||_?b?"white":"black":`rgb(${w})`,dateText:g.value.dateText})}}return{events:d,markwhenState:c}})}});return{requestStateUpdate:()=>{i("appState"),i("markwhenState")},setHoveringPath:c=>i("setHoveringPath",c),setDetailPath:c=>i("setDetailPath",c),showInEditor:c=>i("showInEditor",c),newEvent:(c,f,h)=>i("newEvent",{dateRangeIso:c,granularity:h,immediate:f}),appState:e,markwhenState:n,events:r}});var ia,L,Qy,Zy,si,qn,Ep,Ky,Xy,gl={},Jy=[],C1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function wn(t,e){for(var n in e)t[n]=e[n];return t}function e0(t){var e=t.parentNode;e&&e.removeChild(t)}function T(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ia.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Io(t,o,r,i,null)}function Io(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Qy};return i==null&&L.vnode!=null&&L.vnode(s),s}function je(){return{current:null}}function ee(t){return t.children}function b1(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||vl(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||vl(t,s,e[s],n[s],r)}function Sp(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||C1.test(e)?n:n+"px"}function vl(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Sp(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Sp(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Tp:wp,s):t.removeEventListener(e,s?Tp:wp,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function wp(t){si=!0;try{return this.l[t.type+!1](L.event?L.event(t):t)}finally{si=!1}}function Tp(t){si=!0;try{return this.l[t.type+!0](L.event?L.event(t):t)}finally{si=!1}}function it(t,e){this.props=t,this.context=e}function ys(t,e){if(e==null)return t.__?ys(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ys(t):null}function t0(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return t0(t)}}function k1(t){si?setTimeout(t):Ky(t)}function pc(t){(!t.__d&&(t.__d=!0)&&qn.push(t)&&!yl.__r++||Ep!==L.debounceRendering)&&((Ep=L.debounceRendering)||k1)(yl)}function yl(){var t,e,n,r,i,s,o,l;for(qn.sort(function(a,u){return a.__v.__b-u.__v.__b});t=qn.shift();)t.__d&&(e=qn.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(l=n.__P)&&(r=[],(i=wn({},s)).__v=s.__v+1,qd(l,s,i,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??ys(s),s.__h),o0(r,s),s.__e!=o&&t0(s)),qn.length>e&&qn.sort(function(a,u){return a.__v.__b-u.__v.__b}));yl.__r=0}function n0(t,e,n,r,i,s,o,l,a,u){var c,f,h,d,p,v,y,m=r&&r.__k||Jy,g=m.length;for(n.__k=[],c=0;c<e.length;c++)if((d=n.__k[c]=(d=e[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Io(null,d,null,null,d):Array.isArray(d)?Io(ee,{children:d},null,null,null):d.__b>0?Io(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(h=m[c])===null||h&&d.key==h.key&&d.type===h.type)m[c]=void 0;else for(f=0;f<g;f++){if((h=m[f])&&d.key==h.key&&d.type===h.type){m[f]=void 0;break}h=null}qd(t,d,h=h||gl,i,s,o,l,a,u),p=d.__e,(f=d.ref)&&h.ref!=f&&(y||(y=[]),h.ref&&y.push(h.ref,null,d),y.push(f,d.__c||p,d)),p!=null?(v==null&&(v=p),typeof d.type=="function"&&d.__k===h.__k?d.__d=a=r0(d,a,t):a=i0(t,d,h,m,p,a),typeof n.type=="function"&&(n.__d=a)):a&&h.__e==a&&a.parentNode!=t&&(a=ys(h))}for(n.__e=v,c=g;c--;)m[c]!=null&&(typeof n.type=="function"&&m[c].__e!=null&&m[c].__e==n.__d&&(n.__d=s0(r).nextSibling),a0(m[c],m[c]));if(y)for(c=0;c<y.length;c++)l0(y[c],y[++c],y[++c])}function r0(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?r0(r,e,n):i0(n,r,r,i,r.__e,e));return e}function El(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){El(n,e)}):e.push(t)),e}function i0(t,e,n,r,i,s){var o,l,a;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(l=s,a=0;(l=l.nextSibling)&&a<r.length;a+=1)if(l==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function s0(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=s0(n)))return r}return null}function qd(t,e,n,r,i,s,o,l,a){var u,c,f,h,d,p,v,y,m,g,E,w,D,_,b,A=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(u=L.__b)&&u(e);try{e:if(typeof A=="function"){if(y=e.props,m=(u=A.contextType)&&r[u.__c],g=u?m?m.props.value:u.__:r,n.__c?v=(c=e.__c=n.__c).__=c.__E:("prototype"in A&&A.prototype.render?e.__c=c=new A(y,g):(e.__c=c=new it(y,g),c.constructor=A,c.render=R1),m&&m.sub(c),c.props=y,c.state||(c.state={}),c.context=g,c.__n=r,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),A.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=wn({},c.__s)),wn(c.__s,A.getDerivedStateFromProps(y,c.__s))),h=c.props,d=c.state,c.__v=e,f)A.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(A.getDerivedStateFromProps==null&&y!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,g),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,g)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(x){x&&(x.__=e)}),E=0;E<c._sb.length;E++)c.__h.push(c._sb[E]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,g),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,d,p)})}if(c.context=g,c.props=y,c.__P=t,w=L.__r,D=0,"prototype"in A&&A.prototype.render){for(c.state=c.__s,c.__d=!1,w&&w(e),u=c.render(c.props,c.state,c.context),_=0;_<c._sb.length;_++)c.__h.push(c._sb[_]);c._sb=[]}else do c.__d=!1,w&&w(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++D<25);c.state=c.__s,c.getChildContext!=null&&(r=wn(wn({},r),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(h,d)),b=u!=null&&u.type===ee&&u.key==null?u.props.children:u,n0(t,Array.isArray(b)?b:[b],e,n,r,i,s,o,l,a),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),v&&(c.__E=c.__=null),c.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=O1(n.__e,e,n,r,i,s,o,a);(u=L.diffed)&&u(e)}catch(x){e.__v=null,(a||s!=null)&&(e.__e=l,e.__h=!!a,s[s.indexOf(l)]=null),L.__e(x,e,n)}}function o0(t,e){L.__c&&L.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){L.__e(r,n.__v)}})}function O1(t,e,n,r,i,s,o,l){var a,u,c,f=n.props,h=e.props,d=e.type,p=0;if(d==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((a=s[p])&&"setAttribute"in a==!!d&&(d?a.localName===d:a.nodeType===3)){t=a,s[p]=null;break}}if(t==null){if(d===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),s=null,l=!1}if(d===null)f===h||l&&t.data===h||(t.data=h);else{if(s=s&&ia.call(t.childNodes),u=(f=n.props||gl).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!l){if(s!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(b1(t,h,f,i,l),c)e.__k=[];else if(p=e.props.children,n0(t,Array.isArray(p)?p:[p],e,n,r,i&&d!=="foreignObject",s,o,s?s[0]:n.__k&&ys(n,0),l),s!=null)for(p=s.length;p--;)s[p]!=null&&e0(s[p]);l||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||d==="progress"&&!p||d==="option"&&p!==f.value)&&vl(t,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&vl(t,"checked",p,f.checked,!1))}return t}function l0(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){L.__e(r,n)}}function a0(t,e,n){var r,i;if(L.unmount&&L.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||l0(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){L.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&a0(r[i],e,n||typeof t.type!="function");n||t.__e==null||e0(t.__e),t.__=t.__e=t.__d=void 0}function R1(t,e,n){return this.constructor(t,n)}function Es(t,e,n){var r,i,s;L.__&&L.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],qd(e,t=(!r&&n||e).__k=T(ee,null,[t]),i||gl,gl,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?ia.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),o0(s,t)}function N1(t,e){var n={__c:e="__cC"+Xy++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(l){l.__e=!0,pc(l)})},this.sub=function(o){i.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),l&&l.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ia=Jy.slice,L={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},Qy=0,Zy=function(t){return t!=null&&t.constructor===void 0},si=!1,it.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wn({},this.state),typeof t=="function"&&(t=t(wn({},n),this.props)),t&&wn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),pc(this))},it.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),pc(this))},it.prototype.render=ee,qn=[],Ky=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yl.__r=0,Xy=0;var zt,qa,_p,u0=[],Qa=[],Dp=L.__b,Ap=L.__r,Cp=L.diffed,bp=L.__c,kp=L.unmount;function M1(){for(var t;t=u0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(xo),t.__H.__h.forEach(mc),t.__H.__h=[]}catch(e){t.__H.__h=[],L.__e(e,t.__v)}}L.__b=function(t){zt=null,Dp&&Dp(t)},L.__r=function(t){Ap&&Ap(t);var e=(zt=t.__c).__H;e&&(qa===zt?(e.__h=[],zt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Qa,n.__N=n.i=void 0})):(e.__h.forEach(xo),e.__h.forEach(mc),e.__h=[])),qa=zt},L.diffed=function(t){Cp&&Cp(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(u0.push(e)!==1&&_p===L.requestAnimationFrame||((_p=L.requestAnimationFrame)||I1)(M1)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Qa&&(n.__=n.__V),n.i=void 0,n.__V=Qa})),qa=zt=null},L.__c=function(t,e){e.some(function(n){try{n.__h.forEach(xo),n.__h=n.__h.filter(function(r){return!r.__||mc(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],L.__e(r,n.__v)}}),bp&&bp(t,e)},L.unmount=function(t){kp&&kp(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{xo(r)}catch(i){e=i}}),n.__H=void 0,e&&L.__e(e,n.__v))};var Op=typeof requestAnimationFrame=="function";function I1(t){var e,n=function(){clearTimeout(r),Op&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Op&&(e=requestAnimationFrame(n))}function xo(t){var e=zt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),zt=e}function mc(t){var e=zt;t.__c=t.__(),zt=e}function x1(t,e){for(var n in e)t[n]=e[n];return t}function Rp(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Np(t){this.props=t}(Np.prototype=new it).isPureReactComponent=!0,Np.prototype.shouldComponentUpdate=function(t,e){return Rp(this.props,t)||Rp(this.state,e)};var Mp=L.__b;L.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Mp&&Mp(t)};var P1=L.__e;L.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}P1(t,e,n,r)};var Ip=L.unmount;function c0(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=x1({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return c0(r,e,n)})),t}function d0(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return d0(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Za(){this.__u=0,this.t=null,this.__b=null}function f0(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function lo(){this.u=null,this.o=null}L.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ip&&Ip(t)},(Za.prototype=new it).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=f0(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=d0(u,u.__c.__P,u.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}},a=e.__h===!0;r.__u++||a||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Za.prototype.componentWillUnmount=function(){this.t=[]},Za.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=c0(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&T(ee,null,t.fallback);return i&&(i.__h=null),[T(ee,null,e.__a?null:t.children),i]};var xp=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function L1(t){return this.getChildContext=function(){return t.context},t.children}function z1(t){var e=this,n=t.i;e.componentWillUnmount=function(){Es(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Es(T(L1,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function H1(t,e){var n=T(z1,{__v:t,i:e});return n.containerInfo=e,n}(lo.prototype=new it).__a=function(t){var e=this,n=f0(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),xp(e,t,r)):i()};n?n(s):s()}},lo.prototype.render=function(t){this.u=null,this.o=new Map;var e=El(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},lo.prototype.componentDidUpdate=lo.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){xp(t,n,e)})};var U1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,B1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,F1=typeof document<"u",Y1=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};it.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(it.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Pp=L.event;function j1(){}function V1(){return this.cancelBubble}function W1(){return this.defaultPrevented}L.event=function(t){return Pp&&(t=Pp(t)),t.persist=j1,t.isPropagationStopped=V1,t.isDefaultPrevented=W1,t.nativeEvent=t};var Lp={configurable:!0,get:function(){return this.class}},zp=L.vnode;L.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];F1&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Y1(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&B1.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=El(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=El(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(Lp.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",Lp))}t.$$typeof=U1,zp&&zp(t)};var Hp=L.__r;L.__r=function(t){Hp&&Hp(t),t.__c};const h0=[],gc=new Map;function Qd(t){h0.push(t),gc.forEach(e=>{m0(e,t)})}function $1(t){t.isConnected&&p0(t.getRootNode())}function p0(t){let e=gc.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=q1();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}gc.set(t,e),G1(e)}}function G1(t){for(const e of h0)m0(t,e)}function m0(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let Ka;function q1(){return Ka===void 0&&(Ka=Q1()),Ka}function Q1(){const t=document.querySelector(\'meta[name="csp-nonce"]\');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&p0(document);var Z1=\':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\\\e900"}.fc-icon-chevron-right:before{content:"\\\\e901"}.fc-icon-chevrons-left:before{content:"\\\\e902"}.fc-icon-chevrons-right:before{content:"\\\\e903"}.fc-icon-minus-square:before{content:"\\\\e904"}.fc-icon-plus-square:before{content:"\\\\e905"}.fc-icon-x:before{content:"\\\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\';Qd(Z1);class Zd{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Kd(t){t.parentNode&&t.parentNode.removeChild(t)}function Le(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(K1(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function K1(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function X1(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const J1=/(top|left|right|bottom|width|height)$/i;function Zi(t,e){for(let n in e)g0(t,n,e[n])}function g0(t,e,n){n==null?t.style[e]="":typeof n=="number"&&J1.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function v0(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let Up=0;function sa(){return Up+=1,"fc-dom-"+Up}function oa(t){t.preventDefault()}function eA(t,e){return n=>{let r=Le(n.target,t);r&&e.call(r,n,r)}}function y0(t,e,n,r){let i=eA(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function tA(t,e,n,r){let i;return y0(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let l=a=>{i=null,r(a,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const Bp=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function nA(t,e){let n=r=>{e(r),Bp.forEach(i=>{t.removeEventListener(i,n)})};Bp.forEach(r=>{t.addEventListener(r,n)})}function E0(t){return Object.assign({onClick:t},S0(t))}function S0(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Fp=0;function vr(){return Fp+=1,String(Fp)}function Xd(){document.body.classList.add("fc-not-allowed")}function Jd(){document.body.classList.remove("fc-not-allowed")}function rA(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",oa)}function iA(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",oa)}function sA(t){t.addEventListener("contextmenu",oa)}function oA(t){t.removeEventListener("contextmenu",oa)}function lA(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\\s*,\\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function aA(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=uA(t,e,n[r]),i)return i;return 0}function uA(t,e,n){return n.func?n.func(t,e):cA(t[n.field],e[n.field])*(n.order||1)}function cA(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Gr(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ki(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function dA(t,e){return t-e}function Po(t){return t%1===0}function fA(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const Yp=["years","months","days","milliseconds"],hA=/^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;function B(t,e){return typeof t=="string"?pA(t):typeof t=="object"&&t?jp(t):typeof t=="number"?jp({[e||"milliseconds"]:t}):null}function pA(t){let e=hA.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function jp(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function mA(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function vc(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function gA(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function vA(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function yA(t){return qr(t)/365}function EA(t){return qr(t)/30}function qr(t){return kt(t)/864e5}function kt(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function ef(t,e){let n=null;for(let r=0;r<Yp.length;r+=1){let i=Yp[r];if(e[i]){let s=t[i]/e[i];if(!Po(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function yc(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Pn(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const SA=["sun","mon","tue","wed","thu","fri","sat"];function Vp(t,e){let n=Tn(t);return n[2]+=e*7,qe(n)}function ze(t,e){let n=Tn(t);return n[2]+=e,qe(n)}function Ln(t,e){let n=Tn(t);return n[6]+=e,qe(n)}function wA(t,e){return yr(t,e)/7}function yr(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function TA(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function _A(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function DA(t,e){return(e.valueOf()-t.valueOf())/1e3}function AA(t,e){let n=K(t),r=K(e);return{years:0,months:0,days:Math.round(yr(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function CA(t,e){let n=Sl(t,e);return n!==null&&n%7===0?n/7:null}function Sl(t,e){return _n(t)===_n(e)?Math.round(yr(t,e)):null}function K(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function bA(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function kA(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function OA(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function RA(t,e,n){let r=t.getUTCFullYear(),i=Xa(t,r,e,n);if(i<1)return Xa(t,r-1,e,n);let s=Xa(t,r+1,e,n);return s>=1?Math.min(i,s):i}function Xa(t,e,n,r){let i=qe([e,0,1+NA(e,n,r)]),s=K(t),o=Math.round(yr(i,s));return Math.floor(o/7)+1}function NA(t,e,n){let r=7+e-n;return-((7+qe([t,0,r]).getUTCDay()-e)%7)+r-1}function Wp(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function $p(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Tn(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function qe(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function w0(t){return!isNaN(t.valueOf())}function _n(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function T0(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",nf(e,!0)))),r}function tf(t){return t.toISOString().replace(/T.*$/,"")}function MA(t){return t.toISOString().match(/^\\d{4}-\\d{2}/)[0]}function IA(t){return Gr(t.getUTCHours(),2)+":"+Gr(t.getUTCMinutes(),2)+":"+Gr(t.getUTCSeconds(),2)}function nf(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+Gr(i,2)}:${Gr(s,2)}`:`GMT${n}${i}${s?`:${Gr(s,2)}`:""}`}function z(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!Pn(r,s)){n&&n(i);let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function Lo(t,e,n){let r,i;return s=>{if(!r)i=t.call(this,s);else if(!Ft(r,s)){n&&n(i);let o=t.call(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}const Gp={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},wl={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ao=/\\s*([ap])\\.?m\\.?/i,xA=/,/g,PA=/\\s+/g,LA=/\\u200e/g,zA=/UTC|GMT/;class HA{constructor(e){let n={},r={},i=0;for(let s in e)s in Gp?(r[s]=e[s],i=Math.max(Gp[s],i)):(n[s]=e[s],s in wl&&(i=Math.max(wl[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=z(qp)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,l=VA(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let a=l;a>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(a=1);let u=this.format(e,r),c=this.format(n,r);if(u===c)return u;let f=WA(s,a),h=qp(f,o,r),d=h(e),p=h(n),v=$A(u,d,c,p),y=o.separator||i||r.defaultSeparator||"";return v?v.before+d+y+p+v.after:u+y+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function qp(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>nf(i.timeZoneOffset):r===0&&e.week?i=>jA(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):UA(t,e,n)}function UA(t,e,n){t=Object.assign({},t),e=Object.assign({},e),BA(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,l;i&&!o.getUTCMinutes()?l=i:l=r;let a=l.format(o);return FA(a,s,t,e,n)}}function BA(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function FA(t,e,n,r,i){return t=t.replace(LA,""),n.timeZoneName==="short"&&(t=YA(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":nf(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(xA,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(ao,"").trim():r.meridiem==="narrow"?t=t.replace(ao,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(ao,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(ao,s=>s.toLocaleLowerCase())),t=t.replace(PA," "),t=t.trim(),t}function YA(t,e){let n=!1;return t=t.replace(zA,()=>(n=!0,e)),n||(t+=` ${e}`),t}function jA(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function VA(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:_n(t)!==_n(e)?1:0}function WA(t,e){let n={};for(let r in t)(!(r in wl)||wl[r]<=e)&&(n[r]=t[r]);return n}function $A(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let l=t.substr(i),a=0;for(;a<n.length;){let u=n.indexOf(r,a);if(u===-1)break;let c=n.substr(0,u);a=u+r.length;let f=n.substr(a);if(o===c&&l===f)return{before:o,after:l}}}return null}function Qp(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Tl(t,e,n,r){let i=Qp(t,n.calendarSystem),s=e?Qp(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class GA{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Tl(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Tl(e,n,r,i))}}class qA{constructor(e){this.func=e}format(e,n,r){return this.func(Tl(e,null,n,r))}formatRange(e,n,r,i){return this.func(Tl(e,n,r,i))}}function le(t){return typeof t=="object"&&t?new HA(t):typeof t=="string"?new GA(t):typeof t=="function"?new qA(t):null}const Zp={navLinkDayClick:C,navLinkWeekClick:C,duration:B,bootstrapFontAwesome:C,buttonIcons:C,customButtons:C,defaultAllDayEventDuration:B,defaultTimedEventDuration:B,nextDayThreshold:B,scrollTime:B,scrollTimeReset:Boolean,slotMinTime:B,slotMaxTime:B,dayPopoverFormat:le,slotDuration:B,snapDuration:B,headerToolbar:C,footerToolbar:C,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:le,dayHeaderClassNames:C,dayHeaderContent:C,dayHeaderDidMount:C,dayHeaderWillUnmount:C,dayCellClassNames:C,dayCellContent:C,dayCellDidMount:C,dayCellWillUnmount:C,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:C,weekNumbers:Boolean,weekNumberClassNames:C,weekNumberContent:C,weekNumberDidMount:C,weekNumberWillUnmount:C,editable:Boolean,viewClassNames:C,viewDidMount:C,viewWillUnmount:C,nowIndicator:Boolean,nowIndicatorClassNames:C,nowIndicatorContent:C,nowIndicatorDidMount:C,nowIndicatorWillUnmount:C,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:C,locale:C,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:C,eventOrder:lA,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:C,contentHeight:C,direction:String,weekNumberFormat:le,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:C,initialDate:C,now:C,eventDataTransform:C,stickyHeaderDates:C,stickyFooterScrollbar:C,viewHeight:C,defaultAllDay:Boolean,eventSourceFailure:C,eventSourceSuccess:C,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:C,eventConstraint:C,eventAllow:C,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:C,eventContent:C,eventDidMount:C,eventWillUnmount:C,selectConstraint:C,selectOverlap:C,selectAllow:C,droppable:Boolean,unselectCancel:String,slotLabelFormat:C,slotLaneClassNames:C,slotLaneContent:C,slotLaneDidMount:C,slotLaneWillUnmount:C,slotLabelClassNames:C,slotLabelContent:C,slotLabelDidMount:C,slotLabelWillUnmount:C,dayMaxEvents:C,dayMaxEventRows:C,dayMinWidth:Number,slotLabelInterval:B,allDayText:String,allDayClassNames:C,allDayContent:C,allDayDidMount:C,allDayWillUnmount:C,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:le,rerenderDelay:Number,moreLinkText:C,moreLinkHint:C,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:C,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:B,hiddenDays:C,fixedWeekCount:Boolean,validRange:C,visibleRange:C,titleFormat:C,eventInteractive:Boolean,noEventsText:String,viewHint:C,navLinkHint:C,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:C,moreLinkClassNames:C,moreLinkContent:C,moreLinkDidMount:C,moreLinkWillUnmount:C,monthStartFormat:le,handleCustomRendering:C,customRenderingMetaMap:C},Xi={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Kp={datesSet:C,eventsSet:C,eventAdd:C,eventChange:C,eventRemove:C,windowResize:C,eventClick:C,eventMouseEnter:C,eventMouseLeave:C,select:C,unselect:C,loading:C,_unmount:C,_beforeprint:C,_afterprint:C,_noEventDrop:C,_noEventResize:C,_resize:C,_scrollRequest:C},Xp={buttonText:C,buttonHints:C,views:C,plugins:C,initialEvents:C,events:C,eventSources:C},$n={headerToolbar:Gn,footerToolbar:Gn,buttonText:Gn,buttonHints:Gn,buttonIcons:Gn,dateIncrement:Gn,plugins:uo,events:uo,eventSources:uo,resources:uo};function Gn(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Ft(t,e):t===e}function uo(t,e){return Array.isArray(t)&&Array.isArray(e)?Pn(t,e):t===e}const QA={type:String,component:C,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:C,usesMinMaxTime:Boolean,classNames:C,content:C,didMount:C,willUnmount:C};function Ja(t){return sf(t,$n)}function rf(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function C(t){return t}const{hasOwnProperty:_l}=Object.prototype;function sf(t,e){let n={};if(e){for(let r in e)if(e[r]===Gn){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=sf(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function dr(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function sn(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function _0(t){let e={};for(let n of t)e[n]=!0;return e}function of(t){let e=[];for(let n in t)e.push(t[n]);return e}function Ft(t,e){if(t===e)return!0;for(let n in t)if(_l.call(t,n)&&!(n in e))return!1;for(let n in e)if(_l.call(e,n)&&t[n]!==e[n])return!1;return!0}const ZA=/^on[A-Z]/;function KA(t,e){const n=Ec(t,e);for(let r of n)if(!ZA.test(r))return!1;return!0}function Ec(t,e){let n=[];for(let r in t)_l.call(t,r)&&(r in e||n.push(r));for(let r in e)_l.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function eu(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&XA(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function XA(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function JA(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let D0={};function eC(t,e){D0[t]=e}function tC(t){return new D0[t]}class nC{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return qe(e)}markerToArray(e){return Tn(e)}}eC("gregory",nC);const rC=/^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;function iC(t){let e=rC.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(w0(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class sC{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=tC(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):qe(Wp(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=qe(e)),n===null||!w0(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=iC(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return _n(e)===_n(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return _n(e)===_n(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=CA(e,n),r!==null?{unit:"week",value:r}:(r=Sl(e,n),r!==null?{unit:"day",value:r}:(r=TA(e,n),Po(r)?{unit:"hour",value:r}:(r=_A(e,n),Po(r)?{unit:"minute",value:r}:(r=DA(e,n),Po(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/yA(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/EA(r):r.days&&(i=Sl(e,n),i!==null)?i/qr(r):(n.valueOf()-e.valueOf())/kt(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?K(e):n==="hour"?bA(e):n==="minute"?kA(e):n==="second"?OA(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):RA(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Ln(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),T0(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?qe(Wp(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):qe(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-$p(Tn(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Tn(e)):null}toDate(e,n){return this.timeZone==="local"?$p(Tn(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Tn(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Ns{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Ns.prototype.classes={};Ns.prototype.iconClasses={};Ns.prototype.baseIconClass="";Ns.prototype.iconOverridePrefix="";function Jp(t){t();let e=L.debounceRendering,n=[];function r(i){n.push(i)}for(L.debounceRendering=r,Es(T(oC,{}),document.createElement("div"));n.length;)n.shift()();L.debounceRendering=e}class oC extends it{render(){return T("div",{})}componentDidMount(){this.setState({})}}function A0(t){let e=N1(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{s.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),l&&l.call(o)}}}return i},e}class lC{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const an=A0({});function aC(t,e,n,r,i,s,o,l,a,u,c,f,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:u,dispatch:l,getCurrentData:a,calendarApi:c,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(d){u.on("_resize",d)},removeResizeHandler(d){u.off("_resize",d)},createScrollResponder(d){return new lC(d,u,B(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}class Er extends it{shouldComponentUpdate(e,n){return this.debug&&console.log(Ec(e,this.props),Ec(n,this.state)),!eu(this.props,e,this.propEquality)||!eu(this.state,n,this.stateEquality)}safeSetState(e){eu(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Er.addPropsEquality=uC;Er.addStateEquality=cC;Er.contextType=an;Er.prototype.propEquality={};Er.prototype.stateEquality={};class q extends Er{}q.contextType=an;function uC(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function cC(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function on(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class lf extends q{constructor(){super(...arguments),this.id=vr(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{Sc(this.props.generatorName,this.context.options)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&on(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,l=C0(e,[],this.handleEl);let a=!1,u,c=[],f;if(i!=null){const h=typeof i=="function"?i(o,T):i;if(h===!0)a=!0;else{const d=h&&typeof h=="object";d&&"html"in h?l.dangerouslySetInnerHTML={__html:h.html}:d&&"domNodes"in h?c=Array.prototype.slice.call(h.domNodes):(d?Zy(h):typeof h!="function")?u=h:f=h}}else a=!Sc(e.generatorName,r);return a&&s&&(u=s(o)),this.queuedDomNodes=c,this.currentGeneratorMeta=f,T(e.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(dC)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Pn(e,n)){n.forEach(Kd);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}lf.addPropsEquality({elClasses:Pn,elStyle:Ft,elAttrs:KA,renderProps:Ft});function Sc(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function C0(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function dC(t){return!!t}const b0=A0(0);class ut extends it{constructor(){super(...arguments),this.InnerContent=fC.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&on(this.props.elRef,e)}}render(){const{props:e}=this,n=hC(e.classNameGenerator,e.renderProps);if(e.children){const r=C0(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?T(e.elTag,r,i):i}else return T(lf,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ut.contextType=b0;function fC(t,e){const n=t.props;return T(lf,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function hC(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Dl extends q{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return T(ut,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...k0(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function k0(t){return[`fc-${t.type}-view`,"fc-view"]}function pC(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function em(t,e){let n=[],{start:r}=e,i,s;for(t.sort(mC),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function mC(t,e){return t.start.valueOf()-e.start.valueOf()}function fr(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function gC(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function af(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function la(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Xt(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function vC(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function O0(t){let e=Math.floor(yr(t.start,t.end))||1,n=K(t.start),r=ze(n,e);return{start:n,end:r}}function R0(t,e=B(0)){let n=null,r=null;if(t.end){r=K(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=kt(e)&&(r=ze(r,1))}return t.start&&(n=K(t.start),r&&r<=n&&(r=ze(n,1))),{start:n,end:r}}function Ur(t,e,n,r){return r==="year"?B(n.diffWholeYears(t,e),"year"):r==="month"?B(n.diffWholeMonths(t,e),"month"):AA(t,e)}function yC(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function EC(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Ms(t.now,e)}function Ms(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class N0{constructor(e){this.props=e,this.nowDate=Ms(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,l,a,u,c;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=vC(e,s)),o=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),a=this.trimHiddenDays(a),u=a,i.showNonCurrentDates||(u=fr(u,o.range)),u=this.adjustActiveRange(u),u=fr(u,s),c=af(o.range,s),Xt(a,e)||(e=a.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:u,renderRange:a,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,l;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(l=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,l)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=yc(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return B({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:l}=e;return r&&(qr(i)<0&&(o=K(o),o=n.add(o,i)),qr(s)>1&&(l=K(l),l=ze(l,-1),l=n.add(l,s))),{start:o,end:l}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,l,a,u;if(!o){let{dateIncrement:f}=this.props;f&&kt(f)<kt(r)?o=yc(f).unit:o=i}qr(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=K(l));function c(){l=s.startOf(e,o),a=s.add(l,r),u={start:l,end:a}}return c(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),c()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,l=e,a;s&&(l=i.startOf(l,s)),l=K(l),l=this.skipHiddenDays(l,n),a=l;do a=ze(a,1),this.isHiddenDay(a)||(o+=1);while(o<r);return{start:l,end:a}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?B(1,r):e||B({days:1}))}refineRange(e){if(e){let n=pC(e,this.props.dateEnv);return n&&(n=R0(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=ze(e,n);return e}}function uf(t,e,n,r){return{instanceId:vr(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function SC(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function hr(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:l}=t;l=dr(l,a=>!o[a.defId].recurringDef);for(let a in o){let u=o[a];if(u.recurringDef){let{duration:c}=u.recurringDef;c||(c=u.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let f=wC(u,c,e,r,i.recurringTypes);for(let h of f){let d=uf(a,{start:h,end:r.add(h,c)});l[d.instanceId]=d}}}return{defs:o,instances:l}}function wC(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(K)),o}const zo={id:String,groupId:String,title:String,url:String,interactive:Boolean},M0={start:C,end:C,date:C,allDay:Boolean},TC=Object.assign(Object.assign(Object.assign({},zo),M0),{extendedProps:C});function I0(t,e,n,r,i=cf(n),s,o){let{refined:l,extra:a}=x0(t,n,i),u=DC(e,n),c=SC(l,u,n.dateEnv,n.pluginHooks.recurringTypes);if(c){let h=wc(l,a,e?e.sourceId:"",c.allDay,!!c.duration,n,s);return h.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:h,instance:null}}let f=_C(l,u,n,r);if(f){let h=wc(l,a,e?e.sourceId:"",f.allDay,f.hasEnd,n,s),d=uf(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(d.instanceId=o[h.publicId]),{def:h,instance:d}}return null}function x0(t,e,n=cf(e)){return rf(t,n)}function cf(t){return Object.assign(Object.assign(Object.assign({},Al),TC),t.pluginHooks.eventRefiners)}function wc(t,e,n,r,i,s,o){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||vr(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Cl(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let a of s.pluginHooks.eventDefMemberAdders)Object.assign(l,a(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function _C(t,e,n,r){let{allDay:i}=t,s,o=null,l=!1,a,u=null,c=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(c),s)o=s.marker;else if(!r)return null;return t.end!=null&&(a=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),i&&o&&(o=K(o)),a&&(u=a.marker,i&&(u=K(u)),o&&u<=o&&(u=null)),u?l=!0:r||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:o,end:u},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}function DC(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Ss(t,e,n,r,i,s){let o=st(),l=cf(n);for(let a of t){let u=I0(a,e,n,r,l,i,s);u&&Tc(u,o)}return o}function Tc(t,e=st()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function df(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=aa(t,s=>AC(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return st()}function AC(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function st(){return{defs:{},instances:{}}}function ff(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function aa(t,e){let n=dr(t.defs,e),r=dr(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function CC(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function bC(t,e){return Array.isArray(t)?Ss(t,null,e,!0):typeof t=="object"&&t?Ss([t],null,e,!0):t!=null?String(t):null}function tm(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\\s+/):[]}const Al={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:C,overlap:C,allow:C,className:tm,classNames:tm,color:String,backgroundColor:String,borderColor:String,textColor:String},kC={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Cl(t,e){let n=bC(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function P0(t){return t.reduce(OC,kC)}function OC(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const RC={id:String,defaultAllDay:Boolean,url:String,format:String,events:C,eventDataTransform:C,success:C,failure:C};function L0(t,e,n=z0(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=rf(r,n),o=NC(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:vr(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Cl(i,e),extendedProps:s}}return null}function z0(t){return Object.assign(Object.assign(Object.assign({},Al),RC),t.pluginHooks.eventSourceRefiners)}function NC(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function MC(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return IC(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return xC(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return PC(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ff(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?hr(t,r.activeRange,i):t;case"REMOVE_EVENTS":return CC(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return U0(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return aa(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return st();default:return t}}function IC(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Ss(H0(i,e,s),e,s);return r&&(o=hr(o,r,s)),ff(U0(t,e.sourceId),o)}return t}function xC(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=zC(t);let l=Ss(H0(n,e,i),e,i,!1,s,o);return hr(l,r,i)}function H0(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=nm(t,i)),r&&(t=nm(t,r)),t}function nm(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function PC(t,e,n,r){return n&&(e=hr(e,n,r)),ff(t,e)}function rm(t,e,n){let{defs:r}=t,i=sn(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function U0(t,e){return aa(t,n=>n.sourceId!==e)}function LC(t,e){return{defs:t.defs,instances:dr(t.instances,n=>!e[n.instanceId])}}function zC(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:l}=o;l&&(r[l]=s)}for(let s in n){const o=n[s],l=e[o.defId],{publicId:a}=l;a&&(i[a]=s)}return{defIdMap:r,instanceIdMap:i}}class ua{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){HC(this.handlers,e,n)}off(e,n){UC(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function HC(t,e,n){(t[e]||(t[e]=[])).push(n)}function UC(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const BC={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function FC(t,e){return Ss(YC(t),null,e)}function YC(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},BC),n)),e}function B0(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},hf(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function jC(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function hf(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,rb(t,e.dateEnv)),n}function im(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=K(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function pf(t,e,n,r){let i=bl(t.defs,e),s=st();for(let o in t.defs){let l=t.defs[o];s.defs[o]=VC(l,i[o],n,r)}for(let o in t.instances){let l=t.instances[o],a=s.defs[l.defId];s.instances[o]=WC(l,a,i[l.defId],n,r)}return s}function VC(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function WC(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,a=Object.assign({},t);return o&&(a.range=O0(a.range)),r.datesDelta&&n.startEditable&&(a.range={start:s.add(a.range.start,r.datesDelta),end:s.add(a.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(a.range={start:s.add(a.range.start,r.startDelta),end:a.range.end}),r.endDelta&&n.durationEditable&&(a.range={start:a.range.start,end:s.add(a.range.end,r.endDelta)}),l&&(a.range={start:a.range.start,end:im(e.allDay,a.range.start,i)}),e.allDay&&(a.range={start:K(a.range.start),end:K(a.range.end)}),a.range.end<a.range.start&&(a.range.end=im(e.allDay,a.range.start,i)),a}class Dr{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ie{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in M0)console.warn("Could not set date-related prop \'name\'. Use one of the date-related methods instead.");else if(e==="id")n=zo[e](n),this.mutate({standardProps:{publicId:n}});else if(e in zo)n=zo[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Al){let r=Al[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop \'${e}\'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=Ur(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Ur(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),l;if(o&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let a=this._instance.range;r.allDay===!0&&(a=O0(a));let u=Ur(a.start,o,i,r.granularity);if(l){let c=Ur(a.end,l,i,r.granularity);mA(u,c)?this.mutate({datesDelta:u,standardProps:s}):this.mutate({startDelta:u,endDelta:c,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:u,standardProps:s})}}moveStart(e){let n=B(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=B(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=B(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=le(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=df(s,n.instanceId);o=pf(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let a=new ie(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:ir(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=F0(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Dr(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function F0(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function ir(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let l in i){let a=i[l],u=r[a.defId];a.instanceId!==o&&s.push(new ie(e,u,a))}return s}function sm(t,e,n,r){let i={},s={},o={},l=[],a=[],u=bl(t.defs,e);for(let c in t.defs){let f=t.defs[c];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):s[c]=[])}for(let c in t.instances){let f=t.instances[c],h=t.defs[f.defId],d=u[h.defId],p=f.range,v=!h.allDay&&r?R0(p,r):p,y=fr(v,n);y&&(d.display==="inverse-background"?h.groupId?i[h.groupId].push(y):s[f.defId].push(y):d.display!=="none"&&(d.display==="background"?l:a).push({def:h,ui:d,instance:f,range:y,isStart:v.start&&v.start.valueOf()===y.start.valueOf(),isEnd:v.end&&v.end.valueOf()===y.end.valueOf()}))}for(let c in i){let f=i[c],h=em(f,n);for(let d of h){let p=o[c],v=u[p.defId];l.push({def:p,ui:v,instance:null,range:d,isStart:!1,isEnd:!1})}}for(let c in s){let f=s[c],h=em(f,n);for(let d of h)l.push({def:t.defs[c],ui:u[c],instance:null,range:d,isStart:!1,isEnd:!1})}return{bg:l,fg:a}}function $C(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function om(t,e){t.fcSeg=e}function oi(t){return t.fcSeg||t.parentNode.fcSeg||null}function bl(t,e){return sn(t,n=>Y0(n,e))}function Y0(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),P0(n)}function j0(t,e){let n=t.map(GC);return n.sort((r,i)=>aA(r,i,e)),n.map(r=>r._seg)}function GC(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function qC(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let l of r)o=l(o,i,s,e);return o}function QC(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ZC(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function V0(t,e,n,r,i,s,o){let{dateEnv:l,options:a}=n,{displayEventTime:u,displayEventEnd:c}=a,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=r!==!1),c==null&&(c=i!==!1);let d=h.range.start,p=h.range.end,v=s||t.start||t.eventRange.range.start,y=o||t.end||t.eventRange.range.end,m=K(d).valueOf()===K(v).valueOf(),g=K(Ln(p,-1)).valueOf()===K(Ln(y,-1)).valueOf();return u&&!f.allDay&&(m||g)?(v=m?d:v,y=g?p:y,c&&f.hasEnd?l.formatRange(v,y,e,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):l.format(v,e,{forcedTzo:s?null:h.forcedStartTzo})):""}function Mn(t,e,n){let r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Xt(e,r.start)}}function KC(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function W0(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function $0(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?S0(a=>{s.trigger("eventClick",{el:a.target,event:new ie(e,n,r),jsEvent:a,view:e.viewApi})}):{}}const XC={start:C,end:C,allDay:Boolean};function JC(t,e,n){let r=eb(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function eb(t,e){let{refined:n,extra:r}=rf(t,XC),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function tb(t,e){return gC(t.range,e.range)&&t.allDay===e.allDay&&nb(t,e)}function nb(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function rb(t,e){return Object.assign(Object.assign({},q0(t.range,e,t.allDay)),{allDay:t.allDay})}function G0(t,e,n){return Object.assign(Object.assign({},q0(t,e,n)),{timeZone:e.timeZone})}function q0(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function ib(t,e,n){let r=x0({editable:!1},n),i=wc(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Y0(i,e),instance:uf(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function sb(t,e,n){let r=!1,i=function(l){r||(r=!0,e(l))},s=function(l){r||(r=!0,n(l))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class lm extends Error{constructor(e,n){super(e),this.response=n}}function ob(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new lm("Failure parsing JSON",i)});throw new lm("Request failed",i)})}let tu;function Q0(){return tu==null&&(tu=lb()),tu}function lb(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class ab extends q{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Q0()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class gi{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function ub(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function mf(t){return{[t.component.uid]:t}}const _c={};class cb{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name \'${e}\'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let l in n)i.push(l);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ms(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=B(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),le(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),le(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=JC(r,i.dateEnv,B({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),B0(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),jC(e,n))}addEvent(e,n){if(e instanceof ie){let o=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Tc({def:o,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Dr)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=of(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=I0(e,i,r,!1);if(s){let o=new ie(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Tc(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:F0(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new ie(n,o,null);for(let l in i){let a=i[l];if(a.defId===o.defId)return new ie(n,o,a)}}}return null}getEvents(){let e=this.getCurrentData();return ir(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Dr(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Dr(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Dr)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=L0(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Dr(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=B(e);n&&this.trigger("_scrollRequest",{time:n})}}function db(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Z0(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function fb(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function hb(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function pb(t,e){return{left:t.left-e.left,top:t.top-e.top}}const nu=st();class mb{constructor(){this.getKeysForEventDefs=z(this._getKeysForEventDefs),this.splitDateSelection=z(this._splitDateSpan),this.splitEventStore=z(this._splitEventStore),this.splitIndividualUi=z(this._splitIndividualUi),this.splitEventDrag=z(this._splitInteraction),this.splitEventResize=z(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),a=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=sn(n,(c,f)=>this.eventUiBuilders[f]||z(gb));for(let c in n){let f=n[c],h=o[c]||nu,d=this.eventUiBuilders[c];u[c]={businessHours:f.businessHours||e.businessHours,dateSelection:i[c]||null,eventStore:h,eventUiBases:d(e.eventUiBases[""],f.ui,s[c]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[c]||null,eventResize:a[c]||null}}return u}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return sn(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let l of n[o])s[l]||(s[l]=st()),s[l].defs[o]=r[o];for(let o in i){let l=i[o];for(let a of n[l.defId])s[a]&&(s[a].instances[o]=l)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=l=>{n[l]||(n[l]={affectedEvents:r[l]||nu,mutatedEvents:s[l]||nu,isEvent:e.isEvent})};for(let l in r)o(l);for(let l in s)o(l)}return n}}function gb(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":P0(r)};return n&&Object.assign(i,n),i}function K0(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Xt(r.activeRange,t)),isOther:!!(r&&!Xt(r.currentRange,t)),isToday:!!(e&&Xt(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function gf(t,e){let n=["fc-day",`fc-day-${SA[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const vb=le({year:"numeric",month:"long",day:"numeric"}),yb=le({week:"long"});function kl(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let l=i.format(e,n==="week"?yb:vb);if(s.navLinks){let a=i.toDate(e);const u=c=>{let f=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(e),c):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return Object.assign({title:Ki(s.navLinkHint,[l,a],l),"data-navlink":""},r?E0(u):{onClick:u})}return{"aria-label":l}}let ru=null;function Eb(){return ru===null&&(ru=Sb()),ru}function Sb(){let t=document.createElement("div");Zi(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Kd(t),n}let iu;function wb(){return iu||(iu=Tb()),iu}function Tb(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=X0(t);return document.body.removeChild(t),e}function X0(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function _b(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=X0(t),a=l.y-r-i,u=l.x-s-o,c={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Eb()&&n.direction==="rtl"?c.scrollbarLeft=a:c.scrollbarRight=a,e&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function Db(t,e=!1,n){let r=n?t.getBoundingClientRect():vf(t),i=_b(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function vf(t){let e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function Ab(t){let e=J0(t),n=t.getBoundingClientRect();for(let r of e){let i=Z0(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function J0(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class li{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return co(this.tops||[],e.tops||[])&&co(this.bottoms||[],e.bottoms||[])&&co(this.lefts||[],e.lefts||[])&&co(this.rights||[],e.rights||[])}}function co(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class yf{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Cb extends yf{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class bb extends yf{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class jt extends q{constructor(){super(...arguments),this.uid=vr()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Le(e,".fc-event-mirror")}isValidDateDownEl(e){return!Le(e,".fc-event:not(.fc-bg-event)")&&!Le(e,".fc-more-link")&&!Le(e,"a[data-navlink]")&&!Le(e,".fc-popover")}}class eE{constructor(e=n=>n.thickness){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)}splitEntry(e,n,r){let i=0,s=[],o=e.span,l=n.span;return o.start<l.start&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.start,end:l.start}},s)),o.end>l.end&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.end,end:o.end}},s)),i?(r.push({index:e.index,thickness:e.thickness,span:Ef(l,o)},...s),i):(r.push(e),0)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(su(i,n.level,n.levelCoord),su(r,n.level,[e])):su(r[n.level],n.lateral,e),this.stackCnts[sr(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,l=0,a=-1,u=-1,c=null,f=0;for(let p=0;p<o;p+=1){let v=n[p];if(!i&&v>=l+this.getEntryThickness(e))break;let y=r[p],m,g=Ac(y,e.span.start,Dc),E=g[0]+g[1];for(;(m=y[E])&&m.span.start<e.span.end;){let w=v+this.getEntryThickness(m);w>l&&(l=w,c=m,a=p,u=E),w===l&&(f=Math.max(f,s[sr(m)]+1)),E+=1}}let h=0;if(c)for(h=a+1;h<o&&n[h]<l;)h+=1;let d=-1;return h<o&&n[h]===l&&(d=Ac(r[h],e.span.end,Dc)[0]),{touchingLevel:a,touchingLateral:u,touchingEntry:c,stackCnt:f,levelCoord:l,level:h,lateral:d}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],l=n[s];for(let a of o)i.push(Object.assign(Object.assign({},a),{thickness:this.getEntryThickness(a),levelCoord:l}))}return i}}function Dc(t){return t.span.end}function sr(t){return t.index+":"+t.span.start}function kb(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)Ef(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:Ob(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function Ob(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Ef(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function su(t,e,n){t.splice(e,0,n)}function Ac(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class Rb{constructor(e,n){this.emitter=new ua}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Sf={};function Nb(t,e){return!t||e>10?le({weekday:"short"}):e>1?le({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):le({weekday:"long"})}const tE="fc-col-header-cell";function nE(t){return t.text}class Mb extends q{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:l}=s,a=K0(o,s.todayRange,null,l),u=[tE].concat(gf(a,r)),c=e.format(o,s.dayHeaderFormat),f=!a.isDisabled&&s.colCnt>1?kl(this.context,o):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:c}),a);return T(ut,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":a.isDisabled?void 0:tf(o)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:nE,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},d=>T("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&T(d,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const Ib=le({weekday:"long"});class xb extends q{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=ze(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=n.format(o,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:i}),e.extraRenderProps),{text:a});return T(ut,{elTag:"th",elClasses:[tE,...gf(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:nE,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},c=>T("div",{className:"fc-scrollgrid-sync-inner"},T(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,Ib)}})))}}class Is extends it{constructor(e,n){super(e,n),this.initialNowDate=Ms(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=Ln(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,B(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:am(i)},nextState:{nowDate:s,todayRange:am(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Is.contextType=an;function am(t){let e=K(t),n=ze(e,1);return{start:e,end:n}}class rE extends q{constructor(){super(...arguments),this.createDayHeaderFormatter=z(Pb)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return T(Is,{unit:"day"},(l,a)=>T("tr",{role:"row"},s&&s("day"),n.map(u=>i?T(Mb,{key:u.toISOString(),date:u,dateProfile:r,todayRange:a,colCnt:n.length,dayHeaderFormat:o}):T(xb,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function Pb(t,e,n){return t||Nb(e,n)}class iE{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],l=-1;for(;r<i;)n.isHiddenDay(r)?s.push(l+.5):(l+=1,s.push(l),o.push(r)),r=ze(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(ze(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(yr(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class sE{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,l=s;for(;l<=o;){let a=Math.floor(l/n),u=Math.min((a+1)*n,o+1);i.push({row:a,firstCol:l%n,lastCol:(u-1)%n,isStart:r.isStart&&l===s,isEnd:r.isEnd&&u-1===o}),l=u}}return i}}class oE{constructor(){this.sliceBusinessHours=z(this._sliceBusinessHours),this.sliceDateSelection=z(this._sliceDateSpan),this.sliceEventStore=z(this._sliceEventStore),this.sliceEventDrag=z(this._sliceInteraction),this.sliceEventResize=z(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,l=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Ln(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(hr(e,fo(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=sm(e,n,fo(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=sm(e.mutatedEvents,n,fo(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let l=fo(n,!!r),a=fr(e.range,l);if(a){e=Object.assign(Object.assign({},e),{range:a});let u=ib(e,i,s),c=this.sliceRange(e.range,...o);for(let f of c)f.eventRange=u;return c}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:ze(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function fo(t,e){let n=t.activeRange;return e?n:{start:Ln(n.start,t.slotMinTime.milliseconds),end:Ln(n.end,t.slotMaxTime.milliseconds-864e5)}}function lE(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!la(e.validRange,r[i].range))return!1;return aE({eventDrag:t},n)}function Lb(t,e,n){return la(e.validRange,t.range)?aE({dateSelection:t},n):!1}function aE(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||zb)(r,e)}function zb(t,e,n={},r){return!(t.eventDrag&&!Hb(t,e,n,r)||t.dateSelection&&!Ub(t,e,n,r))}function Hb(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,l=o.defs,a=o.instances,u=bl(l,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=sn(u,r));let c=LC(t.eventStore,s.affectedEvents.instances),f=c.defs,h=c.instances,d=bl(f,t.eventUiBases);for(let p in a){let v=a[p],y=v.range,m=u[v.defId],g=l[v.defId];if(!uE(m.constraints,y,c,t.businessHours,e))return!1;let{eventOverlap:E}=e.options,w=typeof E=="function"?E:null;for(let _ in h){let b=h[_];if(af(y,b.range)&&(d[b.defId].overlap===!1&&s.isEvent||m.overlap===!1||w&&!w(new ie(e,f[b.defId],b),new ie(e,g,v))))return!1}let D=i.eventStore;for(let _ of m.allows){let b=Object.assign(Object.assign({},n),{range:v.range,allDay:g.allDay}),A=D.defs[g.defId],x=D.instances[p],P;if(A?P=new ie(e,A,x):P=new ie(e,g),!_(hf(b,e),P))return!1}}return!0}function Ub(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,l=t.dateSelection,a=l.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!uE(u.constraints,a,i,t.businessHours,e))return!1;let{selectOverlap:c}=e.options,f=typeof c=="function"?c:null;for(let h in o){let d=o[h];if(af(a,d.range)&&(u.overlap===!1||f&&!f(new ie(e,s[d.defId],d),null)))return!1}for(let h of u.allows){let d=Object.assign(Object.assign({},n),l);if(!h(hf(d,e),null))return!1}return!0}function uE(t,e,n,r,i){for(let s of t)if(!Fb(Bb(s,e,n,r,i),e))return!1;return!0}function Bb(t,e,n,r,i){return t==="businessHours"?ou(hr(r,e,i)):typeof t=="string"?ou(aa(n,s=>s.groupId===t)):typeof t=="object"&&t?ou(hr(t,e,i)):[]}function ou(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Fb(t,e){for(let n of t)if(la(n,e))return!0;return!1}const ho=/^(visible|hidden)$/;class Yb extends q{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,on(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),T("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(ho.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(ho.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return ho.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return ho.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Qt{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,l=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return JA(this.currentMap,e,n,r)}getAll(){return of(this.currentMap)}}function jb(t){let e=X1(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,fA(r));return Math.ceil(n)}function cE(t,e){return t.liquid&&e.liquid}function Vb(t,e){return e.maxHeight!=null||cE(t,e)}function Wb(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):T("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,T(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function $b(t,e){return Pn(t,e,Ft)}function Gb(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(T("col",{style:{width:r.width==="shrink"?qb(e):r.width||"",minWidth:r.minWidth||""}}))}return T("colgroup",{},...n)}function qb(t){return t??4}function Qb(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Zb(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Kb(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Cc(t){return T("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Ol(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function dE(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class wf extends q{constructor(){super(...arguments),this.processCols=z(e=>e,$b),this.renderMicroColGroup=z(Gb),this.scrollerRefs=new Qt,this.scrollerElRefs=new Qt(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),l=Zb(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let a=i.length,u=0,c,f=[],h=[],d=[];for(;u<a&&(c=i[u]).type==="header";)f.push(this.renderSection(c,o,!0)),u+=1;for(;u<a&&(c=i[u]).type==="body";)h.push(this.renderSection(c,o,!1)),u+=1;for(;u<a&&(c=i[u]).type==="footer";)d.push(this.renderSection(c,o,!0)),u+=1;let p=!Q0();const v={role:"rowgroup"};return T("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!p&&f.length)&&T("thead",v,...f),!!(!p&&h.length)&&T("tbody",v,...h),!!(!p&&d.length)&&T("tfoot",v,...d),p&&T("tbody",v,...f,...h,...d))}renderSection(e,n,r){return"outerContent"in e?T(ee,{key:e.key},e.outerContent):T("tr",{key:e.key,role:"presentation",className:Kb(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:a}=this.state,u=Vb(s,e),c=cE(s,e),f=s.liquid?o?"scroll":u?"auto":"hidden":"visible",h=e.key,d=Wb(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[h]!==void 0?l[h]:null,clientHeight:a[h]!==void 0?a[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return T(i?"th":"td",{ref:r.elRef,role:"presentation"},T("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},T(Yb,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},d)))}_handleScrollerEl(e,n){let r=Xb(this.props.sections,n);r&&on(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Qb(this.props.cols)?jb(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=wb(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let l in n.currentMap){let a=n.currentMap[l];if(a&&a.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let a=l.key,u=r.currentMap[a];if(u){let c=u.parentNode;s[a]=Math.floor(c.getBoundingClientRect().width-(i?e.y:0)),o[a]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}wf.addStateEquality({scrollerClientWidths:Ft,scrollerClientHeights:Ft});function Xb(t,e){for(let n of t)if(n.key===e)return n;return null}class Tf extends q{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&om(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,l={event:new ie(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&qC(i,n),isStartResizable:!e.disableResizing&&QC(i,n),isEndResizable:!e.disableResizing&&ZC(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return T(ut,Object.assign({},e,{elRef:this.handleEl,elClasses:[...KC(l),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&om(this.el,this.props.seg)}}class fE extends q{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,l=V0(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return T(Tf,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:$0(i,n),defaultGenerator:Jb,timeText:l}),(a,u)=>T(ee,null,T(a,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&T("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&T("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Jb(t){return T("div",{className:"fc-event-main-frame"},t.timeText&&T("div",{className:"fc-event-time"},t.timeText),T("div",{className:"fc-event-title-container"},T("div",{className:"fc-event-title fc-sticky"},t.event.title||T(ee,null," "))))}const _f=t=>T(an.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return T(ut,Object.assign({},t,{elTag:t.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),ek=le({day:"numeric"});class Df extends q{constructor(){super(...arguments),this.refineRenderProps=Lo(tk)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return T(ut,Object.assign({},e,{elClasses:[...gf(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":tf(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function Af(t){return!!(t.dayCellContent||Sc("dayCellContent",t))}function tk(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=K0(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:ek):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class hE extends q{render(){let{props:e}=this,{seg:n}=e;return T(Tf,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:nk,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function nk(t){let{title:e}=t.event;return e&&T("div",{className:"fc-event-title"},t.event.title)}function pE(t){return T("div",{className:`fc-${t}`})}const mE=t=>T(an.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),l=n.format(i,s);return T(ut,Object.assign({},t,{renderProps:{num:o,text:l,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:rk,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function rk(t){return t.text}const lu=10;class ik extends q{constructor(){super(...arguments),this.state={titleId:sa()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&on(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=v0(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return H1(T("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),T("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},T("span",{className:"fc-popover-title",id:i.titleId},r.title),T("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),T("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=Ab(n);if(s){let o=i.getBoundingClientRect(),l=r?Le(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,a=e?s.right-o.width:s.left;l=Math.max(l,lu),a=Math.min(a,document.documentElement.clientWidth-lu-o.width),a=Math.max(a,lu);let u=i.offsetParent.getBoundingClientRect();Zi(i,{top:l-u.top,left:a-u.left})}}}class sk extends jt{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,l=n.format(i,e.dayPopoverFormat);return T(Df,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(a,u,c)=>T(ik,{elRef:c.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Af(e)&&T(a,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class gE extends q{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:sa()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&on(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=um(n).start;function o(l){let{def:a,instance:u,range:c}=l.eventRange;return{event:new ie(r,a,u),start:r.dateEnv.toDate(c.start),end:r.dateEnv.toDate(c.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return T(an.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:l}=s,{moreCnt:a}=e,u=um(e),c=typeof l=="function"?l.call(o,a):`+${a} ${l}`,f=Ki(s.moreLinkHint,[a],c),h={num:a,shortText:`+${a}`,text:c,view:i};return T(ee,null,!!e.moreCnt&&T(ut,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),E0(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||ok,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&T(sk,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Le(this.linkEl,".fc-view-harness"))}}function ok(t){return t.text}function um(t){if(t.allDayDate)return{start:t.allDayDate,end:ze(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:vE(e),end:ak(e)}}function vE(t){return t.reduce(lk).eventRange.range.start}function lk(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function ak(t){return t.reduce(uk).eventRange.range.end}function uk(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class ck{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class dk extends ck{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const fk=[],yE={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},EE=Object.assign(Object.assign({},yE),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function hk(t){let e=t.length>0?t[0].code:"en",n=fk.concat(t),r={en:EE};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function SE(t,e){return typeof t=="object"&&!Array.isArray(t)?wE(t.code,[t.code],t):pk(t,e)}function pk(t,e){let n=[].concat(t||[]),r=mk(n,e)||EE;return wE(t,n,r)}function mk(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function wE(t,e,n){let r=sf([yE,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function un(t){return{id:vr(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function gk(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const l=o.name,a=n[l];a===void 0?(n[l]=o.id,i(o.deps),r=yk(r,o)):a!==o.id&&console.warn(`Duplicate plugin \'${l}\'`)}}return t&&i(t),i(e),r}function vk(){let t=[],e=[],n;return(r,i)=>((!n||!Pn(r,t)||!Pn(i,e))&&(n=gk(r,i)),t=r,e=i,n)}function yk(t,e){return{premiumReleaseDate:Ek(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Ek(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Bn extends Ns{}Bn.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Bn.prototype.baseIconClass="fc-icon";Bn.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Bn.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Bn.prototype.iconOverrideOption="buttonIcons";Bn.prototype.iconOverrideCustomButtonOption="icon";Bn.prototype.iconOverridePrefix="fc-icon-";function Sk(t,e){let n={},r;for(r in t)bc(r,n,t,e);for(r in e)bc(r,n,t,e);return n}function bc(t,e,n,r){if(e[t])return e[t];let i=wk(t,e,n,r);return i&&(e[t]=i),i}function wk(t,e,n,r){let i=n[t],s=r[t],o=c=>i&&i[c]!==null?i[c]:s&&s[c]!==null?s[c]:null,l=o("component"),a=o("superType"),u=null;if(a){if(a===t)throw new Error("Can\'t have a custom view type that references itself");u=bc(a,e,n,r)}return!l&&u&&(l=u.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),s?s.rawOptions:{})}:null}function cm(t){return sn(t,Tk)}function Tk(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=dm(e):n&&!(n.prototype instanceof q)&&(n=dm(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function dm(t){return e=>T(an.Consumer,null,n=>T(ut,{elTag:"div",elClasses:k0(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function _k(t,e,n,r){let i=cm(t),s=cm(e.views),o=Sk(i,s);return sn(o,l=>Dk(l,s,e,n,r))}function Dk(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,l="",a="",u={};if(s&&(o=Ak(s),o)){let h=yc(o);l=h.unit,h.value===1&&(a=l,u=e[l]?e[l].rawOptions:{})}let c=h=>{let d=h.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&d[p]!=null?d[p]:d[t.type]!=null?d[t.type]:d[a]!=null?d[a]:null},f=h=>{let d=h.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&d[p]!=null?d[p]:d[t.type]!=null?d[t.type]:d[a]!=null?d[a]:null};return{type:t.type,component:t.component,duration:o,durationUnit:l,singleUnit:a,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:c(r)||c(n)||t.overrides.buttonText,buttonTextDefault:c(i)||t.defaults.buttonText||c(Xi)||t.type,buttonTitleOverride:f(r)||f(n)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(Xi)}}let fm={};function Ak(t){let e=JSON.stringify(t),n=fm[e];return n===void 0&&(n=B(t),fm[e]=n),n}function Ck(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function bk(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function kk(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Ok(t,e,n){let r=e?e.activeRange:null;return _E({},Lk(t,n),r,n)}function Rk(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return _E(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Mk(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?DE(t,i,r):t;case"FETCH_EVENT_SOURCES":return Cf(t,e.sourceIds?_0(e.sourceIds):AE(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Pk(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Nk(t,e,n){let r=e?e.activeRange:null;return Cf(t,AE(t,n),r,!0,n)}function TE(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function _E(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=DE(i,n,r)),Object.assign(Object.assign({},t),i)}function Mk(t,e){return dr(t,n=>n.sourceId!==e)}function DE(t,e,n){return Cf(t,dr(t,r=>Ik(r,e,n)),e,!1,n)}function Ik(t,e,n){return CE(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Cf(t,e,n,r,i){let s={};for(let o in t){let l=t[o];e[o]?s[o]=xk(l,n,r,i):s[o]=l}return s}function xk(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=vr();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},a=>{let{rawEvents:u}=a;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(s,u,a.response)||u),t.success&&(u=t.success.call(s,u,a.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:u})},a=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,a),u=!0),t.failure&&(t.failure(a),u=!0),u||console.warn(a.message,a),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:a})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function Pk(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function AE(t,e){return dr(t,n=>CE(n,e))}function Lk(t,e){let n=z0(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=L0(s,e,n);o&&i.push(o)}return i}function CE(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function zk(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Hk(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Uk(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Bk(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Fk(t,e,n,r,i){let s=t.headerToolbar?hm(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?hm(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function hm(t,e,n,r,i,s){let o={},l=[],a=!1;for(let u in t){let c=t[u],f=Yk(c,e,n,r,i,s);o[u]=f.widgets,l.push(...f.viewsWithButtons),a=a||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:a}}function Yk(t,e,n,r,i,s){let o=e.direction==="rtl",l=e.customButtons||{},a=n.buttonText||{},u=e.buttonText||{},c=n.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],d=[],p=!1;return{widgets:h.map(y=>y.split(",").map(m=>{if(m==="title")return p=!0,{buttonName:m};let g,E,w,D,_,b;if(g=l[m])w=A=>{g.click&&g.click.call(A.target,A,A.target)},(D=r.getCustomButtonIconClass(g))||(D=r.getIconClass(m,o))||(_=g.text),b=g.hint||g.text;else if(E=i[m]){d.push(m),w=()=>{s.changeView(m)},(_=E.buttonTextOverride)||(D=r.getIconClass(m,o))||(_=E.buttonTextDefault);let A=E.buttonTextOverride||E.buttonTextDefault;b=Ki(E.buttonTitleOverride||E.buttonTitleDefault||e.viewHint,[A,m],A)}else if(s[m])if(w=()=>{s[m]()},(_=a[m])||(D=r.getIconClass(m,o))||(_=u[m]),m==="prevYear"||m==="nextYear"){let A=m==="prevYear"?"prev":"next";b=Ki(c[A]||f[A],[u.year||"year","year"],u[m])}else b=A=>Ki(c[m]||f[m],[u[A]||A,A],u[m]);return{buttonName:m,buttonClick:w,buttonIcon:D,buttonText:_,buttonHint:b}})),viewsWithButtons:d,hasTitle:p}}class jk{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Vk={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Wk=un({name:"array-event-source",eventSourceDefs:[Vk]});let $k={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;sb(i.bind(null,G0(t.range,r)),s=>e({rawEvents:s}),n)}};const Gk=un({name:"func-event-source",eventSourceDefs:[$k]}),qk={method:String,extraParams:C,startParam:String,endParam:String,timeZoneParam:String};let Qk={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=Kk(r,t.range,t.context);ob(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const Zk=un({name:"json-event-source",eventSourceRefiners:qk,eventSourceDefs:[Qk]});function Kk(t,e,n){let{dateEnv:r,options:i}=n,s,o,l,a,u={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?a=t.extraParams():a=t.extraParams||{},Object.assign(u,a),u[s]=r.formatIso(e.start),u[o]=r.formatIso(e.end),r.timeZone!=="local"&&(u[l]=r.timeZone),u}const Xk={daysOfWeek:C,startTime:B,endTime:B,duration:B,startRecur:C,endRecur:C};let Jk={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=gA(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=fr(e,{start:t.startRecur,end:t.endRecur});return r?tO(t.daysOfWeek,t.startTime,r,n):[]}};const eO=un({name:"simple-recurring-event",recurringTypes:[Jk],eventRefiners:Xk});function tO(t,e,n,r){let i=t?_0(t):null,s=K(n.start),o=n.end,l=[];for(;s<o;){let a;(!i||i[s.getUTCDay()])&&(e?a=r.add(s,e):a=s,l.push(a)),s=ze(s,1)}return l}const nO=un({name:"change-handler",optionChangeHandlers:{events(t,e){pm([t],e)},eventSources:pm}});function pm(t,e){let n=of(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function rO(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},G0(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function iO(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ir(t,e))}const sO=[Wk,Gk,Zk,eO,nO,un({name:"misc",isLoadingFuncs:[t=>TE(t.eventSources)],propSetHandlers:{dateProfile:rO,eventStore:iO}})];class oO{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Zd(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function lO(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,le(e.titleFormat||aO(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function aO(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Sl(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class uO{constructor(e){this.computeCurrentViewData=z(this._computeCurrentViewData),this.organizeRawLocales=z(hk),this.buildLocale=z(SE),this.buildPluginHooks=vk(),this.buildDateEnv=z(cO),this.buildTheme=z(dO),this.parseToolbars=z(Fk),this.buildViewSpecs=z(_k),this.buildDateProfileGenerator=Lo(fO),this.buildViewApi=z(hO),this.buildViewUiProps=Lo(gO),this.buildEventUiBySource=z(pO,Ft),this.buildEventUiBases=z(mO),this.parseContextBusinessHours=Lo(vO),this.buildTitle=z(lO),this.emitter=new ua,this.actionRunner=new oO(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=EC(r.calendarOptions,r.dateEnv),l=s.dateProfileGenerator.build(o);Xt(l.activeRange,o)||(o=l.currentRange.start);let a={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of r.pluginHooks.contextInit)h(a);let u=Ok(r.calendarOptions,l,a),c={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(a),eventSources:u,eventUiBases:{},eventStore:st(),renderableEventStore:st(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},f=Object.assign(Object.assign({},a),c);for(let h of r.pluginHooks.reducers)Object.assign(c,h(null,null,f));au(c,a)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=bk(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=Ck(r.currentViewType,e),a=this.computeCurrentViewData(l,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(a.options);let u={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(f=a.dateProfileGenerator.build(c)),c=yC(c,e),f=kk(f,e,c,a.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Xt(f.currentRange,c))&&(c=f.currentRange.start);let h=Rk(r.eventSources,e,f,u),d=MC(r.eventStore,e,h,f,u),v=TE(h)&&!a.options.progressiveEventRendering&&r.renderableEventStore||d,{eventUiSingleBase:y,selectionConfig:m}=this.buildViewUiProps(u),g=this.buildEventUiBySource(h),E=this.buildEventUiBases(v.defs,y,g),w={dynamicOptionOverrides:s,currentViewType:l,currentDate:c,dateProfile:f,eventSources:h,eventStore:d,renderableEventStore:v,selectionConfig:m,eventUiBases:E,businessHours:this.parseContextBusinessHours(u),dateSelection:zk(r.dateSelection,e),eventSelection:Hk(r.eventSelection,e),eventDrag:Uk(r.eventDrag,e),eventResize:Bk(r.eventResize,e)},D=Object.assign(Object.assign({},u),w);for(let A of o.pluginHooks.reducers)Object.assign(w,A(r,e,D));let _=au(r,u),b=au(w,u);!_&&b?i.trigger("loading",!0):_&&!b&&i.trigger("loading",!1),this.state=w,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),l=i.pluginHooks.optionChangeHandlers,a=r&&r.calendarOptions,u=i.calendarOptions;if(a&&a!==u){a.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=Nk(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=rm(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=rm(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let c in l)(this.optionsForHandling.indexOf(c)!==-1||a[c]!==u[c])&&l[c](u[c],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:l,extra:a}=this.processRawCalendarOptions(e,n);mm(a);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,l,i.defaultRangeSeparator),c=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,f,c,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:u,viewSpecs:c,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=Ja([Xi,e,n]),s=this.organizeRawLocales(r),o=s.map,l=this.buildLocale(i||s.defaultCode,o).options,a=this.buildPluginHooks(e.plugins||[],sO),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zp),Kp),Xp),a.listenerRefiners),a.optionRefiners),c={},f=Ja([Xi,l,e,n]),h={},d=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,v=!1;for(let y in f)this.optionsForRefining.indexOf(y)===-1&&(f[y]===d[y]||$n[y]&&y in d&&$n[y](d[y],f[y]))?h[y]=p[y]:u[y]?(h[y]=u[y](f[y]),v=!0):c[y]=d[y];return v&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:s,localeDefaults:l,extra:c}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you\'ve loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);mm(l);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:a,viewApi:u}}processRawViewOptions(e,n,r,i,s){let o=Ja([Xi,e.optionDefaults,r,i,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zp),Kp),Xp),QA),n.listenerRefiners),n.optionRefiners),a={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,f=!1,h={};for(let d in o)o[d]===u[d]||$n[d]&&$n[d](o[d],u[d])?a[d]=c[d]:(o[d]===this.currentCalendarOptionsInput[d]||$n[d]&&$n[d](o[d],this.currentCalendarOptionsInput[d])?d in this.currentCalendarOptionsRefined&&(a[d]=this.currentCalendarOptionsRefined[d]):l[d]?a[d]=l[d](o[d]):h[d]=o[d],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function cO(t,e,n,r,i,s,o,l){let a=SE(e||o.defaultCode,o.map);return new sC({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:a,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function dO(t,e){let n=e.themeClasses[t.themeSystem]||Bn;return new n(t)}function fO(t){let e=t.dateProfileGeneratorClass||N0;return new e(t)}function hO(t,e,n){return new jk(t,e,n)}function pO(t){return sn(t,e=>e.ui)}function mO(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function gO(t){let{options:e}=t;return{eventUiSingleBase:Cl({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Cl({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function au(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function vO(t){return FC(t.options.businessHours,t)}function mm(t,e){for(let n in t)console.warn(`Unknown option \'${n}\'`+(e?` for view \'${e}\'`:""))}class yO extends q{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return T("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:l,buttonClick:a,buttonText:u,buttonIcon:c,buttonHint:f}=o;if(l==="title")s=!1,i.push(T("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=l===n.activeButton,d=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",p=[`fc-${l}-button`,r.getClass("button")];h&&p.push(r.getClass("buttonActive")),i.push(T("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:d,"aria-pressed":h,className:p.join(" "),onClick:a},u||(c?T("span",{className:c}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return T("div",{className:o},...i)}return i[0]}}class gm extends q{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,l=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,T("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return T(yO,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class EO extends q{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,on(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",T("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class SO extends gi{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=oi(r);if(o&&i.isValidSegDownEl(n.target)){let l=Le(n.target,".fc-event-forced-url"),a=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new ie(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),a&&!n.defaultPrevented&&(window.location.href=a)}},this.destroy=y0(e.el,"click",".fc-event",this.handleSegClick)}}class wO extends gi{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{oi(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=tA(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=oi(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new ie(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class TO extends Er{constructor(){super(...arguments),this.buildViewContext=z(aC),this.buildViewPropTransformers=z(DO),this.buildToolbarProps=z(_O),this.headerRef=je(),this.footerRef=je(),this.interactionsStore={},this.state={viewLabelId:sa()},this.registerInteractiveComponent=(e,n)=>{let r=ub(e,n),o=[SO,wO].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=o,_c[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete _c[e.uid]},this.resizeRunner=new Zd(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ms(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",l;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:l=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return T(an.Provider,{value:a},n.header&&T(gm,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},i)),T(EO,{liquid:s,height:o,aspectRatio:l,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&T(gm,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return T(ee,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(i,l.transform(i,e));let o=r.component;return T(o,Object.assign({},i))}}function _O(t,e,n,r,i,s){let o=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),a=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Xt(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:a.isValid}}function DO(t){return t.map(e=>new e)}class AO extends cb{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Jp(()=>{Es(T(ab,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,l)=>(this.setClassNames(i),this.setHeight(s),T(b0.Provider,{value:this.customContentRenderId},T(TO,Object.assign({isHeightAuto:o,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Es(null,this.el),this.setClassNames([]),this.setHeight(""))},$1(e),this.el=e,this.renderRunner=new Zd(this.handleRenderRequest),new uO({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Jp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Pn(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){g0(this.el,"height",e)}}const CO=parseInt(String(Ho.version).split(".")[0]),bO=CO<18;class bE extends Mt.Component{constructor(){super(...arguments),this.elRef=Mt.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(Ho.createElement(kO,{key:n.id,customRendering:n}));return Ho.createElement("div",{ref:this.elRef},e)}componentDidMount(){const e=new dk;this.handleCustomRendering=e.handle.bind(e),this.calendar=new AO(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render();let n;e.subscribe(r=>{const i=Date.now(),s=!n;(bO||s||this.isUpdating||this.isUnmounting||i-n<100?kE:Dd.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}bE.act=kE;class kO extends Mt.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Dd.createPortal(r,e.containerEl)}}function kE(t){t()}var OO=\':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\';Qd(OO);function po(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function mo(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function vm(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const OE=le({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function RE(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class NE extends q{render(){let{props:e}=this;return T(fE,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:OE,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class ME extends q{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||OE,o=V0(i,s,n,!0,e.defaultDisplayEventEnd);return T(Tf,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:$0(e.seg,n),defaultGenerator:RO,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function RO(t){return T(ee,null,T("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&T("div",{className:"fc-event-time"},t.timeText),T("div",{className:"fc-event-title"},t.event.title||T(ee,null," ")))}class NO extends q{constructor(){super(...arguments),this.compileSegs=z(MO)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return T(gE,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return T(ee,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return T("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},RE(s)?T(ME,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mn(s,e.todayRange))):T(NE,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mn(s,e.todayRange))))}))}})}}function MO(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const IO=le({week:"narrow"});class xO extends jt{constructor(){super(...arguments),this.rootElRef=je(),this.state={dayNumberId:sa()},this.handleRootEl=e=>{on(this.rootElRef,e),on(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:l,dateProfile:a}=n;const u=n.showDayNumber&&LO(l,a.currentRange,o);return T(Df,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:PO,date:l,dateProfile:a,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(c,f)=>T("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&T(mE,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:kl(e,l,"week"),date:l,defaultFormat:IO}),!f.isDisabled&&(n.showDayNumber||Af(s)||n.forceDayTop)?T("div",{className:"fc-daygrid-day-top"},T(c,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},kl(e,l)),{id:r.dayNumberId})})):n.showDayNumber?T("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},T("a",{className:"fc-daygrid-day-number"}," ")):void 0,T("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,T("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},T(NO,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),T("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function PO(t){return t.dayNumberText||T(ee,null," ")}function LO(t,e,n){const{start:r,end:i}=e,s=Ln(i,-1),o=n.getYear(r),l=n.getMonth(r),a=n.getYear(s),u=n.getMonth(s);return!(o===a&&l===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function IE(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function xE(t){return IE(t)+":"+t.lastCol}function zO(t,e,n,r,i,s,o){let l=new BO(m=>{let g=t[m.index].eventRange.instance.instanceId+":"+m.span.start+":"+(m.span.end-1);return i[g]});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let a=[],u=[];for(let m=0;m<t.length;m+=1){let g=t[m],E=xE(g);i[E]!=null?a.push({index:m,span:{start:g.firstCol,end:g.lastCol+1}}):u.push(g)}let c=l.addSegs(a),f=l.toRects(),{singleColPlacements:h,multiColPlacements:d,leftoverMargins:p}=HO(f,t,o),v=[],y=[];for(let m of u){d[m.firstCol].push({seg:m,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let g=m.firstCol;g<=m.lastCol;g+=1)h[g].push({seg:Qr(m,g,g+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<o.length;m+=1)v.push(0);for(let m of c){let g=t[m.index],E=m.span;d[E.start].push({seg:Qr(g,E.start,E.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=E.start;w<E.end;w+=1)v[w]+=1,h[w].push({seg:Qr(g,w,w+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<o.length;m+=1)y.push(p[m]);return{singleColPlacements:h,multiColPlacements:d,moreCnts:v,moreMarginTops:y}}function HO(t,e,n){let r=UO(t,n.length),i=[],s=[],o=[];for(let l=0;l<n.length;l+=1){let a=r[l],u=[],c=0,f=0;for(let d of a){let p=e[d.index];u.push({seg:Qr(p,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:d.levelCoord,marginTop:d.levelCoord-c}),c=d.levelCoord+d.thickness}let h=[];c=0,f=0;for(let d of a){let p=e[d.index],v=d.span.end-d.span.start>1,y=d.span.start===l;f+=d.levelCoord-c,c=d.levelCoord+d.thickness,v?(f+=d.thickness,y&&h.push({seg:Qr(p,d.span.start,d.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:d.levelCoord,marginTop:0})):y&&(h.push({seg:Qr(p,d.span.start,d.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:d.levelCoord,marginTop:f}),f=0)}i.push(u),s.push(h),o.push(f)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function UO(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Qr(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=fr(s,{start:r[e].date,end:ze(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class BO extends eE{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[sr(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:a}=e;if(this.hiddenConsumes&&o){const u=sr(o);if(!s[u])if(this.allowReslicing){const c=Object.assign(Object.assign({},o),{span:Ef(o.span,n.span)}),f=sr(c);s[f]=!0,i[l][a]=c,this.splitEntry(o,n,r)}else s[u]=!0,r.push(o)}return super.handleInvalidInsertion(e,n,r)}}class PE extends jt{constructor(){super(...arguments),this.cellElRefs=new Qt,this.frameElRefs=new Qt,this.fgElRefs=new Qt,this.segHarnessRefs=new Qt,this.rootElRef=je(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=mo(e.businessHourSegs,s),l=mo(e.bgEventSegs,s),a=mo(this.getHighlightSegs(),s),u=mo(this.getMirrorSegs(),s),{singleColPlacements:c,multiColPlacements:f,moreCnts:h,moreMarginTops:d}=zO(j0(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return T("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((v,y)=>{let m=this.renderFgSegs(y,e.forPrint?c[y]:f[y],e.todayRange,p),g=this.renderFgSegs(y,FO(u[y],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return T(xO,{key:v.key,elRef:this.cellElRefs.createRef(v.key),innerElRef:this.frameElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&y===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,moreCnt:h[y],moreMarginTop:d[y],singlePlacements:c[y],fgContentElRef:this.fgElRefs.createRef(v.key),fgContent:T(ee,null,T(ee,null,m),T(ee,null,g)),bgContent:T(ee,null,this.renderFillSegs(a[y],"highlight"),this.renderFillSegs(o[y],"non-business"),this.renderFillSegs(l[y],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Ft(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,l){let{context:a}=this,{eventSelection:u}=this.props,{framePositions:c}=this.state,f=this.props.cells.length===1,h=s||o||l,d=[];if(c)for(let p of n){let{seg:v}=p,{instanceId:y}=v.eventRange.instance,m=p.isVisible&&!i[y],g=p.isAbsolute,E="",w="";g&&(a.isRtl?(w=0,E=c.lefts[v.lastCol]-c.lefts[v.firstCol]):(E=0,w=c.rights[v.firstCol]-c.rights[v.lastCol])),d.push(T("div",{className:"fc-daygrid-event-harness"+(g?" fc-daygrid-event-harness-abs":""),key:IE(v),ref:h?null:this.segHarnessRefs.createRef(xE(v)),style:{visibility:m?"":"hidden",marginTop:g?"":p.marginTop,top:g?p.absoluteTop:"",left:E,right:w}},RE(v)?T(ME,Object.assign({seg:v,isDragging:s,isSelected:y===u,defaultDisplayEventEnd:f},Mn(v,r))):T(NE,Object.assign({seg:v,isDragging:s,isResizing:o,isDateSelecting:l,isSelected:y===u,defaultDisplayEventEnd:f},Mn(v,r)))))}return d}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let l of e){let a=r?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};o.push(T("div",{key:W0(l.eventRange),className:"fc-daygrid-bg-harness",style:a},n==="bg-event"?T(hE,Object.assign({seg:l},Mn(l,i))):pE(n)))}return T(ee,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let a=n.cells.map(u=>i.currentMap[u.key]);if(a.length){let u=this.rootElRef.current,c=new li(u,a,!0,!1);(!r.framePositions||!r.framePositions.similarTo(c))&&this.setState({framePositions:new li(u,a,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}PE.addStateEquality({segHeights:Ft});function FO(t,e){if(!t.length)return[];let n=YO(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function YO(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class jO extends jt{constructor(){super(...arguments),this.splitBusinessHourSegs=z(po),this.splitBgEventSegs=z(po),this.splitFgEventSegs=z(po),this.splitDateSelectionSegs=z(po),this.splitEventDrag=z(vm),this.splitEventResize=z(vm),this.rowRefs=new Qt}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),a=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),c=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return T(Is,{unit:"day"},(f,h)=>T(ee,null,e.cells.map((d,p)=>T(PE,{ref:this.rowRefs.createRef(p),key:d.length?d[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:d,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:s[p].filter(VO),fgEventSegs:o[p],dateSelectionSegs:l[p],eventDrag:a[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new li(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new li(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let l=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=ze(r,1);return{start:r,end:i}}}function VO(t){return t.eventRange.def.allDay}class WO extends jt{constructor(){super(...arguments),this.elRef=je(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return T("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},T("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,T("tbody",{role:"presentation"},T(jO,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=$O(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function $O(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${MA(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${tf(e.currentDate)}"]`)),n}class GO extends oE{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class LE extends jt{constructor(){super(...arguments),this.slicer=new GO,this.tableRef=je()}render(){let{props:e,context:n}=this;return T(WO,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class qO extends N0{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return QO({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function QO(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=Vp(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(ze(n.end,-1))),l=Math.ceil(wA(o,i));i=Vp(i,6-l)}return{start:r,end:i}}class ZO extends jt{constructor(){super(...arguments),this.headerElRef=je()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=Ol(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),T(Dl,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},T(wf,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,a=!o.forPrint&&Ol(l.options),u=!o.forPrint&&dE(l.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Cc}]}),T(Dl,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},T(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:c}))}}class KO extends ZO{constructor(){super(...arguments),this.buildDayTableModel=z(XO),this.headerRef=je(),this.tableRef=je()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&T(rE,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=l=>T(LE,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function XO(t,e){let n=new iE(t.renderRange,e);return new sE(n,/year|month|week/.test(t.currentRangeUnit))}var JO=un({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:KO,dateProfileGeneratorClass:qO},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Sf.touchMouseIgnoreWait=500;let kc=0,Rl=0,Oc=!1;class zE{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&eR(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,tR()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.pageXOffset-this.prevScrollX+this.prevPageX,i=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new ua,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),nR()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),rR()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Le(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Oc=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Le(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return kc||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Oc=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,l=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:l}}}function eR(t){return t.button===0&&!t.ctrlKey}function tR(){kc+=1,setTimeout(()=>{kc-=1},Sf.touchMouseIgnoreWait)}function nR(){Rl+=1,Rl===1&&window.addEventListener("touchmove",HE,{passive:!1})}function rR(){Rl-=1,Rl||window.removeEventListener("touchmove",HE,{passive:!1})}function HE(t){Oc&&t.preventDefault()}class iR{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Zi(r,{left:i.left,top:i.top}),nA(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Kd(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Zi(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.classList.add("fc-event-dragging"),Zi(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class UE extends yf{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class BE extends UE{constructor(e,n){super(new Cb(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Db(this.scrollController.el)}}class sR extends UE{constructor(e){super(new bb,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const ym=typeof performance=="function"?performance.now:Date.now;class oR{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let n=ym();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.pageXOffset,i=n-window.pageYOffset,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ym()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let l=o.clientRect,a=e-l.left,u=l.right-e,c=n-l.top,f=l.bottom-n;a>=0&&u>=0&&c>=0&&f>=0&&(c<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"top",distance:c}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"bottom",distance:f}),a<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>a)&&(i={scrollCache:o,name:"left",distance:a}),u<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new sR(!1):new BE(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class xs extends Rb{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,rA(document.body),sA(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:l,deltaY:a}=i;o=l*l+a*a,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,iA(document.body),oA(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new zE(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new iR,this.autoScroller=new oR}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class lR{constructor(e){this.origRect=vf(e),this.scrollCaches=J0(e).map(n=>new BE(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!aR(i.getEventTarget())&&!db(r,i.clientRect))return!1;return!0}}function aR(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class ca{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ua}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=vf(i),r=fb(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let l=Z0(s,o.rect);l&&(r=hb(l))}this.coordAdjust=pb(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!da(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=sn(this.droppableStore,e=>(e.component.prepareHits(),new lR(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let l=r[o].component,a=i[o];if(a&&a.isWithinClipping(e,n)){let u=a.computeLeft(),c=a.computeTop(),f=e-u,h=n-c,{origRect:d}=a,p=d.right-d.left,v=d.bottom-d.top;if(f>=0&&f<p&&h>=0&&h<v){let y=l.queryHit(f,h,p,v);y&&la(y.dateProfile.activeRange,y.dateSpan.range)&&(!s||y.layer>s.layer)&&(y.componentId=o,y.context=l.context,y.rect.left+=u,y.rect.right+=u,y.rect.top+=c,y.rect.bottom+=c,s=y)}}}return s}}function da(t,e){return!t&&!e?!0:!!t!=!!e?!1:tb(t.dateSpan,e.dateSpan)}function FE(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,uR(t,e.dateEnv)),n}function uR(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class cR extends gi{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&da(o,l)){let{context:a}=i,u=Object.assign(Object.assign({},FE(o.dateSpan,a)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",u)}}},this.dragging=new xs(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new ca(this.dragging,mf(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class dR extends gi{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:a}=this,{options:u}=l.context,c=u.selectable&&l.isValidDateDownEl(o.origEvent.target);a.setIgnoreMove(!c),a.delay=o.isTouch?fR(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:a}=this.component,u=null,c=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(u=hR(f,o,a.pluginHooks.dateSelectionTransformers)),(!u||!Lb(u,o.dateProfile,a))&&(c=!0,u=null)}u?a.dispatch({type:"SELECT_DATES",selection:u}):l||a.dispatch({type:"UNSELECT_DATES"}),c?Xd():Jd(),l||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(B0(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new xs(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ca(this.dragging,mf(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function fR(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function hR(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(dA);let o={};for(let l of n){let a=l(t,e);if(a===!1)return null;a&&Object.assign(o,a)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class Ps extends gi{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:a,dragging:u}=this,{mirror:c}=u,{options:f}=a.context,h=a.context;this.subjectEl=o.subjectEl;let d=this.subjectSeg=oi(o.subjectEl),v=(this.eventRange=d.eventRange).instance.instanceId;this.relevantEvents=df(h.getCurrentData().eventStore,v),u.minDistance=o.isTouch?0:f.eventDragMinDistance,u.delay=o.isTouch&&v!==a.props.eventSelection?mR(a):null,f.fixedMirrorParent?c.parentNode=f.fixedMirrorParent:c.parentNode=Le(l,".fc"),c.revertDuration=f.dragRevertDuration;let y=a.isValidSegDownEl(l)&&!Le(l,".fc-event-resizer");u.setIgnoreMove(!y),this.isDragging=y&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,a=this.eventRange,u=a.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ie(l,a.def,a.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let a=this.relevantEvents,u=this.hitDragging.initialHit,c=this.component.context,f=null,h=null,d=null,p=!1,v={affectedEvents:a,mutatedEvents:st(),isEvent:!0};if(o){f=o.context;let y=f.options;c===f||y.editable&&y.droppable?(h=pR(u,o,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(d=pf(a,f.getCurrentData().eventUiBases,h,f),v.mutatedEvents=d,lE(v,o.dateProfile,f)||(p=!0,h=null,d=null,v.mutatedEvents=st()))):f=null}this.displayDrag(f,v),p?Xd():Jd(),l||(c===f&&da(u,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=d)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,a=l.viewApi,{receivingContext:u,validMutation:c}=this,f=this.eventRange.def,h=this.eventRange.instance,d=new ie(l,f,h),p=this.relevantEvents,v=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:d,jsEvent:o.origEvent,view:a}),c){if(u===l){let m=new ie(l,v.defs[f.defId],h?v.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let g={oldEvent:d,event:m,relatedEvents:ir(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}},E={};for(let w of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(E,w(c,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},g),E),{el:o.subjectEl,delta:c.datesDelta,jsEvent:o.origEvent,view:a})),l.emitter.trigger("eventChange",g)}else if(u){let m={event:d,relatedEvents:ir(p,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},m),{draggedEl:o.subjectEl,view:a})),l.dispatch({type:"REMOVE_EVENTS",eventStore:p}),l.emitter.trigger("eventRemove",m);let g=v.defs[f.defId],E=v.instances[h.instanceId],w=new ie(u,g,E);u.dispatch({type:"MERGE_EVENTS",eventStore:v});let D={event:w,relatedEvents:ir(v,u,E),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};u.emitter.trigger("eventAdd",D),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},FE(y.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:y.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:o.subjectEl,view:y.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new xs(e.el);i.pointer.selector=Ps.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ca(this.dragging,_c);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:st(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ps.SELECTOR=".fc-event-draggable, .fc-event-resizable";function pR(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=r.range.start,o=i.range.start,l={};r.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(s=K(s)));let a=Ur(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);a.milliseconds&&(l.allDay=!1);let u={datesDelta:a,standardProps:l};for(let c of n)c(u,t,e);return u}function mR(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class gR extends gi{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,l=this.querySegEl(s),a=oi(l),u=this.eventRange=a.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=df(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(s);this.draggingSegEl=a,this.draggingSeg=oi(a),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:a,event:new ie(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,l)=>{let{context:a}=this.component,u=this.relevantEvents,c=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,d=null,p=!1,v={affectedEvents:u,mutatedEvents:st(),isEvent:!0};s&&(s.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,s)||(h=vR(c,s,l.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(d=pf(u,a.getCurrentData().eventUiBases,h,a),v.mutatedEvents=d,lE(v,s.dateProfile,a)||(p=!0,h=null,d=null,v.mutatedEvents=null)),d?a.dispatch({type:"SET_EVENT_RESIZE",state:v}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),p?Xd():Jd(),o||(h&&da(c,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=d)},this.handleDragEnd=s=>{let{context:o}=this.component,l=this.eventRange.def,a=this.eventRange.instance,u=new ie(o,l,a),c=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new ie(o,f.defs[l.defId],a?f.instances[a.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let d={oldEvent:u,event:h,relatedEvents:ir(f,o,a),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:c})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},d),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||B(0),endDelta:this.validMutation.endDelta||B(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",d)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new xs(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new ca(this.dragging,mf(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Le(e.subjectEl,".fc-event")}}function vR(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,l=Ur(s,o,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class yR{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=v0(r.origEvent);this.matchesCancel=!!Le(s,i),this.matchesEvent=!!Le(s,Ps.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new zE(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ER={fixedMirrorParent:C},SR={dateClick:C,eventDragStart:C,eventDragStop:C,eventDrop:C,eventResizeStart:C,eventResizeStop:C,eventResize:C,drop:C,eventReceive:C,eventLeave:C};Sf.dataAttrPrefix="";var wR=un({name:"@fullcalendar/interaction",componentInteractions:[cR,dR,Ps,gR],calendarInteractions:[yR],elementDraggingImpl:xs,optionRefiners:ER,listenerRefiners:SR}),TR=\'.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\\\00a0-\\\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\';Qd(TR);class _R extends mb{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?$C(e)?["timed","allDay"]:["allDay"]:["timed"]}}const DR=le({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function YE(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return T(an.Consumer,null,n=>{if(!t.isLabeled)return T("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?DR:Array.isArray(i.slotLabelFormat)?le(i.slotLabelFormat[0]):le(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return T(ut,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:AR,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},a=>T("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},T(a,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function AR(t){return t.text}class CR extends q{render(){return this.props.slatMetas.map(e=>T("tr",{key:e.key},T(YE,Object.assign({},e))))}}const bR=le({week:"short"}),kR=5;class OR extends jt{constructor(){super(...arguments),this.allDaySplitter=new _R,this.headerElRef=je(),this.rootElRef=je(),this.scrollerElRef=je(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,l=yr(s.start,s.end)===1?kl(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?T(mE,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:bR},a=>T("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},T(a,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):T("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},T("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return T(ut,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:RR,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>T("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},T(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],l=Ol(i.options);return e&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:T("tr",{role:"presentation",className:"fc-scrollgrid-section"},T("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),T(Dl,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},T(wf,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,l){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:u,props:c}=this,f=!c.forPrint&&Ol(u.options),h=!c.forPrint&&dE(u.options),d=[];e&&d.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>T("tr",{role:"presentation"},this.renderHeadAxis("day",v.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(d.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>T("tr",{role:"presentation"},this.renderTableRowAxis(v.rowSyncHeights[0]))},{key:"cols",content:n}]}),d.push({key:"all-day-divider",type:"body",outerContent:T("tr",{role:"presentation",className:"fc-scrollgrid-section"},T("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return d.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:v=>T("div",{className:"fc-timegrid-axis-chunk"},T("table",{"aria-hidden":!0,style:{height:v.expandRows?v.clientHeight:""}},v.tableColGroupNode,T("tbody",null,T(CR,{slatMetas:o}))),T("div",{className:"fc-timegrid-now-indicator-container"},T(Is,{unit:p?"minute":"day"},y=>{let m=p&&l&&l.safeComputeTop(y);return typeof m=="number"?T(_f,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:m},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&d.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Cc},{key:"cols",content:Cc}]}),T(Dl,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},T(a,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:d}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=kR),{dayMaxEvents:e,dayMaxEventRows:n}}}function RR(t){return t.text}class NR{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Xt(n.currentRange,e)){let r=K(e),i=e.valueOf()-r.valueOf();if(i>=kt(n.slotMinTime)&&i<kt(n.slotMaxTime))return this.computeTimeTop(B(i))}return null}computeDateTop(e,n){return n||(n=K(e)),this.computeTimeTop(B(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-kt(r.slotMinTime))/kt(this.slotDuration),o,l;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),l=s-o,n.tops[o]+n.getHeight(o)*l}}class MR extends q{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return T("tbody",null,e.slatMetas.map((s,o)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return T("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&T(YE,Object.assign({},s)),T(ut,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class IR extends q{constructor(){super(...arguments),this.rootElRef=je(),this.slatElRefs=new Qt}render(){let{props:e,context:n}=this;return T("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},T("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,T(MR,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new NR(new li(this.rootElRef.current,xR(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function xR(t,e){return e.map(n=>t[n.key])}function ki(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function Em(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class PR extends q{render(){let{props:e}=this;return T(gE,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>VE(e.hiddenSegs,e),defaultGenerator:LR,forceTimed:!0},n=>T(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function LR(t){return t.shortText}function zR(t,e,n){let r=new eE;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=kb(i),o=HR(r);return o=YR(o,1),{segRects:jR(o),hiddenGroups:s}}function HR(t){const{entriesByLevel:e}=t,n=bf((r,i)=>r+":"+i,(r,i)=>{let s=FR(t,r,i),o=Sm(s,n),l=e[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]});return Sm(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function Sm(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(UR),[o.map(BR),o[0][1]]}function UR(t,e){return e[1]-t[1]}function BR(t){return t[0]}function FR(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,l=r.length,a=e;for(;a<l&&r[a]<o;a+=1);for(;a<l;a+=1){let u=i[a],c,f=Ac(u,s.span.start,Dc),h=f[0]+f[1],d=h;for(;(c=u[d])&&c.span.start<s.span.end;)d+=1;if(h<d)return{level:a,lateralStart:h,lateralEnd:d}}return null}function YR(t,e){const n=bf((r,i,s)=>sr(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:l}=r,a=l+s,u=l/a,c,f=[];if(!o.length)c=e;else for(let d of o)if(c===void 0){let p=n(d,i,a);c=p[0],f.push(p[1])}else{let p=n(d,c,0);f.push(p[1])}let h=(c-i)*u;return[c-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:f})]});return t.map(r=>n(r,0,0)[1])}function jR(t){let e=[];const n=bf((i,s,o)=>sr(i),(i,s,o)=>{let l=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let l=0;for(let a of i)l=Math.max(n(a,s,o),l);return l}return r(t,0,0),e}function bf(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function wm(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],l=n.computeDateTop(o.start,e),a=Math.max(l+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(l),end:Math.round(a)})}return i}function VR(t,e,n,r){let i=[],s=[];for(let u=0;u<t.length;u+=1){let c=e[u];c?i.push({index:u,thickness:1,span:c}):s.push(t[u])}let{segRects:o,hiddenGroups:l}=zR(i,n,r),a=[];for(let u of o)a.push({seg:t[u.index],rect:u});for(let u of s)a.push({seg:u,rect:null});return{segPlacements:a,hiddenGroups:l}}const WR=le({hour:"numeric",minute:"2-digit",meridiem:!1});class jE extends q{render(){return T(fE,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:WR}))}}class $R extends q{constructor(){super(...arguments),this.sortEventSegs=z(j0)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return T(Df,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},a=>T("div",{className:"fc-timegrid-col-frame"},T("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),T("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,o,!1,!1,!1)),T("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),T("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Af(r)&&T(a,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:l}=this;return l.forPrint?VE(e,l):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:l,eventShortHeight:a,eventOrderStrict:u,eventMinHeight:c}=this.context.options,{date:f,slatCoords:h,eventSelection:d,todayRange:p,nowDate:v}=this.props,y=r||i||s,m=wm(e,f,h,c),{segPlacements:g,hiddenGroups:E}=VR(e,m,u,l);return T(ee,null,this.renderHiddenGroups(E,e),g.map(w=>{let{seg:D,rect:_}=w,b=D.eventRange.instance.instanceId,A=y||!!(!n[b]&&_),x=uu(_&&_.span),P=!y&&_?this.computeSegHStyle(_):{left:0,right:0},W=!!_&&_.stackForward>0,$=!!_&&_.span.end-_.span.start<a;return T("div",{className:"fc-timegrid-event-harness"+(W?" fc-timegrid-event-harness-inset":""),key:o||b,style:Object.assign(Object.assign({visibility:A?"":"hidden"},x),P)},T(jE,Object.assign({seg:D,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:b===d,isShort:$},Mn(D,p,v))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:l,eventDrag:a,eventResize:u}=this.props;return T(ee,null,e.map(c=>{let f=uu(c.span),h=GR(c.entries,n);return T(PR,{key:T0(vE(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:l,eventDrag:a,eventResize:u})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=wm(e,r.date,r.slatCoords,i.options.eventMinHeight).map((l,a)=>{let u=e[a];return T("div",{key:W0(u.eventRange),className:"fc-timegrid-bg-harness",style:uu(l)},n==="bg-event"?T(hE,Object.assign({seg:u},Mn(u,r.todayRange,r.nowDate))):pE(n))});return T(ee,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>T(_f,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,l,a;i&&(o=Math.min(1,s+(o-s)*2)),n?(l=1-o,a=s):(l=s,a=1-o);let u={zIndex:e.stackDepth+1,left:l*100+"%",right:a*100+"%"};return i&&!e.stackForward&&(u[n?"marginLeft":"marginRight"]=10*2),u}}function VE(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return T(ee,null,t.map(l=>{let a=l.eventRange.instance.instanceId;return T("div",{key:a,style:{visibility:o[a]?"hidden":""}},T(jE,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===r,isShort:!1},Mn(l,e,n))))}))}function uu(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function GR(t,e){return t.map(n=>e[n.index])}class qR extends q{constructor(){super(...arguments),this.splitFgEventSegs=z(ki),this.splitBgEventSegs=z(ki),this.splitBusinessHourSegs=z(ki),this.splitNowIndicatorSegs=z(ki),this.splitDateSelectionSegs=z(ki),this.splitEventDrag=z(Em),this.splitEventResize=z(Em),this.rootElRef=je(),this.cellElRefs=new Qt}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),c=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return T("div",{className:"fc-timegrid-cols",ref:this.rootElRef},T("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,T("tbody",{role:"presentation"},T("tr",{role:"row"},e.axis&&T("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},T("div",{className:"fc-timegrid-col-frame"},T("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&T(_f,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((h,d)=>T($R,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[d],bgEventSegs:o[d],businessHourSegs:l[d],nowIndicatorSegs:a[d],dateSelectionSegs:u[d],eventDrag:c[d],eventResize:f[d],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new li(this.rootElRef.current,QR(this.cellElRefs.currentMap,e.cells),!0,!1))}}function QR(t,e){return e.map(n=>t[n.key])}class ZR extends jt{constructor(){super(...arguments),this.processSlotOptions=z(KR),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return T("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},T(IR,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),T(qR,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:a,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),c=s.leftToIndex(e),f=l.positions.topToIndex(n);if(c!=null&&f!=null){let h=this.props.cells[c],d=l.positions.tops[f],p=l.positions.getHeight(f),v=(n-d)/p,y=Math.floor(v*u),m=f*u+y,g=this.props.cells[c].date,E=vc(o.slotMinTime,vA(a,m)),w=r.add(g,E),D=r.add(w,a);return{dateProfile:o,dateSpan:Object.assign({range:{start:w,end:D},allDay:!1},h.extraDateSpan),dayEl:s.els[c],rect:{left:s.lefts[c],right:s.rights[c],top:d,bottom:d+p},layer:0}}return null}}function KR(t,e){let n=e||t,r=ef(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class XR extends oE{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=fr(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class JR extends jt{constructor(){super(...arguments),this.buildDayRanges=z(eN),this.slicer=new XR,this.timeColsRef=je()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return T(Is,{unit:s?"minute":"day"},(a,u)=>T(ZR,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:s&&this.slicer.sliceNowDate(a,r,o,n,l),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function eN(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const Tm=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function tN(t,e,n,r,i){let s=new Date(0),o=t,l=B(0),a=n||nN(r),u=[];for(;kt(o)<kt(e);){let c=i.add(s,o),f=ef(l,a)!==null;u.push({date:c,time:o,key:c.toISOString(),isoTimeStr:IA(c),isLabeled:f}),o=vc(o,r),l=vc(l,r)}return u}function nN(t){let e,n,r;for(e=Tm.length-1;e>=0;e-=1)if(n=B(Tm[e]),r=ef(n,t),r!==null&&r>1)return n;return t}class rN extends OR{constructor(){super(...arguments),this.buildTimeColsModel=z(iN),this.buildSlatMetas=z(tN)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),l=this.allDaySplitter.splitProps(i),a=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:u}=e,c=!u,f=u,h=e.dayHeaders&&T(rE,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),d=e.allDaySlot!==!1&&(v=>T(LE,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:v.tableMinWidth,colGroupNode:v.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:v.clientWidth,clientHeight:v.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),p=v=>T(JR,Object.assign({},l.timed,{dayTableModel:o,dateProfile:s,axis:c,slotDuration:e.slotDuration,slatMetas:a,forPrint:i.forPrint,tableColGroupNode:v.tableColGroupNode,tableMinWidth:v.tableMinWidth,clientWidth:v.clientWidth,clientHeight:v.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:v.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,d,p,o.colCnt,u,a,this.state.slatCoords):this.renderSimpleLayout(h,d,p)}}function iN(t,e){let n=new iE(t.renderRange,e);return new sE(n,!1)}const sN={allDaySlot:Boolean};var oN=un({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:sN,views:{timeGrid:{component:rN,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});function lN(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function aN(){const[t,e,n,r,i]=Ga(d=>[d.requestStateUpdate,d.setHoveringPath,d.setDetailPath,d.showInEditor,d.newEvent],(d,p)=>!0),s=Ga(d=>{var p;return(p=d.appState)==null?void 0:p.isDark}),o=Ga(d=>d.events,lN);Mt.useEffect(()=>{t()},[]);const l=d=>e(d.event.id.split(",").map(p=>parseInt(p))),a=()=>{e()},u=d=>{const p=d.event.id.split(",").map(v=>parseInt(v));n(p),r(p)},c=d=>{i({fromDateTimeIso:d.startStr,toDateTimeIso:d.endStr},!1),h.current.getApi().unselect()},f=d=>{const p=[],v=H.fromJSDate(d.date);return v.day<8&&(v.day===1&&p.push("firstDayOfMonth"),p.push("firstWeekOfMonth")),p},h=Mt.createRef();return Li.jsx("div",{className:`h-full w-full ${s?"dark":""}`,children:Li.jsx("div",{className:"h-full w-full dark:bg-slate-800 dark:text-slate-100 text-slate-900 bg-white calendar-container",children:Li.jsx(bE,{ref:h,plugins:[JO,wR,oN],editable:!0,initialView:"dayGridYear",height:"100%",windowResizeDelay:0,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridYear,timeGridWeek,timeGridDay"},buttonText:{year:"Month"},events:o,eventMouseEnter:l,eventMouseLeave:a,eventClick:u,eventClassNames:["cursor-pointer"],dayCellClassNames:f,selectable:!0,select:c})})})}cu.createRoot(document.getElementById("root")).render(Li.jsx(Ho.StrictMode,{children:Li.jsx(aN,{})}));\n\n<\/script>\n    <style>\n*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.h-full{height:100%}.w-full{width:100%}.cursor-pointer{cursor:pointer}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.text-slate-900{--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}:root,body,#root{width:100%;height:100%;padding:0;margin:0}:root{--fc-border-color: rgba(155, 155, 155, .1) !important;--fc-today-bg-color: rgb(255 255 255 / 0%) !important}.calendar-container{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.fc .fc-header-toolbar.fc-toolbar{margin:0;padding:.5rem;font-size:.75rem;line-height:1rem}.firstDayOfMonth{border-left-width:2px!important;--tw-border-opacity: 1 !important;border-left-color:rgb(148 163 184 / var(--tw-border-opacity))!important}.firstWeekOfMonth{border-top-width:2px!important;--tw-border-opacity: 1 !important;border-top-color:rgb(148 163 184 / var(--tw-border-opacity))!important}.fc-button{text-transform:capitalize!important}.fc-today-button{--tw-bg-opacity: 1 !important;background-color:rgb(67 56 202 / var(--tw-bg-opacity))!important}.fc-day-sat,.fc-day-sun{--tw-bg-opacity: 1 !important;background-color:rgb(241 245 249 / var(--tw-bg-opacity))!important}:is(.dark .fc-day-sat),:is(.dark .fc-day-sun){--tw-bg-opacity: 1 !important;background-color:rgb(51 65 85 / var(--tw-bg-opacity))!important}.fc-day-today .fc-daygrid-day-top,.fc-col-header-cell.fc-day-today{--tw-bg-opacity: 1 !important;background-color:rgb(99 102 241 / var(--tw-bg-opacity))!important;--tw-text-opacity: 1 !important;color:rgb(241 245 249 / var(--tw-text-opacity))!important}:is(.dark .dark\\:bg-slate-800){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:text-slate-100){--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}\n\n</style>\n  </head>\n  <body>\n    <div id="root"></div>\n    <!-- <script src="http://localhost:8097"><\/script> -->\n    \n  </body>\n</html>\n',Wa='<html>\n  <head>\n    <meta charset="utf-8" />\n    <title>Calendar</title>\n    <style></style>\n    <script type="module" crossorigin>\nvar ns=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var Ml=ns((bl,st)=>{(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll(\'link[rel="modulepreload"]\'))h(u);new MutationObserver(u=>{for(const v of u)if(v.type==="childList")for(const T of v.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&h(T)}).observe(document,{childList:!0,subtree:!0});function n(u){const v={};return u.integrity&&(v.integrity=u.integrity),u.referrerPolicy&&(v.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?v.credentials="include":u.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function h(u){if(u.ep)return;u.ep=!0;const v=n(u);fetch(u.href,v)}})();//! moment.js\n//! version : 2.29.4\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\nvar za;function D(){return za.apply(null,arguments)}function ls(e){za=e}function ne(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function He(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function L(e,i){return Object.prototype.hasOwnProperty.call(e,i)}function jt(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var i;for(i in e)if(L(e,i))return!1;return!0}function ee(e){return e===void 0}function De(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function qe(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Ia(e,i){var n=[],h,u=e.length;for(h=0;h<u;++h)n.push(i(e[h],h));return n}function Se(e,i){for(var n in i)L(i,n)&&(e[n]=i[n]);return L(i,"toString")&&(e.toString=i.toString),L(i,"valueOf")&&(e.valueOf=i.valueOf),e}function ue(e,i,n,h){return sr(e,i,n,h,!0).utc()}function ds(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function H(e){return e._pf==null&&(e._pf=ds()),e._pf}var kt;Array.prototype.some?kt=Array.prototype.some:kt=function(e){var i=Object(this),n=i.length>>>0,h;for(h=0;h<n;h++)if(h in i&&e.call(this,i[h],h,i))return!0;return!1};function Nt(e){if(e._isValid==null){var i=H(e),n=kt.call(i.parsedDateParts,function(u){return u!=null}),h=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(e._strict&&(h=h&&i.charsLeftOver===0&&i.unusedTokens.length===0&&i.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=h;else return h}return e._isValid}function ct(e){var i=ue(NaN);return e!=null?Se(H(i),e):H(i).userInvalidated=!0,i}var Sa=D.momentProperties=[],xt=!1;function Yt(e,i){var n,h,u,v=Sa.length;if(ee(i._isAMomentObject)||(e._isAMomentObject=i._isAMomentObject),ee(i._i)||(e._i=i._i),ee(i._f)||(e._f=i._f),ee(i._l)||(e._l=i._l),ee(i._strict)||(e._strict=i._strict),ee(i._tzm)||(e._tzm=i._tzm),ee(i._isUTC)||(e._isUTC=i._isUTC),ee(i._offset)||(e._offset=i._offset),ee(i._pf)||(e._pf=H(i)),ee(i._locale)||(e._locale=i._locale),v>0)for(n=0;n<v;n++)h=Sa[n],u=i[h],ee(u)||(e[h]=u);return e}function $e(e){Yt(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),xt===!1&&(xt=!0,D.updateOffset(this),xt=!1)}function le(e){return e instanceof $e||e!=null&&e._isAMomentObject!=null}function Wa(e){D.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function se(e,i){var n=!0;return Se(function(){if(D.deprecationHandler!=null&&D.deprecationHandler(null,e),n){var h=[],u,v,T,C=arguments.length;for(v=0;v<C;v++){if(u="",typeof arguments[v]=="object"){u+=`\n[`+v+"] ";for(T in arguments[0])L(arguments[0],T)&&(u+=T+": "+arguments[0][T]+", ");u=u.slice(0,-2)}else u=arguments[v];h.push(u)}Wa(e+`\nArguments: `+Array.prototype.slice.call(h).join("")+`\n`+new Error().stack),n=!1}return i.apply(this,arguments)},i)}var Fa={};function _a(e,i){D.deprecationHandler!=null&&D.deprecationHandler(e,i),Fa[e]||(Wa(i),Fa[e]=!0)}D.suppressDeprecationWarnings=!1;D.deprecationHandler=null;function ge(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function hs(e){var i,n;for(n in e)L(e,n)&&(i=e[n],ge(i)?this[n]=i:this["_"+n]=i);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\\d{1,2}/.source)}function At(e,i){var n=Se({},e),h;for(h in i)L(i,h)&&(He(e[h])&&He(i[h])?(n[h]={},Se(n[h],e[h]),Se(n[h],i[h])):i[h]!=null?n[h]=i[h]:delete n[h]);for(h in e)L(e,h)&&!L(i,h)&&He(e[h])&&(n[h]=Se({},n[h]));return n}function wt(e){e!=null&&this.set(e)}var Bt;Object.keys?Bt=Object.keys:Bt=function(e){var i,n=[];for(i in e)L(e,i)&&n.push(i);return n};var cs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function us(e,i,n){var h=this._calendar[e]||this._calendar.sameElse;return ge(h)?h.call(i,n):h}function ce(e,i,n){var h=""+Math.abs(e),u=i-h.length,v=e>=0;return(v?n?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+h}var Ut=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oe=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mt={},Ie={};function F(e,i,n,h){var u=h;typeof h=="string"&&(u=function(){return this[h]()}),e&&(Ie[e]=u),i&&(Ie[i[0]]=function(){return ce(u.apply(this,arguments),i[1],i[2])}),n&&(Ie[n]=function(){return this.localeData().ordinal(u.apply(this,arguments),e)})}function gs(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,""):e.replace(/\\\\/g,"")}function ms(e){var i=e.match(Ut),n,h;for(n=0,h=i.length;n<h;n++)Ie[i[n]]?i[n]=Ie[i[n]]:i[n]=gs(i[n]);return function(u){var v="",T;for(T=0;T<h;T++)v+=ge(i[T])?i[T].call(u,e):i[T];return v}}function tt(e,i){return e.isValid()?(i=La(i,e.localeData()),Mt[i]=Mt[i]||ms(i),Mt[i](e)):e.localeData().invalidDate()}function La(e,i){var n=5;function h(u){return i.longDateFormat(u)||u}for(Oe.lastIndex=0;n>=0&&Oe.test(e);)e=e.replace(Oe,h),Oe.lastIndex=0,n-=1;return e}var ps={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vs(e){var i=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return i||!n?i:(this._longDateFormat[e]=n.match(Ut).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[e])}var fs="Invalid date";function Ts(){return this._invalidDate}var Ds="%d",ys=/\\d{1,2}/;function Es(e){return this._ordinal.replace("%d",e)}var Cs={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ss(e,i,n,h){var u=this._relativeTime[n];return ge(u)?u(e,i,n,h):u.replace(/%d/i,e)}function Fs(e,i){var n=this._relativeTime[e>0?"future":"past"];return ge(n)?n(i):n.replace(/%s/i,i)}var Ye={};function O(e,i){var n=e.toLowerCase();Ye[n]=Ye[n+"s"]=Ye[i]=e}function ie(e){return typeof e=="string"?Ye[e]||Ye[e.toLowerCase()]:void 0}function Gt(e){var i={},n,h;for(h in e)L(e,h)&&(n=ie(h),n&&(i[n]=e[h]));return i}var Ra={};function V(e,i){Ra[e]=i}function xs(e){var i=[],n;for(n in e)L(e,n)&&i.push({unit:n,priority:Ra[n]});return i.sort(function(h,u){return h.priority-u.priority}),i}function ut(e){return e%4===0&&e%100!==0||e%400===0}function re(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function A(e){var i=+e,n=0;return i!==0&&isFinite(i)&&(n=re(i)),n}function Le(e,i){return function(n){return n!=null?(Za(this,e,n),D.updateOffset(this,i),this):it(this,e)}}function it(e,i){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+i]():NaN}function Za(e,i,n){e.isValid()&&!isNaN(n)&&(i==="FullYear"&&ut(e.year())&&e.month()===1&&e.date()===29?(n=A(n),e._d["set"+(e._isUTC?"UTC":"")+i](n,e.month(),Tt(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+i](n))}function Ms(e){return e=ie(e),ge(this[e])?this[e]():this}function Ps(e,i){if(typeof e=="object"){e=Gt(e);var n=xs(e),h,u=n.length;for(h=0;h<u;h++)this[n[h].unit](e[n[h].unit])}else if(e=ie(e),ge(this[e]))return this[e](i);return this}var ja=/\\d/,ae=/\\d\\d/,Na=/\\d{3}/,Xt=/\\d{4}/,gt=/[+-]?\\d{6}/,Y=/\\d\\d?/,Ya=/\\d\\d\\d\\d?/,wa=/\\d\\d\\d\\d\\d\\d?/,mt=/\\d{1,3}/,qt=/\\d{1,4}/,pt=/[+-]?\\d{1,6}/,Re=/\\d+/,vt=/[+-]?\\d+/,bs=/Z|[+-]\\d\\d:?\\d\\d/gi,ft=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,Hs=/[+-]?\\d+(\\.\\d{1,3})?/,Ke=/[0-9]{0,256}[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,ot;ot={};function E(e,i,n){ot[e]=ge(i)?i:function(h,u){return h&&n?n:i}}function ks(e,i){return L(ot,e)?ot[e](i._strict,i._locale):new RegExp(As(e))}function As(e){return te(e.replace("\\\\","").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(i,n,h,u,v){return n||h||u||v}))}function te(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")}var zt={};function Z(e,i){var n,h=i,u;for(typeof e=="string"&&(e=[e]),De(i)&&(h=function(v,T){T[i]=A(v)}),u=e.length,n=0;n<u;n++)zt[e[n]]=h}function Je(e,i){Z(e,function(n,h,u,v){u._w=u._w||{},i(n,u._w,u,v)})}function Bs(e,i,n){i!=null&&L(zt,e)&&zt[e](i,n._a,n,e)}var Q=0,ve=1,he=2,K=3,oe=4,fe=5,be=6,zs=7,Is=8;function Ws(e,i){return(e%i+i)%i}var G;Array.prototype.indexOf?G=Array.prototype.indexOf:G=function(e){var i;for(i=0;i<this.length;++i)if(this[i]===e)return i;return-1};function Tt(e,i){if(isNaN(e)||isNaN(i))return NaN;var n=Ws(i,12);return e+=(i-n)/12,n===1?ut(e)?29:28:31-n%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1});F("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});F("MMMM",0,0,function(e){return this.localeData().months(this,e)});O("month","M");V("month",8);E("M",Y);E("MM",Y,ae);E("MMM",function(e,i){return i.monthsShortRegex(e)});E("MMMM",function(e,i){return i.monthsRegex(e)});Z(["M","MM"],function(e,i){i[ve]=A(e)-1});Z(["MMM","MMMM"],function(e,i,n,h){var u=n._locale.monthsParse(e,h,n._strict);u!=null?i[ve]=u:H(n).invalidMonth=e});var _s="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ga=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,Ls=Ke,Rs=Ke;function Zs(e,i){return e?ne(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ga).test(i)?"format":"standalone"][e.month()]:ne(this._months)?this._months:this._months.standalone}function js(e,i){return e?ne(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ga.test(i)?"format":"standalone"][e.month()]:ne(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ns(e,i,n){var h,u,v,T=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)v=ue([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(v,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(v,"").toLocaleLowerCase();return n?i==="MMM"?(u=G.call(this._shortMonthsParse,T),u!==-1?u:null):(u=G.call(this._longMonthsParse,T),u!==-1?u:null):i==="MMM"?(u=G.call(this._shortMonthsParse,T),u!==-1?u:(u=G.call(this._longMonthsParse,T),u!==-1?u:null)):(u=G.call(this._longMonthsParse,T),u!==-1?u:(u=G.call(this._shortMonthsParse,T),u!==-1?u:null))}function Ys(e,i,n){var h,u,v;if(this._monthsParseExact)return Ns.call(this,e,i,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(u=ue([2e3,h]),n&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),!n&&!this._monthsParse[h]&&(v="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[h]=new RegExp(v.replace(".",""),"i")),n&&i==="MMMM"&&this._longMonthsParse[h].test(e))return h;if(n&&i==="MMM"&&this._shortMonthsParse[h].test(e))return h;if(!n&&this._monthsParse[h].test(e))return h}}function Xa(e,i){var n;if(!e.isValid())return e;if(typeof i=="string"){if(/^\\d+$/.test(i))i=A(i);else if(i=e.localeData().monthsParse(i),!De(i))return e}return n=Math.min(e.date(),Tt(e.year(),i)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](i,n),e}function qa(e){return e!=null?(Xa(this,e),D.updateOffset(this,!0),this):it(this,"Month")}function ws(){return Tt(this.year(),this.month())}function Us(e){return this._monthsParseExact?(L(this,"_monthsRegex")||$a.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(L(this,"_monthsShortRegex")||(this._monthsShortRegex=Ls),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Gs(e){return this._monthsParseExact?(L(this,"_monthsRegex")||$a.call(this),e?this._monthsStrictRegex:this._monthsRegex):(L(this,"_monthsRegex")||(this._monthsRegex=Rs),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function $a(){function e(T,C){return C.length-T.length}var i=[],n=[],h=[],u,v;for(u=0;u<12;u++)v=ue([2e3,u]),i.push(this.monthsShort(v,"")),n.push(this.months(v,"")),h.push(this.months(v,"")),h.push(this.monthsShort(v,""));for(i.sort(e),n.sort(e),h.sort(e),u=0;u<12;u++)i[u]=te(i[u]),n[u]=te(n[u]);for(u=0;u<24;u++)h[u]=te(h[u]);this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}F("Y",0,0,function(){var e=this.year();return e<=9999?ce(e,4):"+"+e});F(0,["YY",2],0,function(){return this.year()%100});F(0,["YYYY",4],0,"year");F(0,["YYYYY",5],0,"year");F(0,["YYYYYY",6,!0],0,"year");O("year","y");V("year",1);E("Y",vt);E("YY",Y,ae);E("YYYY",qt,Xt);E("YYYYY",pt,gt);E("YYYYYY",pt,gt);Z(["YYYYY","YYYYYY"],Q);Z("YYYY",function(e,i){i[Q]=e.length===2?D.parseTwoDigitYear(e):A(e)});Z("YY",function(e,i){i[Q]=D.parseTwoDigitYear(e)});Z("Y",function(e,i){i[Q]=parseInt(e,10)});function we(e){return ut(e)?366:365}D.parseTwoDigitYear=function(e){return A(e)+(A(e)>68?1900:2e3)};var Ka=Le("FullYear",!0);function Xs(){return ut(this.year())}function qs(e,i,n,h,u,v,T){var C;return e<100&&e>=0?(C=new Date(e+400,i,n,h,u,v,T),isFinite(C.getFullYear())&&C.setFullYear(e)):C=new Date(e,i,n,h,u,v,T),C}function Ue(e){var i,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,i=new Date(Date.UTC.apply(null,n)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e)):i=new Date(Date.UTC.apply(null,arguments)),i}function nt(e,i,n){var h=7+i-n,u=(7+Ue(e,0,h).getUTCDay()-i)%7;return-u+h-1}function Ja(e,i,n,h,u){var v=(7+n-h)%7,T=nt(e,h,u),C=1+7*(i-1)+v+T,P,b;return C<=0?(P=e-1,b=we(P)+C):C>we(e)?(P=e+1,b=C-we(e)):(P=e,b=C),{year:P,dayOfYear:b}}function Ge(e,i,n){var h=nt(e.year(),i,n),u=Math.floor((e.dayOfYear()-h-1)/7)+1,v,T;return u<1?(T=e.year()-1,v=u+Te(T,i,n)):u>Te(e.year(),i,n)?(v=u-Te(e.year(),i,n),T=e.year()+1):(T=e.year(),v=u),{week:v,year:T}}function Te(e,i,n){var h=nt(e,i,n),u=nt(e+1,i,n);return(we(e)-h+u)/7}F("w",["ww",2],"wo","week");F("W",["WW",2],"Wo","isoWeek");O("week","w");O("isoWeek","W");V("week",5);V("isoWeek",5);E("w",Y);E("ww",Y,ae);E("W",Y);E("WW",Y,ae);Je(["w","ww","W","WW"],function(e,i,n,h){i[h.substr(0,1)]=A(e)});function $s(e){return Ge(e,this._week.dow,this._week.doy).week}var Ks={dow:0,doy:6};function Js(){return this._week.dow}function Qs(){return this._week.doy}function Os(e){var i=this.localeData().week(this);return e==null?i:this.add((e-i)*7,"d")}function Vs(e){var i=Ge(this,1,4).week;return e==null?i:this.add((e-i)*7,"d")}F("d",0,"do","day");F("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});F("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});F("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});F("e",0,0,"weekday");F("E",0,0,"isoWeekday");O("day","d");O("weekday","e");O("isoWeekday","E");V("day",11);V("weekday",11);V("isoWeekday",11);E("d",Y);E("e",Y);E("E",Y);E("dd",function(e,i){return i.weekdaysMinRegex(e)});E("ddd",function(e,i){return i.weekdaysShortRegex(e)});E("dddd",function(e,i){return i.weekdaysRegex(e)});Je(["dd","ddd","dddd"],function(e,i,n,h){var u=n._locale.weekdaysParse(e,h,n._strict);u!=null?i.d=u:H(n).invalidWeekday=e});Je(["d","e","E"],function(e,i,n,h){i[h]=A(e)});function ei(e,i){return typeof e!="string"?e:isNaN(e)?(e=i.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ti(e,i){return typeof e=="string"?i.weekdaysParse(e)%7||7:isNaN(e)?null:e}function $t(e,i){return e.slice(i,7).concat(e.slice(0,i))}var ai="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ri="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),si=Ke,ii=Ke,oi=Ke;function ni(e,i){var n=ne(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(i)?"format":"standalone"];return e===!0?$t(n,this._week.dow):e?n[e.day()]:n}function li(e){return e===!0?$t(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function di(e){return e===!0?$t(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function hi(e,i,n){var h,u,v,T=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)v=ue([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(v,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(v,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(v,"").toLocaleLowerCase();return n?i==="dddd"?(u=G.call(this._weekdaysParse,T),u!==-1?u:null):i==="ddd"?(u=G.call(this._shortWeekdaysParse,T),u!==-1?u:null):(u=G.call(this._minWeekdaysParse,T),u!==-1?u:null):i==="dddd"?(u=G.call(this._weekdaysParse,T),u!==-1||(u=G.call(this._shortWeekdaysParse,T),u!==-1)?u:(u=G.call(this._minWeekdaysParse,T),u!==-1?u:null)):i==="ddd"?(u=G.call(this._shortWeekdaysParse,T),u!==-1||(u=G.call(this._weekdaysParse,T),u!==-1)?u:(u=G.call(this._minWeekdaysParse,T),u!==-1?u:null)):(u=G.call(this._minWeekdaysParse,T),u!==-1||(u=G.call(this._weekdaysParse,T),u!==-1)?u:(u=G.call(this._shortWeekdaysParse,T),u!==-1?u:null))}function ci(e,i,n){var h,u,v;if(this._weekdaysParseExact)return hi.call(this,e,i,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(u=ue([2e3,1]).day(h),n&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(u,"").replace(".","\\\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(u,"").replace(".","\\\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(u,"").replace(".","\\\\.?")+"$","i")),this._weekdaysParse[h]||(v="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[h]=new RegExp(v.replace(".",""),"i")),n&&i==="dddd"&&this._fullWeekdaysParse[h].test(e))return h;if(n&&i==="ddd"&&this._shortWeekdaysParse[h].test(e))return h;if(n&&i==="dd"&&this._minWeekdaysParse[h].test(e))return h;if(!n&&this._weekdaysParse[h].test(e))return h}}function ui(e){if(!this.isValid())return e!=null?this:NaN;var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ei(e,this.localeData()),this.add(e-i,"d")):i}function gi(e){if(!this.isValid())return e!=null?this:NaN;var i=(this.day()+7-this.localeData()._week.dow)%7;return e==null?i:this.add(e-i,"d")}function mi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var i=ti(e,this.localeData());return this.day(this.day()%7?i:i-7)}else return this.day()||7}function pi(e){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(L(this,"_weekdaysRegex")||(this._weekdaysRegex=si),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function vi(e){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(L(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ii),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function fi(e){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(L(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=oi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(k,I){return I.length-k.length}var i=[],n=[],h=[],u=[],v,T,C,P,b;for(v=0;v<7;v++)T=ue([2e3,1]).day(v),C=te(this.weekdaysMin(T,"")),P=te(this.weekdaysShort(T,"")),b=te(this.weekdays(T,"")),i.push(C),n.push(P),h.push(b),u.push(C),u.push(P),u.push(b);i.sort(e),n.sort(e),h.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Ti(){return this.hours()||24}F("H",["HH",2],0,"hour");F("h",["hh",2],0,Jt);F("k",["kk",2],0,Ti);F("hmm",0,0,function(){return""+Jt.apply(this)+ce(this.minutes(),2)});F("hmmss",0,0,function(){return""+Jt.apply(this)+ce(this.minutes(),2)+ce(this.seconds(),2)});F("Hmm",0,0,function(){return""+this.hours()+ce(this.minutes(),2)});F("Hmmss",0,0,function(){return""+this.hours()+ce(this.minutes(),2)+ce(this.seconds(),2)});function Oa(e,i){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),i)})}Oa("a",!0);Oa("A",!1);O("hour","h");V("hour",13);function Va(e,i){return i._meridiemParse}E("a",Va);E("A",Va);E("H",Y);E("h",Y);E("k",Y);E("HH",Y,ae);E("hh",Y,ae);E("kk",Y,ae);E("hmm",Ya);E("hmmss",wa);E("Hmm",Ya);E("Hmmss",wa);Z(["H","HH"],K);Z(["k","kk"],function(e,i,n){var h=A(e);i[K]=h===24?0:h});Z(["a","A"],function(e,i,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Z(["h","hh"],function(e,i,n){i[K]=A(e),H(n).bigHour=!0});Z("hmm",function(e,i,n){var h=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h)),H(n).bigHour=!0});Z("hmmss",function(e,i,n){var h=e.length-4,u=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h,2)),i[fe]=A(e.substr(u)),H(n).bigHour=!0});Z("Hmm",function(e,i,n){var h=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h))});Z("Hmmss",function(e,i,n){var h=e.length-4,u=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h,2)),i[fe]=A(e.substr(u))});function Di(e){return(e+"").toLowerCase().charAt(0)==="p"}var yi=/[ap]\\.?m?\\.?/i,Ei=Le("Hours",!0);function Ci(e,i,n){return e>11?n?"pm":"PM":n?"am":"AM"}var er={calendar:cs,longDateFormat:ps,invalidDate:fs,ordinal:Ds,dayOfMonthOrdinalParse:ys,relativeTime:Cs,months:_s,monthsShort:Ua,week:Ks,weekdays:ai,weekdaysMin:ri,weekdaysShort:Qa,meridiemParse:yi},w={},je={},Xe;function Si(e,i){var n,h=Math.min(e.length,i.length);for(n=0;n<h;n+=1)if(e[n]!==i[n])return n;return h}function xa(e){return e&&e.toLowerCase().replace("_","-")}function Fi(e){for(var i=0,n,h,u,v;i<e.length;){for(v=xa(e[i]).split("-"),n=v.length,h=xa(e[i+1]),h=h?h.split("-"):null;n>0;){if(u=Dt(v.slice(0,n).join("-")),u)return u;if(h&&h.length>=n&&Si(v,h)>=n-1)break;n--}i++}return Xe}function xi(e){return e.match("^[^/\\\\\\\\]*$")!=null}function Dt(e){var i=null,n;if(w[e]===void 0&&typeof st<"u"&&st&&st.exports&&xi(e))try{i=Xe._abbr,n=require,n("./locale/"+e),xe(i)}catch{w[e]=null}return w[e]}function xe(e,i){var n;return e&&(ee(i)?n=ye(e):n=Qt(e,i),n?Xe=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function Qt(e,i){if(i!==null){var n,h=er;if(i.abbr=e,w[e]!=null)_a("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=w[e]._config;else if(i.parentLocale!=null)if(w[i.parentLocale]!=null)h=w[i.parentLocale]._config;else if(n=Dt(i.parentLocale),n!=null)h=n._config;else return je[i.parentLocale]||(je[i.parentLocale]=[]),je[i.parentLocale].push({name:e,config:i}),null;return w[e]=new wt(At(h,i)),je[e]&&je[e].forEach(function(u){Qt(u.name,u.config)}),xe(e),w[e]}else return delete w[e],null}function Mi(e,i){if(i!=null){var n,h,u=er;w[e]!=null&&w[e].parentLocale!=null?w[e].set(At(w[e]._config,i)):(h=Dt(e),h!=null&&(u=h._config),i=At(u,i),h==null&&(i.abbr=e),n=new wt(i),n.parentLocale=w[e],w[e]=n),xe(e)}else w[e]!=null&&(w[e].parentLocale!=null?(w[e]=w[e].parentLocale,e===xe()&&xe(e)):w[e]!=null&&delete w[e]);return w[e]}function ye(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!ne(e)){if(i=Dt(e),i)return i;e=[e]}return Fi(e)}function Pi(){return Bt(w)}function Ot(e){var i,n=e._a;return n&&H(e).overflow===-2&&(i=n[ve]<0||n[ve]>11?ve:n[he]<1||n[he]>Tt(n[Q],n[ve])?he:n[K]<0||n[K]>24||n[K]===24&&(n[oe]!==0||n[fe]!==0||n[be]!==0)?K:n[oe]<0||n[oe]>59?oe:n[fe]<0||n[fe]>59?fe:n[be]<0||n[be]>999?be:-1,H(e)._overflowDayOfYear&&(i<Q||i>he)&&(i=he),H(e)._overflowWeeks&&i===-1&&(i=zs),H(e)._overflowWeekday&&i===-1&&(i=Is),H(e).overflow=i),e}var bi=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Hi=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,ki=/Z|[+-]\\d\\d(?::?\\d\\d)?/,Ve=[["YYYYYY-MM-DD",/[+-]\\d{6}-\\d\\d-\\d\\d/],["YYYY-MM-DD",/\\d{4}-\\d\\d-\\d\\d/],["GGGG-[W]WW-E",/\\d{4}-W\\d\\d-\\d/],["GGGG-[W]WW",/\\d{4}-W\\d\\d/,!1],["YYYY-DDD",/\\d{4}-\\d{3}/],["YYYY-MM",/\\d{4}-\\d\\d/,!1],["YYYYYYMMDD",/[+-]\\d{10}/],["YYYYMMDD",/\\d{8}/],["GGGG[W]WWE",/\\d{4}W\\d{3}/],["GGGG[W]WW",/\\d{4}W\\d{2}/,!1],["YYYYDDD",/\\d{7}/],["YYYYMM",/\\d{6}/,!1],["YYYY",/\\d{4}/,!1]],Pt=[["HH:mm:ss.SSSS",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],["HH:mm:ss,SSSS",/\\d\\d:\\d\\d:\\d\\d,\\d+/],["HH:mm:ss",/\\d\\d:\\d\\d:\\d\\d/],["HH:mm",/\\d\\d:\\d\\d/],["HHmmss.SSSS",/\\d\\d\\d\\d\\d\\d\\.\\d+/],["HHmmss,SSSS",/\\d\\d\\d\\d\\d\\d,\\d+/],["HHmmss",/\\d\\d\\d\\d\\d\\d/],["HHmm",/\\d\\d\\d\\d/],["HH",/\\d\\d/]],Ai=/^\\/?Date\\((-?\\d+)/i,Bi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,zi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function tr(e){var i,n,h=e._i,u=bi.exec(h)||Hi.exec(h),v,T,C,P,b=Ve.length,k=Pt.length;if(u){for(H(e).iso=!0,i=0,n=b;i<n;i++)if(Ve[i][1].exec(u[1])){T=Ve[i][0],v=Ve[i][2]!==!1;break}if(T==null){e._isValid=!1;return}if(u[3]){for(i=0,n=k;i<n;i++)if(Pt[i][1].exec(u[3])){C=(u[2]||" ")+Pt[i][0];break}if(C==null){e._isValid=!1;return}}if(!v&&C!=null){e._isValid=!1;return}if(u[4])if(ki.exec(u[4]))P="Z";else{e._isValid=!1;return}e._f=T+(C||"")+(P||""),ea(e)}else e._isValid=!1}function Ii(e,i,n,h,u,v){var T=[Wi(e),Ua.indexOf(i),parseInt(n,10),parseInt(h,10),parseInt(u,10)];return v&&T.push(parseInt(v,10)),T}function Wi(e){var i=parseInt(e,10);return i<=49?2e3+i:i<=999?1900+i:i}function _i(e){return e.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").replace(/^\\s\\s*/,"").replace(/\\s\\s*$/,"")}function Li(e,i,n){if(e){var h=Qa.indexOf(e),u=new Date(i[0],i[1],i[2]).getDay();if(h!==u)return H(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ri(e,i,n){if(e)return zi[e];if(i)return 0;var h=parseInt(n,10),u=h%100,v=(h-u)/100;return v*60+u}function ar(e){var i=Bi.exec(_i(e._i)),n;if(i){if(n=Ii(i[4],i[3],i[2],i[5],i[6],i[7]),!Li(i[1],n,e))return;e._a=n,e._tzm=Ri(i[8],i[9],i[10]),e._d=Ue.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),H(e).rfc2822=!0}else e._isValid=!1}function Zi(e){var i=Ai.exec(e._i);if(i!==null){e._d=new Date(+i[1]);return}if(tr(e),e._isValid===!1)delete e._isValid;else return;if(ar(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:D.createFromInputFallback(e)}D.createFromInputFallback=se("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Be(e,i,n){return e??i??n}function ji(e){var i=new Date(D.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function Vt(e){var i,n,h=[],u,v,T;if(!e._d){for(u=ji(e),e._w&&e._a[he]==null&&e._a[ve]==null&&Ni(e),e._dayOfYear!=null&&(T=Be(e._a[Q],u[Q]),(e._dayOfYear>we(T)||e._dayOfYear===0)&&(H(e)._overflowDayOfYear=!0),n=Ue(T,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[he]=n.getUTCDate()),i=0;i<3&&e._a[i]==null;++i)e._a[i]=h[i]=u[i];for(;i<7;i++)e._a[i]=h[i]=e._a[i]==null?i===2?1:0:e._a[i];e._a[K]===24&&e._a[oe]===0&&e._a[fe]===0&&e._a[be]===0&&(e._nextDay=!0,e._a[K]=0),e._d=(e._useUTC?Ue:qs).apply(null,h),v=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[K]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==v&&(H(e).weekdayMismatch=!0)}}function Ni(e){var i,n,h,u,v,T,C,P,b;i=e._w,i.GG!=null||i.W!=null||i.E!=null?(v=1,T=4,n=Be(i.GG,e._a[Q],Ge(N(),1,4).year),h=Be(i.W,1),u=Be(i.E,1),(u<1||u>7)&&(P=!0)):(v=e._locale._week.dow,T=e._locale._week.doy,b=Ge(N(),v,T),n=Be(i.gg,e._a[Q],b.year),h=Be(i.w,b.week),i.d!=null?(u=i.d,(u<0||u>6)&&(P=!0)):i.e!=null?(u=i.e+v,(i.e<0||i.e>6)&&(P=!0)):u=v),h<1||h>Te(n,v,T)?H(e)._overflowWeeks=!0:P!=null?H(e)._overflowWeekday=!0:(C=Ja(n,h,u,v,T),e._a[Q]=C.year,e._dayOfYear=C.dayOfYear)}D.ISO_8601=function(){};D.RFC_2822=function(){};function ea(e){if(e._f===D.ISO_8601){tr(e);return}if(e._f===D.RFC_2822){ar(e);return}e._a=[],H(e).empty=!0;var i=""+e._i,n,h,u,v,T,C=i.length,P=0,b,k;for(u=La(e._f,e._locale).match(Ut)||[],k=u.length,n=0;n<k;n++)v=u[n],h=(i.match(ks(v,e))||[])[0],h&&(T=i.substr(0,i.indexOf(h)),T.length>0&&H(e).unusedInput.push(T),i=i.slice(i.indexOf(h)+h.length),P+=h.length),Ie[v]?(h?H(e).empty=!1:H(e).unusedTokens.push(v),Bs(v,h,e)):e._strict&&!h&&H(e).unusedTokens.push(v);H(e).charsLeftOver=C-P,i.length>0&&H(e).unusedInput.push(i),e._a[K]<=12&&H(e).bigHour===!0&&e._a[K]>0&&(H(e).bigHour=void 0),H(e).parsedDateParts=e._a.slice(0),H(e).meridiem=e._meridiem,e._a[K]=Yi(e._locale,e._a[K],e._meridiem),b=H(e).era,b!==null&&(e._a[Q]=e._locale.erasConvertYear(b,e._a[Q])),Vt(e),Ot(e)}function Yi(e,i,n){var h;return n==null?i:e.meridiemHour!=null?e.meridiemHour(i,n):(e.isPM!=null&&(h=e.isPM(n),h&&i<12&&(i+=12),!h&&i===12&&(i=0)),i)}function wi(e){var i,n,h,u,v,T,C=!1,P=e._f.length;if(P===0){H(e).invalidFormat=!0,e._d=new Date(NaN);return}for(u=0;u<P;u++)v=0,T=!1,i=Yt({},e),e._useUTC!=null&&(i._useUTC=e._useUTC),i._f=e._f[u],ea(i),Nt(i)&&(T=!0),v+=H(i).charsLeftOver,v+=H(i).unusedTokens.length*10,H(i).score=v,C?v<h&&(h=v,n=i):(h==null||v<h||T)&&(h=v,n=i,T&&(C=!0));Se(e,n||i)}function Ui(e){if(!e._d){var i=Gt(e._i),n=i.day===void 0?i.date:i.day;e._a=Ia([i.year,i.month,n,i.hour,i.minute,i.second,i.millisecond],function(h){return h&&parseInt(h,10)}),Vt(e)}}function Gi(e){var i=new $e(Ot(rr(e)));return i._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function rr(e){var i=e._i,n=e._f;return e._locale=e._locale||ye(e._l),i===null||n===void 0&&i===""?ct({nullInput:!0}):(typeof i=="string"&&(e._i=i=e._locale.preparse(i)),le(i)?new $e(Ot(i)):(qe(i)?e._d=i:ne(n)?wi(e):n?ea(e):Xi(e),Nt(e)||(e._d=null),e))}function Xi(e){var i=e._i;ee(i)?e._d=new Date(D.now()):qe(i)?e._d=new Date(i.valueOf()):typeof i=="string"?Zi(e):ne(i)?(e._a=Ia(i.slice(0),function(n){return parseInt(n,10)}),Vt(e)):He(i)?Ui(e):De(i)?e._d=new Date(i):D.createFromInputFallback(e)}function sr(e,i,n,h,u){var v={};return(i===!0||i===!1)&&(h=i,i=void 0),(n===!0||n===!1)&&(h=n,n=void 0),(He(e)&&jt(e)||ne(e)&&e.length===0)&&(e=void 0),v._isAMomentObject=!0,v._useUTC=v._isUTC=u,v._l=n,v._i=e,v._f=i,v._strict=h,Gi(v)}function N(e,i,n,h){return sr(e,i,n,h,!1)}var qi=se("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=N.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ct()}),$i=se("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=N.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ct()});function ir(e,i){var n,h;if(i.length===1&&ne(i[0])&&(i=i[0]),!i.length)return N();for(n=i[0],h=1;h<i.length;++h)(!i[h].isValid()||i[h][e](n))&&(n=i[h]);return n}function Ki(){var e=[].slice.call(arguments,0);return ir("isBefore",e)}function Ji(){var e=[].slice.call(arguments,0);return ir("isAfter",e)}var Qi=function(){return Date.now?Date.now():+new Date},Ne=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oi(e){var i,n=!1,h,u=Ne.length;for(i in e)if(L(e,i)&&!(G.call(Ne,i)!==-1&&(e[i]==null||!isNaN(e[i]))))return!1;for(h=0;h<u;++h)if(e[Ne[h]]){if(n)return!1;parseFloat(e[Ne[h]])!==A(e[Ne[h]])&&(n=!0)}return!0}function Vi(){return this._isValid}function eo(){return de(NaN)}function yt(e){var i=Gt(e),n=i.year||0,h=i.quarter||0,u=i.month||0,v=i.week||i.isoWeek||0,T=i.day||0,C=i.hour||0,P=i.minute||0,b=i.second||0,k=i.millisecond||0;this._isValid=Oi(i),this._milliseconds=+k+b*1e3+P*6e4+C*1e3*60*60,this._days=+T+v*7,this._months=+u+h*3+n*12,this._data={},this._locale=ye(),this._bubble()}function at(e){return e instanceof yt}function It(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function to(e,i,n){var h=Math.min(e.length,i.length),u=Math.abs(e.length-i.length),v=0,T;for(T=0;T<h;T++)(n&&e[T]!==i[T]||!n&&A(e[T])!==A(i[T]))&&v++;return v+u}function or(e,i){F(e,0,0,function(){var n=this.utcOffset(),h="+";return n<0&&(n=-n,h="-"),h+ce(~~(n/60),2)+i+ce(~~n%60,2)})}or("Z",":");or("ZZ","");E("Z",ft);E("ZZ",ft);Z(["Z","ZZ"],function(e,i,n){n._useUTC=!0,n._tzm=ta(ft,e)});var ao=/([\\+\\-]|\\d\\d)/gi;function ta(e,i){var n=(i||"").match(e),h,u,v;return n===null?null:(h=n[n.length-1]||[],u=(h+"").match(ao)||["-",0,0],v=+(u[1]*60)+A(u[2]),v===0?0:u[0]==="+"?v:-v)}function aa(e,i){var n,h;return i._isUTC?(n=i.clone(),h=(le(e)||qe(e)?e.valueOf():N(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+h),D.updateOffset(n,!1),n):N(e).local()}function Wt(e){return-Math.round(e._d.getTimezoneOffset())}D.updateOffset=function(){};function ro(e,i,n){var h=this._offset||0,u;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ta(ft,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&i&&(u=Wt(this)),this._offset=e,this._isUTC=!0,u!=null&&this.add(u,"m"),h!==e&&(!i||this._changeInProgress?dr(this,de(e-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Wt(this)}function so(e,i){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,i),this):-this.utcOffset()}function io(e){return this.utcOffset(0,e)}function oo(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this}function no(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ta(bs,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function lo(e){return this.isValid()?(e=e?N(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ho(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function co(){if(!ee(this._isDSTShifted))return this._isDSTShifted;var e={},i;return Yt(e,this),e=rr(e),e._a?(i=e._isUTC?ue(e._a):N(e._a),this._isDSTShifted=this.isValid()&&to(e._a,i.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function uo(){return this.isValid()?!this._isUTC:!1}function go(){return this.isValid()?this._isUTC:!1}function nr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var mo=/^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,po=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function de(e,i){var n=e,h=null,u,v,T;return at(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:De(e)||!isNaN(+e)?(n={},i?n[i]=+e:n.milliseconds=+e):(h=mo.exec(e))?(u=h[1]==="-"?-1:1,n={y:0,d:A(h[he])*u,h:A(h[K])*u,m:A(h[oe])*u,s:A(h[fe])*u,ms:A(It(h[be]*1e3))*u}):(h=po.exec(e))?(u=h[1]==="-"?-1:1,n={y:Pe(h[2],u),M:Pe(h[3],u),w:Pe(h[4],u),d:Pe(h[5],u),h:Pe(h[6],u),m:Pe(h[7],u),s:Pe(h[8],u)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(T=vo(N(n.from),N(n.to)),n={},n.ms=T.milliseconds,n.M=T.months),v=new yt(n),at(e)&&L(e,"_locale")&&(v._locale=e._locale),at(e)&&L(e,"_isValid")&&(v._isValid=e._isValid),v}de.fn=yt.prototype;de.invalid=eo;function Pe(e,i){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*i}function Ma(e,i){var n={};return n.months=i.month()-e.month()+(i.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(i)&&--n.months,n.milliseconds=+i-+e.clone().add(n.months,"M"),n}function vo(e,i){var n;return e.isValid()&&i.isValid()?(i=aa(i,e),e.isBefore(i)?n=Ma(e,i):(n=Ma(i,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function lr(e,i){return function(n,h){var u,v;return h!==null&&!isNaN(+h)&&(_a(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),v=n,n=h,h=v),u=de(n,h),dr(this,u,e),this}}function dr(e,i,n,h){var u=i._milliseconds,v=It(i._days),T=It(i._months);e.isValid()&&(h=h??!0,T&&Xa(e,it(e,"Month")+T*n),v&&Za(e,"Date",it(e,"Date")+v*n),u&&e._d.setTime(e._d.valueOf()+u*n),h&&D.updateOffset(e,v||T))}var fo=lr(1,"add"),To=lr(-1,"subtract");function hr(e){return typeof e=="string"||e instanceof String}function Do(e){return le(e)||qe(e)||hr(e)||De(e)||Eo(e)||yo(e)||e===null||e===void 0}function yo(e){var i=He(e)&&!jt(e),n=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u,v,T=h.length;for(u=0;u<T;u+=1)v=h[u],n=n||L(e,v);return i&&n}function Eo(e){var i=ne(e),n=!1;return i&&(n=e.filter(function(h){return!De(h)&&hr(e)}).length===0),i&&n}function Co(e){var i=He(e)&&!jt(e),n=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],u,v;for(u=0;u<h.length;u+=1)v=h[u],n=n||L(e,v);return i&&n}function So(e,i){var n=e.diff(i,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fo(e,i){arguments.length===1&&(arguments[0]?Do(arguments[0])?(e=arguments[0],i=void 0):Co(arguments[0])&&(i=arguments[0],e=void 0):(e=void 0,i=void 0));var n=e||N(),h=aa(n,this).startOf("day"),u=D.calendarFormat(this,h)||"sameElse",v=i&&(ge(i[u])?i[u].call(this,n):i[u]);return this.format(v||this.localeData().calendar(u,this,N(n)))}function xo(){return new $e(this)}function Mo(e,i){var n=le(e)?e:N(e);return this.isValid()&&n.isValid()?(i=ie(i)||"millisecond",i==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(i).valueOf()):!1}function Po(e,i){var n=le(e)?e:N(e);return this.isValid()&&n.isValid()?(i=ie(i)||"millisecond",i==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(i).valueOf()<n.valueOf()):!1}function bo(e,i,n,h){var u=le(e)?e:N(e),v=le(i)?i:N(i);return this.isValid()&&u.isValid()&&v.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(u,n):!this.isBefore(u,n))&&(h[1]===")"?this.isBefore(v,n):!this.isAfter(v,n))):!1}function Ho(e,i){var n=le(e)?e:N(e),h;return this.isValid()&&n.isValid()?(i=ie(i)||"millisecond",i==="millisecond"?this.valueOf()===n.valueOf():(h=n.valueOf(),this.clone().startOf(i).valueOf()<=h&&h<=this.clone().endOf(i).valueOf())):!1}function ko(e,i){return this.isSame(e,i)||this.isAfter(e,i)}function Ao(e,i){return this.isSame(e,i)||this.isBefore(e,i)}function Bo(e,i,n){var h,u,v;if(!this.isValid())return NaN;if(h=aa(e,this),!h.isValid())return NaN;switch(u=(h.utcOffset()-this.utcOffset())*6e4,i=ie(i),i){case"year":v=rt(this,h)/12;break;case"month":v=rt(this,h);break;case"quarter":v=rt(this,h)/3;break;case"second":v=(this-h)/1e3;break;case"minute":v=(this-h)/6e4;break;case"hour":v=(this-h)/36e5;break;case"day":v=(this-h-u)/864e5;break;case"week":v=(this-h-u)/6048e5;break;default:v=this-h}return n?v:re(v)}function rt(e,i){if(e.date()<i.date())return-rt(i,e);var n=(i.year()-e.year())*12+(i.month()-e.month()),h=e.clone().add(n,"months"),u,v;return i-h<0?(u=e.clone().add(n-1,"months"),v=(i-h)/(h-u)):(u=e.clone().add(n+1,"months"),v=(i-h)/(u-h)),-(n+v)||0}D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";D.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Io(e){if(!this.isValid())return null;var i=e!==!0,n=i?this.clone().utc():this;return n.year()<0||n.year()>9999?tt(n,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ge(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",tt(n,"Z")):tt(n,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Wo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",i="",n,h,u,v;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",i="Z"),n="["+e+\'("]\',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u="-MM-DD[T]HH:mm:ss.SSS",v=i+\'[")]\',this.format(n+h+u+v)}function _o(e){e||(e=this.isUtc()?D.defaultFormatUtc:D.defaultFormat);var i=tt(this,e);return this.localeData().postformat(i)}function Lo(e,i){return this.isValid()&&(le(e)&&e.isValid()||N(e).isValid())?de({to:this,from:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function Ro(e){return this.from(N(),e)}function Zo(e,i){return this.isValid()&&(le(e)&&e.isValid()||N(e).isValid())?de({from:this,to:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function jo(e){return this.to(N(),e)}function cr(e){var i;return e===void 0?this._locale._abbr:(i=ye(e),i!=null&&(this._locale=i),this)}var ur=se("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function gr(){return this._locale}var lt=1e3,We=60*lt,dt=60*We,mr=(365*400+97)*24*dt;function _e(e,i){return(e%i+i)%i}function pr(e,i,n){return e<100&&e>=0?new Date(e+400,i,n)-mr:new Date(e,i,n).valueOf()}function vr(e,i,n){return e<100&&e>=0?Date.UTC(e+400,i,n)-mr:Date.UTC(e,i,n)}function No(e){var i,n;if(e=ie(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?vr:pr,e){case"year":i=n(this.year(),0,1);break;case"quarter":i=n(this.year(),this.month()-this.month()%3,1);break;case"month":i=n(this.year(),this.month(),1);break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=n(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=_e(i+(this._isUTC?0:this.utcOffset()*We),dt);break;case"minute":i=this._d.valueOf(),i-=_e(i,We);break;case"second":i=this._d.valueOf(),i-=_e(i,lt);break}return this._d.setTime(i),D.updateOffset(this,!0),this}function Yo(e){var i,n;if(e=ie(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?vr:pr,e){case"year":i=n(this.year()+1,0,1)-1;break;case"quarter":i=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=n(this.year(),this.month()+1,1)-1;break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=dt-_e(i+(this._isUTC?0:this.utcOffset()*We),dt)-1;break;case"minute":i=this._d.valueOf(),i+=We-_e(i,We)-1;break;case"second":i=this._d.valueOf(),i+=lt-_e(i,lt)-1;break}return this._d.setTime(i),D.updateOffset(this,!0),this}function wo(){return this._d.valueOf()-(this._offset||0)*6e4}function Uo(){return Math.floor(this.valueOf()/1e3)}function Go(){return new Date(this.valueOf())}function Xo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function qo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function $o(){return this.isValid()?this.toISOString():null}function Ko(){return Nt(this)}function Jo(){return Se({},H(this))}function Qo(){return H(this).overflow}function Oo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr");F("NN",0,0,"eraAbbr");F("NNN",0,0,"eraAbbr");F("NNNN",0,0,"eraName");F("NNNNN",0,0,"eraNarrow");F("y",["y",1],"yo","eraYear");F("y",["yy",2],0,"eraYear");F("y",["yyy",3],0,"eraYear");F("y",["yyyy",4],0,"eraYear");E("N",ra);E("NN",ra);E("NNN",ra);E("NNNN",hn);E("NNNNN",cn);Z(["N","NN","NNN","NNNN","NNNNN"],function(e,i,n,h){var u=n._locale.erasParse(e,h,n._strict);u?H(n).era=u:H(n).invalidEra=e});E("y",Re);E("yy",Re);E("yyy",Re);E("yyyy",Re);E("yo",un);Z(["y","yy","yyy","yyyy"],Q);Z(["yo"],function(e,i,n,h){var u;n._locale._eraYearOrdinalRegex&&(u=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?i[Q]=n._locale.eraYearOrdinalParse(e,u):i[Q]=parseInt(e,10)});function Vo(e,i){var n,h,u,v=this._eras||ye("en")._eras;for(n=0,h=v.length;n<h;++n){switch(typeof v[n].since){case"string":u=D(v[n].since).startOf("day"),v[n].since=u.valueOf();break}switch(typeof v[n].until){case"undefined":v[n].until=1/0;break;case"string":u=D(v[n].until).startOf("day").valueOf(),v[n].until=u.valueOf();break}}return v}function en(e,i,n){var h,u,v=this.eras(),T,C,P;for(e=e.toUpperCase(),h=0,u=v.length;h<u;++h)if(T=v[h].name.toUpperCase(),C=v[h].abbr.toUpperCase(),P=v[h].narrow.toUpperCase(),n)switch(i){case"N":case"NN":case"NNN":if(C===e)return v[h];break;case"NNNN":if(T===e)return v[h];break;case"NNNNN":if(P===e)return v[h];break}else if([T,C,P].indexOf(e)>=0)return v[h]}function tn(e,i){var n=e.since<=e.until?1:-1;return i===void 0?D(e.since).year():D(e.since).year()+(i-e.offset)*n}function an(){var e,i,n,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(n=this.clone().startOf("day").valueOf(),h[e].since<=n&&n<=h[e].until||h[e].until<=n&&n<=h[e].since)return h[e].name;return""}function rn(){var e,i,n,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(n=this.clone().startOf("day").valueOf(),h[e].since<=n&&n<=h[e].until||h[e].until<=n&&n<=h[e].since)return h[e].narrow;return""}function sn(){var e,i,n,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(n=this.clone().startOf("day").valueOf(),h[e].since<=n&&n<=h[e].until||h[e].until<=n&&n<=h[e].since)return h[e].abbr;return""}function on(){var e,i,n,h,u=this.localeData().eras();for(e=0,i=u.length;e<i;++e)if(n=u[e].since<=u[e].until?1:-1,h=this.clone().startOf("day").valueOf(),u[e].since<=h&&h<=u[e].until||u[e].until<=h&&h<=u[e].since)return(this.year()-D(u[e].since).year())*n+u[e].offset;return this.year()}function nn(e){return L(this,"_erasNameRegex")||sa.call(this),e?this._erasNameRegex:this._erasRegex}function ln(e){return L(this,"_erasAbbrRegex")||sa.call(this),e?this._erasAbbrRegex:this._erasRegex}function dn(e){return L(this,"_erasNarrowRegex")||sa.call(this),e?this._erasNarrowRegex:this._erasRegex}function ra(e,i){return i.erasAbbrRegex(e)}function hn(e,i){return i.erasNameRegex(e)}function cn(e,i){return i.erasNarrowRegex(e)}function un(e,i){return i._eraYearOrdinalRegex||Re}function sa(){var e=[],i=[],n=[],h=[],u,v,T=this.eras();for(u=0,v=T.length;u<v;++u)i.push(te(T[u].name)),e.push(te(T[u].abbr)),n.push(te(T[u].narrow)),h.push(te(T[u].name)),h.push(te(T[u].abbr)),h.push(te(T[u].narrow));this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100});F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Et(e,i){F(0,[e,e.length],0,i)}Et("gggg","weekYear");Et("ggggg","weekYear");Et("GGGG","isoWeekYear");Et("GGGGG","isoWeekYear");O("weekYear","gg");O("isoWeekYear","GG");V("weekYear",1);V("isoWeekYear",1);E("G",vt);E("g",vt);E("GG",Y,ae);E("gg",Y,ae);E("GGGG",qt,Xt);E("gggg",qt,Xt);E("GGGGG",pt,gt);E("ggggg",pt,gt);Je(["gggg","ggggg","GGGG","GGGGG"],function(e,i,n,h){i[h.substr(0,2)]=A(e)});Je(["gg","GG"],function(e,i,n,h){i[h]=D.parseTwoDigitYear(e)});function gn(e){return fr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mn(e){return fr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function pn(){return Te(this.year(),1,4)}function vn(){return Te(this.isoWeekYear(),1,4)}function fn(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function Tn(){var e=this.localeData()._week;return Te(this.weekYear(),e.dow,e.doy)}function fr(e,i,n,h,u){var v;return e==null?Ge(this,h,u).year:(v=Te(e,h,u),i>v&&(i=v),Dn.call(this,e,i,n,h,u))}function Dn(e,i,n,h,u){var v=Ja(e,i,n,h,u),T=Ue(v.year,0,v.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}F("Q",0,"Qo","quarter");O("quarter","Q");V("quarter",7);E("Q",ja);Z("Q",function(e,i){i[ve]=(A(e)-1)*3});function yn(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}F("D",["DD",2],"Do","date");O("date","D");V("date",9);E("D",Y);E("DD",Y,ae);E("Do",function(e,i){return e?i._dayOfMonthOrdinalParse||i._ordinalParse:i._dayOfMonthOrdinalParseLenient});Z(["D","DD"],he);Z("Do",function(e,i){i[he]=A(e.match(Y)[0])});var Tr=Le("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear");O("dayOfYear","DDD");V("dayOfYear",4);E("DDD",mt);E("DDDD",Na);Z(["DDD","DDDD"],function(e,i,n){n._dayOfYear=A(e)});function En(e){var i=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?i:this.add(e-i,"d")}F("m",["mm",2],0,"minute");O("minute","m");V("minute",14);E("m",Y);E("mm",Y,ae);Z(["m","mm"],oe);var Cn=Le("Minutes",!1);F("s",["ss",2],0,"second");O("second","s");V("second",15);E("s",Y);E("ss",Y,ae);Z(["s","ss"],fe);var Sn=Le("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)});F(0,["SS",2],0,function(){return~~(this.millisecond()/10)});F(0,["SSS",3],0,"millisecond");F(0,["SSSS",4],0,function(){return this.millisecond()*10});F(0,["SSSSS",5],0,function(){return this.millisecond()*100});F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});O("millisecond","ms");V("millisecond",16);E("S",mt,ja);E("SS",mt,ae);E("SSS",mt,Na);var Fe,Dr;for(Fe="SSSS";Fe.length<=9;Fe+="S")E(Fe,Re);function Fn(e,i){i[be]=A(("0."+e)*1e3)}for(Fe="S";Fe.length<=9;Fe+="S")Z(Fe,Fn);Dr=Le("Milliseconds",!1);F("z",0,0,"zoneAbbr");F("zz",0,0,"zoneName");function xn(){return this._isUTC?"UTC":""}function Mn(){return this._isUTC?"Coordinated Universal Time":""}var y=$e.prototype;y.add=fo;y.calendar=Fo;y.clone=xo;y.diff=Bo;y.endOf=Yo;y.format=_o;y.from=Lo;y.fromNow=Ro;y.to=Zo;y.toNow=jo;y.get=Ms;y.invalidAt=Qo;y.isAfter=Mo;y.isBefore=Po;y.isBetween=bo;y.isSame=Ho;y.isSameOrAfter=ko;y.isSameOrBefore=Ao;y.isValid=Ko;y.lang=ur;y.locale=cr;y.localeData=gr;y.max=$i;y.min=qi;y.parsingFlags=Jo;y.set=Ps;y.startOf=No;y.subtract=To;y.toArray=Xo;y.toObject=qo;y.toDate=Go;y.toISOString=Io;y.inspect=Wo;typeof Symbol<"u"&&Symbol.for!=null&&(y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});y.toJSON=$o;y.toString=zo;y.unix=Uo;y.valueOf=wo;y.creationData=Oo;y.eraName=an;y.eraNarrow=rn;y.eraAbbr=sn;y.eraYear=on;y.year=Ka;y.isLeapYear=Xs;y.weekYear=gn;y.isoWeekYear=mn;y.quarter=y.quarters=yn;y.month=qa;y.daysInMonth=ws;y.week=y.weeks=Os;y.isoWeek=y.isoWeeks=Vs;y.weeksInYear=fn;y.weeksInWeekYear=Tn;y.isoWeeksInYear=pn;y.isoWeeksInISOWeekYear=vn;y.date=Tr;y.day=y.days=ui;y.weekday=gi;y.isoWeekday=mi;y.dayOfYear=En;y.hour=y.hours=Ei;y.minute=y.minutes=Cn;y.second=y.seconds=Sn;y.millisecond=y.milliseconds=Dr;y.utcOffset=ro;y.utc=io;y.local=oo;y.parseZone=no;y.hasAlignedHourOffset=lo;y.isDST=ho;y.isLocal=uo;y.isUtcOffset=go;y.isUtc=nr;y.isUTC=nr;y.zoneAbbr=xn;y.zoneName=Mn;y.dates=se("dates accessor is deprecated. Use date instead.",Tr);y.months=se("months accessor is deprecated. Use month instead",qa);y.years=se("years accessor is deprecated. Use year instead",Ka);y.zone=se("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",so);y.isDSTShifted=se("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",co);function Pn(e){return N(e*1e3)}function bn(){return N.apply(null,arguments).parseZone()}function yr(e){return e}var R=wt.prototype;R.calendar=us;R.longDateFormat=vs;R.invalidDate=Ts;R.ordinal=Es;R.preparse=yr;R.postformat=yr;R.relativeTime=Ss;R.pastFuture=Fs;R.set=hs;R.eras=Vo;R.erasParse=en;R.erasConvertYear=tn;R.erasAbbrRegex=ln;R.erasNameRegex=nn;R.erasNarrowRegex=dn;R.months=Zs;R.monthsShort=js;R.monthsParse=Ys;R.monthsRegex=Gs;R.monthsShortRegex=Us;R.week=$s;R.firstDayOfYear=Qs;R.firstDayOfWeek=Js;R.weekdays=ni;R.weekdaysMin=di;R.weekdaysShort=li;R.weekdaysParse=ci;R.weekdaysRegex=pi;R.weekdaysShortRegex=vi;R.weekdaysMinRegex=fi;R.isPM=Di;R.meridiem=Ci;function ht(e,i,n,h){var u=ye(),v=ue().set(h,i);return u[n](v,e)}function Er(e,i,n){if(De(e)&&(i=e,e=void 0),e=e||"",i!=null)return ht(e,i,n,"month");var h,u=[];for(h=0;h<12;h++)u[h]=ht(e,h,n,"month");return u}function ia(e,i,n,h){typeof e=="boolean"?(De(i)&&(n=i,i=void 0),i=i||""):(i=e,n=i,e=!1,De(i)&&(n=i,i=void 0),i=i||"");var u=ye(),v=e?u._week.dow:0,T,C=[];if(n!=null)return ht(i,(n+v)%7,h,"day");for(T=0;T<7;T++)C[T]=ht(i,(T+v)%7,h,"day");return C}function Hn(e,i){return Er(e,i,"months")}function kn(e,i){return Er(e,i,"monthsShort")}function An(e,i,n){return ia(e,i,n,"weekdays")}function Bn(e,i,n){return ia(e,i,n,"weekdaysShort")}function zn(e,i,n){return ia(e,i,n,"weekdaysMin")}xe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var i=e%10,n=A(e%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th";return e+n}});D.lang=se("moment.lang is deprecated. Use moment.locale instead.",xe);D.langData=se("moment.langData is deprecated. Use moment.localeData instead.",ye);var me=Math.abs;function In(){var e=this._data;return this._milliseconds=me(this._milliseconds),this._days=me(this._days),this._months=me(this._months),e.milliseconds=me(e.milliseconds),e.seconds=me(e.seconds),e.minutes=me(e.minutes),e.hours=me(e.hours),e.months=me(e.months),e.years=me(e.years),this}function Cr(e,i,n,h){var u=de(i,n);return e._milliseconds+=h*u._milliseconds,e._days+=h*u._days,e._months+=h*u._months,e._bubble()}function Wn(e,i){return Cr(this,e,i,1)}function _n(e,i){return Cr(this,e,i,-1)}function Pa(e){return e<0?Math.floor(e):Math.ceil(e)}function Ln(){var e=this._milliseconds,i=this._days,n=this._months,h=this._data,u,v,T,C,P;return e>=0&&i>=0&&n>=0||e<=0&&i<=0&&n<=0||(e+=Pa(_t(n)+i)*864e5,i=0,n=0),h.milliseconds=e%1e3,u=re(e/1e3),h.seconds=u%60,v=re(u/60),h.minutes=v%60,T=re(v/60),h.hours=T%24,i+=re(T/24),P=re(Sr(i)),n+=P,i-=Pa(_t(P)),C=re(n/12),n%=12,h.days=i,h.months=n,h.years=C,this}function Sr(e){return e*4800/146097}function _t(e){return e*146097/4800}function Rn(e){if(!this.isValid())return NaN;var i,n,h=this._milliseconds;if(e=ie(e),e==="month"||e==="quarter"||e==="year")switch(i=this._days+h/864e5,n=this._months+Sr(i),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(i=this._days+Math.round(_t(this._months)),e){case"week":return i/7+h/6048e5;case"day":return i+h/864e5;case"hour":return i*24+h/36e5;case"minute":return i*1440+h/6e4;case"second":return i*86400+h/1e3;case"millisecond":return Math.floor(i*864e5)+h;default:throw new Error("Unknown unit "+e)}}function Zn(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+A(this._months/12)*31536e6:NaN}function Ee(e){return function(){return this.as(e)}}var jn=Ee("ms"),Nn=Ee("s"),Yn=Ee("m"),wn=Ee("h"),Un=Ee("d"),Gn=Ee("w"),Xn=Ee("M"),qn=Ee("Q"),$n=Ee("y");function Kn(){return de(this)}function Jn(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function ke(e){return function(){return this.isValid()?this._data[e]:NaN}}var Qn=ke("milliseconds"),On=ke("seconds"),Vn=ke("minutes"),el=ke("hours"),tl=ke("days"),al=ke("months"),rl=ke("years");function sl(){return re(this.days()/7)}var pe=Math.round,ze={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function il(e,i,n,h,u){return u.relativeTime(i||1,!!n,e,h)}function ol(e,i,n,h){var u=de(e).abs(),v=pe(u.as("s")),T=pe(u.as("m")),C=pe(u.as("h")),P=pe(u.as("d")),b=pe(u.as("M")),k=pe(u.as("w")),I=pe(u.as("y")),W=v<=n.ss&&["s",v]||v<n.s&&["ss",v]||T<=1&&["m"]||T<n.m&&["mm",T]||C<=1&&["h"]||C<n.h&&["hh",C]||P<=1&&["d"]||P<n.d&&["dd",P];return n.w!=null&&(W=W||k<=1&&["w"]||k<n.w&&["ww",k]),W=W||b<=1&&["M"]||b<n.M&&["MM",b]||I<=1&&["y"]||["yy",I],W[2]=i,W[3]=+e>0,W[4]=h,il.apply(null,W)}function nl(e){return e===void 0?pe:typeof e=="function"?(pe=e,!0):!1}function ll(e,i){return ze[e]===void 0?!1:i===void 0?ze[e]:(ze[e]=i,e==="s"&&(ze.ss=i-1),!0)}function dl(e,i){if(!this.isValid())return this.localeData().invalidDate();var n=!1,h=ze,u,v;return typeof e=="object"&&(i=e,e=!1),typeof e=="boolean"&&(n=e),typeof i=="object"&&(h=Object.assign({},ze,i),i.s!=null&&i.ss==null&&(h.ss=i.s-1)),u=this.localeData(),v=ol(this,!n,h,u),n&&(v=u.pastFuture(+this,v)),u.postformat(v)}var bt=Math.abs;function Ae(e){return(e>0)-(e<0)||+e}function Ct(){if(!this.isValid())return this.localeData().invalidDate();var e=bt(this._milliseconds)/1e3,i=bt(this._days),n=bt(this._months),h,u,v,T,C=this.asSeconds(),P,b,k,I;return C?(h=re(e/60),u=re(h/60),e%=60,h%=60,v=re(n/12),n%=12,T=e?e.toFixed(3).replace(/\\.?0+$/,""):"",P=C<0?"-":"",b=Ae(this._months)!==Ae(C)?"-":"",k=Ae(this._days)!==Ae(C)?"-":"",I=Ae(this._milliseconds)!==Ae(C)?"-":"",P+"P"+(v?b+v+"Y":"")+(n?b+n+"M":"")+(i?k+i+"D":"")+(u||h||e?"T":"")+(u?I+u+"H":"")+(h?I+h+"M":"")+(e?I+T+"S":"")):"P0D"}var z=yt.prototype;z.isValid=Vi;z.abs=In;z.add=Wn;z.subtract=_n;z.as=Rn;z.asMilliseconds=jn;z.asSeconds=Nn;z.asMinutes=Yn;z.asHours=wn;z.asDays=Un;z.asWeeks=Gn;z.asMonths=Xn;z.asQuarters=qn;z.asYears=$n;z.valueOf=Zn;z._bubble=Ln;z.clone=Kn;z.get=Jn;z.milliseconds=Qn;z.seconds=On;z.minutes=Vn;z.hours=el;z.days=tl;z.weeks=sl;z.months=al;z.years=rl;z.humanize=dl;z.toISOString=Ct;z.toString=Ct;z.toJSON=Ct;z.locale=cr;z.localeData=gr;z.toIsoString=se("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ct);z.lang=ur;F("X",0,0,"unix");F("x",0,0,"valueOf");E("x",vt);E("X",Hs);Z("X",function(e,i,n){n._d=new Date(parseFloat(e)*1e3)});Z("x",function(e,i,n){n._d=new Date(A(e))});//! moment.js\nD.version="2.29.4";ls(N);D.fn=y;D.min=Ki;D.max=Ji;D.now=Qi;D.utc=ue;D.unix=Pn;D.months=Hn;D.isDate=qe;D.locale=xe;D.invalid=ct;D.duration=de;D.isMoment=le;D.weekdays=An;D.parseZone=bn;D.localeData=ye;D.isDuration=at;D.monthsShort=kn;D.weekdaysMin=zn;D.defineLocale=Qt;D.updateLocale=Mi;D.locales=Pi;D.weekdaysShort=Bn;D.normalizeUnits=ie;D.relativeTimeRounding=nl;D.relativeTimeThreshold=ll;D.calendarFormat=So;D.prototype=y;D.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ba=["English","German","Russian","Hungarian","Swedish","Chinese","Italian","Japanese","Korean","Spanish","French","Arabic","Portuguese","Norwegian","Romanian"],et=["en","de","ru","hu","sv","zh-cn","it","ja","ko","es","fr","ar","pt-br","nb","ro"],Ht=[["4 months","4 Monate","4 месяца","4 hónap","4 månader","4个月","4 mesi","4ヶ月","4개월","4 meses","Quatre mois","4 أشهر","4 meses","4 måneder","4 luni"],["4 Years","4 Jahre","4 года","4 év","4 år","4年","4 anni","4年","4년","4 años","Quatre ans","4 سنوات","4 anos","4 År","4 Ani"],["About","Über","О приложении","Magunkról","Om","关于","Info su","製品について","정보","Acerca de","À propos","حول","Sobre","Om","Despre noi"],["All","Alles","Все","Mind","Alla","所有","Tutto","すべての","전부","Todos","Tout","جميع","Tudo","Alle","Toate"],["Auto","Automatische Zeitzone","Автоматически","Auto","Auto","自动","Fuso orario automatico","オート","자동","Automático","Auto","تلقائي","Automático","Auto","Auto"],["Back","Zurück","Назад","Vissza","Tillbaka","返回","Indietro","戻る","뒤로","Volver","Retour","العودة","Voltar","Tilbake","Înapoi"],["Calendar","Kalender","Календарь","Naptár","Kalender","日历","Calendario","カレンダー","캘린더","Calendario","Agenda","التقويم","Calendário","Kalender","Calendar"],["Calendars","Kalender","Календари","Naptárak","Kalendrar","日历","Calendari","カレンダー","캘린더","Calendarios","Agendas","التقويمات","Calendários","Kalendere","Calendare"],["Cancel","Abbrechen","Отмена","Mégsem","Avbryt","取消","Annulla","キャンセル","취소","Cancelar","Annuler","إلغاء","Cancelar","Avbryt","Anulare"],["Color picker?","Farbwähler?","Выбор цвета?","Színválasztó?","Färgväljare?","选色器？","Color Picker?","カラーピッカー？","색상 선택기?","¿Selector de color?","Pipette à couleurs?","إنتقاء اللون؟","seletor de cores?","Fargevelger?","Selector de culoare?"],["Connect Google calendar","Mit Google Calendar verbinden","Подключить Google Календарь","Google Naptár csatlakoztatása","Logga in med Google","连接Google日历","Connetti a Google Calendar","Googleカレンダーを接続","구글 캘린더 연결하기","Connectar Google Calendar","Connecter Google Agenda","الاتصال بتقويم جوجل","Conectar calendário com o Google","Kople til Google kalender","Conectează cu Google Calendar"],["Connection failed","Verbindung fehlgeschlagen","Соединение не удалось","Sikertelen kapcsolódás","Anslutningen misslyckades","连接失败","Connessione fallita","接続に失敗しました","연결 실패","La conexión ha fallado","La connexion a échoué","فشل الاتصال","Falha na conexão","Forbindelse feilet","Conexiune eșuată"],["Data amount (startup speed)","Datenmenge (Startgeschwindigkeit)","Объём данных (скорость запуска)","Adatmennyiség (betöltési idõ)","Datamängd (starthastighet)","数据量（启动速度）","Sincronizza dati (velocità startup)","データ量 (スタートアップ速度)","데어터 량 (시작 속도)","Cantidad de datos (velocidad de inicio)","Quantité de données (vitesse de démarrage)","كمية البيانات (سرعة بدء التشغيل)","Quantidade de dados (velocidade de inicialização)","Datamengde (oppstartshastighet)","Cantitatea de date (viteza de pornire)"],["Day","Tag","День","Nap","Dag","日","Giorno","日","일","Día","Jour","يوم","Dia","Dag","Zi"],["Delete the whole series","Komplette Eventserie löschen","Удалить всю серию событий","Az összes esemény törlése","Radera hela serien","删除整个系列","Eliminare l\'intera serie","シリーズすべてを削除する","전체 시리즈 삭제","Eliminar toda la serie","Supprimer toute la série","حذف السلسلة بأكملها","Excluir toda a série","Slett hele serien","Șterge întreaga serie"],["Delete this and future events","Diesen und zukünftige Events löschen","Удалить это и будущие события","Jelen és az összes jövõbeli esemény törlése","Radera detta och framtida händelser","删除这个事件和未来事件","Eliminare questo e gli eventi futuri","これと将来のイベントを削除する","이 이벤트 및 향후 이벤트 삭제","Eliminar este y eventos futuros","Supprimer cet événement et les événements futurs","حذف هذا الحدث والأحداث المستقبلية","Excluir este e futuros eventos","Slett denne og fremtidige hendelser","Șterge acest eveniment și pe cele viitoare"],["Delete?","Löschen?","Удалить?","Törlés?","Radera?","删除？","Eliminare?","削除しますか?","삭제하시겠습니까?","¿Eliminar","Effacer ?","هل تريد الحذف؟","Excluir?","Slette?","Șterge?"],["Details","Details","Детали","Részletek","Detaljer","详情","Dettagli","詳細","세부 정보","Detalles","Détails","التفاصيل","Detalhes","Detaljer","Detalii"],["Disconnect from Google","Verbindung zu Google aufheben","Отключиться от Google","Google kapcsolat megszûntetése","Logga ur Google","取消与Google的连接","Disconnetti da Google","Googleから切断","구글 연결 끊기","Desconectar de Google","Se déconnecter de Google","قطع الاتصال عن جوجل","Desconectar do Google","Kople fra Google","Deconectează de la Google"],["Drag me","Lass los ","Бремя ","Húzz oda","Dra","拖动 ","Lasciami","견인 ","","Arrastrar ","Traînée ","سحب ","Arrastar","Dra meg ","Trage-ma "],["Edit the whole series","Komplette Eventserie bearbeiten","Редактировать всю серию событий","Az összes esemény módosítása","Redigera hela serien","编辑整个系列","Madificare l\'intera serie","シリーズすべてを編集","전체 시리즈 편집","Editar toda la serie","Modifier toute la série","تعديل السلسلة بأكملها","Editar toda a série","Rediger hele serien","Editează întreaga serie"],["Edit this and future events","Diesen und zukünftige Events bearbeiten","Редактировать это и будущие события","Jelen és az összes jövõbeli esemény módosítása","Redigera detta och framtida händelser","编辑这个事件和未来事件","Modifica questo e gli eventi futuri","これと将来のイベントを編集する","이 이벤트 및 향후 이벤트 편집","Editar este y eventos futuros","Modifier cet événement et les événements futurs","تعديل هذا الحدث والأحداث المستقبلية","Editar este e futuros eventos","Rediger denne og fremtidige hendelser","Editează acest eveniment și pe cele viitoare"],["Edit","Bearbeiten","Редактировать","Módosítás","Redigera","编辑","Modifica","編集","편집","Editar","Modifier","تعديل","Editar","Rediger","Editează"],["End before a date","Beenden vor einem bestimmten Datum","Окончание до указанной даты","Meghatározott dátumig","Avsluta före ett visst datum","在某个日期前结束","Fine prima di una data","以前に終わり","해당 날짜 전에 종료","Terminar antes de una fecha","Se termine avant une date","الانتهاء قبل موعد","Finalizar antes de uma data","Slutt før en dato","Încheie înainte de o dată"],["End before","Beenden vor","Окончание до","Ismétlõdés vége","Avsluta före","在...之前结束","Finire prima","以前に終わり","전에 종료","Terminar antes de","Se termine avant","الانتهاء قبل","Finalizar antes de","Slutt før","Încheie înainte de"],["End","Ende","Окончание","Végzõdés","Slut","结束","Fine","終わり","종료","Terminar","Fin","انتهاء","Finalizar","Slutt","Încheie"],["Error","Fehler","Ошибка","Hiba","Fel","错误","Errore","エラー","에러","Error","Erreur","خطأ","Erro","Feil","Eroare"],["Every X day(s)","Jeden X Tag(e)","Каждые X дней","Minden X-edik napon","Varje X dag(ar)","每隔X天","Ogni X giorno(i)","X日ごと","X일마다","Cada X día(s)","Tous les X jour(s)","كل X يوم (أيام)","A cada X dia(s)","Hver X dag(er)","La fiecare X zile"],["Every X month(s)","Jeden X Monat(e)","Каждые X месяцев","Minden X-edik hónapban","Varje X månad(er)","每隔X月","Ogni X mese(i)","Xヶ月ごと","X개월마다","Cada X mes(es)","Tous les X mois","كل X شهر (شهور)","A cada X mês(es)","Hver X måned(er)","La fiecare X luni"],["Every X week(s)","Jede X Woche(n)","Каждые X недель","Minden X-edik héten","Varje X vecka/veckor","每隔X周","Ogni X settimana(e)","X週間ごと","X주마다","Cada X semana(s)","Toutes les X semaine(s)","كل X أسبوع (أسابيع)","A cada X semana(s)","Hver X uke(r)","La fiecare X săptămâni"],["Every X year(s)","Jede(s) X Jahr(e)","Каждые X лет","Minden X-edik évben","Varje X år","每隔X年","Ogni X anno(i)","X年ごと","X년마다","Cada X año(s)","Tous les X an(s)","كل X سنة (سنين)","A cada X ano(s)","Hver X År","La fiecare X ani"],["First day of week","Erster Tag in der Woche","Первый день недели","A hét elsõ napja","Första dagen i veckan","每周第一天","Primo giorno della settimana","週の最初の日","일주일의 첫 날","Primer día de la semana","Premier jour de la semaine","اليوم الأول من الأسبوع","Primeiro dia da semana","Første ukedag","În prima zi a săptămânii"],["Forever","Für immer","Бесконечно","Örökké","För alltid","永远","Per sempre","永遠","영원히","Para siempre","Pour toujours","مدى الحياة","Para sempre","For alltid","Pentru totdeauna"],["Frequency","Wiederholung","Частота повторений","Ismétlõdés","Frekvens","频率","Frequenza","頻度","횟수","Frecuencia","Fréquence","تردد","Frequência","Frekvens","Frecvență"],["Gray days","Graue Tage","Дни серого цвета","Szürke napok","Gråa dagar","阴天","Giorni grigi","グレーの日","회색 일자","Días grises","Jours gris","الأيام الرمادية","Dias cinzas","Lørdager","Zile marcate cu gri"],["Hold CTRL/CMD while clicking on the reminders you want.","Halte CTRL/CMD während du auf einen Event clickst.","Удерживая CTRL/CMD, щёлкните по требуемым напоминаниям","Nyomd le a CTRL/CMD gombot az emlékeztetõk kiválasztásához.","Håll ner CTRL/CMD och klicka på önskade påminnelser.","按住CTRL/CMD键，同时点击你要选择的提醒。","Tieni premuto CTRL/CMD mentre clicchi sui promemoria che desideri","ご希望のリマインダーをクリックしながら、CTRL/CMDを長押ししてください。","원하는 알림을 클릭하면서 CTRL/CMD를 누르세요.","Mantén presionado CTRL/CMD al hacer clic en los recordatorios que deseas.","Maintenez CTRL / CMD en cliquant sur les rappels que vous voulez.","اضغط باستمرار على CTRL / CMD أثناء النقر على التذكيرات التي تريدها.","Aperte CTRL/CMD enquanto clica nos lembretes que deseja.","Hold CTRL/CMD nede mens du klikker på påminnelsen du ønsker.","Ține apăsat CTRL/CMD în timp ce apeși pe mementourile dorite"],["Invited","Eingeladen","Участники","Meghívottak","Inbjuden","已邀请","Invitato","招待された","초대됨","Invitado","Invité","تم دعوته","Convidado","Invitert","Invitat"],["Language","Sprache","Язык","Nyelv","Språk:","语言","Lingua","言語","언어","Idioma","Langue","اللغة","Idioma","Språk","Limbă"],["Mixed English","Mixed Englisch","Английский","Angol (vegyes)","Blandad engelska:","混合式英语","Inglese mischiato","ミックスされた英語","혼합 영어","Mixto Inglés","Anglais mixte","الإنجليزية المختلطة","Inglês misto","Blandet Engelsk","Engleză mixtă"],["Month","Monat","Месяц","Hónap","Månad","月","Mese","月","개월","Mes","Mois","شهر","Mês","Måned","Lună"],["More themes?","Mehr Themen?","Другие темы?","További témák?","Fler teman?","更多主题？","Altri temi?","その他のテーマ？","더 많은 테마?","Más temas?","Plus de thèmes?","مزيد من الموضوعات؟","Mais temas?","Flere temaer?","Mai multe teme?"],["Move","Verschieben","Переместить","Mozgatás","Flytta","移动","Sposta","移動させる","이동","Mover","Déplacer","انتقال","Mover","Flytt","Mută"],["NO (Press to add)","Keine (tippen um hinzuzufügen) ","Никто ","Egyik sem ","Nej (Tryck för att lägga till)","没有","Nessuna (premi per aggiungere)","なし ","없음 ","Ninguna ","Aucun ","لا شيء ","Nenhum ","None","Nici unul "],["Not repeated","Ohne Wiederholung","Не повторяется","Nem ismétlõdõ","Upprepas ej","不重复","Senza ripetizione","繰り返されない","반복 없음","No repetido","Non répété","لا تتكرر","Não repetido","Ikke gjentatt","Nu e repetat"],["Ok","OK","OK","Ok","Ok","好","OK","分かりました","Ok","Aceptar","D\'accord","موافق","Ok","Ok","Ok"],["On %1, week %2 of each month","Am %1, die %2 Woche im Monat","Каждый %1 %2-й недели месяца","%1, minden hónap %2. hetében","På %1, vecka %2 i varje månad","在每月的第%2周第%1天","Ogni %1 della %2 settimana del mese","毎月%2週の%1に","매달 %2주 %1에","En día %1, semana %2 de cada mes","Le %1, semaine %2 de chaque mois","على%1 ،%2 أسبوع من كل شهر","Em %1, semana %2 de cada mês","På %1, uke %2 i hver måned","La 1%, săptămânal 2% în fiecare lună"],["On day %1 of each month","Am %1 Tag im Monat","%1 число каждого месяца","Minden hónap %1. napján","På dag %1 i varje månad","在每月的第%1天","Ogni %1 giorno della settimana","毎月%1日に","매달 %1일에","En el día %1 de cada mes","Le %1 de chaque mois","في يوم %1 من كل شهر","No dia %1 de cada mês","På dag %1 i hver måned","Pe zi 1% din fiecare lună"],["Only delete this event","Lösche nur diesen Event","Удалить только это событие","Csak a jelen esemény törlése","Radera endast denna händelse","只删除这个事件","Elimina solo questo evento","このイベントだけを削除する","이 이벤트만 삭제","Solo eliminar este evento","Supprimer cet événement uniquement","حذف هذا الحدث فقط","Excluir apenas este evento","Slett bare denne hendelsen","Doar șterge acest eveniment"],["Only edit this event","Bearbeite nur diesen Event","Редактировать только это событие","Csak a jelen esemény szerkesztése","Redigera endast denna händelse","只编辑这个事件","Modifica solo questo evento","このイベントだけを編集する","이 이벤트만 편집","Solo editar este evento","Modifier cet événement uniquement","تعديل هذا الحدث فقط","Editar apenas este evento","Rediger bare denne hendelsen","Doar editează acest eveniment"],["Recurrence","Wiederholung","Повторяющееся событие","Ismétlõdés","Upprepning","循环","Ricorrenza","繰り返し","반복","Recurrencia","Récurrence","تكرار","Recorrência","Gjentakelse","Repetare"],["Refresh","Auffrischen","Обновить","Frissítés","Uppdatera","刷新","Aggiorna","更新","새로 고침","Recargar","Rafraîchir","إعادة تحميل","Atualizar","Oppfrisk","Actualizăează"],["Reminders","Errinerung","Напоминания","Emlékeztetõk","Påminnelser","提醒","Promemoria","リマインダー","알림","Recordatorios","Rappels","التذكيرات","Lembretes","Påminnelser","Mementouri"],["Repeat X times","Wiederhole X mal","Повторить X раз","Ismétlõdés X alkalommal","Upprepa X gånger","重复X次","Ripeti X volte","X回くりかえす","X번 반복","Repetir X veces","Répéter X fois","تكرار عدد X من المرات","Repetir X vezes","Gjenta X ganger","Repetă de X ori"],["Settings","Einstellungen","Настройки","Beállítások","Inställningar","设置","Impostazioni","設定","설정","Ajustes","Paramètres","إعدادات","Configurações","Innstillinger","Setări"],["Shop","Geschäft","Магазин","Üzlet","Affär","店","Negozio","ショップ","가게","Tienda","Boutique","متجر","Loja","Butikk","Magazin"],["Show demo calendar","Zeige Demo Kalender","Показать демонстрационный календарь","Demo naptár mutatása","Visa demo-kalender","显示日历示例","Mostra calendario demo","デモカレンダーを表示する","데모 캘린더 보기","Mostrar calendario de demostración","Afficher l’agenda de démonstration","عرض التقويم التجريبي","Mostrar calendário demo","Vis demo kalender","Arată calendarul demo"],["Show week numbers","Zeige Wochennummern","Показывать номера недель","Hetek sorszámának megjelenítése","Visa veckonummer","显示周数","Mostra numeri di settimana","週の番号を表示する","주 번호 보기","Mostrar números de semana","Afficher les numéros de semaine","عرض أعداد الأسابيع","Mostrar números da semana","Vis ukenummer","Arată numărul săptămânilor"],["Sorry, this event can\'t be edited","Event kann nicht bearbeitet werden","К сожалению, это событие не редактируемо","Sajnálom, ez az esemény nem szerkeszthetõ","Tyvärr, denna händelse kan ej redigeras","对不起，无法编辑这个事件","Non puoi modificare questo evento","申し訳ございません。このイベントは編集できません","죄송합니다. 이 이벤트는 편집할 수 없습니다","Lo sentimos, este evento no se puede editar","Désolé, cet événement ne peut pas être modifié","عذراً، لا يمكن تعديل هذا الحدث","Desculpe, este evento não pode ser editado","Beklager, denne hendelsen kan ikke redigeres","Scuze, acest eveniment nu poate fi editat"],["Start","Anfang","Начало","Kezdés","Start","开始","Inizio","開始","시작하기","Inicio","Démarrer","بداية","Começar","Start","Start"],["Theme","Thema","тема","Téma","Tema","主题","Tema","テーマ","테마","Tema","Thème","موضوع","Tema","Tema","Temă"],["Time zone","Zeitzone","Часовой пояс","Idõzóna","Tidszon","时区","Fuso orario","タイムゾーン","시간대","Zona horaria","Fuseau horaire","منطقة زمنية","Fuso horário","Tidssone","Fus Orar"],["Title","Titel","Название","Cím","Titel","标题","Titolo","タイトル","제목","Título","Titre","عنوان","Título","Tittel","Titlu"],["Type","Typ","Тип","Típus","Typ","类型","Tipo","タイプ","유형","Tipo","Type","نوع","Tipo","Type","Tip"],["Use 24-hour format","24 Stunden Format","Использовать 24-часовой формат","24 órás formátum használata","Använd 24-timmarssystem","使用24小时格式","Usa formato 24h","24時間フォーマットを使用する","24시간 형식","Usar formato de 24 horas","Utiliser le format 24 heures","استخدام تنسيق 24 ساعة","Usar formato de 24 horas","Bruk 24-timers format","Folosește format de 24 de ore"],["Week days","WOchentage","Дни недели","Ismétlõdés ezen a napon","Veckodagar","周间","Giorni in settimana","曜日","1주일","Entre semana","Jours de la semaine","أيام الأسبوع","Dias da semana","Ukedager","Zilele săptămânii"],["Week","Woche","Неделя","Hét","Vecka","周","Settimana","週","주","Semana","Semaine","أسبوع","Semana","Uke","Săptămână"],["When","Wann","Время","Mikor","När","何时","Quando","いつ","일시","Cuándo","Quand","متى","Quando","Når","Când"],["Where","Wo","Место","Hol","Var","何地","Dove","どこで","장소","Dónde","Où","أين","Onde","Hvor","Unde"],["Year","Jahr","Год","Év","År","年","Anno","年","년","Año","Année","سنة","Ano","År","An"],["Not possible","Nicht möglich","Невозможно","Nem lehetséges","Inte möjligt","不可能","Non possibile","ありえない","수 없음","Imposible","Pas possible","غير ممكن","Não é possivel","Umulig ","nu este posibil "]],q;(e=>{class i{constructor(t=[]){this.calendarEvents=t}dateTimeReviver(t,r){return typeof r=="string"&&t.length>4&&(t.substr(t.length-4)==="Date"||t.substr(t.length-4)==="Time")?new Date(r):r}localStorageSetItem(t,r){try{localStorage.setItem(t,r)}catch{}}}e.LocalStorage=i;class n extends i{constructor(){super(),this.cachedTimeZoneDiffInMinutes=void 0,this.cachedGrayDays=void 0,this.cachedSavedCalendarColors=void 0,this.cachedFirstDayOfWeek=void 0,this.defaultUseWeek=!1,this.defaultUse24hFormat=!1,this.theme="0"}get calendarIdLastAddedTo(){try{var t=localStorage.getItem("oneview_settings_lastCalendarId");if(t!=null)return JSON.parse(t)}catch{}}set calendarIdLastAddedTo(t){this.localStorageSetItem("oneview_settings_lastCalendarId",JSON.stringify(t))}get hasShownRemindersInfo(){return this.getBoolean("oneview_settings_hasShownRemindersInfo",!1)}set hasShownRemindersInfo(t){this.localStorageSetItem("oneview_settings_hasShownRemindersInfo",JSON.stringify(t))}getDefaultUse24hFormat(){return this.defaultUse24hFormat!==void 0&&this.defaultUse24hFormat!==null?this.defaultUse24hFormat:this.defaultUse24hFormat=!(0<D().format("LT").indexOf(D().format("A"))&&0<D().format("A").length)}getDefaultUseWeek(){if(this.defaultUseWeek!==void 0&&this.defaultUseWeek!==null)return this.defaultUseWeek;var t="AT AX BE CH CZ DE DK EE ES EU FI FO FR GB GL GR IE IM IS IT LI LU LV NL NO PL PT SE SJ".split(" ");this.defaultUseWeek=!1;for(var r=0;r<t.length;r++)-1<navigator.language.toUpperCase().indexOf(t[r])&&(this.defaultUseWeek=!0);return this.defaultUseWeek}get showWeekNumbers(){return this.getBoolean("oneview_settings_showWeekNumbers",this.getDefaultUseWeek())}set showWeekNumbers(t){this.localStorageSetItem("oneview_settings_showWeekNumbers",JSON.stringify(t))}get use24hFormat(){return this.getBoolean("oneview_settings_use24hFormat",this.getDefaultUse24hFormat())}set use24hFormat(t){this.localStorageSetItem("oneview_settings_use24hFormat",JSON.stringify(t))}get timeZoneForSettingsPage(){return this.getString("oneview_settings_timeZone","-")}set timeZoneForSettingsPage(t){this.cachedTimeZoneDiffInMinutes=void 0,this.localStorageSetItem("oneview_settings_timeZone",JSON.stringify(t))}get dataAmountToLoad(){return this.getNumber("oneview_settings_dataAmountToLoad",48,!1)}set dataAmountToLoad(t){this.localStorageSetItem("oneview_settings_dataAmountToLoad",JSON.stringify(t))}get language(){var t;return t=D.locale(),e.Translate.languageExists(t)||(t="-"),this.getString("oneview_settings_language",t)}set language(t){this.localStorageSetItem("oneview_settings_language",JSON.stringify(t)),this.updateAppWithLang()}updateAppWithLang(){var t=this.language;(t===""||t=="-")&&(t=navigator.language),D.locale(t),e.core.translate=new e.Translate(t),e.core.helper.monthesShort=new e.Hashtable,e.core.helper.monthesLong=new e.Hashtable,e.core.helper.weekdayShort=new e.Hashtable,e.core.helper.weekdayLong=new e.Hashtable}get licenseDarkTheme(){return this.getBoolean("oneview_settings_licenceDarkTheme",!1)}set licenseDarkTheme(t){this.localStorageSetItem("oneview_settings_licenceDarkTheme",JSON.stringify(t))}get licenseCandyTheme(){return this.getBoolean("oneview_settings_licenceCandyTheme",!1)}set licenseCandyTheme(t){this.localStorageSetItem("oneview_settings_licenceCandyTheme",JSON.stringify(t))}get licenseColorPicker(){return this.getBoolean("oneview_settings_licenceColorPicker",!1)}set licenseColorPicker(t){this.localStorageSetItem("oneview_settings_licenceColorPicker",JSON.stringify(t))}get firstDayOfWeek(){if(this.cachedFirstDayOfWeek==null){var t=D().startOf("week").isoWeekday();this.cachedFirstDayOfWeek=this.correctWeekDayNumber(Number(this.getString("oneview_settings_firstDayOfWeek",""+t)))}return this.cachedFirstDayOfWeek}set firstDayOfWeek(t){this.cachedFirstDayOfWeek=void 0,this.localStorageSetItem("oneview_settings_firstDayOfWeek",JSON.stringify(this.correctWeekDayNumber(t)))}get savedCalendarColors(){if(this.cachedSavedCalendarColors==null){var t=JSON.stringify(new e.Dictionary);this.cachedSavedCalendarColors=new e.Dictionary,t=JSON.parse(this.getObjectData("oneview_saved_calendar_colors",""+t)),this.cachedSavedCalendarColors.setup(t._keys,t._values)}return this.cachedSavedCalendarColors}set savedCalendarColors(t){this.cachedSavedCalendarColors=void 0,e.syncArrays(),this.localStorageSetItem("oneview_saved_calendar_colors",JSON.stringify(t))}get grayDays(){return this.cachedGrayDays==null&&(this.cachedGrayDays=(this.getString("oneview_settings_grayDays","67")+"").replace("0","7")),this.cachedGrayDays}set grayDays(t){this.cachedGrayDays=void 0,this.localStorageSetItem("oneview_settings_grayDays",JSON.stringify(t.replace("0","7")))}getCachedTimeZoneDiffInMinutes(){if(this.cachedTimeZoneDiffInMinutes==null){var t=this.timeZoneForSettingsPage;return t==null||t=="-"?0:60*Number(t)+new Date().getTimezoneOffset()}return this.cachedTimeZoneDiffInMinutes}getBoolean(t,r){try{var s=localStorage.getItem(t);return s!=null?JSON.parse(s):r}catch{return r}}getObjectData(t,r){try{var s=localStorage.getItem(t);return s??r}catch{return r}}getString(t,r){try{var s=localStorage.getItem(t);return s!=null?JSON.parse(s):r}catch{return r}}getNumber(t,r,s){try{return t=localStorage.getItem(t),t!=null&&(t=JSON.parse(t)),t!=null&&(s||t!=0)?t:r}catch{return r}}correctWeekDayNumber(t){for(;1>t;)t+=7;for(;7<t;)t-=7;return t}}e.CommonUserSettings=n;class h{constructor(){this.previousFont="",this.canvasCache=new e.SpeedCache}debugText(t){e.core.zopDrawArea.canvasContext.fillStyle="#FF0000",this.setFont(20),e.core.zopDrawArea.canvasContext.fillText(t,5,30)}drawIcon(t,r,s,o,l){}loadIcon(t,r,s,o,l,c){this.drawPicture(r,s,o,l,c),this.loadingIconNames.splice(this.loadingIconNames.indexOf(t),1),this.loadedIconNames||(this.loadedIconNames=[]),this.loadedIcons||(this.loadedIcons=[]),this.loadedIconNames.push(t),this.loadedIcons.push(r)}drawLoader(t){var r=Math.min(e.core.zopDrawArea.zopAreaWidth,e.core.zopDrawArea.zopAreaHeight)/32,s=e.core.zopDrawArea.zopAreaWidth/2,o=e.core.zopDrawArea.zopAreaHeight/2;e.core.zopDrawArea.canvasContext.strokeStyle=e.core.settings.theme.colorDark,e.core.zopDrawArea.canvasContext.lineWidth=Math.max(r/2,r/6+12),e.core.zopDrawArea.canvasContext.lineCap="butt",e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.arc(s,o,r,t,t+2.5),e.core.zopDrawArea.canvasContext.stroke()}drawPicture(t,r,s,o,l){r=Math.floor(r),s=Math.floor(s),o=Math.floor(o),l=Math.floor(l),e.core.zopDrawArea.canvasContext.drawImage(t,r,s,o,l)}drawPictureWithOffset(t,r,s,o,l,c,p){r=Math.floor(r),s=Math.floor(s),o=Math.floor(o),l=Math.floor(l),e.core.zopDrawArea.canvasContext.drawImage(t,c,p,o,l,r,s,o,l)}drawFilledRectangle({x:t,y:r,width:s,height:o,fillStyle:l,hasShadow:c,rounded:p,strokeStyle:f}){e.core.zopDrawArea.setShadow(c);const g=e.core.zopDrawArea.canvasContext;g.fillStyle=l,p?(g.beginPath(),g.roundRect(Math.floor(t),Math.floor(r),Math.floor(s),Math.floor(o),15),g.fill()):(g.fillRect(Math.floor(t),Math.floor(r),Math.floor(s),Math.floor(o)),f&&(g.strokeStyle=f,g.strokeRect(Math.floor(t),Math.floor(r),Math.floor(s),Math.floor(o)))),e.core.zopDrawArea.removeShadow(c)}setFont(t,r,s,o){r===void 0&&(r=!1),s===void 0&&(s=!1),o===void 0&&(o=!1),r?(r=t+"px "+e.core.settings.theme.titleBarFont,o&&(r=t+"px "+e.core.settings.theme.titleBarFontBold),s&&(r=t+"px "+e.core.settings.theme.textFont)):r=o?t+"px "+e.core.settings.theme.textFontBold:s?t+"px "+e.core.settings.theme.textFontThin:t+"px "+e.core.settings.theme.textFont,e.core.zopDrawArea.canvasContext.font!==r&&(e.core.zopDrawArea.canvasContext.font=r)}drawTriangle(t,r,s,o,l,c,p,f){e.core.zopDrawArea.setShadow(f),o=r+o,c=r+c,e.core.zopDrawArea.canvasContext.fillStyle=p,e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t+s,o),e.core.zopDrawArea.canvasContext.lineTo(t+l,c),e.core.zopDrawArea.canvasContext.closePath(),e.core.zopDrawArea.canvasContext.fill(),e.core.zopDrawArea.removeShadow(f)}drawLine2(t,r,s,o,l,c,p){this.drawLine(t,r,s-t,o-r,l,c,p)}startLines(t,r,s,o){e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineWidth=s,e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.strokeStyle=o,e.core.zopDrawArea.canvasContext.lineCap="round",e.core.zopDrawArea.canvasContext.lineJoin="round"}continueLines(t,r){e.core.zopDrawArea.canvasContext.lineTo(t,r)}endLines(){e.core.zopDrawArea.canvasContext.stroke()}drawLine(t,r,s,o,l,c,p){e.core.zopDrawArea.setShadow(p),o=r+o,e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineCap="square",e.core.zopDrawArea.canvasContext.lineWidth=l,e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t+s,o),e.core.zopDrawArea.canvasContext.strokeStyle=c,e.core.zopDrawArea.canvasContext.stroke(),e.core.zopDrawArea.removeShadow(p)}drawHorizontalLineNotZOP(t,r,s,o,l,c){e.core.zopDrawArea.setShadow(c),r=Math.floor(r),e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineWidth=l,e.core.zopDrawArea.canvasContext.lineCap="square",e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t+s,r),e.core.zopDrawArea.canvasContext.strokeStyle=o,e.core.zopDrawArea.canvasContext.stroke(),e.core.zopDrawArea.removeShadow(c)}drawVerticalLineNotZOP(t,r,s,o,l){t=Math.floor(t)+.5,e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineWidth=l,e.core.zopDrawArea.canvasContext.lineCap="square",e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t,s),e.core.zopDrawArea.canvasContext.strokeStyle=o,e.core.zopDrawArea.canvasContext.stroke()}drawCenteredText(t,r,s,o,l,c,p,f,g){for(g===void 0&&(g=!1),p=Math.max(0,(o-e.core.zopDrawArea.measureTextWidth(t,l,f,!1))/2);e.core.zopDrawArea.measureTextWidth(t,l,f,!1)>o;)t=t.substring(0,t.length-1);e.core.drawArea.drawText(t,r+p,s,l,c,!1,f,g,!1)}startNewRound(){this.canvasCache.startNewRound()}drawText(t,r,s,o,l,c,p,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1),this.setFont(o,p,f,g),e.core.zopDrawArea.canvasContext.fillStyle=l,e.core.zopDrawArea.canvasContext.fillText(t,Math.floor(r)+.45,Math.floor(s+o)+.45)}}e.DrawArea=h;class u{constructor(){this.preparingScrollCounter=0,this.previousScrollSpeed=0,this.scrollSpeed=0,this.speedSlowDown=.013,this.azTopZOPSpeed=0,this.azBottomZOPSpeed=0,this.azTopZOPSpeed_Linear=0,this.azBottomZOPSpeed_Linear=0,this.azLastZoomTime=0,this.azRunning=!1,this.azCallBack=()=>{}}startAutoZoom(t,r,s,o){this.azGoalTopZOP=t,this.azGoalBottomZOP=r,this.speedModifier=(this.megaSlowZoom=s)?4e6:6e3,this.azTopZOPSpeed=this.getAzTopZopSpeed(),this.azBottomZOPSpeed=this.getAzBottomZopSpeed(),this.azTopZOPSpeed_Linear=this.azGoalTopZOP>e.core.zopHandler.topZOP?this.azTopZOPSpeed/2e3:this.azTopZOPSpeed/20,this.azBottomZOPSpeed_Linear=this.azGoalBottomZOP<e.core.zopHandler.bottomZOP?this.azBottomZOPSpeed/3e3:this.azBottomZOPSpeed/20,this.azLastZoomTime=e.core.getTimeStamp(),this.azRunning=!0,this.azCallBack=o,e.core.redraw(!1)}runAutoZoom(){if(!this.azRunning)return!1;var t=e.core.getTimeStamp()-this.azLastZoomTime;if(t===0)return!1;var r=e.core.zopHandler.topZOP+this.azTopZOPSpeed*t;return(0<=this.azTopZOPSpeed&&r>this.azGoalTopZOP||0>this.azTopZOPSpeed&&r<this.azGoalTopZOP)&&(r=this.azGoalTopZOP,this.azTopZOPSpeed=0),t=e.core.zopHandler.bottomZOP+this.azBottomZOPSpeed*t,(0<=this.azBottomZOPSpeed&&t>this.azGoalBottomZOP||0>this.azBottomZOPSpeed&&t<this.azGoalBottomZOP)&&(t=this.azGoalBottomZOP,this.azBottomZOPSpeed=0),e.core.zopHandler.setZoom(r,t,e.core.zopHandler.topPixel,e.core.zopHandler.bottomPixel),this.azTopZOPSpeed==0&&this.azBottomZOPSpeed==0?(this.stopAutoZoom(),!1):(this.megaSlowZoom?(this.azTopZOPSpeed=this.getAzTopZopSpeed()/2,this.azBottomZOPSpeed=this.getAzBottomZopSpeed()/2):(this.azTopZOPSpeed=(this.getAzTopZopSpeed()+this.azTopZOPSpeed_Linear)/2,this.azBottomZOPSpeed=(this.getAzBottomZopSpeed()+this.azBottomZOPSpeed_Linear)/2),!0)}getAzTopZopSpeed(){return(this.azGoalTopZOP-e.core.zopHandler.topZOP)/this.speedModifier}getAzBottomZopSpeed(){return(this.azGoalBottomZOP-e.core.zopHandler.bottomZOP)/this.speedModifier}runEffects(){return this.runAutoScroll()||this.runAutoZoom()}prepareAutoScroll(t,r){r===void 0&&(r=0);var s=e.core.getTimeStamp(),o=s-this.lastScrollTime;o<=r||(this.previousScrollSpeed=this.scrollSpeed,1<this.preparingScrollCounter?(this.scrollSpeed=(t-this.lastScrollYPixel)/o,this.scrollSpeed>e.core.zopHandler.maxScrollSpeed&&(this.scrollSpeed=e.core.zopHandler.maxScrollSpeed),this.scrollSpeed<-e.core.zopHandler.maxScrollSpeed&&(this.scrollSpeed=-e.core.zopHandler.maxScrollSpeed)):this.scrollSpeed=0,this.preparingScrollCounter++,this.lastScrollTime=s,this.lastScrollYPixel=t)}startAutoScroll(t){e.core.zopHandler.startScroll(t),this.previousScrollSpeed!=0&&this.scrollSpeed!=0&&(this.scrollSpeed=(this.scrollSpeed+this.previousScrollSpeed)/2*1.2),this.preparingScrollCounter=this.previousScrollSpeed=0}runAutoScroll(){if(this.scrollSpeed!=0&&this.preparingScrollCounter===0){var t=e.core.getTimeStamp(),r=t-this.lastScrollTime;if(r===0)return!1;var s=this.lastScrollYPixel+this.scrollSpeed*r;return this.lastScrollYPixel=s,this.lastScrollTime=t,e.core.zopHandler.continueScroll(s),e.core.zopHandler.endScroll(),e.core.zopHandler.startScroll(s),this.speedSlowDown=r*e.core.zopHandler.maxScrollSpeed/2200,this.scrollSpeed=this.scrollSpeed>2*this.speedSlowDown?this.scrollSpeed-this.speedSlowDown:this.scrollSpeed<2*-this.speedSlowDown?this.scrollSpeed+this.speedSlowDown:0,this.scrollSpeed===0&&e.core.zopHandler.endScroll(),!0}return!1}isScrollingOrZooming(){return 1<this.scrollSpeed||this.azRunning===!0}stopAllEffects(){this.previousScrollSpeed=this.scrollSpeed=0,e.core.zopHandler.endScroll(),this.stopAutoZoom(),e.core.redraw(!1)}stopAutoZoom(){this.azRunning=!1,this.azBottomZOPSpeed=this.azTopZOPSpeed=0,this.azCallBack&&(this.azCallBack(),this.azCallBack=void 0),e.core.redraw(!1)}}e.DrawAreaEffects=u;class v{constructor(){this.pageHtml=\'<div id="noColorPickerWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#Color picker?#}</div>    <div>        <button id="gotoShopCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="gotoShopOk" class="topBarButton" style="width:50%"><img src="images/shop.svg" class="topBarImage"/><span>{#Shop#}</span></button>    </div></div></div></div><div id="calendarsTopBar" class="topBar">    <button id="calendarsBack" class="topBarButton" style="width:50%"><img src="images/arrow-left.svg" class="topBarImage"/></span><span>{#Back#}</span></button>    <button id="emptyButton" class="topBarButton" style="width:50%"></button>    <div id="calendarsTitle" class="topBarTitle" style="width:100%">{#Calendars#}</div></div><div id="calendarsArea" class="pageContent">    <ul class="calendarsPopupList" id="calendarsPopupList"></ul></div>\',this.visibilitySettings=[]}show(){e.core.domHandler.hideCanvas(),this.timestamp=e.core.getTimeStamp(),e.core.calendarDataProxy.analyticsPage("Calendars page"),this.calendarsPage=e.core.domHandler.pageHtmlFormatHelper("calendarsPage",this.pageHtml),this.calendarsPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100);var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;for(document.getElementById("calendarsBack").style.padding=t+"px",document.getElementById("emptyButton").style.padding=e.core.settings.titleWidth/e.core.ratio/2+1+"px",document.getElementById("calendarsArea").style.top="54px",e.core.showBackButtons()?(e.core.domHandler.addClickEvent("calendarsBack",this.calendarsBack,this),document.getElementById("calendarsTitle").style.display="none"):(document.getElementById("calendarsBack").style.display="none",document.getElementById("emptyButton").style.display="none"),this.visibilitySettings=[],t=0;t<e.core.calendars.length;t++)this.visibilitySettings.push(new d(e.core.calendars[t].id,e.core.calendars[t].visibility));for(var r=document.getElementById("calendarsPopupList");r.firstChild;)r.removeChild(r.firstChild);for(this.liElements=[],this.checkBoxElements=[],this.spanElements=[],this.colorBoxElements=[],t=0;t<e.core.calendars.length;t++){var s=document.createElement("li"),o=document.createTextNode(e.core.calendars[t].name),l=document.createElement("span");this.liElements.push(s);var c=document.createElement("img");c.id="checkbox"+t,c.style.height="24px",c.style.paddingTop="6px",c.style.paddingRight="12px",c.style.paddingBottom="6px",c.style.verticalAlign="top",s.appendChild(c),this.checkBoxElements.push(c);var p=document.createElement("span");if(p.id="span"+t,p.className="textInList",p.style.maxWidth=e.core.domHandler.screenWidthForDOM-130+"px",p.appendChild(o),s.appendChild(p),this.spanElements.push(p),this.colorBoxElements.push(l),l.className="colorBox",l.id="colorBox"+t,l.style.cssFloat="right",s.appendChild(l),this.styleBasedOnVisibility(s,c,l,e.core.calendars[t],null),e.core.commonUserSettings.licenceColorPicker){o=document.createElement("div"),o.id="colorPicker"+t,s.appendChild(o),c=new Piklor,c.init(o,e.core.settings.theme.eventColors,{open:l,closeOnBlur:!1},""+t);var f=this;c.colorChosen(function(g,m){var S=+m,M=e.core.settings.theme.eventColors.indexOf(g);document.getElementById("colorBox"+S);var _=e.core.commonUserSettings.savedCalendarColors;e.core.commonUserSettings.savedCalendarColors.containsKey(e.core.calendars[S].id)?_[e.core.calendars[S].id]=M:_.add(e.core.calendars[S].id,M),e.core.commonUserSettings.savedCalendarColors=_,e.core.calendars[S].colorId=M,e.core.calendars[S].visibility=e.VisibilityType.Visible,e.core.calendarDataProxy.saveSettings(),f.styleBasedOnVisibility(f.liElements[S],f.checkBoxElements[S],f.colorBoxElements[S],e.core.calendars[S],null)})}else this.showNoColorPickerWindow=this.showNoColorPickerWindow.bind(this),l.addEventListener("click",this.showNoColorPickerWindow,!1);s.id="calendarsPopupList"+t,r.appendChild(s),e.core.domHandler.addClickEvent(s.id,this.calendarClicked,this)}}showNoColorPickerWindow(){document.getElementById("noColorPickerWindow").style.display="table",e.core.domHandler.addClickEvent("gotoShopOk",this.gotoShop,this),e.core.domHandler.addClickEvent("gotoShopCancel",this.hideNoColorPickerWindow,this)}hideNoColorPickerWindow(){document.getElementById("noColorPickerWindow").style.display="none"}gotoShop(){e.core.appStateHandler.viewShop()}hide(){e.core.appStateHandler.calendarsControlIsShowing=!1;for(var t=0;t<e.core.calendars.length;t++)this.visibilitySettings[t].newVisibility=e.core.calendars[t].visibility;e.core.calendarDataProxy.persistCalendarsVisibilitySettings(this.visibilitySettings),e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.calendarsPage.id)}reshow(){this.show()}styleBasedOnVisibility(t,r,s,o,l){t.style.backgroundColor=e.core.settings.theme.colorBackground,l=e.core.helper.getEventColor(l,o),s.style.backgroundColor=l,s.style.borderColor=l,o.visibility==e.VisibilityType.Visible?(r.src="images/checkbox-checked.svg",t.style.color=e.core.settings.theme.colorHorizontalTitle):(r.src="images/checkbox-unchecked.svg",t.style.color=e.core.helper.colorToRGBA(e.core.settings.theme.colorHorizontalTitle,.5))}getEventTarget(t){return t=t||window.event,t.target||t.srcElement}calendarClicked(t){t.preventDefault();var r=e.core.getTimeStamp();this.lastClickTime&&this.lastClickTime+250>r||(this.lastClickTime=r,t=this.getEventTarget(t),r=this.liElements.indexOf(t),0>r&&(r=this.checkBoxElements.indexOf(t)),0<=r&&(e.core.calendars[r].visibility=e.core.calendars[r].visibility==e.VisibilityType.Visible?e.VisibilityType.Hidden:e.VisibilityType.Visible,this.styleBasedOnVisibility(this.liElements[r],this.checkBoxElements[r],this.colorBoxElements[r],e.core.calendars[r],null)))}calendarsBack(t){300>e.core.getTimeStamp()-this.timestamp||e.core.appStateHandler.back()}}e.CalendarsControl=v;class T{constructor(t,r){this.id=t,this.oldVisibility=r}}e.CalendarVisibilitySetting=T;class C{constructor(){this.pageHtml=\'<div id="noThemesWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#More themes?#}</div>    <div>        <button id="gotoShopCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="gotoShopOk" class="topBarButton" style="width:50%"><img src="images/shop.svg" class="topBarImage"/><span>{#Shop#}</span></button>    </div></div></div></div><div id="settingsTopBar" class="topBar">    <button id="settingsBack" class="topBarButton" style="width:50%"><img src="images/arrow-left.svg" class="topBarImage"/></span><span>{#Back#}</span></button>    <button id="emptyButton" class="topBarButton" style="width:50%"></button>    <div id="settingsTitle" class="topBarTitle" style="width:100%">{#Settings#}</div></div><div id="settingsArea" class="pageContent pageTopPadding" style="float:left; background-color: #E9E9E9;">    <div class="miniTitle sizedTitle" id="themeTitle">{#Theme#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsTheme" class="base inputBase" ></select></div>    </div>        <div class="miniTitle sizedTitle" id="timezoneTitle">{#Time zone#}</div>            <div style="position: relative"><div class="inputBox"><select id="settingsTimeZone" class="base inputBase" >                <option class="inputOption" value="-">{#Auto#}</option>                <option class="inputOption" value="-12">-12</option>                <option class="inputOption" value="-11">-11</option>                <option class="inputOption" value="-10">-10</option>                <option class="inputOption" value="-9.5">-9:30</option>                <option class="inputOption" value="-9">-9</option>                <option class="inputOption" value="-8">-8</option>                <option class="inputOption" value="-7">-7</option>                <option class="inputOption" value="-6">-6</option>                <option class="inputOption" value="-5">-5</option>                <option class="inputOption" value="-4">-4</option>                <option class="inputOption" value="-3.5">-3:30</option>                <option class="inputOption" value="-3">-3</option>                <option class="inputOption" value="-2">-2</option>                <option class="inputOption" value="-1">-1</option>                <option class="inputOption" value="0" >0</option>                <option class="inputOption" value="+1">+1</option>                <option class="inputOption" value="+2">+2</option>                <option class="inputOption" value="+3">+3</option>                <option class="inputOption" value="+3.5">+3:30</option>                <option class="inputOption" value="+4">+4</option>                <option class="inputOption" value="+4.5">+4:30</option>                <option class="inputOption" value="+5">+5</option>                <option class="inputOption" value="+5.5">+5:30</option>                <option class="inputOption" value="+5.75">+5:45</option>                <option class="inputOption" value="+6">+6</option>                <option class="inputOption" value="+6.5">+6:30</option>                <option class="inputOption" value="+7">+7</option>                <option class="inputOption" value="+8">+8</option>                <option class="inputOption" value="+8.5">+8:30</option>                <option class="inputOption" value="+8.75">+8:45</option>                <option class="inputOption" value="+9">+9</option>                <option class="inputOption" value="+9.5">+9:30</option>                <option class="inputOption" value="+10">+10</option>                <option class="inputOption" value="+10.5">+10:30</option>                <option class="inputOption" value="+11">+11</option>                <option class="inputOption" value="+12">+12</option>                <option class="inputOption" value="+12.75">+12:45</option>                <option class="inputOption" value="+13">+13</option>                <option class="inputOption" value="+14">+14</option>            </select></div></div>        <div class="miniTitle sizedTitle" id="firstDayTitle">{#First day of week#}</div>            <div style="position: relative"><div class="inputBox"><select id="settingsFirstDay" class="base inputBase" >            </select></div></div>    <div class="miniTitle sizedTitle">{#Show week numbers#}</div>    <div style="position: relative"><div class="inputBox transparent"><input id="checkBoxShowWeeks" type="checkbox" class="base inputBase inputCheckBox"></input></div></div>    <div class="miniTitle sizedTitle">{#Use 24-hour format#}</div>    <div style="position: relative"><div class="inputBox transparent"><input id="checkBox24h" type="checkbox" class="base inputBase inputCheckBox"></input></div></div>    <div class="miniTitle sizedTitle" id="grayDaysTitle">{#Gray days#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsGrayDays" class="base inputBase maybeBig" multiple="multiple"></select></div>    </div>    <div class="miniTitle sizedTitle" id="languageTitle">{#Language#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsLanguage" class="base inputBase" ></select></div>    </div>    <div class="miniTitle sizedTitle" id="daatAmountTitle">{#Data amount (startup speed)#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsDataAmount" class="base inputBase" >            <option class="inputOption" value="4800">{#All#}</option>            <option class="inputOption" value="48">{#4 Years#}</option>            <option class="inputOption" value="4">{#4 months#}</option>        </select></div>     </div></div>\',this.visibilitySettings=[]}show(){e.core.domHandler.hideCanvas(),e.core.calendarDataProxy.analyticsPage("Settings page"),this.timestamp=e.core.getTimeStamp(),this.settingsPage=e.core.domHandler.pageHtmlFormatHelper("settingsPage",this.pageHtml),this.settingsPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100);var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("settingsBack").style.padding=t+"px",document.getElementById("emptyButton").style.padding=e.core.settings.titleWidth/e.core.ratio/2+1+"px",document.getElementById("settingsArea").style.top="54px",e.core.showBackButtons()?(e.core.domHandler.addClickEvent("settingsBack",this.settingsBack,this),document.getElementById("settingsTitle").style.display="none"):(document.getElementById("settingsBack").style.display="none",document.getElementById("emptyButton").style.display="none"),this.firstDaySelectElement=document.getElementById("settingsFirstDay"),this.grayDaysSelectElement=document.getElementById("settingsGrayDays"),this.timeZoneSelectElement=document.getElementById("settingsTimeZone"),this.languageSelectElement=document.getElementById("settingsLanguage"),this.themeSelectElement=document.getElementById("settingsTheme"),this.dataAmountSelectElement=document.getElementById("settingsDataAmount"),this.showWeekCheckBox=document.getElementById("checkBoxShowWeeks"),this.use24hCheckBox=document.getElementById("checkBox24h"),e.core.domHandler.addWeekDaysToSelectNode(this.firstDaySelectElement),e.core.domHandler.addWeekDaysToSelectNode(this.grayDaysSelectElement),this.showWeekCheckBox.checked=e.core.commonUserSettings.showWeekNumbers,this.use24hCheckBox.checked=e.core.commonUserSettings.use24hFormat,this.timeZoneSelectElement.value=e.core.commonUserSettings.timeZoneForSettingsPage,e.Translate.languageExists(D.locale())||(t=new Option("-",e.core.translate.get("Auto(partially English)"),!1,!1),t.className="inputOption",this.languageSelectElement.appendChild(t));for(var r=0;r<e.core.translate.languages.keys().length;r++)t=new Option(e.core.translate.languages.values()[r],e.core.translate.languages.keys()[r],!1,!1),t.className="inputOption",this.languageSelectElement.appendChild(t);for(this.languageSelectElement.value=e.core.commonUserSettings.language.toString(),r=0;r<e.core.settings.themes.keys().length;r++)t=new Option(e.core.translate.get(e.core.settings.themes.values()[r].themeName),e.core.settings.themes.keys()[r],!1,!1),t.className="inputOption",this.themeSelectElement.appendChild(t);this.themeSelectElement.value=e.core.commonUserSettings.theme.toString(),e.core.settings.themes.keys().length==1&&(this.preventOptions=this.preventOptions.bind(this),this.themeSelectElement.addEventListener("mousedown",this.preventOptions),this.themeSelectElement.addEventListener("touchstart",this.preventOptions)),this.dataAmountSelectElement.value=e.core.commonUserSettings.dataAmountToLoad.toString(),e.core.domHandler.selectWeekDays(this.firstDaySelectElement,""+e.core.commonUserSettings.firstDayOfWeek),e.core.domHandler.selectWeekDays(this.grayDaysSelectElement,""+e.core.commonUserSettings.grayDays)}preventOptions(t){t.preventDefault(),this.themeSelectElement.blur(),window.focus(),this.showNoThemesWindow()}showNoThemesWindow(){document.getElementById("noThemesWindow").style.display="table",e.core.domHandler.addClickEvent("gotoShopOk",this.gotoShop,this),e.core.domHandler.addClickEvent("gotoShopCancel",this.hideNoThemesWindow,this)}hideNoThemesWindow(){document.getElementById("noThemesWindow").style.display="none"}gotoShop(){e.core.appStateHandler.viewShop()}hide(){var t=!1;e.core.appStateHandler.settingsControlIsShowing=!1,e.core.commonUserSettings.showWeekNumbers=this.showWeekCheckBox.checked,e.core.commonUserSettings.use24hFormat!=this.use24hCheckBox.checked&&(e.core.commonUserSettings.use24hFormat=this.use24hCheckBox.checked,e.core.calendarDataProxy.analyticsValue("Value","Settings","Use 24h",e.core.commonUserSettings.use24hFormat==1?1:0),t=!0),e.core.commonUserSettings.timeZoneForSettingsPage!=this.timeZoneSelectElement.value&&(e.core.commonUserSettings.timeZoneForSettingsPage=this.timeZoneSelectElement.value,e.core.calendarDataProxy.analyticsValue("Value","Settings","Time zone",e.core.helper.getNumberFromString(e.core.commonUserSettings.timeZoneForSettingsPage,1e3)),t=!0),e.core.commonUserSettings.dataAmountToLoad.toString()!=this.dataAmountSelectElement.value&&(e.core.commonUserSettings.dataAmountToLoad=Number(this.dataAmountSelectElement.value),e.core.calendarDataProxy.analyticsValue("Value","Settings","Data amount to load",e.core.commonUserSettings.dataAmountToLoad),t=!0),e.core.commonUserSettings.firstDayOfWeek+""!=e.core.domHandler.getSelectOptions(this.firstDaySelectElement)&&(e.core.commonUserSettings.firstDayOfWeek=Number(e.core.domHandler.getSelectOptions(this.firstDaySelectElement)),e.core.calendarDataProxy.analyticsValue("Value","Settings","First Day Of Week",e.core.commonUserSettings.firstDayOfWeek),e.core.calendarDateHandler.clearWeekInfo()),e.core.commonUserSettings.grayDays+""!=e.core.domHandler.getSelectOptions(this.grayDaysSelectElement)&&(e.core.commonUserSettings.grayDays=e.core.domHandler.getSelectOptions(this.grayDaysSelectElement),e.core.calendarDataProxy.analyticsValue("Value","Settings","Gray days",e.core.helper.getNumberFromString(e.core.commonUserSettings.grayDays,1e3)),e.core.calendarDateHandler.clearWeekInfo()),e.core.commonUserSettings.language.toString()!==this.languageSelectElement.value&&(e.core.commonUserSettings.language=this.languageSelectElement.value,e.core.calendarDataProxy.analyticsValue("Value","Settings","Language "+this.languageSelectElement.value,1),e.core.reopenApp(),t=!0),e.core.commonUserSettings.theme.toString()!==this.themeSelectElement.value&&(e.core.commonUserSettings.theme=this.themeSelectElement.value,e.core.calendarDataProxy.analyticsValue("Value","Settings","Theme "+this.themeSelectElement.value,1),e.core.settings.reloadTheme(),e.core.reopenApp(),t=!0),e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.settingsPage.id),t&&e.core.reloadAllCalendarData()}reshow(){this.show()}getEventTarget(t){return t=t||window.event,t.target||t.srcElement}settingsBack(t){300>e.core.getTimeStamp()-this.timestamp||e.core.appStateHandler.back()}}e.SettingsControl=C;class P{constructor(){this.nudgeBecauseMenuBeingDragged=0,this.menuItems=[],this.transparency=-1,this.animationDuration=600,this.lastDragDirection=0,this.currentMaxRight=0,this.movingMenuWidth=0,this.movingMenuWidth=e.core.settings.titleWidth}resetDrawAreaSize(t,r){this.movingMenuWidth=e.core.settings.titleWidth}reshow(){this.safeBack()}show(){this.menuItemLogin=new d(e.core.translate.get("Connect Google calendar"),e.core.charCodeLogin),this.menuItemFake=new d(e.core.translate.get("Show demo calendar"),e.core.charCodeFake),this.menuItemLogout=new d(e.core.translate.get("Disconnect from Google"),e.core.charCodeLogout),this.menuItemCalendars=new d(e.core.translate.get("Calendars"),e.core.charCodeCalendars),this.menuItemShop=new d(e.core.translate.get("Shop"),e.core.charCodeShop),this.menuItemReload=new d(e.core.translate.get("Refresh"),e.core.charCodeReload),this.menuItemSettings=new d(e.core.translate.get("Settings"),e.core.charCodeSettings),this.menuItemAbout=new d(e.core.translate.get("About"),e.core.charCodeAbout),this.menuItemRate=new d(e.core.translate.get("Rate"),e.core.charCodeHeart),this.menuItemFeedback=new d(e.core.translate.get("Send feedback"),e.core.charCodeSend),this.showTime=e.core.getTimeStamp(),this.menuItems=[],e.core.enableGoogle&&e.core.calendarDataProxy&&(e.core.calendarDataProxy.calendarDataProxyType!==e.CalendarDataProxyType.Google||e.core.calendarDataProxy.enableGoogleLogin)&&this.menuItems.push(this.menuItemLogin),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableMultipleCalendars&&this.menuItems.push(this.menuItemCalendars),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableShop&&this.menuItems.push(this.menuItemShop),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableReload&&this.menuItems.push(this.menuItemReload),this.menuItems.push(this.menuItemSettings),e.core.helper.isAndroid()&&(this.menuItems.push(this.menuItemRate),this.menuItems.push(this.menuItemFeedback)),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableGoogleLogout&&this.menuItems.push(this.menuItemLogout),this.redraw()}safeBack(){e.core.appStateHandler.safeBack(this)||this.startCloseAnimation()}click(t,r){500>e.core.getTimeStamp()-this.showTime?this.showTime=e.core.getTimeStamp():(this.showTime=e.core.getTimeStamp(),this.isFullyExpanded()&&(this.safeBack(),this.hitTest(this.menuItemLogin,t,r)?this.menuItemLogin_Click():this.hitTest(this.menuItemReload,t,r)?this.menuItemReload_Click():this.hitTest(this.menuItemLogout,t,r)?this.menuItemLogout_Click():this.hitTest(this.menuItemFake,t,r)?this.menuItemFake_Click():this.hitTest(this.menuItemCalendars,t,r)?this.menuItemCalendars_Click():this.hitTest(this.menuItemShop,t,r)?this.menuItemShop_Click():this.hitTest(this.menuItemSettings,t,r)?this.menuItemSettings_Click():this.hitTest(this.menuItemAbout,t,r)?this.menuItemAbout_Click():this.hitTest(this.menuItemRate,t,r)?this.menuItemRate_Click():this.hitTest(this.menuItemFeedback,t,r)&&this.menuItemFeedback_Click()))}hide(){this.startCloseAnimation()}setSizes(){this.menuLeft=this.menuTop=1;var t=0;this.textSize=e.core.settings.menuTextHeight,this.logoTextSize=Math.floor(2.2*this.textSize),this.logoSize=Math.floor(3*e.core.settings.menuIconHeight),this.logoTextSubSize=Math.floor(1.4*this.textSize);for(var r=e.core.zopDrawArea.measureTextWidth("OneView",this.logoTextSize,!0,!1),s=0;s<this.menuItems.length;s++)this.menuItems[s].top=t,t+=e.core.settings.menuItemHeight,this.menuItems[s].bottom=t,r=Math.max(r,e.core.zopDrawArea.measureTextWidth(this.menuItems[s].text,this.textSize,!0,!1));this.expandedMenuWidth=Math.floor(Math.min(r+e.core.settings.menuItemHeight+e.core.settings.menuIconHeight,Math.min(e.core.domHandler.screenWidth,e.core.domHandler.screenHeight))),this.movingMenuWidth=Math.floor(Math.max(e.core.settings.titleWidth,Math.min(this.currentMaxRight,this.expandedMenuWidth))),this.menuHeight=e.core.domHandler.screenHeight,this.nudgeBecauseMenuBeingDragged=Math.floor(Math.max(0,e.core.mainMenuControl.movingMenuWidth-e.core.settings.titleWidth)),this.transparency=Math.max(-1,Math.min(1,(2*Math.min(this.currentMaxRight,this.movingMenuWidth)-this.expandedMenuWidth-e.core.settings.titleWidth)/(this.expandedMenuWidth-e.core.settings.titleWidth))),this.logoSizeGrowing=Math.floor(.85*this.logoSize+.15*this.logoSize*Math.max(0,this.transparency)),this.textColor=e.core.settings.theme.colorTitleText}drawAreaResized(){e.core.appStateHandler.isMainMenuShowing&&this.redraw()}redrawMenuIcon(){}hitMenuButton(t,r){return 0<t&&t<e.core.settings.titleWidth&&0<r&&r<e.core.settings.titleWidth}redraw(){if(this.setSizes(),.1<this.movingMenuWidth/this.expandedMenuWidth&&0<this.transparency){e.core.zopDrawArea.canvasContext.save(),e.core.zopDrawArea.canvasContext.rect(this.menuLeft-1,this.menuTop,this.movingMenuWidth,this.menuHeight+2),e.core.zopDrawArea.canvasContext.clip();var t=this.expandedMenuWidth/20;for(this.menuTop=t,e.core.drawArea.drawIcon(e.core.charCodeLogo,this.menuLeft+(this.expandedMenuWidth-this.logoSizeGrowing)/2,this.menuTop+(this.logoSize-this.logoSizeGrowing)/2,this.logoSizeGrowing,this.logoSizeGrowing),this.menuTop+=this.logoSize,this.menuTop+=this.logoTextSize,e.core.drawArea.drawCenteredText("Calendar",this.menuLeft,this.menuTop,this.expandedMenuWidth,this.logoTextSubSize,this.textColor,!1,!0,!0),this.menuTop+=this.logoTextSubSize+2*t,t=0;t<this.menuItems.length;t++)this.paintMenuItem(this.menuItems[t]);e.core.zopDrawArea.canvasContext.globalAlpha=Math.min(1,Math.max(0,1-this.transparency)),e.core.drawArea.drawFilledRectangle({x:e.core.zopHandler.leftPixel,y:0,width:e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged+2*e.core.ratio,height:e.core.zopDrawArea.zopAreaHeight,fillStyle:e.core.settings.theme.colorTitleBackground,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.zopDrawArea.canvasContext.globalAlpha=1,e.core.zopDrawArea.canvasContext.restore()}}paintMenuItem(t){var r=e.core.settings.menuItemHeight-1;e.core.drawArea.drawHorizontalLineNotZOP(this.menuLeft,this.menuTop+t.top,this.expandedMenuWidth-4,this.textColor,1,!1),e.core.drawArea.drawHorizontalLineNotZOP(this.menuLeft,this.menuTop+t.top+1+e.core.settings.menuItemHeight-1,this.expandedMenuWidth-4,this.textColor,1,!1),e.core.drawArea.drawText(t.text,this.menuLeft+r,this.menuTop+t.top+(e.core.settings.menuItemHeight-this.textSize)/2.5,this.textSize,this.textColor,!1,!0,!1,!1),e.core.drawArea.drawIcon(t.charCode,this.menuLeft+r/2-e.core.settings.menuIconHeight/2,this.menuTop+t.top+r/2-e.core.settings.menuIconHeight/2,e.core.settings.menuIconHeight,e.core.settings.menuIconHeight)}hitTest(t,r,s){return-1<this.menuItems.indexOf(t)&&r>this.menuLeft&&r<this.menuLeft+this.expandedMenuWidth&&s>this.menuTop+t.top&&s<this.menuTop+t.bottom}menuItemLogin_Click(){e.core.calendarDataProxy.analyticsEvent("Event","Login Clicked"),e.core.calendarDataProxy?(e.core.calendarDataProxy=new e.GoogleCalendarDataProxy,e.core.calendarDataProxy.login()):e.core.loadDataProxy()}menuItemReload_Click(){e.core.calendarDataProxy.analyticsEvent("Event","Reload Clicked"),e.core.reloadAllCalendarData()}menuItemLogout_Click(){e.core.calendarDataProxy.logout(),e.core.calendarDataProxy.analyticsEvent("Event","Logout Clicked"),e.core.calendarDataProxy=new e.DemoCalendarDataProxy,e.core.calendarDataProxy.populateCalendarEvents(function(){e.core.dataLoadReady()})}menuItemFake_Click(){e.core.calendarDataProxy=new e.DemoCalendarDataProxy,e.core.calendarDataProxy.populateCalendarEvents(function(){e.core.dataLoadReady()})}menuItemCalendars_Click(){e.core.appStateHandler.viewCalendars()}menuItemShop_Click(){e.core.appStateHandler.viewShop()}menuItemSettings_Click(){e.core.appStateHandler.viewSettings()}menuItemAbout_Click(){e.core.appStateHandler.viewAbout()}menuItemRate_Click(){e.core.helper.isAndroid()?window.open("market://details?id=com.oneviewcalendar.app"):window.open("https://web.archive.org/web/20190808203716/https://play.google.com/store/apps/details?id=com.oneviewcalendar.app")}menuItemFeedback_Click(){window.open("mailto:support@oneviewcalendar.com?body=%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A-------------------%0D%0ASent from OneView Calendar version: 1.1.8")}getAnimationProgress(){var t=e.core.getTimeStamp(),t=Math.min(this.animationDuration,Math.max(10,t-this.animationStartTime))/this.animationDuration;return 1-(1-t)*(1-t)*(1-t)*(1-t)}startOpenAnimation(){this.animationAborted=!1,e.core.appStateHandler.isMainMenuBeingDragged=!1,this.animationStartTime=e.core.getTimeStamp()-20,this.animationStartPos=this.currentMaxRight,this.animationGoalDistance=this.expandedMenuWidth-this.animationStartPos,this.doOpenAnimation()}doOpenAnimation(){var t=this;this.animationAborted||(this.currentMaxRight=this.animationStartPos+this.animationGoalDistance*this.getAnimationProgress(),this.isFullyExpanded()||window.setTimeout(function(){t.doOpenAnimation()},30),e.core.redraw(!0))}isFullyExpanded(){return this.movingMenuWidth>=this.expandedMenuWidth-5}startCloseAnimation(){this.animationAborted=!1,e.core.appStateHandler.isMainMenuBeingDragged=!1,this.animationStartTime=e.core.getTimeStamp()-20,this.animationStartPos=this.currentMaxRight,this.animationGoalDistance=-this.animationStartPos,this.doCloseAnimation()}doCloseAnimation(){var t=this;this.animationAborted||(this.currentMaxRight=this.animationStartPos+this.animationGoalDistance*this.getAnimationProgress(),0<this.currentMaxRight?window.setTimeout(function(){t.doCloseAnimation()},30):(this.currentMaxRight=0,e.core.appStateHandler.isMainMenuBeingDragged=!1,this.movingMenuWidth=e.core.settings.titleWidth,e.core.appStateHandler.isMainMenuShowing=!1,this.redraw())),e.core.redraw(!0)}startDragging(t,r){return e.core.appStateHandler.isMainMenuBeingDragged=!1,t>=e.core.zopDrawArea.zopAreaLeft&&t<=e.core.zopDrawArea.zopAreaLeft+Math.max(e.core.settings.titleWidth,this.currentMaxRight)||e.core.appStateHandler.isMainMenuShowing&&this.isFullyExpanded()?this.animationAborted=!0:!1}continueDragging(t,r){this.animationAborted=e.core.appStateHandler.isMainMenuBeingDragged=!0,t=Math.max(t,e.core.settings.titleWidth),this.lastDragDirection=t-this.currentMaxRight,this.currentMaxRight=t,e.core.appStateHandler.isMainMenuShowing||(e.core.appStateHandler.showMainMenu(!1),this.currentMaxRight=t)}endDragging(){e.core.appStateHandler.isMainMenuBeingDragged=!1,0<this.lastDragDirection?(e.core.appStateHandler.addVisibleControl(e.core.mainMenuControl),this.startOpenAnimation()):this.safeBack()}}e.MainMenuControl=P;class b{constructor(){this.animationLength=2e3,this.precision=4,this.animationActive=!1}drawAreaResized(){e.core.appStateHandler.isAddButtonBeingDragged&&this.redraw(),this.width=Math.floor(e.core.settings.titleWidth*e.core.settings.theme.addButtonWidthFactor),this.halfWidth=Math.floor(this.width/2),this.radius=Math.floor(this.width/2),this.defaultCenterY=e.core.zopDrawArea.zopAreaTop+e.core.zopDrawArea.zopAreaHeight-2*e.core.settings.margin-this.radius,this.currentCenterX=this.defaultCenterX=e.core.zopDrawArea.zopAreaLeft+e.core.zopDrawArea.zopAreaWidth-2*e.core.settings.margin-this.radius,this.currentCenterY=this.defaultCenterY,this.leftForDetailedSelection=(e.core.zopHandler.rightPixel-e.core.settings.titleWidth)/2+e.core.settings.titleWidth}redrawAddButton(){e.core.appStateHandler.isAddButtonBeingDragged||this.isAnimationActive()?(this.passedMinDistance()&&this.selectedStartTime&&e.core.zopDrawArea.drawFilledRectangle(e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,e.core.zopHandler.dateToZOP(this.selectedStartTime),e.core.zopDrawArea.zopAreaWidth-e.core.settings.titleWidth-e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,e.core.zopHandler.dateToZOP(this.selectedEndTime),e.core.settings.theme.colorFadeOut,5),this.passedMinDistance()&&e.core.drawArea.drawVerticalLineNotZOP(this.leftForDetailedSelection,0,e.core.zopDrawArea.zopAreaHeight,e.core.settings.theme.colorMarker,3),e.core.zopDrawArea.drawFilledCircle2(this.defaultCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.defaultCenterY,this.radius+1,e.core.settings.theme.colorDarkSoft,!1),e.core.zopDrawArea.drawFilledCircle2(this.defaultCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.defaultCenterY,this.radius-1,e.core.settings.theme.colorLightSoft,!1)):(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY),e.core.zopDrawArea.drawFilledCircle2(this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.currentCenterY,this.radius,e.core.settings.theme.colorAddButton,!1);var t=e.core.settings.lineThickness,r=0;t===1&&(r=.5),this.isAnimationActive()?(t=this.radius/2.2,e.core.drawArea.drawCenteredText("Drag me",this.currentCenterX-this.radius+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.currentCenterY-t/1.5,2*this.radius,t,e.core.settings.theme.colorTagText,!1,!1,!1)):(e.core.drawArea.drawLine2(this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-r,Math.floor(this.currentCenterY-this.width/7)-r,this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-r,Math.floor(this.currentCenterY+this.width/7)-r,t,e.core.settings.theme.colorTitleText,!1),e.core.drawArea.drawLine2(Math.floor(this.currentCenterX-this.width/7+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged)-r,this.currentCenterY-r,Math.floor(this.currentCenterX+this.width/7+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged)-r,this.currentCenterY-r,t,e.core.settings.theme.colorTitleText,!1))}startDragging(t,r){return this.passefMinDistanceEver=!1,t>this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-1.5*this.radius&&t<this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged+1.5*this.radius&&r>this.currentCenterY+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-1.5*this.radius&&r<this.currentCenterY+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged+1.5*this.radius?e.core.appStateHandler.isAddButtonBeingDragged=!0:e.core.appStateHandler.isAddButtonBeingDragged=!1}getTitleExtraData(){if(e.core.appStateHandler.isAddButtonBeingDragged&&this.detailedTimeInfo)return this.detailedTimeInfo}continueDragging(t,r){if(this.currentCenterX=t,this.currentCenterY=r,this.passedMinDistance()){this.passefMinDistanceEver=!0;var s;if(t>=this.leftForDetailedSelection&&(s=e.core.calendarDateHandler.getClosestFakeDetailAt(r,this.precision,!1)),!s){this.detailedTimeInfo=void 0,s=e.core.calendarDateHandler.selectCalendarDateObjectAt(t,r,!0);for(var o=10;s&&s.calendarDateObjectType===e.CalendarDateObjectType.Title;)s=e.core.calendarDateHandler.selectCalendarDateObjectAt(t+o,r,!0),o+=10}s&&s.calendarDateObjectType===e.CalendarDateObjectType.Week&&(this.detailedTimeInfo=s.longText),s&&(s.calendarDateObjectType<e.CalendarDateObjectType.Hour&&(s=new e.CalendarDateObject(e.CalendarDateObjectType.Hour,s.startDateTime)),this.selectedStartTime!==s.startDateTime&&(this.previousSelectedStartTime=this.selectedStartTime,this.previousSelectedEndTime=this.selectedEndTime,this.selectedTimeStamp=e.core.getTimeStamp()),this.selectedStartTime=s.startDateTime,this.selectedEndTime=s.endDateTime),s&&(this.detailedTimeInfo=s.longText,s.calendarDateObjectType<=e.CalendarDateObjectType.Hour&&(this.detailedTimeInfo=D(s.startDateTime).format("dddd ")+s.longText))}else this.detailedTimeInfo=this.selectedEndTime=this.selectedStartTime=void 0}endDragging(){e.core.appStateHandler.isAddButtonBeingDragged=!1,this.selectedTimeStamp+200>e.core.getTimeStamp()&&this.previousSelectedEndTime!==void 0&&(this.selectedStartTime=this.previousSelectedStartTime,this.selectedEndTime=this.previousSelectedEndTime),this.passedMinDistance()?this.selectedStartTime&&(e.core.zopDrawArea.drawFilledRectangle(e.core.settings.titleWidth,e.core.zopHandler.dateToZOP(this.selectedStartTime),e.core.zopDrawArea.zopAreaWidth-e.core.settings.titleWidth,e.core.zopHandler.dateToZOP(this.selectedEndTime),e.core.settings.theme.colorFadeOut,5),this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY,e.core.appStateHandler.startAddCalendarEventObject(this.selectedStartTime,this.selectedEndTime)):this.passefMinDistanceEver?(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY):(this.animationStartTime=e.core.getTimeStamp(),this.animationActive=!0),this.detailedTimeInfo=this.selectedEndTime=this.selectedStartTime=void 0}isAnimationActive(){return e.core.appStateHandler.isAddButtonBeingDragged&&(this.animationActive=!1),this.animationActive}passedMinDistance(){return Math.abs(this.currentCenterX-this.defaultCenterX)+Math.abs(this.currentCenterY-this.defaultCenterY)>=this.width}doAnimation(){var t=e.core.getTimeStamp()-this.animationStartTime;if(t>this.animationLength&&(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY),t>2*this.animationLength)this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY,this.animationActive=!1;else{var r=e.core.zopDrawArea.zopAreaHeight/8,s=Math.PI/2-(t/this.animationLength*Math.PI+2*Math.PI/8),t=t/this.animationLength*Math.PI/2;this.currentCenterX=this.defaultCenterX+Math.sin(s)*r-.706*r,this.currentCenterY=this.defaultCenterY+Math.cos(s)*r-.708*r,this.currentCenterX-=Math.sin(t)*r*1,this.currentCenterY-=Math.sin(t)*r*1.5,this.continueDragging(this.currentCenterX,this.currentCenterY),e.core.redraw(!1)}}doAnimation2(){var t=e.core.getTimeStamp()-this.animationStartTime;if(t>this.animationLength&&(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY),t>2*this.animationLength)this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY,this.animationActive=!1;else{var r=e.core.zopDrawArea.zopAreaHeight/8,s=this.defaultCenterY-1*r,o=this.defaultCenterX-1*r,l=this.defaultCenterY-8*r,c=this.defaultCenterX-8*r,p=this.defaultCenterY-5*r,f=Math.min(1,2*t/this.animationLength);this.currentCenterX=this.newPosHelper(this.defaultCenterX-2*r,this.currentCenterX,f),this.currentCenterY=this.newPosHelper(s,this.currentCenterY,f),f=Math.max(0,Math.min(1,t*t/600/this.animationLength)),this.currentCenterX=this.newPosHelper(o,this.currentCenterX,f),this.currentCenterY=this.newPosHelper(l,this.currentCenterY,f),t>this.animationLength/2&&(f=Math.min(1,(t-this.animationLength/2)/(this.animationLength-this.animationLength/2)),this.currentCenterX=this.newPosHelper(c,this.currentCenterX,f),this.currentCenterY=this.newPosHelper(p,this.currentCenterY,f)),f=Math.min(1,t/this.animationLength),this.continueDragging(this.newPosHelper(this.defaultCenterX,this.currentCenterX,f),this.newPosHelper(this.defaultCenterY,this.currentCenterY,f)),e.core.redraw(!1)}}newPosHelper(t,r,s){return t*s+r*(1-s)}redraw(){}}e.AddButtonControl=b;class k{constructor(){this.menuItems=[],this.menuItems=a}resetDrawAreaSize(t,r){}showMenuFor(t,r){this.x=t,this.y=r,this.tryShiftPixels=r-e.core.domHandler.screenHeight/2,this.redraw()}click(t,r){for(var s=0;s<this.menuItems.length;s++)if(this.hitTest(this.menuItems[s],t,r)){this.menuItems[s].onMenuItemClicked();return}history.back()}drawAreaResized(){this.redraw()}redraw(){for(var t=0,r=0,s=0;s<this.menuItems.length;s++)this.menuItems[s].isVisible&&(this.menuItems[s].top=t,t+=e.core.settings.menuItemHeight,this.menuItems[s].bottom=t,r=Math.max(r,e.core.zopDrawArea.measureTextWidth(this.menuItems[s].text,e.core.settings.menuTextHeight,!0,!1)));for(this.menuWidth=Math.min(r+e.core.settings.menuItemHeight+e.core.settings.menuIconHeight,Math.min(e.core.domHandler.screenWidth,e.core.domHandler.screenHeight)),this.menuHeight=t+1,this.menuLeft=(e.core.domHandler.screenWidth-this.menuWidth)/2,this.menuTop=(e.core.domHandler.screenHeight-this.menuHeight)/2+this.tryShiftPixels,this.menuTop=Math.max(20,this.menuTop),this.menuTop=Math.min(e.core.domHandler.screenHeight-20-this.menuHeight,this.menuTop),e.core.drawArea.drawFilledRectangle({x:this.menuLeft-1,y:this.menuTop-1,width:this.menuWidth+2,height:this.menuHeight+2,fillStyle:e.core.settings.theme.colorWhite,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:this.menuLeft,y:this.menuTop,width:this.menuWidth,height:this.menuHeight,fillStyle:e.core.settings.theme.colorDarkSoft,hasShadow:!1,rounded:!1,strokeStyle:void 0}),s=0;s<this.menuItems.length;s++)this.paintMenuItem(this.menuItems[s])}paintMenuItem(t){if(t.isVisible){var r=e.core.settings.menuItemHeight-1;e.core.drawArea.drawFilledRectangle({x:this.menuLeft+1,y:this.menuTop+t.top+1,width:this.menuWidth-2,height:e.core.settings.menuItemHeight-1,fillStyle:e.core.settings.theme.colorDark,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawText(t.text,this.menuLeft+r+1,this.menuTop+t.top+(e.core.settings.menuItemHeight-e.core.settings.menuTextHeight)/2.5,e.core.settings.menuTextHeight,e.core.settings.theme.colorWhite,!1,!0,!1,!1),e.core.drawArea.drawIcon(t.charCode,this.menuLeft+r/2-e.core.settings.menuIconHeight/2,this.menuTop+t.top+r/2-e.core.settings.menuIconHeight/2,e.core.settings.menuIconHeight,e.core.settings.menuIconHeight)}}hitTest(t,r,s){return r>this.menuLeft&&r<this.menuLeft+this.menuWidth&&s>this.menuTop+t.top&&s<this.menuTop+t.bottom}}e.PopupMenuControl_Base=k;class I{constructor(t,r,s){this.isHighlited=!1,this.isVisible=!0,this.text=t,this.charCode=r,this.onMenuItemClicked=s}}e.MenuItemInfo=I;class W{constructor(){this.pageHtml=\'<div id="message" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div id="messageText" class="base menuItem" style="text-align:center">{#Error#}</div>    <div>        <button id="messageOk" class="topBarButton" style="width:100%"><img src="images/check.svg" height="24px" style="vertical-align: text-bottom"/><span>{#Ok#}</span></button>    </div></div></div></div><div id="noColorPickerWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#Color picker?#}</div>    <div>        <button id="gotoShopCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="gotoShopOk" class="topBarButton" style="width:50%"><img src="images/shop.svg" class="topBarImage"/><span>{#Shop#}</span></button>    </div></div></div></div><div id="colorPickerWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner" >          <div id="colorPickerArea" style="padding: 20px; padding-top: 12px;"></div></div></div></div><div id="editEventTopBar" class="topBar">    <button id="editEventCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>    <button id="editEventOk" class="topBarButton" style="width:50%"><img src="images/check.svg" class="topBarImage"/><span>{#Ok#}</span></button></div><div class="pageContent" id="editEventArea" style="float:left; background-color: #E9E9E9;">        <div class="editEventPopupContent pageTopPadding" id="editEventPopupContent">            <div class="miniTitle sizedTitle">{#Title#}</div>            <div style="position: relative"><div class="inputBox"><input type="text" class="base inputBase inputOneLiner" name="task" id="editEventTitle" required /></div></div>            <div class="miniTitle sizedTitle">{#Start#}</div>            <div style="position: relative"><div class="inputBox lessSpace"><input type="date" class="base inputBase inputDate" id="editEventDateStart" min="0001-01-01" max="4000-01-01" /><span id="fakeDateStart" class="base inputBase dateFake" ></span></div></div>            <div style="position: relative"><div class="inputBox"><input type="time" class="base inputBase inputDate androidDown" id="editEventTimeStart" step="60"></div></div>            <div class="miniTitle sizedTitle">{#End#}</div>            <div style="position: relative"><div class="inputBox lessSpace"><select id="editEventDuration" class="base inputBase">            </select></div></div>            <div style="position: relative"><div class="inputBox lessSpace"><input type="date" class="base inputBase inputDate" id="editEventDateEnd" min="0001-01-01" max="4000-01-01" ><span id="fakeDateEnd" class="base inputBase dateFake"></span></div></div>            <div style="position: relative"><div class="inputBox"><input type="time" class="base inputBase inputDate androidDown" id="editEventTimeEnd"  step="60"/></div></div>            <div class="miniTitle sizedTitle" id="remindersTitle">{#Reminders#}</div>            <div style="position: relative"><div class="inputBox"><select id="editEventReminders" class="base inputBase maybeBig" multiple="multiple" >            </select></div></div>            <div class="miniTitle sizedTitle">{#Where#}</div>            <div style="position: relative"><div class="inputBox"><input type="text" class="base inputBase inputOneLiner" name="task" id="editEventLocation" ></div></div>            <div class="miniTitle sizedTitle">{#Details#}</div>            <div style="position: relative"><div class="inputBox"><textarea class="base inputBase inputTwoLiner" name="task" id="editEventDetails" ></textarea></div></div>            <div id="spaceForColors"></div>                        <div class="miniTitle sizedTitle">{#Calendar#}</div>                        <div style="position: relative"><div id="calendarSelWrapper" class="inputBox"><select id="editEventCalendar" class="base inputBase inputOneLiner" >                        </select></div><div id="editEventColor" class="square"></div>            <table style ="width:100%">                <tr>                    <td style="white-space: nowrap">                        <div class="miniTitle sizedTitle">{#Recurrence#}</div>                        <div><div class="inputBox"><div class="base inputBase inputOneLiner" id="editEventRecurrenceWrapper"><span class="pageContentText" id="editEventRecurrence" style="cursor: pointer" style="float:left" taborder="10"></span></div></div></div>                    </td><td style="width:80%"></td>                 </tr>            </table>            </div> </div>         </div></div>\',this.isShowingDatePickerForStartTime=!1,this.canEditReccur=!0}reshow(){e.core.appStateHandler.editEventControlIsShowing=!0,this.updateRecurrenceHtml(),this.timestamp=e.core.getTimeStamp()}init(t,r){this.calendarEvent=r===e.EventEditType.AllInSeries&&t.isRecurring?e.core.calendarDataProxy.getFirstRecurringEvent(t):t,this.editType=r,this.originalStartDate=this.calendarEvent.startDateTime,this.originalEndDate=this.calendarEvent.endDateTime,this.originalIsRecurring=this.calendarEvent.isRecurring,this.rruleFetched=this.rruleFetched.bind(this),e.core.calendarDataProxy.getRRuleObject(this.calendarEvent,this.rruleFetched)}show(){e.core.domHandler.hideCanvas(),e.core.calendarDataProxy.analyticsPage("Edit event page"),this.editPage=e.core.domHandler.pageHtmlFormatHelper("editEvent",this.pageHtml),this.editPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),this.setByDuration(null),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100),this.durationSelectElement=document.getElementById("editEventDuration"),this.updateDuration(),this.remindersSelectElement=document.getElementById("editEventReminders"),this.updateReminders();var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("editEventOk").style.padding=t+"px",document.getElementById("editEventCancel").style.padding=t+"px",document.getElementById("editEventArea").style.top="54px",e.core.domHandler.addClickEvent("editEventOk",this.editEventOk,this),e.core.domHandler.addClickEvent("editEventCancel",this.editEventCancel,this),e.core.domHandler.addClickEvent("editEventRecurrence",this.editRecurrency,this),e.core.domHandler.addClickEvent("editEventArea",this.doNothing,this),e.core.helper.canShowDatePicker()&&(e.core.domHandler.addClickEvent("editEventTimeStart",this.showDatePickerForStartTime,this),e.core.domHandler.addClickEvent("editEventTimeEnd",this.showDatePickerForEndTime,this)),e.core.domHandler.addEvent("editEventDateStart","change",this.startChanged,this),e.core.domHandler.addEvent("editEventDateEnd","change",this.endChanged,this),e.core.domHandler.addEvent("editEventTimeStart","change",this.startChanged,this),e.core.domHandler.addEvent("editEventTimeEnd","change",this.endChanged,this),e.core.domHandler.addEvent("editEventDuration","change",this.editEventDurationChanged,this),e.core.domHandler.addEvent("editEventTimeStart","blur",this.showFakeTimeStart,this),e.core.domHandler.addEvent("editEventTimeEnd","blur",this.showFakeTimeEnd,this),this.calendarEvent.summary?document.getElementById("editEventTitle").value=this.calendarEvent.summary:document.getElementById("editEventTitle").value="",this.calendarEvent.location?document.getElementById("editEventLocation").value=this.calendarEvent.location:document.getElementById("editEventLocation").value="",new e.Helper().isMobile()||(document.getElementById("remindersTitle").innerHTML+="  ("+e.core.translate.get("Hold CTRL/CMD while clicking on the reminders you want.")+")"),this.updateFakes(),this.updateRealDateInputs(),this.calendarEvent.description?document.getElementById("editEventDetails").value=this.calendarEvent.description:document.getElementById("editEventDetails").value="",this.updateRecurrenceHtml(),t=document.getElementById("editEventCalendar"),this.calendarChanged=this.calendarChanged.bind(this),t.onchange=this.calendarChanged;var r="",s;for(s=0;s<e.core.calendars.length;s++)e.core.calendars[s].canEditCalendarEvents==1&&(r+="<option value=\'"+e.core.calendars[s].id+"\' > "+e.core.calendars[s].name+" </option > ");t.innerHTML=r,t.value=this.calendarEvent.calendarId,e.core.domHandler.addClickEvent("editEventColor",this.showColorPickerWindow,this),document.getElementById("colorPickerArea").style.backgroundColor=e.core.settings.theme.colorBackground,document.getElementById("editEventColor").style.backgroundColor=e.core.helper.getEventColor2(this.calendarEvent),t=new Piklor,t.init(document.getElementById("colorPickerArea"),e.core.settings.theme.eventColors,{open:document.getElementById("editEventColor"),closeOnBlur:!0},"");var o=this;t.colorChosen(function(l,c){l&&(o.calendarEvent.extraColorId=e.core.settings.theme.eventColors.indexOf(l),o.calendarEvent.extraColorId==e.core.getCalendar(o.calendarEvent.calendarId).colorId&&(o.calendarEvent.extraColorId=void 0),document.getElementById("editEventColor").style.backgroundColor=e.core.helper.getEventColor2(o.calendarEvent)),o.hideColorPickerWindow()})}calendarChanged(t){t=document.getElementById("editEventCalendar").value,document.getElementById("editEventColor").style.backgroundColor=e.core.helper.getCalendarColor(e.core.getCalendar(t)),this.calendarEvent.extraColorId=void 0}onSuccess(t){this.isShowingDatePickerForStartTime?(document.getElementById("editEventTimeStart").value=this.timeToValue(t),this.calendarEvent.startDateTime=t,this.startChanged(null)):(document.getElementById("editEventTimeEnd").value=this.timeToValue(t),this.calendarEvent.endDateTime=t,this.endChanged(null))}onError(t){}showDatePicker(t){this.isShowingDatePickerForStartTime=t,t={date:t?this.calendarEvent.startDateTime:this.calendarEvent.endDateTime,mode:"time",androidTheme:1,is24Hour:e.core.commonUserSettings.use24hFormat},this.onSuccess=this.onSuccess.bind(this),this.onError=this.onError.bind(this),datePicker.show(t,this.onSuccess,this.onError)}showDatePickerForStartTime(t){t.preventDefault(),this.showDatePicker(!0)}showDatePickerForEndTime(t){t.preventDefault(),this.showDatePicker(!1)}showMessage(t,r){var s=this;document.getElementById("message").style.display="table",document.getElementById("messageText").innerText=t,e.core.domHandler.addClickEvent("messageOk",function(){s.hideMessage(r)},this)}hideMessage(t){document.getElementById("message").style.display="none",t&&e.core.appStateHandler.back()}showColorPickerWindow(){e.core.commonUserSettings.licenceColorPicker?document.getElementById("colorPickerWindow").style.display="table":(document.getElementById("noColorPickerWindow").style.display="table",e.core.domHandler.addClickEvent("gotoShopOk",this.gotoShop,this),e.core.domHandler.addClickEvent("gotoShopCancel",this.hideNoColorPickerWindow,this))}hideColorPickerWindow(){document.getElementById("colorPickerWindow").style.display="none"}hideNoColorPickerWindow(){document.getElementById("noColorPickerWindow").style.display="none"}gotoShop(){e.core.appStateHandler.viewShop()}updateRecurrenceHtml(){this.canEditReccur=!0,this.calendarEvent.isRecurring&&this.editType!=e.EventEditType.ThisOnly&&(document.getElementById("editEventRecurrence").innerHTML="YES (Press to edit)"),this.calendarEvent.isRecurring&&this.editType==e.EventEditType.ThisOnly&&(this.canEditReccur=!1,document.getElementById("editEventRecurrence").innerHTML=e.core.translate.get("Not possible"),document.getElementById("editEventRecurrence").setAttribute("style","cursor: default"),document.getElementById("editEventRecurrence").removeEventListener("touchend",this.editRecurrency,!1),document.getElementById("editEventRecurrence").removeEventListener("mouseup",this.editRecurrency,!1)),this.calendarEvent.isRecurring||(document.getElementById("editEventRecurrence").innerHTML="NO (Press to add)")}autoAdjustSoNotNegativeTime(){this.calendarEvent.startDateTime>=this.calendarEvent.endDateTime&&(this.calendarEvent.endDateTime=D(this.calendarEvent.startDateTime).add(1,"hours").toDate(),this.updateRealDateInputs(),this.updateFakes())}showFakeTimeStart(){this.autoAdjustSoNotNegativeTime()}showFakeTimeEnd(){this.calendarEvent.startDateTime>=this.calendarEvent.endDateTime&&(this.calendarEvent.startDateTime=D(this.calendarEvent.endDateTime).add(-1,"hours").toDate(),this.updateRealDateInputs(),this.updateFakes())}dateToValue(t){return this.timezoneOffset=6e4*t.getTimezoneOffset(),new Date(t.getTime()-this.timezoneOffset).toISOString().replace("Z","").split("T")[0]}timeToValue(t){return this.timezoneOffset=6e4*t.getTimezoneOffset(),new Date(t.getTime()-this.timezoneOffset).toISOString().replace("Z","").split("T")[1]}valueToDate(t){return new Date(new Date(t).getTime()+this.timezoneOffset)}rruleFetched(t){t&&(this.originalRRule=this.calendarEvent.rruleToSave=t)}hide(){e.core.appStateHandler.editEventControlIsShowing=!1,e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.editPage.id)}startChanged(t){var r=this;new e.Helper().isAndroid()?(this.readDateTimeToCalendarEvent(),this.updateEndBasedOnDuration(),this.autoAdjustSoNotNegativeTime(),t.target.blur()):(this.lastStartChangedOnWeb=e.core.getTimeStamp(),this.startChangedOnWeb=this.startChangedOnWeb.bind(this),window.setTimeout(function(){r.startChangedOnWeb(t)},700))}startChangedOnWeb(t){e.core.getTimeStamp()<this.lastStartChangedOnWeb+600||(this.readDateTimeToCalendarEvent(),this.updateEndBasedOnDuration(),this.autoAdjustSoNotNegativeTime(),window.setTimeout(t.target.focus,50))}endChanged(t){var r=this;new e.Helper().isAndroid()?(this.readDateTimeToCalendarEvent(),this.autoAdjustSoNotNegativeTime(),this.updateFakes(),this.updateDuration(),t.target.blur()):(this.lastEndChangedOnWeb=e.core.getTimeStamp(),this.endChangedOnWeb=this.endChangedOnWeb.bind(this),window.setTimeout(function(){r.endChangedOnWeb(t)},700))}endChangedOnWeb(t){e.core.getTimeStamp()<this.lastEndChangedOnWeb+600||(this.readDateTimeToCalendarEvent(),this.autoAdjustSoNotNegativeTime(),this.updateFakes(),this.updateDuration(),window.setTimeout(t.target.focus,50))}updateFakes(){document.getElementById("fakeDateStart").innerText=e.core.helper.GetDateWithWeekDay(this.calendarEvent.startDateTime),document.getElementById("fakeDateEnd").innerText=e.core.helper.GetDateWithWeekDay(this.calendarEvent.endDateTime)}updateRealDateInputs(){document.getElementById("editEventDateStart").value=this.dateToValue(this.calendarEvent.startDateTime),document.getElementById("editEventTimeStart").value=this.timeToValue(this.calendarEvent.startDateTime),document.getElementById("editEventDateEnd").value=this.dateToValue(this.calendarEvent.endDateTime),document.getElementById("editEventTimeEnd").value=this.timeToValue(this.calendarEvent.endDateTime)}validateStartAndEnd(){return this.calendarEvent.startDateTime>=this.calendarEvent.endDateTime?(this.showMessage("Please enter a valid end time.",!1),!1):!0}validateTitle(t){return t==null||t.length==0?(this.showMessage("Please enter a title.",!1),!1):!0}editEventOk(t){if(t.preventDefault(),t=document.getElementById("editEventTitle").value,this.validateTitle(t)&&(this.readDateTimeToCalendarEvent(),this.validateStartAndEnd()&&!(300>e.core.getTimeStamp()-this.timestamp))){var r;for(this.calendarEvent.reminders=[],r=0;r<this.remindersSelectElement.options.length;r++)this.remindersSelectElement.options[r].selected&&this.calendarEvent.reminders.push(new e.Reminder(+this.remindersSelectElement.options[r].value));this.calendarEvent.summary=t,this.calendarEvent.location=document.getElementById("editEventLocation").value,this.calendarEvent.description=document.getElementById("editEventDetails").value,t=this.calendarEvent.calendarId,r=document.getElementById("editEventCalendar").value,e.core.commonUserSettings.calendarIdLastAddedTo=r,e.core.persistChangesToCalendars(),this.editType!=e.EventEditType.New&&t!=r?(e.core.calendarDataProxy.deleteEvent(this.calendarEvent,this.editType,!0),this.calendarEvent.calendarId=r,e.core.calendarDataProxy.addNewEvent(this.calendarEvent,!0)):(this.calendarEvent.calendarId=r,this.editType==e.EventEditType.New?e.core.calendarDataProxy.addNewEvent(this.calendarEvent,!1):(this.editType==e.EventEditType.DontKnow&&(this.editType=e.EventEditType.AllInSeries),e.core.calendarDataProxy.editExistingEvent(this.calendarEvent,this.editType))),this.calendarEvent.reminders!==void 0&&0<this.calendarEvent.reminders.length&&!e.core.commonUserSettings.hasShownRemindersInfo?(this.showMessage("You have set reminders. Please note that this app relies on your default calendar to show the reminders.",!0),e.core.commonUserSettings.hasShownRemindersInfo=!0):e.core.appStateHandler.back()}}readDateTimeToCalendarEvent(){this.calendarEvent.startDateTime=this.valueToDate(document.getElementById("editEventDateStart").value+"T"+this.addMiliseconds(document.getElementById("editEventTimeStart").value)+"Z"),this.calendarEvent.endDateTime=this.valueToDate(document.getElementById("editEventDateEnd").value+"T"+this.addMiliseconds(document.getElementById("editEventTimeEnd").value)+"Z"),e.core.zopHandler.updateStartEndZOP(this.calendarEvent),e.core.calendarEventHandler.gradeCalendarEvent(this.calendarEvent),e.core.calendarEventHandler.reorderAllEvents()}addMiliseconds(t){return t.length==5?t+":00.000":t.length==8?t+".000":t}editEventCancel(t){t.preventDefault(),this.calendarEvent.startDateTime=this.originalStartDate,this.calendarEvent.endDateTime=this.originalEndDate,this.calendarEvent.rruleToSave=this.originalRRule,this.calendarEvent.isRecurring=this.originalIsRecurring,e.core.zopHandler.updateStartEndZOP(this.calendarEvent),e.core.calendarEventHandler.gradeCalendarEvent(this.calendarEvent),e.core.calendarEventHandler.reorderAllEvents(),e.core.appStateHandler.back()}doNothing(t){}editEventDurationChanged(t){t=e.core.domHandler.getSelectOptions(this.durationSelectElement),this.calendarEvent.endDateTime=D(this.calendarEvent.startDateTime).add("milliseconds",t).toDate(),this.updateRealDateInputs(),this.updateFakes()}updateEndBasedOnDuration(){this.calendarEvent.endDateTime=D(this.calendarEvent.startDateTime).add("milliseconds",this.previousDuration).toDate(),this.updateRealDateInputs(),this.updateFakes()}updateDuration(){this.previousDuration=this.calendarEvent.endDateTime.getTime()-this.calendarEvent.startDateTime.getTime(),e.core.domHandler.addDurationsToSelectNode(this.durationSelectElement,this.calendarEvent.startDateTime,this.calendarEvent.endDateTime)}updateReminders(){this.calendarEvent.reminders==null&&(this.calendarEvent.reminders=[]),e.core.domHandler.addRemindersToSelectNode(this.remindersSelectElement,this.calendarEvent.reminders)}setByDuration(t){}setByTime(t){}editRecurrency(t){this.canEditReccur&&e.core.appStateHandler.editRecurrence(this.calendarEvent)}moveEvent(t){this.readDateTimeToCalendarEvent(),this.hide(),e.core.appStateHandler.startMoveCalendarEventObject(this.calendarEvent,e.core.domHandler.screenWidth/2,e.core.domHandler.screenHeight/2,e.EventEditType.DontKnow)}}e.EditEventControl=W;class J{constructor(){this.pageHtml=\'<div id="editRecurrenceTopBar" class="topBar">    <button id="editRecurrenceCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/></span><span>{#Cancel#}</span></button>    <button id="editRecurrenceOk" class="topBarButton" style="width:50%"><img src="images/check.svg" class="topBarImage"/></span><span>{#Ok#}</span></button></div><div class="pageContent" id="editRecurrenceArea" style="float:left; background-color: #E9E9E9;">        <div class="editRecurrencePopupContent pageTopPadding" id="editRecurrencePopupContent">            <div class="miniTitle sizedTitle">{#Frequency#}</div>            <div style="position: relative"><div class="inputBox">                <select class="base inputBase" id="editRecurrenceFrequency">                    <option class="inputOption" value="none">{#Not repeated#}</option>                    <option class="inputOption" value="day">{#Day#}</option>                    <option class="inputOption" value="week">{#Week#}</option>                    <option class="inputOption" value="month">{#Month#}</option>                    <option class="inputOption" value="year">{#Year#}</option>                </select>            </div></div>            <div id="daySelectionArea">                <div class="miniTitle sizedTitle">{#Every X day(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="dayInterval">                </div></div>            </div>            <div id="weekSelectionArea">                <div class="miniTitle sizedTitle">{#Every X week(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="weekInterval">                </div></div>                <div class="miniTitle sizedTitle">{#Week days#}</div>                <div style="position: relative"><div class="inputBox">                    <select id="weekDays" class="base inputBase maybeBig" multiple="multiple">                    </select>                </div></div>            </div>            <div id="monthSelectionArea">                <div class="miniTitle sizedTitle">{#Every X month(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="monthInterval">                </div></div>                <div class="miniTitle sizedTitle">{#Type#}</div>                <div style="position: relative"> <div class="inputBox">                     <select class="base inputBase" id="editRecurrenceMonthType">                        <option class="inputOption" value="date">?</option>                        <option class="inputOption" value="weekday">?</option>                    </select>                </div></div>            </div>            <div id="yearSelectionArea">                <div class="miniTitle sizedTitle">{#Every X year(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="yearInterval">                </div></div>            </div>            <div class="miniTitle sizedTitle">{#End#}</div>                <div style="position: relative"><div class="inputBox">                     <select class="base inputBase" id="editRecurrenceEnd">                         <option class="inputOption" value="forever">{#Forever#}</option>                         <option class="inputOption" value="untildate">{#End before a date#}</option>                         <option class="inputOption" value="numberoftimes">{#Repeat X times#}</option>                    </select>                </div></div>                <div class="miniTitle sizedTitle" id="numberoftimes_input_title">{#Repeat X times#}</div>                <div style="position: relative"><div class="inputBox">                     <input type="number" class="base inputBase" name="task" id="numberoftimes_input">                </div></div>                <div class="miniTitle sizedTitle" id="untildate_input_title">{#End before#}</div>                <div style="position: relative"><div class="inputBox">                     <input type="date" class="base inputBase inputDate" name="task" id="untildate_input">                </div></div>            </div>        </div></div><br/><br/>\'}reshow(){this.show()}init(t){this.calendarEvent=t}show(){var t=this;e.core.calendarDataProxy.analyticsPage("Edit recurrence page"),this.editPage=e.core.domHandler.pageHtmlFormatHelper("editRecurrence",this.pageHtml),this.editPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100);var s=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("editRecurrenceOk").style.padding=s+"px",document.getElementById("editRecurrenceCancel").style.padding=s+"px",document.getElementById("editRecurrenceArea").style.top="54px",this.editRecurrenceFrequency=document.getElementById("editRecurrenceFrequency"),this.daySelectionArea=document.getElementById("daySelectionArea"),this.weekSelectionArea=document.getElementById("weekSelectionArea"),this.monthSelectionArea=document.getElementById("monthSelectionArea"),this.yearSelectionArea=document.getElementById("yearSelectionArea"),this.dayInterval=document.getElementById("dayInterval"),this.weekInterval=document.getElementById("weekInterval"),this.monthInterval=document.getElementById("monthInterval"),this.yearInterval=document.getElementById("yearInterval"),this.weekDays=document.getElementById("weekDays"),this.editRecurrenceMonthType=document.getElementById("editRecurrenceMonthType"),this.editRecurrenceEnd=document.getElementById("editRecurrenceEnd"),this.numberoftimes_input_title=document.getElementById("numberoftimes_input_title"),this.untildate_input_title=document.getElementById("untildate_input_title"),this.numberoftimes_input=document.getElementById("numberoftimes_input"),this.untildate_input=document.getElementById("untildate_input"),e.core.domHandler.addWeekDaysToSelectNode(this.weekDays),e.core.domHandler.addEvent("editRecurrenceFrequency","change",this.editRecurrenceFrequencyChanged,this),e.core.domHandler.addEvent("editRecurrenceEnd","change",this.editRecurrenceEndChanged,this),e.core.domHandler.addClickEvent("editRecurrenceOk",this.editRecurrenceOk,this),e.core.domHandler.addClickEvent("editRecurrenceCancel",this.editRecurrenceCancel,this),this.loadSettings=this.loadSettings.bind(this),s=e.core.translate.get("On day %1 of each month").replace("%1",""+this.calendarEvent.startDateTime.getDate()),this.editRecurrenceMonthType[0].text=s;var s=e.core.translate.get("On %1, week %2 of each month"),r=Math.floor(this.calendarEvent.startDateTime.getDate()/7)+1,s=s.replace("%1",""+D(this.calendarEvent.startDateTime).format("dddd")),s=s.replace("%2",""+r);this.editRecurrenceMonthType[1].text=s;var o=this;e.core.dynamicallyLoadFile("libs/rrule.js","js",function(){t.calendarEvent.rruleToSave===void 0&&(t.calendarEvent.rruleToSave=new RRule,t.calendarEvent.rruleToSave.options.count=10,t.calendarEvent.rruleToSave.options.freq=e.RRuleFrequencies.Week,t.calendarEvent.rruleToSave.options.interval=1,t.calendarEvent.rruleToSave.options.byweekday=[t.calendarEvent.startDateTime.getDay()-1]),o.loadSettings(t.calendarEvent.rruleToSave)}),this.editPage.style.display="block"}loadSettings(t){if(this.yearInterval.value=t.options.interval.toString(),this.monthInterval.value=t.options.interval.toString(),this.weekInterval.value=t.options.interval.toString(),this.dayInterval.value=t.options.interval.toString(),t.options.freq==e.RRuleFrequencies.Year)this.editRecurrenceFrequency.value="year";else if(t.options.freq==e.RRuleFrequencies.Month)this.editRecurrenceFrequency.value="month",this.editRecurrenceMonthType.value=t.options.bynweekday==null||t.options.bynweekday.length==0?"date":"weekday";else if(t.options.freq==e.RRuleFrequencies.Week){this.editRecurrenceFrequency.value="week";for(var r=0;r<this.weekDays.options.length;r++)this.weekDays.options[r].selected=!1;this.weekDays.options[0].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Monday),this.weekDays.options[1].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Tuesday),this.weekDays.options[2].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Wednesday),this.weekDays.options[3].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Thursday),this.weekDays.options[4].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Friday),this.weekDays.options[5].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Saturday),this.weekDays.options[6].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Sunday)}else t.options.freq==e.RRuleFrequencies.Day&&(this.editRecurrenceFrequency.value="day");0<t.options.count?(this.editRecurrenceEnd.value="numberoftimes",this.numberoftimes_input.value=t.options.count.toString()):t.options.until!==void 0&&t.options.until!==null?(this.editRecurrenceEnd.value="untildate",this.untildate_input.value=D(t.options.until).format("YYYY-MM-DD")):this.editRecurrenceEnd.value="forever",this.editRecurrenceEndChanged(null),this.editRecurrenceFrequencyChanged(null)}hide(){e.core.domHandler.removeElement(this.editPage.id)}editRecurrenceFrequencyChanged(t){this.daySelectionArea.style.display="none",this.weekSelectionArea.style.display="none",this.monthSelectionArea.style.display="none",this.yearSelectionArea.style.display="none",this.editRecurrenceFrequency.value=="day"&&(this.daySelectionArea.style.display="block"),this.editRecurrenceFrequency.value=="week"&&(this.weekSelectionArea.style.display="block"),this.editRecurrenceFrequency.value=="month"&&(this.monthSelectionArea.style.display="block"),this.editRecurrenceFrequency.value=="year"&&(this.yearSelectionArea.style.display="block")}editRecurrenceEndChanged(t){this.untildate_input.style.display="none",this.numberoftimes_input.parentElement.parentElement.style.display="none",this.untildate_input_title.style.display="none",this.numberoftimes_input_title.style.display="none",this.editRecurrenceEnd.value=="numberoftimes"&&(this.numberoftimes_input.parentElement.parentElement.style.display="block",this.numberoftimes_input_title.style.display="block"),this.editRecurrenceEnd.value=="untildate"&&(this.untildate_input.style.display="block",this.untildate_input_title.style.display="block")}editRecurrenceOk(t){if(t=new RRule,this.editRecurrenceFrequency.value=="year")t.options.freq=e.RRuleFrequencies.Year,t.options.interval=this.yearInterval.valueAsNumber;else if(this.editRecurrenceFrequency.value=="month"){if(t.options.freq=e.RRuleFrequencies.Month,t.options.interval=this.monthInterval.valueAsNumber,this.editRecurrenceMonthType.value!="date")if(this.editRecurrenceMonthType.value=="weekday"){var r=Math.floor(this.calendarEvent.startDateTime.getDate()/7)+1;t.options.bynweekday=[],t.options.bynweekday.push(r),t.options.bynweekday.push(this.calendarEvent.startDateTime.getDay()-1)}else throw"not date or weekday"}else this.editRecurrenceFrequency.value=="week"?(t.options.freq=e.RRuleFrequencies.Week,t.options.byweekday=[],t.options.interval=this.weekInterval.valueAsNumber,this.weekDays.options[0].selected&&t.options.byweekday.push(e.RRuleWeekDay.Monday),this.weekDays.options[1].selected&&t.options.byweekday.push(e.RRuleWeekDay.Tuesday),this.weekDays.options[2].selected&&t.options.byweekday.push(e.RRuleWeekDay.Wednesday),this.weekDays.options[3].selected&&t.options.byweekday.push(e.RRuleWeekDay.Thursday),this.weekDays.options[4].selected&&t.options.byweekday.push(e.RRuleWeekDay.Friday),this.weekDays.options[5].selected&&t.options.byweekday.push(e.RRuleWeekDay.Saturday),this.weekDays.options[6].selected&&t.options.byweekday.push(e.RRuleWeekDay.Sunday)):this.editRecurrenceFrequency.value=="day"&&(t.options.freq=e.RRuleFrequencies.Day,t.options.interval=this.dayInterval.valueAsNumber);t.options.count=void 0,t.options.until=void 0,this.editRecurrenceEnd.value=="untildate"?t.options.until=new Date(this.untildate_input.value):this.editRecurrenceEnd.value=="numberoftimes"&&(t.options.count=+this.numberoftimes_input.value),this.calendarEvent.rruleToSave=t,this.calendarEvent.isRecurring=this.editRecurrenceFrequency.value!=="none",this.hide(),history.back()}editRecurrenceCancel(t){this.hide(),history.back()}}e.EditRecurrenceControl=J;class Me{constructor(){this.pageHtml=`<div id="editRecurrenceMenu" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div id="editRecurrenceOnlyOne" class="base menuItem">{#Only edit this event#}</div>    <div id="editRecurrenceAll" class="base menuItem">{#Edit the whole series#}</div>    <!--<div id="editRecurrenceFuture" class="base menuItem">{#Edit this and future events#}</div>-->    <div id="editRecurrenceCancel" class="base menuItem">{#Cancel#}</div></div></div></div><div id="noEditMenu" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItemInfo">{#Sorry, this event can\'t be edited#}</div>    <div id="noEditOk" class="base menuItem">{#Ok#}</div></div></div></div><div id="deleteConfirmPopup" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#Delete?#}</div>    <div>        <button id="deleteConfirmCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="deleteConfirmOk" class="topBarButton" style="width:50%"><img src="images/check.svg" class="topBarImage"/><span>{#Ok#}</span></button>    </div></div></div></div><div id="deleteRecurrenceMenu" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div id="deleteRecurrenceOnlyOne" class="base menuItem">{#Only delete this event#}</div>    <div id="deleteRecurrenceAll" class="base menuItem">{#Delete the whole series#}</div>    <!--<div id="deleteRecurrenceFuture" class="base menuItem">{#Delete this and future events#}</div>-->    <div id="deleteRecurrenceCancel" class="base menuItem">{#Cancel#}</div></div></div></div><div id="viewEventTopBar" class="topBar">    <button id="viewEventBack" class="topBarButton" style="width:39%">        _insertBackButtonImage        <span id="viewEventBackText" style="color: _buttonImageColor">{#Back#}</span>    </button>    <!--<button id="viewEventMove" class="topBarButton" style="width:?%"><img src="images/clock.svg" class="topBarImage"/><span id="viewEventMoveText">{#Move#}</span></button>-->    <button id="viewEventDelete" class="topBarButton" style="width:23%">        _insertTrashButtonImage    </button>    <button id="viewEventEdit" class="topBarButton" style="width:38%">        _insertPencilButtonImage        <span id="viewEventEditText" style="color: _buttonImageColor">{#Edit#}</span>    </button></div><div class="pageContent" id="viewEventArea" style="float:left">    <div id="viewEventTitle" class="topBarTitleX" style="width:100%"></div>    <div class="pagePadding pageTopPadding" style="padding-left:20px;padding-right:20px;">        <div class="editEventPopupContent" id="editEventPopupContent">            <br>            <br>            <div>                <div class="miniTitle">{#When#}</div>                <div class="pageContentText" id="viewEventTime1"></div>                <div class="pageContentText" id="viewEventTime2"></div>                <br>            </div>            <div id="viewEventBoxWhere">                <div class="miniTitle" id="viewEventTitleWhere">{#Where#}</div>                <div class="pageContentText" id="viewEventLocation"></div>                <br>            </div>            <div id="viewEventBoxDetails">                <div class="miniTitle" id="viewEventTitleDetails">{#Details#}</div>                <div class="pageContentText" id="viewEventDetails" style="white-space: pre-wrap;"></div>                <br>            </div>            <div>                <div class="miniTitle">{#Calendar#}</div>                <div class="pageContentText" id="viewEventCalendar"></div>                <br>            </div>            <div id="viewEventBoxReminders">                <div class="miniTitle">{#Reminders#}</div>                <div class="pageContentText" id="viewEventReminders"></div>                <br>            </div>            <div id="viewEventBoxInvited">                <div class="miniTitle">{#Invited#}</div>                <div class="pageContentText" id="viewEventInvited"></div>                <br>            </div>        </div>    </div></div><br/><br/>`}init(t){this.calendarEvent=t}reshow(){this.show()}show(){e.core.domHandler.hideCanvas(),e.core.calendarDataProxy.analyticsPage("View event page");var t=e.core.domHandler.insertImages(this.pageHtml,e.core.helper.getEventTextColor(this.calendarEvent,e.core.getCalendar(this.calendarEvent.calendarId)));this.viewPage=e.core.domHandler.pageHtmlFormatHelper("viewEvent",t),e.core.domHandler.resizeDomElements(e.core.helper.getEventColor2(this.calendarEvent)),e.core.domHandler.resizeDomElements(e.core.helper.getEventColor2(this.calendarEvent)),t=(e.core.settings.titleWidth/e.core.ratio-24)/2,document.getElementById("viewEventBack").style.padding=t+"px",document.getElementById("viewEventEdit").style.padding=t+"px",document.getElementById("viewEventDelete").style.padding=t+"px",document.getElementById("viewEventArea").style.top="54px",e.core.showBackButtons()?e.core.domHandler.addClickEvent("viewEventBack",this.viewEventBack,this):(e.core.domHandler.removeElement("viewEventBack"),document.getElementById("viewEventEdit").style.width="50%",document.getElementById("viewEventDelete").style.width="50%"),e.core.calendarEventHandler.canEditEvent(this.calendarEvent)?(e.core.domHandler.addClickEvent("viewEventEdit",this.viewEventEdit,this),e.core.domHandler.addClickEvent("viewEventDelete",this.viewEventDelete,this)):(e.core.domHandler.removeElement("viewEventEdit"),e.core.domHandler.removeElement("viewEventDelete"),e.core.showBackButtons()&&(document.getElementById("viewEventBack").style.width="100%")),t=document.createElement("a"),t.href="https://web.archive.org/web/20190808203716/http://maps.google.com/?q="+this.calendarEvent.location,t.className="blueLink",e.core.domHandler.addElement(t,"viewEventLocation"),this.viewPage.style.display="block",document.getElementById("viewEventTitle").textContent=this.calendarEvent.summary,document.getElementById("viewEventTitle").style.color=e.core.helper.getEventTextColor(this.calendarEvent,e.core.getCalendar(this.calendarEvent.calendarId)),t.textContent=this.calendarEvent.location,document.getElementById("viewEventTime1").textContent=e.core.helper.GetDateTimeLine1(this.calendarEvent.startDateTime,this.calendarEvent.endDateTime),document.getElementById("viewEventTime2").textContent=e.core.helper.GetDateTimeLine2(this.calendarEvent.startDateTime,this.calendarEvent.endDateTime),document.getElementById("viewEventDetails").textContent=this.calendarEvent.description,document.getElementById("viewEventCalendar").textContent=e.core.getCalendar(this.calendarEvent.calendarId).name,(this.calendarEvent.location==null||this.calendarEvent.location.length===0)&&(document.getElementById("viewEventBoxWhere").hidden=!0),(this.calendarEvent.description==null||this.calendarEvent.description.length===0)&&(document.getElementById("viewEventBoxDetails").hidden=!0),document.getElementById("viewEventReminders").textContent=this.remindersToString(),(this.calendarEvent.reminders==null||this.calendarEvent.reminders.length===0)&&(document.getElementById("viewEventBoxReminders").hidden=!0),(this.calendarEvent.invited==null||this.calendarEvent.invited.length===0)&&(document.getElementById("viewEventBoxInvited").hidden=!0),this.resize()}resize(){var t;t=this.verifySize("Back",!1),t=this.verifySize("Edit",t),t=this.verifySize("Back",t),this.verifySize("Edit",t)}remindersToString(){if(this.calendarEvent.reminders==null||this.calendarEvent.reminders.length==0)return"None";var t,r="";for(t=0;t<this.calendarEvent.reminders.length;t++)r+=this.reminderToString(this.calendarEvent.reminders[t]),t<this.calendarEvent.reminders.length-1&&(r+=", ");return r}reminderToString(t){return t.minutes==60?"1 hour":t.minutes==90?"1.5 hours":t.minutes==120?"2 hours":t.minutes==180?"3 hours":t.minutes==360?"6 hours":t.minutes==720?"12 hours":t.minutes==1440?"24 hours":t.minutes==2880?"2 days":t.minutes==10080?"1 week":t.minutes+" minutes"}verifySize(t,r){if(document.getElementById("viewEvent"+t)){var l=document.getElementById("viewEvent"+t),s=document.getElementById("viewEvent"+t+"Text"),o=l.offsetWidth,o=o-(l.offsetHeight-10),l=e.core.domHandler.getTextLength(s.textContent,s.style.fontSize);return o<l+18||r?(document.getElementById("viewEvent"+t+"Text").style.display="none",!0):(document.getElementById("viewEvent"+t+"Text").style.display="inline",!1)}}hide(){e.core.appStateHandler.viewEventControlIsShowing=!1,e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.viewPage.id)}viewEventBack(t){e.core.appStateHandler.back()}viewEventDelete(t){e.core.calendarEventHandler.canEditEvent(this.calendarEvent)&&(this.calendarEvent.isRecurring&&this.calendarEvent.recurringEventId?this.showDeleteRecurrenceMenu():this.showDeleteConfirm())}deleteEvent(){e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.DontKnow)}viewEventEdit(t){e.core.calendarEventHandler.canEditEvent(this.calendarEvent)&&(this.calendarEvent.isRecurring&&this.calendarEvent.recurringEventId?e.core.calendarDataProxy.canEditRecurring(this.calendarEvent)?this.showEditRecurrenceMenu():this.showNoEditMenu():(e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.DontKnow)))}showNoEditMenu(){document.getElementById("noEditMenu").style.display="table",e.core.domHandler.addClickEvent("noEditOk",this.hideNoEditMenu,this)}hideNoEditMenu(){document.getElementById("noEditMenu").style.display="none"}showDeleteConfirm(){document.getElementById("deleteConfirmPopup").style.display="table",e.core.domHandler.addClickEvent("deleteConfirmOk",this.deleteEvent,this),e.core.domHandler.addClickEvent("deleteConfirmCancel",this.hideDeleteConfirm,this)}showEditRecurrenceMenu(){document.getElementById("editRecurrenceMenu").style.display="table",e.core.domHandler.addClickEvent("editRecurrenceOnlyOne",this.editRecurrenceOnlyOne,this),e.core.domHandler.addClickEvent("editRecurrenceAll",this.editRecurrenceAll,this),e.core.domHandler.addClickEvent("editRecurrenceCancel",this.hideEditRecurrenceMenu,this)}editRecurrenceOnlyOne(){this.hideEditRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.ThisOnly)}editRecurrenceAll(){this.hideEditRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.AllInSeries)}editRecurrenceFuture(){this.hideEditRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.ThisAndFuture)}hideEditRecurrenceMenu(){document.getElementById("editRecurrenceMenu").style.display="none"}hideDeleteConfirm(){document.getElementById("deleteConfirmPopup").style.display="none"}showDeleteRecurrenceMenu(){document.getElementById("deleteRecurrenceMenu").style.display="table",e.core.domHandler.addClickEvent("deleteRecurrenceOnlyOne",this.deleteRecurrenceOnlyOne,this),e.core.domHandler.addClickEvent("deleteRecurrenceAll",this.deleteRecurrenceAll,this),e.core.domHandler.addClickEvent("deleteRecurrenceCancel",this.hideDeleteRecurrenceMenu,this)}deleteRecurrenceOnlyOne(){this.hideDeleteRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.ThisOnly)}deleteRecurrenceAll(){this.hideDeleteRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.AllInSeries)}deleteRecurrenceFuture(){this.hideDeleteRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.ThisAndFuture)}hideDeleteRecurrenceMenu(){document.getElementById("deleteRecurrenceMenu").style.display="none"}viewEventMove(t){this.hide(),e.core.calendarEventHandler.canEditEvent(this.calendarEvent)&&e.core.appStateHandler.startMoveCalendarEventObject(this.calendarEvent,e.core.domHandler.screenWidth/2,e.core.domHandler.screenHeight/2,e.EventEditType.DontKnow)}}e.ViewEventControl=Me;class St{constructor(){this.monthesShort=new e.Hashtable,this.monthesLong=new e.Hashtable,this.weekdayShort=new e.Hashtable,this.weekdayLong=new e.Hashtable}colorToRGBA(t,r){var s=parseInt(t.substr(1),16);return"rgba("+(s>>16&255)+","+(s>>8&255)+","+(s&255)+","+r+")"}GetDateTimeLine1(t,r){var s=D(t),o=D(r);return this.IsSameDay(s,o)?s.format("dddd")+", "+s.format("LL"):s.hours()==0&&s.minutes()?s.format("dddd")+", "+s.format("LL")+" - ":s.format("dddd")+", "+s.format("LLL")+" - "}GetDateTimeLine2(t,r){var s=D(t),o=D(r);return this.IsSameDay(s,o)?s.hours()==0&&s.minutes()==0&&(o.hours()==23&&o.minutes()==59||o.hours()==0&&o.minutes()==0)?"":s.format("LT")+" - "+o.format("LT"):s.hours()==0&&s.minutes()?o.format("dddd")+", "+o.format("LL"):o.format("dddd")+", "+o.format("LLL")}IsSameDay(t,r){return t.format("L")==r.clone().subtract(1,"minutes").format("L")}GetDateWithWeekDay(t){return t=D(t),t.format("dddd")+", "+t.format("LL")}GetTime(t){return D(t).format("LT")}isNullOrEmpty(t){return!t||t.length===0}isAndroid(){return navigator.userAgent.match(/Android/i)}isBlackBerry(){return navigator.userAgent.match(/BlackBerry/i)}isiOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}isOpera(){return navigator.userAgent.match(/Opera Mini/i)}isWindows(){return navigator.userAgent.match(/IEMobile/i)}isMobile(){return this.isAndroid()||this.isBlackBerry()||this.isiOS()||this.isOpera()||this.isWindows()}sortCalendars(){e.core.calendars.sort(function(l,c){return c.id==e.core.calendarPrimaryId?1:l.id==e.core.calendarPrimaryId?-1:c.canEditCalendarEvents&&!l.canEditCalendarEvents?1:l.canEditCalendarEvents&&!c.canEditCalendarEvents?-1:l.allEventsAreFullDay&&!c.allEventsAreFullDay?1:c.allEventsAreFullDay&&!l.allEventsAreFullDay?-1:l.countEvents-c.countEvents});for(var t=0,r=e.core.settings.theme.eventColors.length-1,s=0;s<e.core.calendars.length;s++)if(e.core.calendars[s].allEventsAreFullDay&&!e.core.calendars[s].canEditCalendarEvents?(e.core.calendars[s].colorId=r,r--):(e.core.calendars[s].colorId=t,t++),0>e.core.calendars[s].colorId&&(e.core.calendars[s].colorId=0),e.core.calendars[s].colorId>e.core.settings.theme.eventColors.length&&(e.core.calendars[s].colorId=e.core.settings.theme.eventColors.length-1),e.core.commonUserSettings.licenceColorPicker&&e.core.commonUserSettings.savedCalendarColors&&e.core.commonUserSettings.savedCalendarColors.containsKey(e.core.calendars[s].id)){var o=e.core.commonUserSettings.savedCalendarColors[e.core.calendars[s].id];-1<Number(o)&&100>Number(o)&&(e.core.calendars[s].colorId=o)}}replaceAll(t,r,s){return t.split(r).join(s)}canShowDatePicker(){return!!e.core.isCordovaApp}setCalendarColorId(t,r){var s=e.core.commonUserSettings.savedCalendarColors;e.core.commonUserSettings.licenceColorPicker&&s&&s.containsKey(t)?s[t]=r:s.add(t,r),e.core.commonUserSettings.savedCalendarColors=s}getEventColor2(t){return this.getEventColor(t,e.core.getCalendar(t.calendarId))}getEventTextColor(t,r){var s=e.core.settings.theme.eventTextColors[r.colorId%e.core.settings.theme.eventColors.length];return t&&t.androidColorNum!=null&&t.extraColorId==null&&(t.extraColorId=this.getColorIdFromAndroidNum(t.androidColorNum)),t&&t.extraColorId?e.core.settings.theme.eventTextColors[t.extraColorId%e.core.settings.theme.eventTextColors.length]:s}getCalendarColor(t){return e.core.settings.theme.eventColors[t.colorId%e.core.settings.theme.eventColors.length]}getEventColor(t,r){var s=e.core.settings.theme.eventColors[r.colorId%e.core.settings.theme.eventColors.length];return t&&t.androidColorNum!=null&&t.extraColorId==null&&(t.extraColorId=this.getColorIdFromAndroidNum(t.androidColorNum)),t&&t.extraColorId?e.core.settings.theme.eventColors[t.extraColorId%e.core.settings.theme.eventColors.length]:(s===""&&r.colorId===0&&(t==null?s=e.core.settings.theme.eventColorsForFirstCalendar[3]:(s=t.endZOP-t.startZOP,s=s<e.core.zopHandler.zopSizeOfHour-e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[4]:s<e.core.zopHandler.zopSizeOfHour+e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[3]:s<e.core.zopHandler.zopSizeOfDay-e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[2]:s<e.core.zopHandler.zopSizeOfDay+e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[1]:e.core.settings.theme.eventColorsForFirstCalendar[0])),s)}getAndroidNumFromColor(t){return t=this.hexToRgb(t),-16777216+(t[0]<<16)+(t[1]<<8)+t[2]}fillLeadingZeros(t,r){var s="000000000"+t;return s.substr(s.length-r)}getColorIdFromAndroidNum(t){t=+t;var r=t>>8&255,s=t&255;t="#"+this.fillLeadingZeros((t>>16&255).toString(16),2)+this.fillLeadingZeros(r.toString(16),2)+this.fillLeadingZeros(s.toString(16),2);for(var r=-1,s=1e5,o,l=0;l<e.core.settings.theme.eventColors.length;l++)o=this.getColorDistance(t,e.core.settings.theme.eventColors[l]),o<s&&(s=o,r=l);return r}getColorDistance(t,r){for(var s=0,o=0,l=this.hexToRgb(t),c=this.hexToRgb(r),p=-1,f=-1,g=-1,m=256,S=-1,M=-1,_=-1,j=256,B=0;B<l.length;B++)o+=(c[B]-l[B])/l.length,f<l[B]&&(f=l[B],p=B),m>l[B]&&(m=l[B],g=B),M<c[B]&&(M=c[B],S=B),j>c[B]&&(j=c[B],_=B);for(o/=2,B=0;B<l.length;B++)f=(l[B]+o-c[B])/50,s+=f*f*f*f;return s+=Math.abs(o/150),p!=S&&(s=1.25*s+.25),g!=_&&(s=1.1*s+.1),s}hexToRgb(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}addUserTimeZoneSetting(t){var r=e.core.commonUserSettings.getCachedTimeZoneDiffInMinutes();return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+r),t}removeUserTimeZoneSetting(t){var r=e.core.commonUserSettings.getCachedTimeZoneDiffInMinutes();return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()-r),t}getNumberFromString(t,r){return isNaN(+t)?r:+t}}e.Helper=St;class Mr{constructor(){this.canvasMenuContext=this.canvasMenu=this.canvasContext=this.canvas=void 0,this.screenLeftForDOM=this.screenTopForDOM=this.screenHeightForDOM=this.screenWidthForDOM=this.screenHeight=this.screenWidth=0,this.backButtonImage=\'        <span class="topBarImage" style="display: inline-block; fill: _buttonImageColor">            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48" height="100%">                <path d="M20 8q0.828 0 1.414 0.586t0.586 1.414q0 0.844-0.594 1.422l-10.578 10.578h31.172q0.828 0 1.414 0.586t0.586 1.414-0.586 1.414-1.414 0.586h-31.172l10.578 10.578q0.594 0.578 0.594 1.422 0 0.828-0.586 1.414t-1.414 0.586q-0.844 0-1.422-0.578l-14-14q-0.578-0.609-0.578-1.422t0.578-1.422l14-14q0.594-0.578 1.422-0.578z" > </path>            </svg>        </span>\',this.pencilButtonImage=\'        <span class="topBarImage" style="display: inline-block; fill: _buttonImageColor">            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" viewBox="0 0 48 48">                <path d="M40.5 0c4.142 0 7.5 3.358 7.5 7.5 0 1.688-0.558 3.246-1.5 4.5l-3 3-10.5-10.5 3-3c1.254-0.942 2.811-1.5 4.5-1.5zM3 34.5l-3 13.5 13.5-3 27.75-27.75-10.5-10.5-27.75 27.75zM33.543 17.043l-21 21-2.585-2.585 21-21 2.585 2.585z"></path>            </svg>        </span>\',this.trashButtonImage=\'        <span class="topBarImage" style="display: inline-block; fill: _buttonImageColor">            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" viewBox="0 0 48 48">                <path d="M20 2h8q2.484 0 4.242 1.758t1.758 4.242v2h8q0.828 0 1.414 0.586t0.586 1.414-0.586 1.414-1.414 0.586h-2v24q0 2.484-1.758 4.242t-4.242 1.758h-20q-2.484 0-4.242-1.758t-1.758-4.242v-24h-2q-0.828 0-1.414-0.586t-0.586-1.414 0.586-1.414 1.414-0.586h8v-2q0-2.484 1.758-4.242t4.242-1.758zM36 38v-24h-24v24q0 0.828 0.586 1.414t1.414 0.586h20q0.828 0 1.414-0.586t0.586-1.414zM28 6h-8q-0.828 0-1.414 0.586t-0.586 1.414v2h12v-2q0-0.828-0.586-1.414t-1.414-0.586z"></path>            </svg>        </span>\',this.alreadyFadedIn=!1,this.getTextLength=function(t,r){var s=document.getElementById("ruler");return s.style.fontSize=r,s.innerHTML=t,s.offsetWidth},this.tryCreateHtmlElements()}init(){e.core.mainMenuControl=new e.MainMenuControl,e.core.addButtonControl=new e.AddButtonControl,e.core.zopDrawArea.init(this.canvas,this.canvasContext)}getElement(t){return document.getElementById(t)}addElement(t,r){return this.getElement(t.id)?t:this.getElement(r).appendChild(t)}addDiv(t,r,s){if(this.getElement(t))return this.getElement(t);var o=document.createElement("div");return o.id=t,o.className=r,this.addElement(o,s)}showCanvas(){e.core.calendarDataProxy.analyticsPage("Main page"),this.addElement(this.canvas,document.body.id),this.resetDrawAreaSize_Delayed(),e.core.redraw(!0),window.setTimeout(function(){return e.core.redraw(!0)},100)}insertImages(t,r){var s=e.core.helper.replaceAll(t,"_insertBackButtonImage",this.backButtonImage),s=e.core.helper.replaceAll(s,"_insertPencilButtonImage",this.pencilButtonImage),s=e.core.helper.replaceAll(s,"_insertTrashButtonImage",this.trashButtonImage);return s=e.core.helper.replaceAll(s,"_buttonImageColor",r)}hideCanvas(){this.removeElement(this.canvas.id)}pageHtmlFormatHelper(t,r){for(var s=e.core.domHandler.addDiv(t,"page","pageRoot"),o=e.core.domHandler.addDiv(t+"inner","pageInner",t),l=0;l<e.core.translate.keys.length;l++)r=this.replaceMultiple(r,"{#"+e.core.translate.keys[l]+"#}",e.core.translate.get(e.core.translate.keys[l]));return o.innerHTML=r,s}replaceMultiple(t,r,s){return t.split(r).join(s)}removeElement(t){(t=this.getElement(t))&&t.parentNode&&t.parentNode.removeChild(t)}addEvent(t,r,s,o){s=s.bind(o),this.getElement(t).addEventListener(r,s,!1)}addClickEvent(t,r,s){this.addEvent(t,"click",r,s)}touchClickDown(t){}touchClickUp(t){}tryCreateHtmlElements(){this.canvas===void 0&&(this.canvas=document.createElement("canvas"),this.canvas.id="canvas",document.body.appendChild(this.canvas),this.canvasContext=this.canvas.getContext("2d")),this.canvasMenu===void 0&&(this.canvasMenu=document.createElement("canvas"),this.canvasMenu.id="canvasMenu",document.body.appendChild(this.canvasMenu),this.canvasMenuContext=this.canvasMenu.getContext("2d"))}resetDrawAreaSize_Delayed(){this.resetDrawAreaSize()}resetDrawAreaSize(){var t=document.querySelector(\'meta[name="viewport"]\');t&&t.content.match(/width=device-width/)&&(t.content=t.content.replace(/width=[^,]+/,"width=1"),t.content=t.content.replace(/width=[^,]+/,"width="+window.innerWidth)),window.devicePixelRatio&&window.devicePixelRatio!==0&&e.core.ratio!==window.devicePixelRatio&&(e.core.ratio=window.devicePixelRatio),(this.screenWidthForDOM!==window.innerWidth||this.screenHeightForDOM!==window.innerHeight)&&(this.screenWidthForDOM=window.innerWidth,this.screenHeightForDOM=window.innerHeight);var t=window.msMatchMedia||window.MozMatchMedia||window.WebkitMatchMedia||window.matchMedia,r="onorientationchange"in window,s=void 0;typeof t<"u"&&window.matchMedia("(orientation: portrait)").matches?s=!0:typeof t<"u"&&window.matchMedia("(orientation: landscape)").matches?s=!1:r&&window.orientation==0||window.orientation==180?s=!0:(r&&window.orientation==0||window.orientation==180)&&(s=!1),s!=null?(s?(this.screenWidthForDOM!==Math.min(window.innerWidth,window.innerHeight)&&(this.screenWidthForDOM=Math.min(window.innerWidth,window.innerHeight)),this.screenHeightForDOM!==Math.max(window.innerWidth,window.innerHeight)&&(this.screenHeightForDOM=Math.max(window.innerWidth,window.innerHeight)),t=Math.min(screen.width,screen.height)):(this.screenWidthForDOM!==Math.max(window.innerWidth,window.innerHeight)&&(this.screenWidthForDOM=Math.max(window.innerWidth,window.innerHeight)),this.screenHeightForDOM!=Math.min(window.innerWidth,window.innerHeight)&&(this.screenHeightForDOM=Math.min(window.innerWidth,window.innerHeight)),t=Math.max(screen.width,screen.height)),t<.9*this.screenWidthForDOM&&e.core.domRatio!==t/this.screenWidthForDOM?e.core.domRatio=t/this.screenWidthForDOM:e.core.domRatio!==1&&(e.core.domRatio=1)):e.core.domRatio=1,t=document.getElementById("phone"),this.screenLeftForDOM=this.screenTopForDOM=0,this.screenWidthForDOM=Math.floor(this.screenWidthForDOM),this.screenHeightForDOM=Math.floor(this.screenHeightForDOM),t?(t.className="phone_js_resize",t.style.width=Math.floor(.55*window.innerHeight)+"px",this.screenWidthForDOM=Math.floor(.75*t.clientWidth)-2,this.screenHeightForDOM=Math.floor(.64*t.clientHeight),r=t.getBoundingClientRect(),s=r.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),this.screenTopForDOM=Math.floor(r.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(t.clientHeight-this.screenHeightForDOM)/2),this.screenLeftForDOM=Math.floor(s+(t.clientWidth-this.screenWidthForDOM)/2)+1,r=document.getElementById("bg"),r.className="bg_js_resize",r.style.top=Math.floor(.32*window.innerHeight+0)+"px",r.style.height=Math.floor(1.05*window.innerHeight+0)+"px",r=document.getElementById("logowrapper"),r.className="",r.style.height=Math.floor(.35*window.innerHeight+0)+"px",r=document.getElementById("phonewrapper"),r.className="",r.style.height=Math.floor(1.05*window.innerHeight+0)+"px",r=document.getElementById("logo"),r.className="logo",r.style.fontSize=.25*window.innerHeight+0+"px",r=document.getElementById("logosub"),r.className="logosub",r.style.fontSize=.05*window.innerHeight+0+"px",r.style.top=Math.floor(.05*-window.innerHeight+0)+"px",r=document.getElementById("pageRoot"),r.style.width=this.screenWidthForDOM+"px",r.style.height=this.screenHeightForDOM+"px",r.style.position="absolute",r.style.top=this.screenTopForDOM+"px",r.style.left=this.screenLeftForDOM+"px",e.core.settings.zoom=Math.max(.67,Math.min(1,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/300))):e.core.settings.zoom=1,this.tryCreateHtmlElements(),this.screenWidth=Math.round(this.screenWidthForDOM*e.core.ratio*e.core.domRatio),this.screenHeight=Math.round(this.screenHeightForDOM*e.core.ratio*e.core.domRatio),e.core.setSizeSettings(),this.canvas.style.width=this.screenWidthForDOM+"px",this.canvas.style.height=this.screenHeightForDOM+"px",this.canvas.style.position="absolute",this.canvas.style.top=this.screenTopForDOM+"px",this.canvas.style.left=this.screenLeftForDOM+"px",this.canvas.style.zIndex="2",this.canvas.width=this.screenWidth,this.canvas.height=this.screenHeight,e.core.settings.menuButtonBottom=.875*e.core.settings.titleWidth,this.canvasMenu.style.width=this.canvas.style.width,this.canvasMenu.style.height=this.canvas.style.height,this.canvasMenu.style.position=this.canvas.style.position,this.canvasMenu.style.zIndex="10",this.canvasMenu.width=this.canvas.width,this.canvasMenu.height=this.canvas.height,this.canvasMenu.style.display="none",this.canvasMenu.style.top=this.canvas.style.top,this.canvasMenu.style.left=this.canvas.style.left,t||window.scrollTo(0,0),e.core.zopDrawArea.resetDrawAreaSize(this.screenHeight,this.screenWidth),e.core.mainMenuControl.resetDrawAreaSize(this.screenHeight,this.screenWidth),e.core.calendarEventHandler.drawAreaResized(),e.core.mainMenuControl.drawAreaResized(),e.core.addButtonControl.drawAreaResized(),e.core.appStateHandler.viewEventControl.resize(),e.core.appStateHandler.sizesInitiated=!0,this.resizeDomElements(),e.core.preloadAllImages(),e.core.redraw(!0),this.fadeInIfWebPage()}fadeInIfWebPage(){this.alreadyFadedIn||(document.getElementById("phone")&&($(".innerX").animate({opacity:1},2e3),$("#canvas").animate({opacity:1},2e3)),this.alreadyFadedIn=!0)}resizeDomElements(t){t===void 0&&(t="");var r=Math.min(24,Math.max(11,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/19)),s=Math.min(16,Math.max(10,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/23)),o=2*r,l=r-11+2,c=Math.max(2*l,13),p=Math.floor(r/8),f,g=document.querySelectorAll(".pageInner");(t==null||4>t.length)&&(t=e.core.settings.theme.colorTitleBackground);for(var m=0;m<g.length;m++)g[m].style.backgroundColor=e.core.settings.theme.colorBackground;for(g=document.querySelectorAll(".pageContent"),m=0;m<g.length;m++)g[m].style.fontFamily=\'"\'+e.core.settings.theme.textFont+\'", arial, sans-serif\',g[m].style.backgroundColor="rgba(125, 125, 125, 0.08)";for(g=document.querySelectorAll(".topBarTitleX"),m=0;m<g.length;m++)g[m].style.fontFamily=\'"\'+e.core.settings.theme.titleBarFontBold+\'", arial, sans-serif\';for(g=document.querySelectorAll(".topBar, .topBarTitle, .topBarButton, .menuItem, .topBarTitleX, .shopItemButton"),m=0;m<g.length;m++)g[m].style.backgroundColor=t;for(g=document.querySelectorAll(".pageTopPadding"),m=0;m<g.length;m++)g[m].style.paddingTop=c+"px",g[m].style.paddingBottom=c+"px";for(g=document.querySelectorAll(".pageSecondTopPadding"),m=0;m<g.length;m++)g[m].style.marginTop="-"+c+"px",g[m].style.paddingTop=c+"px",g[m].style.paddingBottom=c+"px",g[m].style.borderTopColor=e.core.settings.theme.colorWhite,g[m].style.borderTopStyle="solid",g[m].style.borderTopWidth=l+"px";for(g=document.querySelectorAll(".inputBox"),m=0;m<g.length;m++)g[m].style.position="absolute",g[m].style.maxWidth="700px",g[m].style.marginBottom=c+"px",g[m].style.left=c+"px",g[m].style.overflow="hidden",g[m].style.right=c+"px",g[m].style.backgroundColor=e.core.settings.theme.colorBackground,g[m].parentElement.style.height=Math.max(3*c,g[m].offsetHeight+c)+"px",f=g[m].clientWidth;for(g=document.querySelectorAll(".noLeftRightMargin"),m=0;m<g.length;m++)g[m].style.right="0",g[m].style.left="0";for(g=document.querySelectorAll("#spaceForColors"),m=0;m<g.length;m++)g[m].style.maxWidth="700px",g[m].style.marginTop="0",g[m].style.marginBottom=c+"px",g[m].style.marginLeft=c+"px",g[m].style.marginRight=c+"px";for(g=document.querySelectorAll(".lessSpace"),m=0;m<g.length;m++)g[m].parentElement.style.height=g[m].offsetHeight+c+"px";for(g=document.querySelectorAll(".transparent"),m=0;m<g.length;m++)g[m].style.backgroundColor="transparent";for(g=document.querySelectorAll(".square"),m=0;m<g.length;m++)g[m].style.height=o+"px",g[m].style.width=o+"px",g[m].style.position="relative",g[m].style.cssFloat="right",g[m].style.right=c+"px",g[m].style.marginBottom=c+"px";for(g=document.querySelectorAll(".base"),m=0;m<g.length;m++)g[m].style.fontSize=r+"px",g[m].style.lineHeight=o+p+"px",g[m].style.height=o+"px",g[m].style.paddingLeft=l+"px",g[m].style.paddingRight=l+"px",g[m].style.outline="none",g[m].style.minHeight="0",g[m].style.fontFamily="Roboto",g[m].style.color=e.core.settings.theme.colorGrayText,g[m].style.whiteSpace="nowrap";for(g=document.querySelectorAll(".inputBase"),m=0;m<g.length;m++)g[m].style.backgroundColor="transparent",g[m].style.width=f-2*l+"px";for(g=document.querySelectorAll(".inputTab"),m=0;m<g.length;m++)g[m].style.backgroundColor=e.core.settings.theme.colorBackground,g[m].style.lineHeight="0",g[m].style.width=f/2-1*l+"px",g[m].style.display="inline-block",g[m].style.position="absolute",g[m].style.textAlign="center";for(g=document.querySelectorAll(".right"),m=0;m<g.length;m++)g[m].style.right="0";for(g=document.querySelectorAll(".menuItem"),m=0;m<g.length;m++)g[m].style.borderTopColor=e.core.settings.theme.colorWhite,g[m].style.color=e.core.settings.theme.colorTagText,g[m].style.height="",g[m].style.paddingTop=l+"px",g[m].style.paddingBottom=l+"px",g[m].style.whiteSpace="normal";for(g=document.querySelectorAll(".inputOneLiner"),m=0;m<g.length;m++)g[m].style.height=o+"px",this.addEvent(g[m].id,"keydown",this.overrideEnter,this);for(g=document.querySelectorAll(".inputTwoLiner"),m=0;m<g.length;m++)g[m].style.height=2*o+"px",g[m].style.lineHeight=1.2*r+"px",g[m].style.width=f-2*l+"px";if(g=document.querySelectorAll(".maybeBig"),!new e.Helper().isMobile())for(m=0;m<g.length;m++)g[m].style.height=6*o+"px",g[m].style.lineHeight=1.3*r+"px",g[m].style.width="100%",g[m].style.backgroundColor=e.core.settings.theme.colorBackground;for(g=document.querySelectorAll(".inputDate"),m=0;m<g.length;m++)g[m].style.left=c+"px",g[m].style.width=f-2*l+"px";for(g=document.querySelectorAll(".tableWithMargin"),m=0;m<g.length;m++)g[m].style.marginRight=c+"px";for(g=document.querySelectorAll(".inputCheckBox"),m=0;m<g.length;m++)g[m].style.width=o+"px",g[m].style.backgroundColor="transparent",e.core.commonUserSettings.theme=="3"?g[m].style.webkitAppearance="none":g[m].style.fontSize="0";if(g=document.querySelectorAll(".androidDown"),new e.Helper().isAndroid())for(m=0;m<g.length;m++)g[m].style.position="relative",g[m].style.top=Math.ceil(.8*l)+"px",g[m].style.left="0",g[m].style.paddingTop="0",g[m].style.paddingBottom="0",g[m].style.paddingLeft=l/2+"px",g[m].style.paddingRight=l/2+"px",g[m].style.width=f-l+"px",g[m].style.marginTop="0",g[m].style.marginBottom=l+"px",g[m].style.height="0",g[m].style.lineHeight=o-l+"px",g[m].style.height=o-r+"px",g[m].parentElement.style.height=o+p+"px";for(g=document.querySelectorAll(".dateFake"),m=0;m<g.length;m++)g[m].style.position="absolute",g[m].style.background=e.core.settings.theme.colorBackground,g[m].style.left="0",g[m].style.pointerEvents="none",g[m].style.top="0",g[m].style.right=3*c+"px",g[m].style.width="80%",g[m].style.overflow="hidden";for(g=document.querySelectorAll(".sizedTitle"),m=0;m<g.length;m++)g[m].style.position="relative",g[m].style.fontSize=s+"px",g[m].style.paddingLeft=c+"px",g[m].style.paddingRight=c+"px";for(g=document.querySelectorAll(".miniTitle, .shopItemTitle, .shopItemDescription"),m=0;m<g.length;m++)g[m].style.color=e.core.settings.theme.colorHorizontalTitle;for(g=document.querySelectorAll(".miniTitle"),m=0;m<g.length;m++)g[m].style.color=e.core.helper.colorToRGBA(e.core.settings.theme.colorHorizontalTitle,.5);for(g=document.querySelectorAll(".pageContentText"),m=0;m<g.length;m++)g[m].style.color=e.core.settings.theme.colorHorizontalTitle;for(g=document.querySelectorAll(".inputOption"),m=0;m<g.length;m++)g[m].style.paddingTop=l+"px",g[m].style.backgroundColor=e.core.settings.theme.colorBackground}overrideEnter(t){if(t.which==13&&t.target.type!="textarea"&&t.target.type!="button")return t.target.blur(),!1}getSelectOptions(t){for(var r="",s=0;s<t.options.length;s++)t.options[s].selected&&(r+=t.options[s].value);return r}selectWeekDays(t,r){for(var s=0;s<t.options.length;s++)t.options[s].selected=-1<r.indexOf(t.options[s].value)}addWeekDaysToSelectNode(t){for(var r,s=1;7>=s;s++)r=new Option(e.core.helper.weekdayLong.find(s),""+s,!1,!1),r.className="inputOption",t.appendChild(r)}addRemindersToSelectNode(t,r){var s=[],o=D(),l=o.clone().add("minutes",0);s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",1),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",5),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",10),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",15),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",20),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",25),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",30),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",45),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",1),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",90),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",2),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",3),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",6),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",12),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("days",1),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("days",2),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("days",7),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0)));for(var c=0;c<r.length;c++)l=o.clone().add("minutes",r[c].minutes),this.addSortedIfNotExists(s,new e.NumberStringPair(r[c].minutes,l.from(o,!0)));for(t.innerHTML="",o=0;o<s.length;o++){for(l=!1,c=0;c<r.length;c++)r[c].minutes==s[o].valueNumber&&(l=!0);c=new Option(s[o].valueString,""+s[o].valueNumber,!1,l),c.className="inputOption",t.appendChild(c)}}selectDuration(t,r,s){}addDurationsToSelectNode(t,r,s){var o=[];r=D(r);var l=r.clone().add("minutes",1),c=r.clone().add("minutes",15);for(o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",30),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",45),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",60),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",75),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",90),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",105),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",120),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",150),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",3),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",4),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",6),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",8),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",12),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("days",1),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",2),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",3),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",4),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",5),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",6),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",7),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",8),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",9),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",10),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",14),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",21),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",1),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",2),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",3),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",4),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",6),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",12),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=D(s),this.addSortedIfNotExists(o,new e.NumberStringPair(c.diff(r),c.from(r,!0))),t.innerHTML="",l=0;l<o.length;l++)s=new Option(o[l].valueString,""+o[l].valueNumber,!1,o[l].valueNumber===c.diff(r)),s.className="inputOption",t.appendChild(s)}addSortedIfNotExists(t,r){for(var s=t.length,o=!1,l=0;l<s&&o==0;l++)r.valueNumber<t[l].valueNumber&&(t.splice(l,0,r),o=!0),r.valueNumber===t[l].valueNumber&&(o=!0);o===!1&&t.push(r)}}e.DomHandler=Mr;class Pr{constructor(){this.showMessage=!1,this.loadingCounter=0}showLoadingSpinnerIfNeeded(){if(0<this.loadingCounter){if(!e.core.calendarDataProxy.connectionOk()||2e4<e.core.getTimeStamp()-this.loadStartTime&&24e3>e.core.getTimeStamp()-this.loadStartTime)this.loadingCounter=0,this.showMessage=!0,this.messageStartTime=e.core.getTimeStamp();else if(e.core.drawArea&&e.core.zopDrawArea){var t=e.core.getTimeStamp()%1e3/1e3*2*Math.PI;e.core.drawArea.drawLoader(t)}}else 0>this.loadingCounter&&(this.loadingCounter=0);this.showMessage&&(5e3>e.core.getTimeStamp()-this.messageStartTime?(e.core.drawArea.drawFilledRectangle({x:0,y:0,width:e.core.zopDrawArea.zopAreaWidth,height:e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,fillStyle:e.core.settings.theme.colorRed,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawCenteredText(e.core.translate.get("Connection failed"),0,(e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.menuTextHeight)/2,e.core.zopDrawArea.zopAreaWidth,e.core.settings.menuTextHeight,e.core.settings.theme.colorWhite,!1,!1),e.core.redraw(!0)):this.showMessage=!1)}isLoading(){return 0<this.loadingCounter}startLoading(){this.showMessage=!1,e.core.eventHandler.closeAllPagesAndMenus(),0>this.loadingCounter?this.loadingCounter=1:this.loadingCounter++,e.core&&(this.loadStartTime=e.core.getTimeStamp(),e.core.redraw(!0))}stopLoadingWithError(){this.showMessage=!0,this.stopLoading()}stopLoading(){this.loadingCounter=0,e.core.redraw(!0)}}e.LoadingHandler=Pr;class br{constructor(){this.isEditingEvent=0,this.isCreatingNewEvent=0,this.isChoosingDateTimeForEvent=!1,this.isAutoZooming=0,this.isAutoScrolling=0,this.isManuallyZooming=0,this.isManuaullyScrolling=0,this.isPopupEditRecurringMenuShowing=!1,this.isPopupMainMenuShowing=!1,this.isMainMenuBeingDragged=!1,this.isAddButtonBeingDragged=!1,this.isMainMenuShowing=!1,this.isPopupDissabled=0,this.sizesInitiated=!1,this.settingsControlIsShowing=!1,this.shopControlIsShowing=!1,this.calendarsControlIsShowing=!1,this.editEventControlIsShowing=!1,this.viewEventControlIsShowing=!1,this.isDraggingBottomMarker=!1,this.isDraggingTopMarker=!1,this.visibleControls=[],this.settingsControl=new e.SettingsControl,this.calendarsControl=new e.CalendarsControl,this.shopControl=new e.ShopControl,this.viewEventControl=new e.ViewEventControl,this.editEventControl=new e.EditEventControl,this.editRecurrenceControl=new e.EditRecurrenceControl}isMainWindowShowing(){return!this.isMainMenuShowing&&!this.editEventControlIsShowing&&!this.isChoosingDateTimeForEvent&&!this.isPopupEditRecurringMenuShowing&&!this.viewEventControlIsShowing}setChoosingDateTimeForEvent(t){(this.isChoosingDateTimeForEvent=t)?(this.isPopupDissabled++,e.core.zopDrawArea&&(e.core.dateTimeSelectionHandler.makeVisible(!0),e.core.redraw(!0))):(this.isPopupDissabled--,e.core.zopDrawArea&&(e.core.dateTimeSelectionHandler.makeVisible(!1),e.core.redraw(!0)))}viewEvent(t){e.core.loadingHandler.isLoading()||(this.viewEventControlIsShowing=!0,this.viewEventControl.init(t),this.addVisibleControl(this.viewEventControl))}editEvent(t,r){e.core.loadingHandler.isLoading()||(this.editEventControlIsShowing=!0,this.editEventControl.init(t,r),this.addVisibleControl(this.editEventControl))}deleteEvent(t,r){e.core.calendarDataProxy.deleteEvent(t,r,!1)}editRecurrence(t){this.editRecurrenceControl.init(t),this.addVisibleControl(this.editRecurrenceControl)}startMoveCalendarEventObject(t,r,s,o){}startAddCalendarEventObject(t,r){var s=new e.CalendarEventObject("","","",t,r,this.getDefaultCalendarId(),"-1");this.editEvent(s,e.EventEditType.New)}getDefaultCalendarId(){var t=e.core.commonUserSettings.calendarIdLastAddedTo;if(e.core.getCalendar(t).visibility===e.VisibilityType.Visible&&e.core.getCalendar(t).canEditCalendarEvents)return t;for(var t=void 0,r=0;r<e.core.calendars.length;r++)if(e.core.calendars[r].visibility===e.VisibilityType.Visible&&e.core.calendars[r].canEditCalendarEvents){t=e.core.calendars[r].id;break}return t==null||e.core.getCalendar(e.core.calendarPrimaryId).visibility===e.VisibilityType.Visible?e.core.calendarPrimaryId:t}addVisibleControl(t){this.visibleControls[this.visibleControls.length-1]!==t&&(history.pushState({depth:this.visibleControls.length},""),this.visibleControls.push(t),t.show())}back(){var t=e.core.getTimeStamp();return this.previousBackTime&&t-500<this.previousBackTime?(this.previousBackTime=t,!1):(this.previousBackTime=t,this.visibleControls&&0<this.visibleControls.length?(this.visibleControls[this.visibleControls.length-1].hide(),this.visibleControls.pop(),0<this.visibleControls.length&&this.visibleControls[this.visibleControls.length-1].reshow(),!0):(navigator&&navigator.app&&navigator.app.exitApp(),!1))}safeBack(t){return this.visibleControls&&0<this.visibleControls.length&&this.visibleControls[this.visibleControls.length-1]===t?this.back():!1}mainButtonPressed(){if(!e.core.loadingHandler.isLoading()){var t=e.core.zopHandler.dateToZOP(new Date);e.core.zopHandler.topZOP<t&&e.core.zopHandler.bottomZOP>t?this.showMainMenu(!0):e.core.zopHandler.showInitialBounds(!0)}}showMainMenu(t){e.core.loadingHandler.isLoading()||(e.core.appStateHandler.isMainWindowShowing()?(e.core.appStateHandler.isMainMenuShowing=!0,this.addVisibleControl(e.core.mainMenuControl),t&&e.core.mainMenuControl.startOpenAnimation(),window.setTimeout(function(){return e.core.redraw(!0)},100),window.setTimeout(function(){return e.core.redraw(!0)},200)):this.back())}viewCalendars(){this.calendarsControlIsShowing=!0,this.addVisibleControl(this.calendarsControl)}viewShop(){this.shopControlIsShowing=!0,this.addVisibleControl(this.shopControl)}viewSettings(){this.settingsControlIsShowing=!0,this.addVisibleControl(this.settingsControl)}viewAbout(){}}e.AppStateHandler=br;class Hr{constructor(){this.visibleHorizontalDateObjects=[],this.visibleTitleBarDateObjects=[],this.inVisibleTitle4Objects=[],this.visibleLowestLevelObjects=[],this.selectedObjects=[],this.innerMarginTop2=this.innerMarginTop=this.extraTextHeight=this.extraTextHeight2=this.horizontalTitleExtraTextHeight=this.textHeight=this.textHeight2=this.horizontalTitleTextHeight=0,this.useDividerLine=!1,this.averageObjectPixelHeight=this.nowZOP=this.hourWidth2=this.hourWidth=0,this.showExtraTextToRight=this.showExtraTextBelow=!1,this.averageObjectPixelHeight2=0,this.showExtraTextToRight2=this.showExtraTextBelow2=!1,this.horizontalTitleHeight=0,this.rootCalendarDateObjects=[],this.weekCalendarDateObjects=[],this.counter=0,this.selectedCalendarDateObject=void 0,this.showMonthSpecialDetails=!1,this.lowestLevelCalendarDateObjectType=void 0,this.commonDateTimes=[],this.weekNumbersVisible=[],this.populateDetails_helper=this.populateDetails_helper.bind(this),this.reset()}reset(){this.rootCalendarDateObjects=[],this.weekCalendarDateObjects=[],this.rootCalendarDateObjects.push(new e.CalendarDateObject(e.CalendarDateObjectType.Title,e.core.settings.absoluteMinDate,e.core.settings.absoluteMaxDate));var t=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMinDate),r=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMaxDate);e.core.zopHandler.setAbsoluteMinMax(t,r)}clearWeekInfo(){this.weekCalendarDateObjects=[]}selectCalendarDateObjectAt(t,r,s){if(r<e.core.zopHandler.topPixel||r>e.core.zopHandler.bottomPixel)this.selectedCalendarDateObject=void 0;else return r=e.core.zopHandler.getZOPFromPixel(r),(s=this.getHitCalendarDateObjectAmong(t,r,this.visibleLowestLevelObjects,e.core.settings.titleWidth))||(s=this.getHitCalendarDateObjectAmong(t,r,this.visibleTitleBarDateObjects,0)),s||(s=this.getHitCalendarDateObjectAmong(t,r,this.visibleHorizontalDateObjects,0)),this.selectedCalendarDateObject=s}getClosestDetailAt(t,r){if(!(t<e.core.zopHandler.topPixel||t>e.core.zopHandler.bottomPixel)){t=t-t%r+Math.round(r/2);var l=t-r,o=l+2*r,s=e.core.zopHandler.getZOPFromPixel(t),l=e.core.zopHandler.getZOPFromPixel(l),c=e.core.zopHandler.getZOPFromPixel(o),o=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,s,this.visibleLowestLevelObjects,e.core.settings.titleWidth),l=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,l,this.visibleLowestLevelObjects,e.core.settings.titleWidth),c=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,c,this.visibleLowestLevelObjects,e.core.settings.titleWidth);if(o&&l&&c)return l!==c?c:(this.verifyDetailsArePopulatedFor(o),o=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,s,o.details,e.core.settings.titleWidth))}}convertCommonTimesToDates(t){if(t!=this.lastCommonTimesStartDate){this.lastCommonTimesStartDate=t,this.commonDateTimes=[];var r;for(r=0;r<e.core.calendarEventHandler.commonTimeKeys.length;r++){var o=e.core.calendarEventHandler.commonTimeKeys[r].timeKey,s=parseInt(o.substr(0,o.indexOf("-"))),o=parseInt(o.substr(o.indexOf("-")+1)),l=new Date(t.getTime());l.setHours(s,o),this.commonDateTimes.push(l)}}}getCalendarDateObject(t,r,s){this.verifyDetailsArePopulatedFor(s);for(var o=0;o<s.details.length;o++){var l=s.details[o];if(l.startZOP<t&&l.endZOP>t)return l.calendarDateObjectType===r?l:this.getCalendarDateObject(t,r,l)}}getClosestFakeDetailAt(t,r,s){if(this.lowestLevelCalendarDateObjectType==e.CalendarDateObjectType.Month&&!this.showMonthSpecialDetails)return this.getHitWeekAt(e.core.zopHandler.rightPixel-1,t,!1);if(this.lowestLevelCalendarDateObjectType==e.CalendarDateObjectType.Day){if(t<e.core.zopHandler.topPixel||t>e.core.zopHandler.bottomPixel)return;t=t-t%r+Math.round(r/2);var l=t-r,p=l+2*r,o=e.core.zopHandler.getZOPFromPixel(t),l=e.core.zopHandler.getZOPFromPixel(l),c=e.core.zopHandler.getZOPFromPixel(p),p=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,o,this.visibleLowestLevelObjects,e.core.settings.titleWidth),f=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,l,this.visibleLowestLevelObjects,e.core.settings.titleWidth),g=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,c,this.visibleLowestLevelObjects,e.core.settings.titleWidth);if(!p||!f||!g)return;if(f!==g&&s)return g;for(s=e.core.zopHandler.getDateFromZOP(l),o=e.core.zopHandler.getDateFromZOP(c),this.convertCommonTimesToDates(p.startDateTime),p=0;p<this.commonDateTimes.length;p++)if(this.commonDateTimes[p]>=s&&this.commonDateTimes[p]<o)return new e.CalendarDateObject(e.CalendarDateObjectType.Hour,this.commonDateTimes[p]);return this.getClosestDetailAt(t,r)}if(!(t<e.core.zopHandler.topPixel||t>e.core.zopHandler.bottomPixel)&&(t=t-t%r+Math.round(r/2),l=t-r,p=l+2*r,o=e.core.zopHandler.getZOPFromPixel(t),l=e.core.zopHandler.getZOPFromPixel(l),c=e.core.zopHandler.getZOPFromPixel(p),p=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,o,this.visibleLowestLevelObjects,e.core.settings.titleWidth),f=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,l,this.visibleLowestLevelObjects,e.core.settings.titleWidth),g=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,c,this.visibleLowestLevelObjects,e.core.settings.titleWidth),p&&f&&g))return f!==g&&s?g:(this.verifyDetailsArePopulatedFor(p),p=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,o,p.details,e.core.settings.titleWidth))}getLowestLevelCalendarDateObjectAt(t){return t=e.core.zopHandler.getZOPFromPixel(t),this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,t,this.visibleLowestLevelObjects,e.core.settings.titleWidth)}getHitCalendarDateObjectAmong(t,r,s,o){var l=s.length,c;if(t>o)for(t=0;t<l;t++)o=s[t],r>=o.startZOP&&r<=o.endZOP&&(c===void 0||c.calendarDateObjectType>o.calendarDateObjectType)&&(c=o);return c}clearSelect(){this.selectedObjects=[]}selectCalendarDateObject(t){t&&this.selectedObjects.push(t)}getHitWeekAt(t,r,s){if(0<this.weekNumbersVisible.length){var o=e.core.zopHandler.getZOPFromPixel(r),l=e.core.zopHandler.getZOPFromPixelDiff(e.core.settings.weekCircleDiameter)/2;for(r=0;r<this.weekCalendarDateObjects.length;r++)if(s){if(-1<this.weekNumbersVisible.indexOf(this.weekCalendarDateObjects[r].shortText)){var c=Math.max(this.weekCalendarDateObjects[r].startZOP,e.core.zopHandler.topZOP+l);if(o>=c-l&&o<=c+l)return this.weekCalendarDateObjects[r]}}else if(o>=this.weekCalendarDateObjects[r].startZOP&&o<=this.weekCalendarDateObjects[r].endZOP&&t>e.core.settings.titleWidth)return this.weekCalendarDateObjects[r]}}gotoCalendarDateObjectAt(t,r){var s=this.selectCalendarDateObjectAt(t,r,!0);if(s&&s.calendarDateObjectType==this.lowestLevelCalendarDateObjectType&&this.showMonthSpecialDetails){var o=Math.max(e.core.zopHandler.getPixelFromZOP(s.startZOP),e.core.zopHandler.topPixel);if(r>o+this.horizontalTitleHeight){s=e.core.zopHandler.getZOPFromPixel(r-25*e.core.ratio),o=e.core.zopHandler.getZOPFromPixel(r+25*e.core.ratio),e.core.drawAreaEffects.startAutoZoom(s,o,!1,function(){});return}}if(s&&s.calendarDateObjectType==this.lowestLevelCalendarDateObjectType&&this.horizontalDateObjectType){var l=this.getHitCalendarDateObjectAmong(t,e.core.zopHandler.getZOPFromPixel(r),this.visibleHorizontalDateObjects,0),o=Math.max(e.core.zopHandler.getPixelFromZOP(l.startZOP),e.core.zopHandler.topPixel);r<o+this.horizontalTitleHeight&&(s=l)}this.gotoCalendarDateObject(s,r)}gotoCalendarDateObject(t,r){if(this.selectCalendarDateObject(t),t!==void 0)if(this.clearSelect=this.clearSelect.bind(this),this.verifyDetailsArePopulatedFor(t),-1<this.rootCalendarDateObjects.indexOf(t)){var s=e.core.zopHandler.getZOPFromPixel(r)-(t.endZOP-t.startZOP)/2,o=s+(t.endZOP-t.startZOP);e.core.drawAreaEffects.startAutoZoom(s,o,!1,this.clearSelect)}else o=t.startZOP+(t.endZOP-t.startZOP),e.core.drawAreaEffects.startAutoZoom(t.startZOP,o,!1,this.clearSelect)}paintMarker(t){var r=-e.core.settings.titleWidth*2;t=e.core.zopHandler.dateToZOP(t);var s=e.core.commonUserSettings.theme!="3";e.core.zopDrawArea.drawHorizontalLineThick(r+2*e.core.settings.tagHeight,t,e.core.zopHandler.rightPixel-r-e.core.settings.tagHeight,e.core.settings.theme.colorMarker,2*e.core.ratio,s),e.core.zopDrawArea.drawFilledCircle(r+2*e.core.settings.tagHeight,t,6*e.core.ratio,e.core.settings.theme.colorMarker,s)}verifyWeGotEnoughWeekZOPs(){if(60<(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/e.core.zopHandler.zopSizeOfWeek||200<this.weekCalendarDateObjects.length)0<this.weekCalendarDateObjects.length&&(this.weekCalendarDateObjects=[]);else{var t=e.core.zopHandler.bottomZOP;for(0<this.weekCalendarDateObjects.length&&(t=this.weekCalendarDateObjects[0].startZOP);t>e.core.zopHandler.topZOP;){var s=this.getStartOfWeek(e.core.zopHandler.getDateFromZOP(t));e.core.zopHandler.dateToZOP(s.toDate()),s.add(-1,"week");var r=this.getWeekNrForDate(s),t=e.core.zopHandler.dateToZOP(s.toDate()),s=new e.CalendarDateObject(e.CalendarDateObjectType.Week,new Date(s.toDate().getTime()));s.shortText=""+r,s.longText="Week "+r,s.weekIsOdd=r%2==1,s.weekIsOddDubble=r%4==1,this.weekCalendarDateObjects.unshift(s)}for(0<this.weekCalendarDateObjects.length&&(t=this.weekCalendarDateObjects[this.weekCalendarDateObjects.length-1].endZOP);t<e.core.zopHandler.bottomZOP;)t=this.getStartOfWeek(e.core.zopHandler.getDateFromZOP(t)),e.core.zopHandler.dateToZOP(t.toDate()),r=this.getWeekNrForDate(t),s=new e.CalendarDateObject(e.CalendarDateObjectType.Week,new Date(t.toDate().getTime())),t.add(1,"week"),t=e.core.zopHandler.dateToZOP(t.toDate()),s.shortText=""+r,s.longText="Week "+r,s.weekIsOdd=r%2==1,s.weekIsOddDubble=r%4==1,this.weekCalendarDateObjects.push(s)}}getWeekNrForDate(t){var r=t.dayOfYear(),s=(t.clone().dayOfYear(1).isoWeekday()+1-e.core.commonUserSettings.firstDayOfWeek)%7+1;return 1>s&&(s+=7),r=Math.floor((r+s+5)/7),4<s&&--r,r==0?r=53:r==53&&this.getWeekNrForDate(t.clone().add("weeks",1))==2&&(r=1),r}getStartOfWeek(t){return t=D(t).startOf("day"),t.isoWeekday()!=e.core.commonUserSettings.firstDayOfWeek&&(t=t.isoWeekday(e.core.commonUserSettings.firstDayOfWeek)),t.isoWeekday()<e.core.commonUserSettings.firstDayOfWeek&&(t=t.add("days",-7)),t}paintWeeksBackground(){this.verifyWeGotEnoughWeekZOPs();var t=Math.min(255,Math.round(255-(27-(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/e.core.zopHandler.zopSizeOfWeek)));for(e.core.commonUserSettings.theme=="3"&&(t=Math.floor(15+(255-t)/4)),this.oddWeekColor="rgb("+t+", "+(t+10)+", "+(t+20)+")",t=0;t<this.weekCalendarDateObjects.length;t++)if(this.weekCalendarDateObjects[t].endZOP>e.core.zopHandler.topZOP&&this.weekCalendarDateObjects[t].startZOP<e.core.zopHandler.bottomZOP)if(e.core.commonUserSettings.grayDays===""||e.core.commonUserSettings.grayDays==="1234567"){if(this.weekCalendarDateObjects[t].weekIsOdd!=this.currentWeekIsOdd){var r=Math.max(e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].startZOP),e.core.zopHandler.topPixel),s=Math.min(e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].endZOP),e.core.zopHandler.bottomPixel);e.core.drawArea.drawFilledRectangle({x:this.fakeLeft+e.core.settings.titleWidth,y:r,width:e.core.zopHandler.rightPixel-this.fakeLeft,height:s-r,fillStyle:this.oddWeekColor,hasShadow:!1,rounded:!1,strokeStyle:void 0})}}else for(var r=e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].startZOP),s=e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].endZOP),s=(s-r)/7,o=1;7>=o;o++){var l=o+e.core.commonUserSettings.firstDayOfWeek-1;7<l&&(l-=7),-1<e.core.commonUserSettings.grayDays.indexOf(""+l)&&(l=Math.max(r+s*(o-1),e.core.zopHandler.topPixel),e.core.drawArea.drawFilledRectangle({x:this.fakeLeft+e.core.settings.titleWidth,y:l,width:e.core.zopHandler.rightPixel-this.fakeLeft,height:Math.min(r+s*o+1,e.core.zopHandler.bottomPixel)-l,fillStyle:this.oddWeekColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}))}}paintWeekNumbers(){if(e.core.settings.allowWeekNumber&&e.core.commonUserSettings.showWeekNumbers){var t=(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/e.core.zopHandler.zopSizeOfWeek;if(this.weekNumbersVisible=[],!(60<t)){for(var r=0;r<this.weekCalendarDateObjects.length;r++)if(!(!(this.weekCalendarDateObjects[r].endZOP>e.core.zopHandler.topZOP&&this.weekCalendarDateObjects[r].startZOP<e.core.zopHandler.bottomZOP)||15<t&&!this.weekCalendarDateObjects[r].weekIsOdd||30<t&&!this.weekCalendarDateObjects[r].weekIsOddDubble)){this.weekNumbersVisible.push(this.weekCalendarDateObjects[r].shortText);var s=e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[r].startZOP);s<e.core.zopHandler.topPixel+e.core.settings.weekCircleDiameter/2+2&&(s=Math.min(e.core.zopHandler.topPixel+e.core.settings.weekCircleDiameter/2+2,s+e.core.zopHandler.getPixelSizeOfWeek()-e.core.settings.weekCircleDiameter-2)),e.core.zopDrawArea.drawFilledCircle2(e.core.zopHandler.rightPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.weekCircleDiameter/2-e.core.settings.margin,s,e.core.settings.weekCircleDiameter/2+1*e.core.ratio,e.core.settings.theme.colorWeekNumberShadow,!1),e.core.zopDrawArea.drawFilledCircle2(e.core.zopHandler.rightPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.weekCircleDiameter/2-e.core.settings.margin,s,e.core.settings.weekCircleDiameter/2,e.core.settings.theme.colorWeekNumberCircle,!1),e.core.drawArea.drawCenteredText(this.weekCalendarDateObjects[r].shortText,e.core.zopHandler.rightPixel-e.core.settings.weekCircleDiameter+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.margin-.5,s-e.core.settings.tagTextHeight/1.6,e.core.settings.weekCircleDiameter,e.core.settings.tagTextHeight,e.core.settings.theme.colorWeekNumberText,!1,!0)}}}}paintCalendarDateObjects(){var t;this.counter=0,this.visibleHorizontalDateObjects=[],this.visibleTitleBarDateObjects=[],this.inVisibleTitle4Objects=[],this.visibleLowestLevelObjects=[],e.core.zopDrawArea.clearTextDivs(),this.decideCalendarDateObjectTypesToShowAtDifferentLevels(),this.decideFontSizes(),this.currentWeekIsOdd=(D(new Date).week()-1)%2==1,this.fakeLeft=e.core.zopHandler.leftPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.visibleTitleBarDateObjects=this.decideVisibleObjects(this.titleBarDateObjectType,[]),this.horizontalDateObjectType?(this.visibleHorizontalDateObjects=this.decideVisibleObjects(this.horizontalDateObjectType,this.visibleTitleBarDateObjects),this.visibleLowestLevelObjects=this.decideVisibleObjects(this.lowestLevelCalendarDateObjectType,this.visibleHorizontalDateObjects)):this.visibleLowestLevelObjects=this.decideVisibleObjects(this.lowestLevelCalendarDateObjectType,this.visibleTitleBarDateObjects),e.core.zopDrawArea.startTextDelayedDraw(),this.paintWeeksBackground(),e.core.zopDrawArea.canvasContext.globalAlpha=Math.max(0,-e.core.mainMenuControl.transparency),t=e.core.addButtonControl.getTitleExtraData();var r=(e.core.settings.titleWidth-e.core.settings.title0FontSize)/2;if(t?e.core.zopDrawArea.drawVerticalTitle(e.core.zopHandler.topZOP,e.core.zopHandler.bottomZOP,this.fakeLeft+r,t,e.core.settings.title0FontSize,e.core.settings.theme.colorTitleText,e.core.settings.margin,!0,!0):this.paintVisibleTitleObjects(this.visibleTitleBarDateObjects,this.fakeLeft,r,!1,e.core.settings.title0FontSize,!0),e.core.zopDrawArea.canvasContext.globalAlpha=1,this.horizontalDateObjectType)this.paintVisibleHorizontalTitles();else if(this.paintVisibleLowestObjects(),this.showMonthSpecialDetails==1)for(r=this.horizontalTitleHeight,t=0;t<this.visibleLowestLevelObjects.length;t++)this.paintMonthSpecialDetails(this.visibleLowestLevelObjects[t],r);e.core.zopDrawArea.endTextDelayedDraw(),this.counter=this.counter}decideCalendarDateObjectTypesToShowAtDifferentLevels(){this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Year,this.title4CalendarDateObjectType=void 0,this.titleBarDateObjectType=e.CalendarDateObjectType.Title,this.horizontalDateObjectType=void 0,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfYear()>=4*e.core.settings.minDateHeight,e.core.zopHandler.getPixelSizeOfMonth()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Month,this.titleBarDateObjectType=e.CalendarDateObjectType.Year,this.horizontalDateObjectType=void 0,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfMonth()>=7*e.core.settings.minDateHeight),e.core.zopHandler.getPixelSizeOfDay()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Day,this.titleBarDateObjectType=e.CalendarDateObjectType.Month,this.horizontalDateObjectType=void 0,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfDay()>=6*e.core.settings.minDateHeight),e.core.zopHandler.getPixelSizeOfHour()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Hour,this.titleBarDateObjectType=e.CalendarDateObjectType.Month,this.horizontalDateObjectType=e.CalendarDateObjectType.Day,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfHour()>=6*e.core.settings.minDateHeight),e.core.zopHandler.getPixelSizeOf5Minutes()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Minutes5,this.title4CalendarDateObjectType=e.CalendarDateObjectType.Hour,this.titleBarDateObjectType=e.CalendarDateObjectType.Month,this.horizontalDateObjectType=e.CalendarDateObjectType.Day,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOf5Minutes()>=6*e.core.settings.minDateHeight)}decideFontSizes(){this.averageObjectPixelHeight=0,this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Year&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfYear(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOfMonth()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfMonth(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOfDay()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Day&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfDay(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOfHour()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Hour&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfHour(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOf5Minutes()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Minutes5&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOf5Minutes(),this.averageObjectPixelHeight2=this.averageObjectPixelHeight/10),this.smallDividerColor=e.core.settings.theme.colorBigDateDividerStr+Math.min(1,1.5*this.averageObjectPixelHeight/e.core.zopDrawArea.zopAreaHeight)+")",this.bigDividerColor=e.core.settings.theme.colorBigDateDividerStr+"1 )",this.innerMarginTop=e.core.settings.innerTopMaxMargin;for(var t=0;2>t;t++)this.textHeight=Math.round(Math.min(this.averageObjectPixelHeight-2*this.innerMarginTop,e.core.settings.dateBigTextSize)),this.horizontalTitleTextHeight=e.core.settings.dateBigTextSize,this.extraTextHeight=Math.round(.6*this.textHeight),this.horizontalTitleExtraTextHeight=Math.round(.6*this.horizontalTitleTextHeight),this.innerMarginTop=Math.max(0,Math.min(this.innerMarginTop,(this.averageObjectPixelHeight-this.textHeight-this.extraTextHeight)/2-2));for(this.innerMarginTop2=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month?e.core.settings.innerTopMaxMargin:0,t=0;2>t;t++)this.textHeight2=Math.round(Math.min(e.core.settings.minDateHeight-2*this.innerMarginTop2,e.core.settings.dateBigTextSize)),this.textHeight2=Math.round(Math.min(this.textHeight2,1.1*this.averageObjectPixelHeight2)),this.extraTextHeight2=Math.round(Math.min(.6*this.textHeight2,e.core.settings.dateBigTextSize)),this.innerMarginTop2=Math.max(0,Math.min(this.innerMarginTop2,(this.averageObjectPixelHeight2-this.textHeight2-this.extraTextHeight2)/2-2));this.showExtraTextBelow=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Day&&this.textHeight>=e.core.settings.dateBigTextSize,this.showExtraTextBelow2=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month&&this.textHeight2>=e.core.settings.dateBigTextSize,this.showExtraTextToRight=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Hour||this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Minutes5,this.showExtraTextToRight2=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Day||this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Minutes5,this.useDividerLine=this.averageObjectPixelHeight>25*e.core.ratio,this.hourWidth=Math.round(e.core.zopDrawArea.measureTextWidth("22",this.textHeight,!1,!1)),this.hourWidth2=Math.round(e.core.zopDrawArea.measureTextWidth("22",this.textHeight2,!1,!1)),this.horizontalTitleHeight=this.horizontalTitleTextHeight+(this.lowestLevelCalendarDateObjectType==e.CalendarDateObjectType.Month?0:this.horizontalTitleExtraTextHeight)+e.core.settings.innerTopMaxMargin+e.core.settings.margin}decideVisibleObjects(t,r){if(r.length===0){if(t===e.CalendarDateObjectType.Title)return this.rootCalendarDateObjects;if(t===e.CalendarDateObjectType.Year)return this.getVisibleChildCalendarDateObjects(this.rootCalendarDateObjects);if(t===e.CalendarDateObjectType.Month)return this.getVisibleChildCalendarDateObjects(this.getVisibleChildCalendarDateObjects(this.rootCalendarDateObjects))}else if(t==e.CalendarDateObjectType.Minutes5)return this.getVisibleChildCalendarDateObjects(this.getVisibleChildCalendarDateObjects(r));return this.getVisibleChildCalendarDateObjects(r)}paintVisibleTitleObjects(t,r,s,o,l,c){var p=t.length;for(let f=0;f<p;f++){const g=t[f];if(this.drawHorizontalLine(g,e.core.zopHandler.topZOP),this.title4CalendarDateObjectType!=g.calendarDateObjectType){let m=g.longText;o&&(m=m+" ("+g.parentText+")"),e.core.zopDrawArea.drawVerticalTitle(g.startZOP,g.endZOP,r+s,m,l,e.core.settings.theme.colorTitleText,e.core.settings.margin,!0,c)}}}drawHorizontalLine(t,r){var s=e.core.zopHandler.leftPixel+e.core.settings.titleWidth+1*e.core.ratio+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged;t.endZOP<r||t.calendarDateObjectType<this.lowestLevelCalendarDateObjectType||(t.calendarDateObjectType==this.lowestLevelCalendarDateObjectType?this.useDividerLine&&e.core.zopDrawArea.drawHorizontalLine(s,t.endZOP,e.core.zopHandler.rightPixel-s,this.smallDividerColor,!1):t.calendarDateObjectType==this.horizontalDateObjectType?this.useDividerLine&&e.core.zopDrawArea.drawHorizontalLine(s,t.endZOP,e.core.zopHandler.rightPixel-s,this.bigDividerColor,!1):e.core.zopHandler.getPixelFromZOP(t.endZOP)<=e.core.settings.menuButtonBottom?e.core.zopDrawArea.drawHorizontalLine(s,t.endZOP,e.core.zopHandler.rightPixel,this.bigDividerColor,!1):e.core.zopDrawArea.drawHorizontalLine(e.core.zopHandler.leftPixel,t.endZOP,e.core.zopHandler.rightPixel,this.bigDividerColor,!1))}verifyDetailsArePopulatedFor(t){t.detailsArePopulated||this.populateDetails(t)}prepareThouroughRedraw(t){t==null&&(t=this.rootCalendarDateObjects[0]);for(var r=t.details.length,s=0;s<r;s++)t.possibleEventTagsAtThisZoomLevel=[],this.prepareThouroughRedraw(t.details[s])}getVisibleChildCalendarDateObjects(t){var r,s,o,l=t.length,c,p,f=[];for(r=0;r<l;r++)for(c=t[r],this.verifyDetailsArePopulatedFor(c),o=c.details.length,s=0;s<o;s++)p=c.details[s],e.core.zopHandler.isObjectBelowExtendedScreen(p.startZOP)?s=o+1:e.core.zopHandler.isObjectAboveExtendedScreen(p.endZOP)||f.push(p);return f}paintVisibleLowestObjects(){var t,r=this.visibleLowestLevelObjects.length,s;for(t=0;t<r;t++)s=this.visibleLowestLevelObjects[t],this.paintObject(s,this.showMonthSpecialDetails,e.core.zopHandler.topPixel,0);return!0}paintVisibleHorizontalTitles(){var t,r=this.visibleHorizontalDateObjects.length,s;for(t=0;t<r;t++)s=this.visibleHorizontalDateObjects[t],this.paintObject(s,!0,e.core.zopHandler.topPixel,0);var o=this.horizontalTitleHeight;for(t=0;t<r;t++)s=this.visibleHorizontalDateObjects[t],this.paintDaySpecialDetails(s,o);return!0}populateDetails(t){this.populateDetails_helper(t)}populateDetails_helper(t){t.details=[];for(var r=new Date(t.startDateTime.getTime());r<t.endDateTime;){var s;if(t.calendarDateObjectType===e.CalendarDateObjectType.Title&&(s=new e.CalendarDateObject(e.CalendarDateObjectType.Year,new Date(r.getTime())),r.setFullYear(r.getFullYear()+1)),t.calendarDateObjectType===e.CalendarDateObjectType.Year)s=new e.CalendarDateObject(e.CalendarDateObjectType.Month,new Date(r.getTime())),r.setMonth(r.getMonth()+1);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Month)s=new e.CalendarDateObject(e.CalendarDateObjectType.Day,new Date(r.getTime())),r.setDate(r.getDate()+1);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Day)s=new e.CalendarDateObject(e.CalendarDateObjectType.Hour,new Date(r.getTime())),r=this.addHours(r,1);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Hour)s=new e.CalendarDateObject(e.CalendarDateObjectType.Minutes5,new Date(r.getTime())),r=this.addMinutes(r,5);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Minutes5)break;s!=null&&(t.details.push(s),e.core.calendarEventHandler.copyEventsFromParent(t,s))}t.detailsArePopulated=!0,e.core.redraw(!1)}addMinutes(t,r){return new Date(t.getTime()+6e4*r)}addHours(t,r){return new Date(t.getTime()+36e5*r)}paintObject(t,r,s,o){if(this.counter+=1,!e.core.zopHandler.isObjectBelowScreen(t.startZOP)&&!e.core.zopHandler.isObjectAboveScreen(t.endZOP)){var l=this.fakeLeft+(e.core.settings.titleWidth+e.core.settings.innerLeftMargin),c=Math.max(0,(r?this.horizontalTitleTextHeight:this.textHeight)-o),p=Math.max(0,(r?this.horizontalTitleExtraTextHeight:this.extraTextHeight)-o);o=this.innerMarginTop+o;var f=r?e.core.settings.innerTopMaxMargin:o,g=e.core.zopHandler.getPixelFromZOP(t.startZOP)+f;if(g<s+f){if(g=Math.min(s+f,e.core.zopHandler.getPixelFromZOP(t.endZOP)-c-p-o),r)this.topDateBottom=g+c+(this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month?0:p)+e.core.settings.innerTopMaxMargin+e.core.settings.margin;else if(g<s&&this.horizontalDateObjectType)if(g+this.horizontalTitleHeight>s)o=Math.max(0,e.core.settings.minDateHeight-(g+c+p-s)),c=Math.max(0,(r?this.horizontalTitleTextHeight:this.textHeight)-o),p=Math.max(0,(r?this.horizontalTitleExtraTextHeight:this.extraTextHeight)-o),g+=o;else return}this.drawHorizontalLine(t,e.core.zopHandler.getZOPFromPixel(s)),s=e.core.zopDrawArea.drawCalendarDateObjectName(l,g,0,t.shortText,c,t.isRed,t.ampm!==void 0&&t.ampm!==null,r),this.showExtraTextBelow||r&&t.shortText2?e.core.zopDrawArea.drawCalendarDateObjectName(l+0,g,c,t.shortText2,p,t.isRed,!1,r):this.showExtraTextToRight&&!t.ampm&&t.shortText2?e.core.zopDrawArea.drawCalendarDateObjectName(l+0+this.hourWidth,g,2,t.shortText2,p,t.isRed,!1,r):t.ampm&&!t.shortText2?e.core.zopDrawArea.drawCalendarDateObjectName(l+0+s,g,2,t.ampm,p,t.isRed,!1,r):t.ampm&&t.shortText2&&(e.core.zopDrawArea.drawCalendarDateObjectName(l+1+s,g,2,t.shortText2,p,t.isRed,!1,r),e.core.zopDrawArea.drawCalendarDateObjectName(l+1+s,g,p+(12>p?1:0),t.ampm,.8*p,t.isRed,!1,r))}}paintMonthSpecialDetails(t,r){this.verifyDetailsArePopulatedFor(t);var s,o=e.core.zopHandler.getPixelFromZOP(t.startZOP),l=Math.max(o+r,this.topDateBottom);this.useDividerLine=!1,this.textHeight=this.textHeight2,this.extraTextHeight=this.extraTextHeight2,this.hourWidth=this.hourWidth2,this.averageObjectPixelHeight=this.averageObjectPixelHeight2,this.showExtraTextBelow=this.showExtraTextBelow2,this.showExtraTextToRight=this.showExtraTextToRight2;var c,p=Math.floor((l-o)/this.averageObjectPixelHeight2);for(s=p;s<t.details.length-1;s+=1)this.textHeight=this.textHeight2,this.extraTextHeight=this.extraTextHeight2,this.innerMarginTop=this.innerMarginTop2,c=s%2==0?0:1.5*(e.core.settings.minDateHeight-Math.max(0,2*this.averageObjectPixelHeight2-e.core.settings.minDateHeight)),s===p&&(c+=((l-o)/this.averageObjectPixelHeight2-p)*e.core.settings.minDateHeight*1.5),this.paintObject(t.details[s],!1,e.core.zopHandler.topPixel,c)}paintDaySpecialDetails(t,r){this.verifyDetailsArePopulatedFor(t);var s;s=e.core.zopHandler.getPixelFromZOP(Math.max(t.startZOP,this.visibleLowestLevelObjects[0].startZOP));var o=Math.max(s+r,this.topDateBottom),l=0,c=this.visibleLowestLevelObjects.length;for(s=0;s<this.visibleLowestLevelObjects.length;s++)l===0&&this.visibleLowestLevelObjects[s].startZOP>t.startZOP&&(l=s),s<c&&this.visibleLowestLevelObjects[s].startZOP>=t.endZOP&&(c=s);for(s=l;s<c;s+=1)this.paintObject(this.visibleLowestLevelObjects[s],!1,o,0)}}e.CalendarDateHandler=Hr;class kr{constructor(){this.rootCalendarDateObjects=[],this.visibleEventTagWrappers=[],this.visibleFullEventWrappers=[],this.visibleTagEventGroups=[],this.visibleBadges=[],this.lowestLevelCalendarDateObjectType=void 0,this.eventsFarRight=0,this.eventsFarLeft=0,this.absoluteMaxZOP=0,this.absoluteMinZOP=0,this.bottomZOP=0,this.topZOP=0,this.minFullEventZOPSize=0,this.counter=0,this.tagSurfaces=[],this.recalc=!0,this.commonTimeKeys=[],this.commonTimeKeysHelper=[],this.rootCalendarDateObjects.push(new e.CalendarDateObject(e.CalendarDateObjectType.Title,e.core.settings.absoluteMinDate,e.core.settings.absoluteMaxDate)),this.absoluteMinZOP=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMinDate),this.absoluteMaxZOP=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMaxDate),e.core.zopHandler.setAbsoluteMinMax(this.absoluteMinZOP,this.absoluteMaxZOP)}canEditEvent(t){return t=this.getOwningCalendar(t),t===void 0?!1:t.canEditCalendarEvents}isFullDayEvent(t){return D(t.startDateTime).minutes()===0&&D(t.startDateTime).hours()===0&&D(t.endDateTime).minutes()===0&&D(t.endDateTime).hours()===0}getOwningCalendar(t){return e.core.getCalendar(t.calendarId)}gradeCalendarEvents(t){for(var r=0;r<t.length;r++)this.gradeCalendarEvent(t[r])}gradeCalendarEvent(t){t.grade=100*(t.endZOP-t.startZOP)+this.sumLettersInString(t.summary),t.isGraded=!0}sumLettersInString(t){var r=0,s=t.toLowerCase();for(t=0;t<s.length;t++)r+=s.charCodeAt(t)-96;return r}drawAreaResized(){}dataLoadReady(){this.somethingChanged()}somethingChanged(){this.zoomLevel=this.getNewZoomLevelString(),this.prepareDataForPaint()}getNewZoomLevelString(){return e.core.calendarDateHandler.visibleLowestLevelObjects&&0<e.core.calendarDateHandler.visibleLowestLevelObjects.length?""+e.core.calendarDateHandler.visibleLowestLevelObjects[0].startZOP+e.core.calendarDateHandler.visibleLowestLevelObjects.length:"x"}paintCalendarEvents(){this.eventsFarLeft=Math.floor(e.core.settings.eventsFarLeft+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged),this.eventsFarRight=Math.ceil(e.core.zopHandler.rightPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged),(e.core.hardRedraw||this.recalc||this.getNewZoomLevelString()!==this.zoomLevel)&&this.somethingChanged(),this.recalc=!this.recalc,this.calculateAllWidths(),this.visibleBadges=[],this.paintVisibleFullEventWrappers(),this.paintVisibleEventTags(),this.prepareBadges(),this.paintBadges()}prepareDataForPaint(){this.visibleTagEventGroups=[],this.visibleFullEventWrappers=[],this.visibleEventTagWrappers=[],this.minFullEventZOPSize=Math.ceil(e.core.zopHandler.getZOPFromPixel(e.core.settings.tagHeight+2)-e.core.zopHandler.getZOPFromPixel(0)+1e-5),this.topZOP=e.core.zopHandler.extendedTopZOP,this.bottomZOP=e.core.zopHandler.extendedBottomZOP;var t=new e.TagSurface;t.parentCollidingFullEventWrapper=void 0,t.minZOP=this.topZOP,t.maxZOP=this.bottomZOP,this.tagSurfaces=[],this.tagSurfaces.push(t),this.selectVisibleFullEventsIn(),this.selectVisibleTags()}paintSelectedCalendarEvent(t){for(t=0;t<this.visibleFullEventWrappers.length;t++);}selectVisibleTags(){var t,r,s,o;for(this.tagSurfaces.sort(function(l,c){return l.minZOP-c.minZOP}),t=0;t<this.tagSurfaces.length;t++)r=this.tagSurfaces[t],this.selectVisibleEventTagsIn(r.minZOP,r.maxZOP,!1,!1,r.parentCollidingFullEventWrapper);for(t=0;t<this.visibleEventTagWrappers.length;t++)for(s=this.visibleEventTagWrappers[t],r=t+1;r<this.visibleEventTagWrappers.length;r++)o=this.visibleEventTagWrappers[r],this.DoEventsCollide(s.calendarEvent,o.calendarEvent)&&(s.calendarEvent.grade>o.calendarEvent.grade?o.visible=!1:s.visible=!1)}prepareBadges(){for(var t,r,s,o,l=0,c=0,p=0;p<this.tagDatasToPaint.length;p++){var f=this.tagDatasToPaint[p];f.visible===!1&&(this.tagDatasToPaint.splice(p,1),p--)}for(p=0;p<this.tagDatasToPaint.length;p++){var g=!1,f=this.tagDatasToPaint[p],m=new e.Badge;o=f.calendarEventTagWrapper.calendarEvent,m.textColor=e.core.settings.theme.badgeColorIsTagTextColor?e.core.helper.getEventTextColor(o,e.core.getCalendar(o.calendarId)):e.core.helper.getEventColor(o,e.core.getCalendar(o.calendarId)),m.topZOPForAllEvents=o.startZOP,m.bottomZOPForAllEvents=o.endZOP;var S=0;for(r=p===this.tagDatasToPaint.length-1?this.bottomZOP:Math.min(o.endZOP/2+this.tagDatasToPaint[p+1].calendarEventTagWrapper.calendarEvent.startZOP/2,o.endZOP+e.core.zopHandler.getZOPFromPixelDiff(2*e.core.settings.tagTextHeight)),t=p===0?o.startZOP-e.core.zopHandler.getZOPFromPixelDiff(2*e.core.settings.tagTextHeight):Math.max(o.startZOP/2+this.tagDatasToPaint[p-1].calendarEventTagWrapper.calendarEvent.endZOP/2,o.startZOP-e.core.zopHandler.getZOPFromPixelDiff(2*e.core.settings.tagTextHeight));g===!1&&l<e.core.calendarDateHandler.visibleLowestLevelObjects.length;){for(s=e.core.calendarDateHandler.visibleLowestLevelObjects[l];c<s.calendarEvents.length;){if(o=s.calendarEvents[c],o.startZOP>r){g=!0;break}c++,this.doesEventStartWithinCalendarDateObject(o,s)===!0&&this.findFullEventWrapperForEvent(o)===void 0&&o.startZOP>t&&(S++,m.topZOPForAllEvents=Math.min(m.topZOPForAllEvents,o.startZOP),m.bottomZOPForAllEvents=Math.max(m.bottomZOPForAllEvents,o.endZOP))}g===!1&&(c=0,l++)}m.count=S,m.isPartial=f.isPartial,m.height=f.height,m.topPixel=f.topPixel,0<this.visibleBadges.length&&(t=this.visibleBadges[this.visibleBadges.length-1].topPixel+this.visibleBadges[this.visibleBadges.length-1].height+e.core.settings.margin+10>=m.topPixel,this.visibleBadges[this.visibleBadges.length-1].isPartial&&!m.isPartial&&(m.partialBadgeAbove=this.visibleBadges[this.visibleBadges.length-1],this.visibleBadges[this.visibleBadges.length-1].closeToBellow=t,m.closeToAbove=t),!this.visibleBadges[this.visibleBadges.length-1].isPartial&&m.isPartial&&(this.visibleBadges[this.visibleBadges.length-1].partialBadgeBellow=m,this.visibleBadges[this.visibleBadges.length-1].closeToBellow=t,m.closeToAbove=t)),this.visibleBadges.push(m)}}paintBadges(){for(var t=0;t<this.visibleBadges.length;t++){var r=this.visibleBadges[t],l=0,s=0,o=r.topPixel,l=l+r.count;1<l&&(s=r.height),!r.isPartial&&r.partialBadgeAbove&&.9>r.partialBadgeAbove.height/e.core.settings.tagHeight&&(l=r.partialBadgeAbove.closeToBellow&&r.partialBadgeAbove.closeToAbove?l+Math.ceil(r.partialBadgeAbove.count/2):r.partialBadgeAbove.closeToBellow&&!r.partialBadgeAbove.closeToAbove?l+r.partialBadgeAbove.count:l+0,1<l&&(s=Math.max(e.core.settings.tagHeight-r.partialBadgeAbove.height,s))),!r.isPartial&&r.partialBadgeBellow&&.9>r.partialBadgeBellow.height/e.core.settings.tagHeight&&(l=r.partialBadgeBellow.closeToAbove&&r.partialBadgeBellow.closeToBellow?l+Math.floor(r.partialBadgeBellow.count/2):r.partialBadgeBellow.closeToAbove&&!r.partialBadgeBellow.closeToBellow?l+r.partialBadgeBellow.count:l+0,1<l&&e.core.settings.tagHeight-r.partialBadgeBellow.height>s&&(s=e.core.settings.tagHeight-r.partialBadgeBellow.height,o=o+e.core.settings.tagHeight-s));var c=l+"";1<l&&e.core.zopDrawArea.drawBadge(e.core.settings.badgesLeft+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,o,s,e.core.settings.eventsFarLeft+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-3*e.core.ratio,c,s/e.core.settings.tagHeight,r.textColor)}}selectBiggestFullEventAndMakeVisibleOld(t,r,s,o,l){var c,p,f,g,m;for(c=0;c<e.core.calendarDateHandler.visibleLowestLevelObjects.length;c++)for(m=e.core.calendarDateHandler.visibleLowestLevelObjects[c],p=0;p<m.possibleFullEvents.length;p++)g=m.possibleFullEvents[p],g.endZOP-g.startZOP>=this.minFullEventZOPSize&&!this.IsEventInCollisionList(l,g)&&g.startZOP<=r&&(!s||g.startZOP>=t)&&g.endZOP>=t&&(!o||g.endZOP<=r)&&((f===void 0||g.grade>f.grade)&&(f=g),p=m.possibleFullEvents.length);if(f!==void 0)return t=this.findFullEventWrapperForEvent(f),t===void 0&&(t=new e.CalendarFullEventWrapper(f),this.visibleFullEventWrappers.push(t)),this.AddTagSurface(t),t}selectBiggestFullEventAndMakeVisible(){var t,r,s,o,l;for(t=0;t<e.core.calendarDateHandler.visibleLowestLevelObjects.length;t++)for(l=e.core.calendarDateHandler.visibleLowestLevelObjects[t],r=0;r<l.possibleFullEvents.length;r++)o=l.possibleFullEvents[r],o.endZOP-o.startZOP>=this.minFullEventZOPSize&&this.findFullEventWrapperForEvent(o)===void 0&&this.calendarEventIsOnExtendedScreen(o)&&(s===void 0||o.grade>s.grade)&&(s=o);if(s!==void 0)return t=new e.CalendarFullEventWrapper(s),this.AddTagSurface(t),this.AddVisibleFullEventWrapper(t),t}AddVisibleFullEventWrapper(t){var r,s,o;for(r=this.visibleFullEventWrappers.length-1;0<=r;r--){var l=this.visibleFullEventWrappers[r];if(this.DoEventsCollide(t.calendarEvent,l.calendarEvent)){if(o=!1,t.parentCollidingFullEventWrappers!==void 0)for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)this.IsEventInCollisionList(t.parentCollidingFullEventWrappers[s],l.calendarEvent)&&(o=!0);o===!1&&(l.childCollidingFullEventWrappers.push(t),t.parentCollidingFullEventWrappers.push(l))}}this.visibleFullEventWrappers.push(t)}DoEventsCollide(t,r){return t.startZOP<=r.endZOP&&t.endZOP>=r.startZOP}AddTagSurface(t){var r=new e.TagSurface;for(r.parentCollidingFullEventWrapper=t,r.minZOP=t.calendarEvent.startZOP,r.maxZOP=t.calendarEvent.endZOP,t=0;t<this.tagSurfaces.length;t++)this.SubtractSpaceFromSurface(this.tagSurfaces[t],r.minZOP,r.maxZOP);this.tagSurfaces.push(r)}SubtractSpaceFromSurface(t,r,s){if(t.minZOP>=r&&t.maxZOP<=s)t.maxZOP=t.minZOP-1;else if(t.minZOP>=r&&t.minZOP<s&&t.maxZOP>s)t.minZOP=s+1;else if(t.minZOP<r&&t.maxZOP>s){var o=new e.TagSurface;o.parentCollidingFullEventWrapper=t.parentCollidingFullEventWrapper,o.minZOP=s+1,o.maxZOP=t.maxZOP,this.tagSurfaces.push(o),t.maxZOP=r-1}else t.maxZOP>=r&&t.minZOP<=r&&t.maxZOP<=s&&(t.maxZOP=r-1)}IsEventInCollisionList(t,r){var s;if(t===void 0)return!1;if(t.calendarEvent===r)return!0;for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)if(t.parentCollidingFullEventWrappers[s].calendarEvent===r||this.IsEventInCollisionList(t.parentCollidingFullEventWrappers[s],r))return!0;return!1}calculateMinAndPrefWidth(t){t.preferredWidth=(this.eventsFarRight-this.eventsFarLeft)*(.2+this.minFullEventZOPSize/(t.calendarEvent.endZOP-t.calendarEvent.startZOP))}calculateWhere2CollidingEventsMeet(t,r,s){s.left=t===this.eventsFarLeft?t:Math.max(t,this.eventsFarLeft+(r-this.eventsFarLeft)*(this.eventsFarRight-this.eventsFarLeft)/(r-this.eventsFarLeft+s.preferredWidth))}selectVisibleFullEventsIn(){var t;do t=this.selectBiggestFullEventAndMakeVisible();while(t!==void 0)}selectVisibleEventTagsIn(t,r,s,o,l){var c,p;for(c=0;c<e.core.calendarDateHandler.visibleLowestLevelObjects.length;c++)p=e.core.calendarDateHandler.visibleLowestLevelObjects[c],p.calendarDateObjectType===e.core.calendarDateHandler.lowestLevelCalendarDateObjectType&&p.startZOP<=r&&p.endZOP>=t-(p.endZOP-p.startZOP)&&this.selectVisibleEventTagsFor(p,t,r,s,o,l)}paintVisibleFullEventWrappers(){for(let t=0;t<this.visibleFullEventWrappers.length;t++){const r=this.visibleFullEventWrappers[t],s=r.calendarEvent;let o=r.left;const l=r.right-o;if(e.core.settings.rightToLeft&&(o=Math.floor(this.eventsFarRight+this.eventsFarLeft-o-l),r.paintedLeft=o,r.paintedRight=o+l),r.left=o,r.right=o+l,l>0){const c=e.core.helper.getEventTextColor(s,e.core.getCalendar(s.calendarId));e.core.zopDrawArea.drawFullEvent(o,s.startZOP,s.endZOP,l,s.color,c,s.summary,s.isHovered,s.isDetail)}}}paintVisibleEventTags(){var t,r,s,o=0,l=0,c=1e4,p,f,g,m,S;for(this.tagDatasToPaint=[],t=0;t<this.visibleTagEventGroups.length;t++)if(s=this.visibleTagEventGroups[t],s.calendarDateObject.calendarDateObjectType===e.core.calendarDateHandler.lowestLevelCalendarDateObjectType){for(l=o=0,c=1e4,r=s.calendarEventTagWrappers.length-1;0<=r;r--)f=s.calendarEventTagWrappers[r],p=e.core.zopHandler.getFractionalPixelDistance(f.calendarEvent.startZOP-s.parentTopZOP)-e.core.settings.tagHeight*r,c=Math.min(c,s.availableSpace/s.countDetails*(f.position+1)-e.core.settings.tagHeight*r),c=Math.min(p,c),c=Math.max(c,0),c=Math.floor(c),f.wantedPixelShift=c;for(r=0;r<s.calendarEventTagWrappers.length;r++)if(f=s.calendarEventTagWrappers[r],g=f.calendarEvent,c=g.summary,p=e.core.helper.getEventColor(g,e.core.getCalendar(g.calendarId)),g=e.core.helper.getEventTextColor(g,e.core.getCalendar(g.calendarId)),f.wantedPixelShift>l&&(l=f.wantedPixelShift,l=Math.min(l,s.extraSpace)),S=f.right-f.left,m=f.left,e.core.settings.rightToLeft===!0&&(m=this.eventsFarLeft,f.paintedLeft=m,f.paintedRight=m+S),f.visible===!0){var M=new e.TagDataToPaint;M.calendarEventTagWrapper=f,M.visible=!0,M.left=m,M.zopHeight=f.calendarEvent.endZOP-f.calendarEvent.startZOP,M.topPixel=e.core.zopHandler.getPixelFromZOP(s.startZOP)+e.core.settings.tagHeight*r+o+l,M.width=S,M.color=p,M.textColor=g,f.partialHeight?(M.height=f.partialHeight,M.isPartial=!0,o=f.partialHeight-e.core.settings.tagHeight):(M.height=e.core.settings.tagHeight,M.isPartial=!1),M.text=c,this.tagDatasToPaint.push(M),f.topPixel=M.topPixel,f.bottomPixel=M.topPixel+M.height}}this.tagDatasToPaint.sort(function(j,B){return j.topPixel-B.topPixel});var _;for(t=0;t<this.tagDatasToPaint.length-1;t++)r=this.tagDatasToPaint[t],s=this.tagDatasToPaint[t+1],t+2<this.tagDatasToPaint.length&&(_=this.tagDatasToPaint[t+2]),this.checkForPixelOverlap(r,s),this.checkForPixelOverlap(r,_);for(t=this.tagDatasToPaint.length-1;0<=t;t--)_=Math.max(0,e.core.zopHandler.getPixelFromZOP(this.tagDatasToPaint[t].calendarEventTagWrapper.calendarEvent.startZOP)-this.tagDatasToPaint[t].topPixel),_=Math.min(Math.floor(this.tagDatasToPaint[t].height/2),_),0<_&&(_=this.getSpaceBellow(this.tagDatasToPaint[t].topPixel+this.tagDatasToPaint[t].height,this.tagDatasToPaint[t].left,this.tagDatasToPaint[t].left+this.tagDatasToPaint[t].width,_,this.tagDatasToPaint),0<_&&(this.tagDatasToPaint[t].topPixel+=_));for(t=0;t<this.tagDatasToPaint.length;t++)r=this.tagDatasToPaint[t],r.visible===!0&&e.core.zopDrawArea.drawTag(r.left,r.topPixel,r.width,r.color,r.textColor,r.height,r.text,r.height/e.core.settings.tagHeight)}getSpaceBellow(t,r,s,o,l){var c,p=o;for(c=0;c<this.visibleFullEventWrappers.length&&0<p;c++){var f=this.visibleFullEventWrappers[c];e.core.zopHandler.getPixelFromZOP(f.calendarEvent.endZOP)>t&&f.left<s&&(p=Math.min(p,e.core.zopHandler.getPixelFromZOP(f.calendarEvent.startZOP)-t))}for(c=0;c<l.length&&0<p;c++)f=l[c],f.topPixel+f.height>t&&f.left<s&&f.left+f.width>r&&(p=Math.min(p,f.topPixel-t));return Math.min(o,p)}checkForPixelOverlap(t,r){if(r!==void 0){var s=Math.round(t.topPixel+t.height-r.topPixel);2<s&&(t.zopHeight>=r.zopHeight?(r.isPartial=!0,r.calendarEventTagWrapper.isPartial=!0,r.topPixel+=s,r.height-=s,2>=r.height&&(r.visible=!1)):t.zopHeight<r.zopHeight&&(t.isPartial=!0,t.calendarEventTagWrapper.isPartial=!0,t.height-=s,2>=t.height&&(e.Visible=!1)))}}copyEventsFromParent(t,r){var s;if(t.calendarEvents!==void 0)for(s=0;s<t.calendarEvents.length;s++)this.addEventToCalendarDateObjectAndChildren(t.calendarEvents[s],r)}getTopTagAtThisZoomLevel(t){var r;for(r=0;r<t.possibleFullEvents.length;r++)if(this.findFullEventWrapperForEvent(t.possibleFullEvents[r])===void 0&&this.doesEventStartWithinCalendarDateObject(t.possibleFullEvents[r],t))return t.possibleFullEvents[r];return t.topNonFullEvent}doesEventStartWithinCalendarDateObject(t,r){return t.startZOP>=r.startZOP&&t.startZOP<r.endZOP}selectAndOrderPossibleEventTagsAtThisZoomLevel(t){var r=0,s;if(t.possibleEventTagsAtThisZoomLevel=[],this.verifyChildCalendarDateObjectsAreReadyForParentToBeShown(t),0<t.details.length)for(r=0;r<t.details.length;r++)(s=this.getTopTagAtThisZoomLevel(t.details[r]))&&this.addPossibleEventTagsAtThisZoomLevel(t,s,r,t.details[r]);else for(r=0;r<t.calendarEvents.length;r++)s=t.calendarEvents[r],this.findFullEventWrapperForEvent(s)===void 0&&this.doesEventStartWithinCalendarDateObject(s,t)&&(this.addPossibleEventTagsAtThisZoomLevel(t,s,r,t),t.possibleEventTagsAtThisZoomLevel.push(new e.PossibleEventTagsAtThisZoomLevel(s,t,t,r)));t.possibleEventTagsAtThisZoomLevel.sort(function(o,l){return l.calendarEvent.grade-o.calendarEvent.grade})}addPossibleEventTagsAtThisZoomLevel(t,r,s,o){t.possibleEventTagsAtThisZoomLevelMinZop=t.possibleEventTagsAtThisZoomLevelMinZop===void 0?r.startZOP:Math.min(t.possibleEventTagsAtThisZoomLevelMinZop,r.startZOP),t.possibleEventTagsAtThisZoomLevelMaxZop=t.possibleEventTagsAtThisZoomLevelMaxZop===void 0?r.endZOP:Math.max(t.possibleEventTagsAtThisZoomLevelMaxZop,r.endZOP),t.possibleEventTagsAtThisZoomLevel.push(new e.PossibleEventTagsAtThisZoomLevel(r,t,o,s))}removeCalendarEvent(t){var r;for(r=0;r<e.core.calendarDateHandler.rootCalendarDateObjects.length;r++)this.removeCalendarEventFromDateObjectandChildren(t,e.core.calendarDateHandler.rootCalendarDateObjects[r])}removeCalendarEventFromDateObjectandChildren(t,r){var s;for(r.isReadyForParentToBeShown=!1,s=0;s<r.possibleFullEvents.length;s++)if(r.possibleFullEvents[s]==t){r.possibleFullEvents.splice(s,1);break}for(s=0;s<r.calendarEvents.length;s++)if(r.calendarEvents[s]==t){r.calendarEvents.splice(s,1);break}if(r.topNonFullEvent=void 0,r.possibleEventTagsAtThisZoomLevel=[],r.possibleEventTagsAtThisZoomLevelMinZop=void 0,r.possibleEventTagsAtThisZoomLevelMaxZop=void 0,r.details)for(s=0;s<r.details.length;s++)this.removeCalendarEventFromDateObjectandChildren(t,r.details[s])}getCalendarEventsByIdAndRecurringId(t){var r,s,o=[];for(s=0;s<e.core.calendarDateHandler.rootCalendarDateObjects.length;s++){var l=e.core.calendarDateHandler.rootCalendarDateObjects[s];for(r=0;r<l.calendarEvents.length;r++)l.calendarEvents[r].recurringEventId!=t&&l.calendarEvents[r].id!=t||o.push(l.calendarEvents[r])}return o}reorderAllEvents(){var t;for(t=0;t<e.core.calendarDateHandler.rootCalendarDateObjects.length;t++)this.reorderAllEventsInDateObjectandChildren(e.core.calendarDateHandler.rootCalendarDateObjects[t])}reorderAllEventsInDateObjectandChildren(t){var r;if(t.isReadyForParentToBeShown=!1,t.topNonFullEvent=void 0,t.possibleEventTagsAtThisZoomLevel=[],t.possibleEventTagsAtThisZoomLevelMinZop=void 0,t.possibleEventTagsAtThisZoomLevelMaxZop=void 0,t.details)for(r=0;r<t.details.length;r++)this.reorderAllEventsInDateObjectandChildren(t.details[r])}clearAllEvents(){var t;for(t=0;t<e.core.calendarDateHandler.rootCalendarDateObjects.length;t++)this.clearAllEventsFromDateObjectandChildren(e.core.calendarDateHandler.rootCalendarDateObjects[t]);this.visibleEventTagWrappers=[],this.visibleTagEventGroups=[]}clearAllEventsFromDateObjectandChildren(t){var r;if(t.isReadyForParentToBeShown=!1,t.possibleFullEvents=[],t.calendarEvents=[],t.topNonFullEvent=void 0,t.possibleEventTagsAtThisZoomLevel=[],t.possibleEventTagsAtThisZoomLevelMinZop=void 0,t.possibleEventTagsAtThisZoomLevelMaxZop=void 0,t.details)for(r=0;r<t.details.length;r++)this.clearAllEventsFromDateObjectandChildren(t.details[r])}addEventToCalendar(t){var r;for(r=0;r<e.core.calendarDateHandler.rootCalendarDateObjects.length;r++)this.addEventToCalendarDateObjectAndChildren(t,e.core.calendarDateHandler.rootCalendarDateObjects[r]);this.addCommonTimeKey(t.startDateTime,2)}addCommonTimeKey(t,r){var s=t.getHours()+"-"+t.getMinutes(),o=this.commonTimeKeysHelper.indexOf(s);o==-1?(this.commonTimeKeys.push({timeKey:s,counter:1}),this.commonTimeKeysHelper.push(s)):this.commonTimeKeys[o].counter++}findCommonTimes(){var t,r=new Date;for(r.setHours(0,0,0,0),t=0;24>t;t++)r.setHours(t,0,0,0),this.addCommonTimeKey(r,6),r.setHours(t,5,0,0),this.addCommonTimeKey(r,1),r.setHours(t,10,0,0),this.addCommonTimeKey(r,6),r.setHours(t,15,0,0),this.addCommonTimeKey(r,2),r.setHours(t,20,0,0),this.addCommonTimeKey(r,1),r.setHours(t,25,0,0),this.addCommonTimeKey(r,1),r.setHours(t,30,0,0),this.addCommonTimeKey(r,4),r.setHours(t,35,0,0),this.addCommonTimeKey(r,1),r.setHours(t,40,0,0),this.addCommonTimeKey(r,1),r.setHours(t,45,0,0),this.addCommonTimeKey(r,2),r.setHours(t,50,0,0),this.addCommonTimeKey(r,1),r.setHours(t,55,0,0),this.addCommonTimeKey(r,1);this.commonTimeKeys.sort(function(s,o){return o.counter-s.counter})}addEventToCalendarDateObjectAndChildren(t,r){var s;if(t.endZOP>=r.startZOP&&t.startZOP<r.endZOP&&(r.calendarEvents.push(t),t.endZOP-t.startZOP>(r.endZOP-r.startZOP)/32&&r.possibleFullEvents.push(t),r.isReadyForParentToBeShown=!1,r.details))for(s=0;s<r.details.length;s++)this.addEventToCalendarDateObjectAndChildren(t,r.details[s])}getOrCreateEventTagWrapperFor(t){var r=this.findEventTagWrappersForEvent(t);return r===void 0&&(r=new e.CalendarEventTagWrapper(t),r.calendarEvent=t,this.visibleEventTagWrappers.push(r)),r}findFullEventWrapperForEvent(t){var r;for(r=0;r<this.visibleFullEventWrappers.length;r++)if(this.visibleFullEventWrappers[r].calendarEvent==t)return this.visibleFullEventWrappers[r]}findEventTagWrappersForEvent(t){var r;for(r=0;r<this.visibleEventTagWrappers.length;r++)if(this.visibleEventTagWrappers[r].calendarEvent==t)return this.visibleEventTagWrappers[r]}verifyChildCalendarDateObjectsAreReadyForParentToBeShown(t){e.core.calendarDateHandler.verifyDetailsArePopulatedFor(t);var r=t.details.length,s,o;for(s=0;s<r;s++)o=t.details[s],this.verifyCalendarDateObjectIsReadyForParentToBeShown(o)}verifyCalendarDateObjectIsReadyForParentToBeShown(t){if(t.isReadyForParentToBeShown!==!0){var r;for(t.possibleFullEvents.sort(function(s,o){return o.grade-s.grade}),t.topNonFullEvent=void 0,r=0;r<t.calendarEvents.length;r++)t.possibleFullEvents.indexOf(t.calendarEvents[r])===-1&&(t.topNonFullEvent===void 0||t.topNonFullEvent.grade<t.calendarEvents[r].grade)&&(t.topNonFullEvent=t.calendarEvents[r]);t.isReadyForParentToBeShown=!0}}selectVisibleEventTagsFor(t,r,s,o,l,c){e.core.debugCounter++,o=!0,this.verifyChildCalendarDateObjectsAreReadyForParentToBeShown(t),this.selectAndOrderPossibleEventTagsAtThisZoomLevel(t);var U=void 0,j=0,p,f=0,g=0,m=0,S,M,_=!1,j=Math.max(r,Math.min(t.startZOP,t.possibleEventTagsAtThisZoomLevelMinZop));for(S=Math.min(s,Math.max(t.endZOP,t.possibleEventTagsAtThisZoomLevelMaxZop)),p=0;p<t.possibleEventTagsAtThisZoomLevel.length;p++)U=t.possibleEventTagsAtThisZoomLevel[p].calendarEvent,(o&&U.startZOP>=r||!o&&U.endZOP>=r)&&(l&&U.endZOP<=s||!l&&U.startZOP<=s)&&(j=Math.min(j,U.startZOP),S=Math.max(S,U.endZOP)),t.possibleEventTagsAtThisZoomLevel[p].calendarEvent.endZOP>=r&&t.possibleEventTagsAtThisZoomLevel[p].calendarEvent.startZOP<=r&&c!==void 0&&(g=this.getOrCreateEventTagWrapperFor(t.possibleEventTagsAtThisZoomLevel[p].calendarEvent),c.childCollidingEventTagWrappers.push(g),g.parentCollidingFullEventWrappers.push(c));var B=Math.ceil(e.core.zopHandler.getFractionalPixelDistance(S-j)-.5),Ce=Math.ceil(B/e.core.settings.tagHeight),Qe=Math.floor(B/e.core.settings.tagHeight),Ze=B-Qe*e.core.settings.tagHeight,X=new e.CalendarEventTagGroup(t,B),U=t.startZOP>=r&&t.endZOP<=s,Ca=0;if(X.startZOP=j,X.countDetails=t.details.length,U===!1&&(Ca=this.getPositionSubtractionForEventTags(t,r),X.countDetails=this.countDetailsForPartialCalendarDateObject(t,r,s)),0<Ce){for(X.calendarDateObject=t,X.parentTopZOP=j,X.parentBottomZOP=S,this.visibleTagEventGroups.push(X),t.possibleEventTagsAtThisZoomLevel&&(m=t.possibleEventTagsAtThisZoomLevel.length-1),p=0;p<Ce;p++){for(U=void 0,j=0;f<=m&&U===void 0;)(o&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.startZOP>=r||!o&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.endZOP>=r)&&(l&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.endZOP<=s||!l&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.startZOP<=s)&&this.calendarEventIsOnExtendedScreen(t.possibleEventTagsAtThisZoomLevel[f].calendarEvent)&&(U=t.possibleEventTagsAtThisZoomLevel[f].calendarEvent,j=t.possibleEventTagsAtThisZoomLevel[f].position),f+=1;if(U===void 0&&p===0&&t.topNonFullEvent&&(o&&t.topNonFullEvent.startZOP>=r||!o&&t.topNonFullEvent.endZOP>=r)&&(l&&t.topNonFullEvent.endZOP<=s||!l&&t.topNonFullEvent.startZOP<=s)&&this.calendarEventIsOnExtendedScreen(t.topNonFullEvent)&&(U=t.topNonFullEvent,j=100),U){for(_=!1,g=0;g<X.calendarEventTagWrappers.length;g++)S=X.calendarEventTagWrappers[g].calendarEvent.startZOP,M=X.calendarEventTagWrappers[g].calendarEvent.endZOP,(U.startZOP>=S&&U.startZOP<=M||U.endZOP>=S&&U.endZOP<=M)&&(_=!0);_?--p:(g=this.getOrCreateEventTagWrapperFor(U),g.calendarEvent=U,g.position=j-Ca,g.left=this.eventsFarLeft,g.right=this.eventsFarRight,X.calendarEventTagWrappers.push(g),c!==void 0&&(c.childCollidingEventTagWrappers.push(g),g.parentCollidingFullEventWrappers.push(c)))}}X.calendarEventTagWrappers.length>Qe?(X.calendarEventTagWrappers[X.calendarEventTagWrappers.length-1].partialHeight=Ze,X.calendarEventTagWrappers[X.calendarEventTagWrappers.length-1].isPartial=!0):X.extraSpace=B-X.calendarEventTagWrappers.length*e.core.settings.tagHeight,X.calendarEventTagWrappers.sort(function(is,os){return is.position-os.position})}}calendarEventIsOnExtendedScreen(t){return t.startZOP<=this.bottomZOP&&t.endZOP>=this.topZOP}getPositionSubtractionForEventTags(t,r){var s;for(s=0;s<t.details.length&&!(t.details[s].startZOP>=r);s++);return s}countDetailsForPartialCalendarDateObject(t,r,s){var o,l=0;for(o=0;o<t.details.length;o++)t.details[o].startZOP>=r&&t.details[o].endZOP<=s&&(l+=1);return l}calculateAllWidths(){var t,r,s,o,l;for(t=0;t<this.visibleFullEventWrappers.length;t++){for(s=this.visibleFullEventWrappers[t],r=0;r<s.childCollidingEventTagWrappers.length;r++)s.childCollidingEventTagWrappers[r].left=void 0,s.childCollidingEventTagWrappers[r].right=void 0;s.widthPercent=0,s.widthPercentWhenTagsExist=0,s.left=void 0,s.right=void 0,s.preferredWidth=void 0,s.paintedLeft=void 0,s.paintedRight=void 0}for(t=0;t<this.visibleFullEventWrappers.length;t++)if(s=this.visibleFullEventWrappers[t],r=s.childCollidingEventTagWrappers!==void 0&&0<s.childCollidingEventTagWrappers.length){for(r=l=0;r<s.childCollidingEventTagWrappers.length;r++)o=s.childCollidingEventTagWrappers[r],o=this.calculateOutOfScopeFactor(o.calendarEvent),l=Math.max(l,o);for(l=this.calculateTagWidthsHelper(s,this.topZOP,this.bottomZOP,l),r=0;r<s.childCollidingEventTagWrappers.length;r++)s.childCollidingEventTagWrappers[r].right=this.eventsFarRight,l>=this.eventsFarRight?s.childCollidingEventTagWrappers[r].visible=!1:(s.childCollidingEventTagWrappers[r].left===void 0||s.childCollidingEventTagWrappers[r].left<l)&&(s.childCollidingEventTagWrappers[r].left=l)}for(t=0;t<this.visibleFullEventWrappers.length;t++){if(s=this.visibleFullEventWrappers[t],l=this.eventsFarLeft,o=this.eventsFarRight,s.childCollidingEventTagWrappers!==void 0)for(r=0;r<s.childCollidingEventTagWrappers.length;r++)s.childCollidingEventTagWrappers[r].visible&&(o=Math.min(s.childCollidingEventTagWrappers[r].left,o));this.calculateWidthsHelper(s,l,o,this.topZOP,this.bottomZOP),s.left===void 0&&(s.left=this.eventsFarLeft),s.right===void 0&&(s.right=this.eventsFarRight)}for(t=0;t<this.visibleEventTagWrappers.length;t++){if(l=this.eventsFarLeft,o=this.visibleEventTagWrappers[t],o.parentCollidingFullEventWrappers!==void 0)for(r=0;r<o.parentCollidingFullEventWrappers.length;r++)l=Math.max(l,o.parentCollidingFullEventWrappers[r].right);o.left=l}}calculateOutOfScopeFactor(t){var r=1,s=(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/10;return t.endZOP<e.core.zopHandler.topZOP-s?r=(t.endZOP-this.topZOP)/(e.core.zopHandler.topZOP-s-this.topZOP):t.startZOP>e.core.zopHandler.bottomZOP+s&&(r=(t.startZOP-this.bottomZOP)/(e.core.zopHandler.bottomZOP+s-this.bottomZOP)),r}calculateTagWidthsHelper(t,r,s,o){r=this.eventsFarRight-this.eventsFarLeft;var l,c;s=this.eventsFarLeft;var p,f,g=0,m=0,S=1,M;for(t=this.GetFullEventWrapperCollisionPaths(t),f=0;f<t.length;f++){for(l=t[f],p=0;p<l.length;p++)c=l[p],M=this.calculateOutOfScopeFactor(c.calendarEvent),g+=(c.calendarEvent.endZOP-c.calendarEvent.startZOP)*M;for(g+=this.minFullEventZOPSize*o*o,p=0;p<l.length;p++)c=l[p],M=this.calculateOutOfScopeFactor(c.calendarEvent),this.calculateFullEventWrapperWidthPercent(c,g,S,M),S=Math.max(0,Math.min(1,(c.calendarEvent.endZOP-c.calendarEvent.startZOP)/(this.minFullEventZOPSize/1.2)-1.2)),m+=c.widthPercent;for(p=Math.max(.1,(g-this.minFullEventZOPSize)/g)*S*o*o,m+=p,p=0;p<l.length;p++)c=l[p],c=Math.floor(c.widthPercent/m*r),c<e.core.settings.tagHeight&&(r+=e.core.settings.tagHeight-c,c=e.core.settings.tagHeight),s+=c}return s>this.eventsFarRight-3&&(s=this.eventsFarRight),s}calculateFullEventWrapperMaxWidth(t){return Math.max((this.eventsFarRight-this.eventsFarLeft)*Math.min(1,2*(this.bottomZOP-this.topZOP)/(t.calendarEvent.endZOP-t.calendarEvent.startZOP)),e.core.settings.tagHeight+e.core.settings.tagColorWidth+1)}calculateWidthsHelper(t,r,s,o,l){o=s-r;var c,p,f,g,m,S=l=0,M=1;for(t=this.GetFullEventWrapperCollisionPaths(t),m=0;m<t.length;m++){for(c=t[m],g=0;g<c.length;g++)p=c[g],f=this.calculateOutOfScopeFactor(p.calendarEvent),l+=(p.calendarEvent.endZOP-p.calendarEvent.startZOP)*f;for(g=0;g<c.length;g++)p=c[g],f=this.calculateOutOfScopeFactor(p.calendarEvent),this.calculateFullEventWrapperWidthPercent(p,l,M,f),M=Math.max(.05,Math.min(1,(p.calendarEvent.endZOP-p.calendarEvent.startZOP)/this.minFullEventZOPSize-.95)),S+=p.widthPercent;for(g=0;g<c.length;g++){p=c[g],(p.left===void 0||p.left>r)&&this.SetLeftForFullEventWrapper(p,r),f=p.widthPercent/S*o;var _=this.calculateFullEventWrapperMaxWidth(p);_<f&&(o+=2*(f-_),f=_),f<e.core.settings.tagHeight&&(o+=e.core.settings.tagHeight-f,f=e.core.settings.tagHeight),r+=f,(p.right===void 0||p.right>r)&&this.SetRightForFullEventWrapper(p,Math.floor(r))}0<c.length&&c[c.length-1].right>s-3&&(c[c.length-1].right=s)}}calculateFullEventWrapperWidthPercent(t,r,s,o){t.widthPercent=Math.max(.16,(r-(t.calendarEvent.endZOP-t.calendarEvent.startZOP))/r)*s*o}GetFullEventWrapperCollisionPaths(t){var r,s,o=[];if(t.parentCollidingFullEventWrappers===void 0||t.parentCollidingFullEventWrappers.length===0)return[[t]];for(r=0;r<t.parentCollidingFullEventWrappers.length;r++){var l=this.GetFullEventWrapperCollisionPaths(t.parentCollidingFullEventWrappers[r]);for(s=0;s<l.length;s++)l[s].push(t),o.push(l[s])}return o}SetRightForFullEventWrapper(t,r){var s;if((t.right===void 0||t.right>r)&&(t.right=r,t.childCollidingFullEventWrappers!==void 0))for(s=0;s<t.childCollidingFullEventWrappers.length;s++)this.SetLeftForFullEventWrapper(t.childCollidingFullEventWrappers[s],r)}SetLeftForFullEventWrapper(t,r){var s;if(t.left!==r&&(t.left=r,t.parentCollidingFullEventWrappers!==void 0))for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)this.SetRightForFullEventWrapper(t.parentCollidingFullEventWrappers[s],r)}SetLeftForEventTagWrapper(t,r){var s;if(t.left!==r&&(t.left=r,t.parentCollidingFullEventWrappers!==void 0))for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)this.SetRightForFullEventWrapper(t.parentCollidingFullEventWrappers[s],r)}gotoBadgeAt(t,r){if(t>=e.core.settings.badgesLeft&&t<=e.core.settings.eventsFarLeft){for(var s=0;s<this.visibleBadges.length;s++)if(r>=this.visibleBadges[s].topPixel&&r<=this.visibleBadges[s].topPixel+e.core.settings.tagHeight){if(this.visibleBadges[s].count==0)break;var o=this.visibleBadges[s].bottomZOPForAllEvents-this.visibleBadges[s].topZOPForAllEvents;return e.core.drawAreaEffects.startAutoZoom(this.visibleBadges[s].topZOPForAllEvents-o,this.visibleBadges[s].bottomZOPForAllEvents+o,!1,function(){}),!0}}return!1}selectCalendarEventObjectAt(t,r){var s,o,l=e.core.zopHandler.getZOPFromPixel(r);for(this.selectedCalendarEvent=void 0,s=0;s<this.visibleFullEventWrappers.length;s++)o=this.visibleFullEventWrappers[s],l>=o.calendarEvent.startZOP&&l<=o.calendarEvent.endZOP&&t>=o.paintedLeft&&t<=o.paintedRight&&(this.selectedCalendarEvent=this.visibleFullEventWrappers[s].calendarEvent);for(s=0;s<this.visibleEventTagWrappers.length;s++)o=this.visibleEventTagWrappers[s],r>=o.topPixel&&r<=o.bottomPixel&&t>=o.paintedLeft&&t<=o.paintedRight&&(this.selectedCalendarEvent=this.visibleEventTagWrappers[s].calendarEvent);return this.selectedCalendarEvent}}e.CalendarEventHandler=kr;class Ar{constructor(){this.markerLeft=0,this.markerWidth=0,this.markerHeight=0,this.margin=0,this.topPanelHeight=0,this.topPanelTop=0,this.topPanelWidth=0,this.topPanelLeft=0,this.textColor=this.markerColor="",this.bottomMarkerY=0,this.topMarkerY=0,this.draggingBottomMarkerOffset=0,this.draggingTopMarkerOffset=0,this.startDragBottomY=void 0,this.startDragTopY=void 0,this.startDragBottomDateTime=void 0,this.startDragTopDateTime=void 0,this.originalBottomDateTime=void 0,this.originalTopDateTime=void 0,this.bottomText="",this.topText="",this.precision=4,this.buttonHeight=0,this.buttonWidth=0,this.cancelButtonLeft=0,this.cancelButtonTop=0,this.okButtonLeft=0,this.okButtonTop=0,this.pageHtml=\'<div id="dateTimeSelectionTopBar" class="topBar" style="position:relative; z-index:1000">    <button id="dateTimeSelectionCancel" class="topBarButton" style="width:50%; z-index:1000"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>    <button id="dateTimeSelectionOk" class="topBarButton" style="width:50%; z-index:1000"><img src="images/check.svg" class="topBarImage"/><span>{#Ok#}</span></button></div>\'}init(){this.topPanelHeight=e.core.settings.titleWidth}paint(){this.calendarEventObject!==void 0&&e.core.appStateHandler.isChoosingDateTimeForEvent===!0&&(this.topPanelLeft=e.core.zopDrawArea.screenLeft,this.topPanelWidth=e.core.domHandler.screenWidth,this.topPanelTop=e.core.zopDrawArea.screenTop,this.topPanelHeight=this.getSpaceTakenAtTop(),this.margin=this.topPanelHeight/6,this.markerHeight=2*e.core.settings.tagHeight,this.markerWidth=2*e.core.settings.titleWidth,this.markerLeft=e.core.zopDrawArea.screenLeft+e.core.domHandler.screenWidth-this.markerWidth,this.markerColor=e.core.settings.theme.colorDark,this.textColor=e.core.settings.theme.colorLight,this.calendarEventObject&&this.paintMarkers())}startEditing(t,r,s){this.callback=s,this.editType=r,this.calendarEventObject=t,this.originalTopDateTime=t.startDateTime,this.originalBottomDateTime=t.endDateTime,this.topText="START",this.bottomText="END",r=6*(t.endZOP-t.startZOP),e.core.drawAreaEffects.startAutoZoom(t.startZOP-r,t.endZOP+r,!1,function(){})}paintMarkers(){this.topMarkerY=e.core.zopHandler.getPixelFromZOP(this.calendarEventObject.startZOP),this.bottomMarkerY=e.core.zopHandler.getPixelFromZOP(this.calendarEventObject.endZOP),e.core.appStateHandler.isDraggingTopMarker?(this.paintMarker(this.bottomText,this.bottomMarkerY,!1),this.paintMarker(this.topText,this.topMarkerY,!0)):(this.paintMarker(this.topText,this.topMarkerY,!0),this.paintMarker(this.bottomText,this.bottomMarkerY,!1))}makeNiceTimeToShow(t){return t.getMonth()+" "+t.getDate()+" "+t.getHours()+" "+t.getMinutes()}makeVisible(t){if(t){this.buttonDiv=e.core.domHandler.addDiv("dateTimeSelectionbuttons","","controlsRoot"),this.buttonDiv.innerHTML=this.pageHtml,t=(e.core.settings.titleWidth/e.core.ratio-24)/2;var r=document.getElementById("dateTimeSelectionOk"),s=document.getElementById("dateTimeSelectionCancel");r.style.padding=t+"px",s.style.padding=t+"px",r.style.backgroundColor=e.core.settings.theme.colorDark,s.style.backgroundColor=e.core.settings.theme.colorDark,e.core.domHandler.addClickEvent("dateTimeSelectionOk",this.saveChanges,this),e.core.domHandler.addClickEvent("dateTimeSelectionCancel",this.cancelChanges,this)}else e.core.domHandler.removeElement(this.buttonDiv.id)}getSpaceTakenAtTop(){return e.core.settings.titleWidth}getSpaceTakenAtBottom(){return e.core.settings.titleWidth}paintButton(t,r,s,o,l){e.core.drawArea.drawFilledRectangle({x:r,y:s,width:o,height:l,fillStyle:e.core.settings.theme.colorDark,hasShadow:!1,rounded:!1,strokeStyle:void 0}),l-=6,e.core.drawArea.setFont(l,!1,!1,!1);var c=e.core.zopDrawArea.measureTextWidth(t,l,!1,!0),c=(o-c)/2;e.core.zopDrawArea.drawText(t,r+c,s,-3,l,e.core.settings.theme.colorLight,e.core.settings.theme.colorDark,!1,o-c,!1,!1)}paintMarker(t,r,s){s?(e.core.zopDrawArea.drawHorizontalLineThick(e.core.settings.eventsFarLeft-1,e.core.zopHandler.getZOPFromPixel(r-1),this.markerLeft+this.markerWidth,this.markerColor,3,!0),r-=this.markerHeight):e.core.zopDrawArea.drawHorizontalLineThick(e.core.settings.eventsFarLeft-1,e.core.zopHandler.getZOPFromPixel(r+1),this.markerLeft+this.markerWidth,this.markerColor,3,!0),e.core.drawArea.drawFilledRectangle({x:this.markerLeft,y:r,widht:this.markerWidth,height:this.markerHeight,fillStyle:this.markerColor,hasShadow:!0,rounded:!1,strokeStyle:void 0}),s=this.markerHeight/6;var o=this.markerLeft+this.markerWidth-4*s,l=r+(this.markerHeight-3*s)/2-1;e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+0*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+1*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+2*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+3*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+0*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+1*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+2*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+3*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),s=this.markerHeight/2-4,e.core.zopDrawArea.drawText(t,this.markerLeft+5,r+this.markerHeight/2-s/2,0,s,this.textColor,this.markerColor,!1,this.markerWidth-5,!1,!1)}click(t,r){return!1}saveChanges(t){e.core.appStateHandler.setChoosingDateTimeForEvent(!1),this.callback?this.callback():e.core.calendarDataProxy.editExistingEvent(this.calendarEventObject,this.editType)}cancelChanges(t){e.core.appStateHandler.setChoosingDateTimeForEvent(!1),this.calendarEventObject.startDateTime=this.originalTopDateTime,this.calendarEventObject.endDateTime=this.originalBottomDateTime,e.core.zopHandler.updateStartEndZOP(this.calendarEventObject),this.callback&&this.callback()}hitTopMarkerAt(t,r){return r>=this.topMarkerY-this.markerHeight&&r<=this.topMarkerY&&t>=this.markerLeft&&t<=this.markerLeft+this.markerWidth}hitBottomMarkerAt(t,r){return r>=this.bottomMarkerY&&r<=this.bottomMarkerY+this.markerHeight&&t>=this.markerLeft&&t<=this.markerLeft+this.markerWidth}startDraggingTopMarker(t){this.draggingTopMarkerOffset=t,e.core.appStateHandler.isDraggingTopMarker=!0,this.startDragTopDateTime=this.calendarEventObject.startDateTime,e.core.appStateHandler.isDraggingBottomMarker||(this.startDragBottomDateTime=this.calendarEventObject.endDateTime)}startDraggingBottomMarker(t){this.draggingBottomMarkerOffset=t,e.core.appStateHandler.isDraggingBottomMarker=!0,this.startDragBottomDateTime=this.calendarEventObject.endDateTime}continueDraggingTopMarker(t){t-=this.draggingTopMarkerOffset,this.topMarkerY=e.core.zopHandler.getPixelFromZOP(e.core.zopHandler.dateToZOP(this.startDragTopDateTime))+t,(t=e.core.calendarDateHandler.getClosestFakeDetailAt(this.topMarkerY,this.precision,!0))&&(this.calendarEventObject.startDateTime=t.startDateTime,this.calendarEventObject.startZOP=t.startZOP,this.topText=t.shortText,t.shortText2&&(this.topText+=" "+t.shortText2)),!e.core.appStateHandler.isDraggingBottomMarker&&(t=this.startDragBottomDateTime.getTime()-this.startDragTopDateTime.getTime(),this.calendarEventObject.endDateTime=new Date(this.calendarEventObject.startDateTime.getTime()+t),e.core.zopHandler.updateStartEndZOP(this.calendarEventObject),this.bottomMarkerY=e.core.zopHandler.getPixelFromZOP(this.calendarEventObject.endZOP),t=e.core.calendarDateHandler.getClosestFakeDetailAt(this.bottomMarkerY,1,!0))&&(this.calendarEventObject.endDateTime=t.startDateTime,this.calendarEventObject.endZOP=t.startZOP,this.bottomText=t.shortText,t.shortText2&&(this.bottomText+=" "+t.shortText2))}continueDraggingBottomMarker(t){t-=this.draggingBottomMarkerOffset,this.bottomMarkerY=e.core.zopHandler.getPixelFromZOP(e.core.zopHandler.dateToZOP(this.startDragBottomDateTime))+t,this.bottomMarkerY=Math.max(this.bottomMarkerY,this.topMarkerY+this.precision+1),(t=e.core.calendarDateHandler.getClosestFakeDetailAt(this.bottomMarkerY,this.precision,!0))&&(this.calendarEventObject.endDateTime=t.startDateTime,this.calendarEventObject.endZOP=t.startZOP,this.bottomText=t.shortText,t.shortText2&&(this.bottomText+=" "+t.shortText2))}endDraggingTopMarker(){e.core.appStateHandler.isDraggingTopMarker=!1}endDraggingBottomMarker(){e.core.appStateHandler.isDraggingBottomMarker=!1}}e.DateTimeSelectionHandler=Ar;class Br{constructor(){this.touches=[],this.mouseWasDraged=this.mouseRightDown=this.mouseLeftDown=!1,this.canBeAClick=!0,this.touchOneFingerStarted=this.startedInTitleArea=!1,this.touchOneFingerStartY=this.touchOneFingerStartX=0,this.toucohEnabledDevice=this.touchTwoFingerStarted=!1,this.touchSlop=8,this.elementsWithMouseEvents=[],this.timeForLastScrollEvent=this.fingerLastDraggingBottomMarker=this.fingerLastDraggingTopMarker=0}addBatchEventsTo(t){this.removeBatchElementsFrom(t),this.touchEnd=this.touchEnd.bind(this),t.addEventListener("touchend",this.touchEnd,!1),this.touchMove=this.touchMove.bind(this),t.addEventListener("touchmove",this.touchMove,!1),this.touchStart=this.touchStart.bind(this),t.addEventListener("touchstart",this.touchStart,!1),this.touchLeave=this.touchLeave.bind(this),t.addEventListener("touchleave",this.touchLeave,!1),e.core.isCordovaApp||this.addMouseEvents(t)}removeBatchElementsFrom(t){t.removeEventListener("touchend",this.touchEnd,!1),t.removeEventListener("touchmove",this.touchMove,!1),t.removeEventListener("touchstart",this.touchStart,!1),t.removeEventListener("touchleave",this.touchLeave,!1),e.core.isCordovaApp||this.removeMouseEvents(t)}addMouseEvents(t){this.elementsWithMouseEvents.push(t),this.mouseDown=this.mouseDown.bind(this),t.addEventListener("mousedown",this.mouseDown,!1),this.mouseMove=this.mouseMove.bind(this),t.addEventListener("mousemove",this.mouseMove,!1),this.mouseUp=this.mouseUp.bind(this),t.addEventListener("mouseup",this.mouseUp,!1),this.mouseLeave=this.mouseLeave.bind(this),t.addEventListener("mouseleave",this.mouseLeave,!1),this.mouseScroll=this.mouseScroll.bind(this),t.addEventListener("mousewheel",this.mouseScroll,!1),window.addEventListener("DOMMouseScroll",this.mouseScroll,!1)}removeMouseEvents(t){t.removeEventListener("mousedown",this.mouseDown,!1),t.removeEventListener("mousemove",this.mouseMove,!1),t.removeEventListener("mouseup",this.mouseUp,!1),t.removeEventListener("mouseleave",this.mouseLeave,!1),t.removeEventListener("mousewheel",this.mouseScroll,!1),window.removeEventListener("DOMMouseScroll",this.mouseScroll,!1)}reAddAllMouseEvents(){var t;for(t=0;t<this.elementsWithMouseEvents.length;t++)this.addMouseEvents(this.elementsWithMouseEvents[t])}removeAllMouseEvents(){var t;for(t=0;t<this.elementsWithMouseEvents.length;t++)this.removeMouseEvents(this.elementsWithMouseEvents[t])}closeAllPagesAndMenus(){if(e.core.appStateHandler.isChoosingDateTimeForEvent||e.core.appStateHandler.isMainMenuShowing||e.core.appStateHandler.isPopupMainMenuShowing||e.core.appStateHandler.isPopupEditRecurringMenuShowing||e.core.appStateHandler.viewEventControlIsShowing||e.core.appStateHandler.editEventControlIsShowing||e.core.appStateHandler.calendarsControlIsShowing||e.core.appStateHandler.shopControlIsShowing||e.core.appStateHandler.settingsControlIsShowing)for(;e.core.appStateHandler.back(););}click(t,r){let s=!1,o=e.core.domHandler.screenTopForDOM*e.core.ratio+e.core.zopDrawArea.zopAreaTop,l=e.core.domHandler.screenLeftForDOM*e.core.ratio+e.core.zopDrawArea.zopAreaLeft;if(e.core.appStateHandler.isChoosingDateTimeForEvent&&(s=e.core.dateTimeSelectionHandler.click(t,r)),!s)if(e.core.appStateHandler.isMainMenuShowing)e.core.mainMenuControl.click(t-l,r-o);else if(e.core.mainMenuControl.hitMenuButton(t-l,r-o))e.core.appStateHandler.isChoosingDateTimeForEvent||e.core.appStateHandler.mainButtonPressed();else if(e.core.calendarDateHandler.getHitWeekAt(t-l,r-o,!0))e.core.calendarDateHandler.gotoCalendarDateObject(s,r-o);else{let p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o);p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o+4)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o-4)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l+2,r-o)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l-2,r-o)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o+8)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o-8)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l+4,r-o)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l-4,r-o)),p?e.core.postRequest("setDetailPath",p.eventId.split(",").map(f=>parseInt(f))):e.core.calendarEventHandler.gotoBadgeAt(t-l,r-o)||e.core.calendarDateHandler.gotoCalendarDateObjectAt(t-l,r-o)}e.core.redraw(!0)}testIfStartDraggingMarker(t,r,s){e.core.dateTimeSelectionHandler.hitTopMarkerAt(t,r)?(e.core.dateTimeSelectionHandler.startDraggingTopMarker(r),e.core.redraw(!1),this.fingerLastDraggingTopMarker=s):e.core.dateTimeSelectionHandler.hitBottomMarkerAt(t,r)&&(e.core.dateTimeSelectionHandler.startDraggingBottomMarker(r),e.core.redraw(!1),this.fingerLastDraggingBottomMarker=s)}testIfContinueDraggingMarker(t,r){e.core.appStateHandler.isDraggingTopMarker&&r===this.fingerLastDraggingTopMarker?(e.core.dateTimeSelectionHandler.continueDraggingTopMarker(t),e.core.redraw(!1)):e.core.appStateHandler.isDraggingBottomMarker&&r===this.fingerLastDraggingBottomMarker&&(e.core.dateTimeSelectionHandler.continueDraggingBottomMarker(t),e.core.redraw(!1))}testIfEndDraggingMarker(){e.core.appStateHandler.isDraggingTopMarker?(e.core.dateTimeSelectionHandler.endDraggingTopMarker(),e.core.redraw(!1)):e.core.appStateHandler.isDraggingBottomMarker&&(e.core.dateTimeSelectionHandler.endDraggingBottomMarker(),e.core.redraw(!1))}touchStart(t){t.preventDefault(),this.canBeAClick=!0,e.core.drawAreaEffects.isScrollingOrZooming()&&(this.canBeAClick=!1),e.core.preloadAllImages(),e.core.drawAreaEffects.stopAllEffects(),e.core.touchEnabledDevice=!0,this.touches=t.touches,e.core.firstTouchMade=!0;let r=this.getTouchX(this.touches[0])*e.core.ratio*e.core.domRatio;var s=this.getTouchY(this.touches[0])*e.core.ratio*e.core.domRatio;return this.startedInTitleArea=e.core.mainMenuControl.startDragging(r,s),e.core.appStateHandler.isChoosingDateTimeForEvent&&(1<=this.touches.length&&(this.testIfEndDraggingMarker(),this.testIfStartDraggingMarker(r,s,0)),2<=this.touches.length&&this.testIfStartDraggingMarker(this.getTouchX(this.touches[1])*e.core.ratio*e.core.domRatio,this.getTouchY(this.touches[1])*e.core.ratio*e.core.domRatio,1)),this.touches.length===1&&(this.touchOneFingerStarted=!0,this.touchOneFingerStartX=this.getTouchX(this.touches[0]),this.touchOneFingerStartY=this.getTouchY(this.touches[0]),this.currentPressStartedTime=e.core.getTimeStamp(),this.longPressStartX=r,this.longPressStartY=s),2<=this.touches.length&&(this.touchOneFingerStarted=!1,this.touchTwoFingerStarted=!0,this.canBeAClick=!1),e.core.addButtonControl.startDragging(r,s)||e.core.appStateHandler.isDraggingTopMarker||e.core.appStateHandler.isDraggingBottomMarker||e.core.appStateHandler.isMainMenuShowing||e.core.appStateHandler.isPopupMainMenuShowing||e.core.appStateHandler.isPopupEditRecurringMenuShowing||(this.touches.length===1&&e.core.zopHandler.startScroll(s),2<=this.touches.length&&e.core.zopHandler.startZoom(s,this.getTouchY(this.touches[1])*e.core.ratio*e.core.domRatio)),this.timeWhenLastTouchEnded&&this.timeWhenLastTouchEnded+250>e.core.getTimeStamp()&&(this.canBeAClick=!1),e.core.redraw(!1),!1}getTouchX(t){return t.pageX-e.core.domHandler.screenLeftForDOM}getTouchY(t){return t.pageY-e.core.domHandler.screenTopForDOM}mouseDown(t){if(t.preventDefault(),e.core.firstTouchMade=!0,e.core.touchEnabledDevice){this.removeAllMouseEvents();return}e.core.drawAreaEffects.stopAllEffects(),e.core.preloadAllImages(),this.mouseWasDragged=0;const r=t.pageY*e.core.ratio*e.core.domRatio,s=t.pageX*e.core.ratio*e.core.domRatio,o=(t.pageY-e.core.domHandler.screenTopForDOM)*e.core.ratio*e.core.domRatio,l=(t.pageX-e.core.domHandler.screenLeftForDOM)*e.core.ratio*e.core.domRatio;if(this.startedInTitleArea=e.core.mainMenuControl.startDragging(l,o),t.button===0){if(this.canBeAClick=!0,this.mouseLeftDown=!0,this.longPressStartX=s,this.longPressStartY=r,this.currentPressStartedTime=e.core.getTimeStamp(),e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfStartDraggingMarker(s,r,0),e.core.addButtonControl.startDragging(l,o))return;!e.core.appStateHandler.isDraggingTopMarker&&!e.core.appStateHandler.isDraggingBottomMarker&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&e.core.zopHandler.startScroll(r)}else!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(this.mouseRightDown=!0,this.mouseZoomY=r-500,e.core.zopHandler.startZoom(this.mouseZoomY,r));return e.core.redraw(!1),!1}touchMove(t){t.preventDefault(),this.touches=t.touches;const r=this.getTouchY(this.touches[0])*e.core.ratio*e.core.domRatio;var s=this.getTouchX(this.touches[0])*e.core.ratio*e.core.domRatio,o;return this.touches.length>1&&(o=this.getTouchY(this.touches[1])*e.core.ratio*e.core.domRatio,this.getTouchX(this.touches[1])),e.core.appStateHandler.isChoosingDateTimeForEvent&&(this.touches.length>0&&this.testIfContinueDraggingMarker(r,0),this.touches.length>1&&this.testIfContinueDraggingMarker(o,1)),this.currentPressStartedTime<Date.now()-550&&(this.canBeAClick=!1),this.touches.length===1&&this.touchOneFingerStarted&&Math.abs(this.touchOneFingerStartX-this.getTouchX(this.touches[0]))+Math.abs(this.touchOneFingerStartY-this.getTouchY(this.touches[0]))>this.touchSlop*e.core.ratio*e.core.domRatio*(this.startedInTitleArea?1.5:1)&&(this.canBeAClick=!1),!this.canBeAClick&&this.startedInTitleArea?e.core.mainMenuControl.continueDragging(s,r):e.core.appStateHandler.isAddButtonBeingDragged?e.core.addButtonControl.continueDragging(s,r):!e.core.appStateHandler.isDraggingTopMarker&&!e.core.appStateHandler.isDraggingBottomMarker&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(this.touches.length===1&&this.touchOneFingerStarted?(this.canBeAClick||e.core.appStateHandler.isMainMenuShowing,e.core.zopHandler.continueScroll(r),e.core.drawAreaEffects.prepareAutoScroll(r)):this.touches.length>=2&&this.touchTwoFingerStarted&&e.core.zopHandler.continueZoom(r,o)),e.core.redraw(!1),!1}mouseMove(t){if(t.preventDefault(),e.core.touchEnabledDevice){this.removeAllMouseEvents();return}const r=t.pageY*e.core.ratio*e.core.domRatio,s=t.pageX*e.core.ratio*e.core.domRatio,o=(t.pageY-e.core.domHandler.screenTopForDOM)*e.core.ratio*e.core.domRatio,l=(t.pageX-e.core.domHandler.screenLeftForDOM)*e.core.ratio*e.core.domRatio;if(this.mouseLeftDown){if(this.longPressStartX!==s&&this.longPressStartY!==r&&(this.canBeAClick=!1),e.core.appStateHandler.isPopupEditRecurringMenuShowing)return;this.mouseWasDragged+=1,e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfContinueDraggingMarker(r,0),!this.canBeAClick&&this.startedInTitleArea?e.core.mainMenuControl.continueDragging(l,o):e.core.appStateHandler.isAddButtonBeingDragged?e.core.addButtonControl.continueDragging(l,o):!e.core.appStateHandler.isDraggingTopMarker&&!e.core.appStateHandler.isDraggingBottomMarker&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isAddButtonBeingDragged&&(e.core.zopHandler.continueScroll(r),e.core.drawAreaEffects.prepareAutoScroll(r)),e.core.redraw(!1)}this.mouseRightDown&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(e.core.zopHandler.continueZoom(this.mouseZoomY,r),e.core.redraw(!1));let c=e.core.calendarEventHandler.selectCalendarEventObjectAt(l,o);return e.core.postRequest("setHoveringPath",(c==null?void 0:c.eventId.split(",").map(p=>parseInt(p)))??void 0),document.documentElement.style.cursor=c?"pointer":"default",!1}touchEnd(t){if(t.preventDefault(),!this.touchOneFingerStarted&&!this.touchTwoFingerStarted)return!1;var r=t.touches;return t=t.changedTouches,e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfEndDraggingMarker(),this.currentPressStartedTime<e.core.getTimeStamp()-550&&(this.canBeAClick=!1),e.core.appStateHandler.isMainMenuBeingDragged?e.core.mainMenuControl.endDragging():e.core.appStateHandler.isAddButtonBeingDragged?e.core.addButtonControl.endDragging():!this.touchOneFingerStarted||t.length!==1||r!==void 0&&r.length!==0||(this.canBeAClick===!1?e.core.drawAreaEffects.startAutoScroll(this.getTouchY(t[0])*e.core.ratio*e.core.domRatio):this.click(t[0].pageX*e.core.ratio*e.core.domRatio,t[0].pageY*e.core.ratio*e.core.domRatio)),e.core.zopHandler.endScroll(),e.core.zopHandler.endZoom(),this.touchTwoFingerStarted=this.touchOneFingerStarted=this.canBeAClick=!1,this.timeWhenLastTouchEnded=e.core.getTimeStamp(),e.core.redraw(!1),!1}mouseUp(t){return t.preventDefault(),e.core.touchEnabledDevice?this.removeAllMouseEvents():(e.core.appStateHandler.isMainMenuBeingDragged?(this.mouseLeftDown=!1,e.core.mainMenuControl.endDragging()):e.core.appStateHandler.isAddButtonBeingDragged?(this.mouseLeftDown=!1,e.core.addButtonControl.endDragging()):this.mouseLeftDown&&(this.mouseLeftDown=!1),e.core.appStateHandler.isDraggingTopMarker||e.core.appStateHandler.isDraggingBottomMarker||(e.core.zopHandler.endScroll(),this.mouseWasDragged>3||this.currentPressStartedTime<e.core.getTimeStamp()-650?(this.mouseWasDragged=0,e.core.drawAreaEffects.prepareAutoScroll(t.pageY*e.core.ratio*e.core.domRatio,200),e.core.drawAreaEffects.startAutoScroll(t.pageY*e.core.ratio*e.core.domRatio)):this.click(t.pageX*e.core.ratio*e.core.domRatio,t.pageY*e.core.ratio*e.core.domRatio),e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfEndDraggingMarker())),this.mouseRightDown&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(this.mouseRightDown=!1,e.core.zopHandler.endZoom()),this.canBeAClick=!1,e.core.redraw(!1),!1}mouseScroll(t){t.preventDefault();const r=(t.pageY-e.core.domHandler.screenTopForDOM)*e.core.ratio*e.core.domRatio;if((t.pageX-e.core.domHandler.screenLeftForDOM)*e.core.ratio*e.core.domRatio,!t.ctrlKey){e.core.drawAreaEffects.stopAllEffects(),t.deltaY,e.core.zopHandler.startScroll(r),e.core.zopHandler.continueScroll(r-t.deltaY),e.core.redraw(!1);return}var s=-t.deltaY;this.timeForLastScrollEvent=e.core.getTimeStamp();var o=e.core.zopHandler.topZOP,l=e.core.zopHandler.bottomZOP;e.core.drawAreaEffects.azRunning&&(o=(e.core.drawAreaEffects.azGoalTopZOP+o)/2,l=(e.core.drawAreaEffects.azGoalBottomZOP+l)/2),t=e.core.zopHandler.getZOPFromPixel((t.pageY-(e.core.domHandler.screenTopForDOM*e.core.ratio+e.core.zopDrawArea.zopAreaTop))*e.core.ratio*e.core.domRatio);const c=(t-l)/(o-l);return s*=.01*(l-o),o=o+s*(1-c),l=l-s*c,e.core.drawAreaEffects.stopAllEffects(),e.core.zopHandler.setZoom(o,l,e.core.zopHandler.topPixel,e.core.zopHandler.bottomPixel),!1}mouseLeave(t){e.core.touchEnabledDevice===!0?this.removeAllMouseEvents():(e.core.appStateHandler.isAddButtonBeingDragged=!1,(t.pageX*e.core.ratio*e.core.domRatio>e.core.domHandler.screenWidth||t.pageY*e.core.ratio*e.core.domRatio>e.core.domHandler.screenHeight)&&(this.mouseLeftDown&&(this.mouseLeftDown=!1,e.core.zopHandler.endScroll(),e.core.drawAreaEffects.stopAllEffects()),this.mouseRightDown&&(this.mouseRightDown=!1,e.core.zopHandler.endZoom()),e.core.appStateHandler.isMainMenuBeingDragged?(this.mouseLeftDown=!1,e.core.mainMenuControl.endDragging()):e.core.appStateHandler.isAddButtonBeingDragged&&(this.mouseLeftDown=!1,e.core.addButtonControl.endDragging())),e.core.redraw(!1))}touchLeave(t){e.core.appStateHandler.isAddButtonBeingDragged=!1,e.core.zopHandler.endScroll(),e.core.drawAreaEffects.stopAllEffects(),e.core.zopHandler.endZoom(),e.core.redraw(!1)}}e.EventHandler=Br;class zr{constructor(){this.currentDelta=0,this.currentZoom=1,this.absoluteMinZoom=.05,this.absoluteMaxZoom=9e3,this.zopSizeOf5Minutes=0,this.zopSizeOfHour=0,this.zopSizeOfDay=0,this.zopSizeOfWeek=0,this.zopSizeOfMonth=0,this.zopSizeOfYear=0,this.originalZOP2=0,this.originalZOP=0,this.currentYPixel2=0,this.currentYPixel=0,this.originalYPixel2=0,this.originalYPixel=0,this.originalZoom=0,this.originalDelta=0,this.absoluteMaxZOP=0,this.absoluteMinZOP=0,this.maxScrollSpeed=3,this.rightPixel=0,this.leftPixel=0,this.bottomPixel=0,this.topPixel=0,this.extendedBottomZOP=0,this.extendedTopZOP=0,this.bottomZOP=0,this.topZOP=0,this.scrolling=!1}setAbsoluteMinMax(t,r){this.absoluteMinZOP=t,this.absoluteMaxZOP=r,this.zopSizeOfYear=this.dateToZOP(new Date(2005,0,1,0,0,0))-this.dateToZOP(new Date(2004,0,1,0,0,0)),this.zopSizeOfMonth=this.dateToZOP(new Date(2005,2,1,0,0,0))-this.dateToZOP(new Date(2005,1,1,0,0,0)),this.zopSizeOfWeek=this.dateToZOP(new Date(2005,2,8,0,0,0))-this.dateToZOP(new Date(2005,2,1,0,0,0)),this.zopSizeOfDay=this.dateToZOP(new Date(2005,1,2,0,0,0))-this.dateToZOP(new Date(2005,1,1,0,0,0)),this.zopSizeOfHour=this.dateToZOP(new Date(2005,1,1,2,0,0))-this.dateToZOP(new Date(2005,1,1,1,0,0)),this.zopSizeOf5Minutes=this.dateToZOP(new Date(2005,1,1,2,10,0))-this.dateToZOP(new Date(2005,1,1,2,5,0))}initSize(t,r,s,o){this.topPixel=t,this.bottomPixel=r,this.leftPixel=s,this.rightPixel=o}getZoom(){return this.currentZoom}setZoom(t,r,s,o){this.currentZoom=(r-t)/(o-s),this.currentZoom===0&&(this.currentZoom=1e3),this.validateZoomValues(),this.currentDelta=t-(s-this.topPixel)*this.currentZoom,this.setZOPBounds(this.getZOPFromPixel2(this.topPixel,this.currentZoom,this.currentDelta),this.bottomZOP=this.getZOPFromPixel2(this.bottomPixel,this.currentZoom,this.currentDelta))}setZOPBounds(t,r){this.topZOP=t,this.bottomZOP=r;var s=this.bottomZOP-this.topZOP;this.extendedTopZOP=this.topZOP-s,this.extendedBottomZOP=this.bottomZOP+s}isObjectAboveScreen(t){return t<this.topZOP}isObjectBelowScreen(t){return t>this.bottomZOP}isObjectAboveExtendedScreen(t){return t<this.extendedTopZOP}isObjectBelowExtendedScreen(t){return t>this.extendedBottomZOP}startScroll(t){this.originalDelta=this.currentDelta,this.currentYPixel=this.originalYPixel=t,this.scrolling=!0}continueScroll(t){if(this.scrolling){e.core.getTimeStamp(),this.originalYPixel!=t&&e.core.getTimeStamp();var r=this.getZOPFromPixel2(this.originalYPixel,this.currentZoom,this.originalDelta);t=this.getZOPFromPixel2(t,this.currentZoom,this.originalDelta),this.currentDelta=this.originalDelta-(t-r),this.setZOPBounds(this.getZOPFromPixel2(this.topPixel,this.currentZoom,this.currentDelta),this.bottomZOP=this.getZOPFromPixel2(this.bottomPixel,this.currentZoom,this.currentDelta)),this.validateZoomValues()}}endScroll(){this.scrolling=!1}startZoom(t,r){if(this.originalDelta=this.currentDelta,this.originalZoom=this.currentZoom,this.originalYPixel=t,this.originalYPixel2=r,this.originalYPixel>this.originalYPixel2){var s=this.originalYPixel;this.originalYPixel=this.originalYPixel2,this.originalYPixel2=s}50>this.originalYPixel2-this.originalYPixel&&(this.originalYPixel2=this.originalYPixel+50),this.originalZOP=this.getZOPFromPixel2(this.originalYPixel,this.originalZoom,this.originalDelta),this.originalZOP2=this.getZOPFromPixel2(this.originalYPixel2,this.originalZoom,this.originalDelta)}continueZoom(t,r){if(this.currentYPixel=t,this.currentYPixel2=r,this.currentYPixel>this.currentYPixel2){var s=this.currentYPixel;this.currentYPixel=this.currentYPixel2,this.currentYPixel2=s}this.currentYPixel2-this.currentYPixel>50&&(this.setZoom(this.originalZOP,this.originalZOP2,this.currentYPixel,this.currentYPixel2),this.validateZoomValues())}endZoom(){}showInitialBounds(t){var r=e.core.calendarDataProxy&&e.core.calendarDataProxy.demoVideoSpecial&&500<this.currentZoom,o=this.dateToZOP(new Date),l=e.core.calendarDateHandler.getCalendarDateObject(o,e.CalendarDateObjectType.Day,e.core.calendarDateHandler.rootCalendarDateObjects[0]);if(5>l.calendarEvents.length&&(l=e.core.calendarDateHandler.getCalendarDateObject(o,e.CalendarDateObjectType.Month,e.core.calendarDateHandler.rootCalendarDateObjects[0])),4>l.calendarEvents.length&&(l=e.core.calendarDateHandler.getCalendarDateObject(o,e.CalendarDateObjectType.Year,e.core.calendarDateHandler.rootCalendarDateObjects[0])),l.calendarEvents.length===0)o=this.dateToZOP(D().add(-2,"days").toDate()),l=this.dateToZOP(D().add(8,"days").toDate());else var s=10*(l.endZOP-l.startZOP)/l.calendarEvents.length,l=o+.8*s,o=Math.max(o-.2*s,this.dateToZOP(D().add(-7,"days").toDate())),l=Math.min(l,this.dateToZOP(D().add(30,"days").toDate()));t?e.core.drawAreaEffects.startAutoZoom(o,l,r,function(){}):this.setZOPBounds(o,l),e.core.calendarDataProxy&&e.core.calendarDataProxy.analyticsValue("Value","Start","Initial Zoom",l-o)}validateZoomValues(){this.currentZoom<this.absoluteMinZoom&&(this.currentZoom=this.absoluteMinZoom,e.core.drawAreaEffects.stopAllEffects()),this.currentZoom>this.absoluteMaxZoom&&(this.currentZoom=this.absoluteMaxZoom,e.core.drawAreaEffects.stopAllEffects());var t=this.currentDelta,r=this.getZOPFromPixel2(this.bottomPixel,this.currentZoom,this.currentDelta),s=r-t;this.currentDelta<this.absoluteMinZOP&&(t=this.currentDelta=this.absoluteMinZOP,r=t+s,this.originalYPixel=this.currentYPixel,this.setZoom(t,r,this.topPixel,this.bottomPixel)),r>this.absoluteMaxZOP&&(r=this.absoluteMaxZOP,t=this.currentDelta=Math.max(this.absoluteMinZOP,r-s),this.originalYPixel=this.currentYPixel,this.originalYPixel2=this.currentYPixel2,this.setZoom(t,r,this.topPixel,this.bottomPixel))}getPixelFromZOP(t){return this.currentZoom===0?0:Math.floor((t-this.currentDelta)/this.currentZoom+this.topPixel)}get2PixelsFromZOPsForVErticalText(t,r){if(this.currentZoom===0)return new e.NumberPair(0,0);var o=(r-this.currentDelta)/this.currentZoom+this.topPixel,s=Math.floor(o-((t-this.currentDelta)/this.currentZoom+this.topPixel)),o=Math.floor(o);return new e.NumberPair(o-s,o)}getZOPFromPixel2(t,r,s){return(t-this.topPixel)*r+s}getZOPFromPixel(t){return this.getZOPFromPixel2(t,this.currentZoom,this.currentDelta)}getZOPFromPixelDiff(t){return this.getZOPFromPixel2(t,this.currentZoom,this.currentDelta)-this.getZOPFromPixel2(0,this.currentZoom,this.currentDelta)}getFractionalPixelDistance(t){return this.currentZoom===0?0:t/this.currentZoom}updateStartEndZOP(t){t.startZOP=this.dateToZOP(t.startDateTime),t.endZOP=this.dateToZOP(t.endDateTime)-1}dateToZOP(t){return(Number(t)-e.core.settings.globalMinDate)/6e4}getDateFromZOP(t){return new Date(6e4*t+e.core.settings.globalMinDate)}getPixelFromDate(t){return this.getPixelFromZOP(this.dateToZOP(t))}getDateFromPixel(t){return this.getDateFromZOP(this.getZOPFromPixel(t))}getZOPSizeOf(t){switch(t){case e.CalendarDateObjectType.Minutes5:return this.zopSizeOf5Minutes;case e.CalendarDateObjectType.Hour:return this.zopSizeOfHour;case e.CalendarDateObjectType.Day:return this.zopSizeOfDay;case e.CalendarDateObjectType.Week:return this.zopSizeOfWeek;case e.CalendarDateObjectType.Month:return this.zopSizeOfMonth;case e.CalendarDateObjectType.Year:return this.zopSizeOfYear;default:throw Error("Unhandled CalendarDateObjectType")}}getPixelSizeOf(t){switch(t){case e.CalendarDateObjectType.Minutes5:return this.getPixelSizeOf5Minutes();case e.CalendarDateObjectType.Hour:return this.getPixelSizeOfHour();case e.CalendarDateObjectType.Day:return this.getPixelSizeOfDay();case e.CalendarDateObjectType.Week:return this.getPixelSizeOfWeek();case e.CalendarDateObjectType.Month:return this.getPixelSizeOfMonth();case e.CalendarDateObjectType.Year:return this.getPixelSizeOfYear();default:throw Error("Unhandled CalendarDateObjectType")}}getPixelSizeOfYear(){return this.zopSizeOfYear/this.currentZoom}getPixelSizeOfMonth(){return this.zopSizeOfMonth/this.currentZoom}getPixelSizeOfWeek(){return this.zopSizeOfWeek/this.currentZoom}getPixelSizeOfDay(){return this.zopSizeOfDay/this.currentZoom}getPixelSizeOfHour(){return this.zopSizeOfHour/this.currentZoom}getPixelSizeOf5Minutes(){return this.zopSizeOf5Minutes/this.currentZoom}}e.ZopHandler=zr;class Ir{constructor(){this.cacheKeys=[],this.cacheObjects=[],this.nextCacheKeys=[],this.nextCacheObjects=[],this.lastIndex=-1}startNewRound(){this.lastIndex=-1,this.cacheKeys=this.nextCacheKeys,this.cacheObjects=this.nextCacheObjects,this.nextCacheKeys=[],this.nextCacheObjects=[]}emptyCache(){this.lastIndex=-1,this.cacheKeys=[],this.cacheObjects=[],this.nextCacheKeys=[],this.nextCacheObjects=[]}findObject(t){var r=this.lastIndex+1;if(1e4<this.cacheKeys.length)throw Error("Cache too big!");for(;this.cacheKeys[r]!==t&&r<this.cacheKeys.length;)r++;if(r<this.cacheKeys.length)return this.nextCacheKeys.push(this.cacheKeys[r]),this.nextCacheObjects.push(this.cacheObjects[r]),this.lastIndex=r,this.cacheObjects[r];if(0<this.lastIndex)return this.lastIndex=0,this.findObject(t)}addObject(t,r){this.nextCacheKeys.push(t),this.nextCacheObjects.push(r)}}e.SpeedCache=Ir;class Wr{constructor(){this.keys=[],this.values=[]}put(t,r){this.keys.push(t),this.values.push(r)}find(t){var r;for(r=0;r<this.keys.length;r++)if(this.keys[r]==t)return this.values[r]}}e.Hashtable=Wr;class _r{constructor(...t){var r,s,o,l;if(this.isGraded=!1,this.grade=0,this.isHovered=!1,this.isDetail=!1,t.length>1)this.summary=t[0],this.description=t[1],this.location=t[2],this.startDateTime=t[3],this.endDateTime=t[4],t[3].getHours()===0&&t[3].getMinutes()===0&&(this.endDateTime=(s=(r=e.core)==null?void 0:r.calendarDateHandler)==null?void 0:s.addMinutes(t[3],-1)),e.core.zopHandler.updateStartEndZOP(this),this.isGraded=!1,this.grade=0,this.calendarId=t[5],this.eventId=t[6],this.color="",this.isHovered=!1,this.isDetail=!1,this.mwNode=void 0;else{const{summary:c,description:p,location:f,startDate:g,endDate:m,calendarId:S,eventId:M,color:_,isHovered:j,isDetail:B,mwNode:Ce}=t[0];this.summary=c||"",this.description=p||"",this.location=f,this.startDateTime=g,this.endDateTime=m,m.getHours()===0&&m.getMinutes()===0&&(this.endDateTime=(l=(o=e.core)==null?void 0:o.calendarDateHandler)==null?void 0:l.addMinutes(m,-1)),e.core.zopHandler.updateStartEndZOP(this),this.isGraded=!1,this.grade=0,this.calendarId=S,this.eventId=M,this.color=_,this.isHovered=j,this.isDetail=B,this.mwNode=Ce}}}e.CalendarEventObject=_r;class Lr{constructor(t,r,s,o,l,c,p){this.id=t,this.name=r,this.colorId=o,this.visibility=l,this.canEditCalendar=c,this.canEditCalendarEvents=p,this.defaultReminders=s,this.allEventsAreFullDay=!0,this.countEvents=0}}e.CalendarObject=Lr;class Rr{constructor(t){this.minutes=+t}}e.Reminder=Rr;class Zr{constructor(t,r,s){this.details=[],this.possibleFullEvents=[],this.calendarEvents=[],this.calendarDateObjectType=t,this.detailsArePopulated=!0,this.isReadyForParentToBeShown=!1,this.startDateTime=r,this.endDateTime=new Date(this.startDateTime.getTime()),this.startZOP=e.core.zopHandler.dateToZOP(this.startDateTime),this.isRed=!1,t===e.CalendarDateObjectType.Minutes5&&(this.endDateTime.setMinutes(this.startDateTime.getMinutes()+5),e.core.commonUserSettings.use24hFormat?this.shortText=D(this.startDateTime).format("HH"):(this.shortText=D(this.startDateTime).format("h"),this.ampm=D(this.startDateTime).format("A")),this.shortText2=10>this.startDateTime.getMinutes()?"0"+this.startDateTime.getMinutes():""+this.startDateTime.getMinutes(),this.startDateTime.getHours(),this.startDateTime.getHours(),this.longText=this.shortText,this.detailsArePopulated=!0),t===e.CalendarDateObjectType.Hour&&(this.endDateTime.setHours(this.startDateTime.getHours()+1),e.core.commonUserSettings.use24hFormat?(this.shortText=D(this.startDateTime).format("HH"),this.shortText2=10>this.startDateTime.getMinutes()?"0"+this.startDateTime.getMinutes():""+this.startDateTime.getMinutes(),this.longText=this.shortText+":"+this.shortText2):(this.shortText=D(this.startDateTime).format("h"),this.shortText2=10>this.startDateTime.getMinutes()?"0"+this.startDateTime.getMinutes():""+this.startDateTime.getMinutes(),this.shortText2=="00"&&(this.shortText2=void 0),this.ampm=D(this.startDateTime).format("A"),this.longText=this.shortText+(this.shortText2?":"+this.shortText2:"")+" "+this.ampm),this.detailsArePopulated=!1),t===e.CalendarDateObjectType.Day&&(this.endDateTime.setDate(this.startDateTime.getDate()+1),this.shortText=this.startDateTime.getDate().toString(),this.shortText2=e.core.helper.weekdayShort.find(this.startDateTime.getDay()),this.shortText2==null&&(this.shortText2=D(this.startDateTime).format("ddd"),e.core.helper.weekdayShort.put(this.startDateTime.getDay(),this.shortText2),e.core.helper.weekdayShort.put(this.startDateTime.getDay()+7,this.shortText2)),this.longText=e.core.helper.weekdayLong.find(this.startDateTime.getDay()),this.longText==null&&(this.longText=D(this.startDateTime).format("dddd"),e.core.helper.weekdayLong.put(this.startDateTime.getDay(),this.longText),e.core.helper.weekdayLong.put(this.startDateTime.getDay()+7,this.longText)),this.longText=this.startDateTime.getDate()+" "+this.longText,this.detailsArePopulated=!1,this.startDateTime.getDay()===e.core.settings.redDay&&(this.isRed=!0)),t===e.CalendarDateObjectType.Week&&(this.endDateTime.setDate(this.endDateTime.getDate()+7),this.detailsArePopulated=!0,this.details=[{},{},{},{},{},{},{}]),t===e.CalendarDateObjectType.Month&&(this.endDateTime.setMonth(this.startDateTime.getMonth()+1),this.shortText=e.core.helper.monthesShort.find(this.startDateTime.getMonth()),this.shortText==null&&(this.shortText=D(this.startDateTime).format("MMM"),e.core.helper.monthesShort.put(this.startDateTime.getMonth(),this.shortText)),this.longText=e.core.helper.monthesLong.find(this.startDateTime.getTime()),this.longText==null&&(this.longText=D(this.startDateTime).format("MMMM YYYY"),e.core.helper.monthesLong.put(this.startDateTime.getTime(),this.longText)),this.parentText="",this.detailsArePopulated=!1),t===e.CalendarDateObjectType.Year&&(this.endDateTime.setFullYear(this.startDateTime.getFullYear()+1),this.shortText=""+this.startDateTime.getFullYear(),this.longText=""+this.startDateTime.getFullYear(),this.detailsArePopulated=!1),t===e.CalendarDateObjectType.Title&&(this.endDateTime=s,this.longText="",this.detailsArePopulated=!1),this.endZOP=e.core.zopHandler.dateToZOP(this.endDateTime)}}e.CalendarDateObject=Zr;class jr{constructor(t,r,s,o){this.calendarEvent=t,this.calendarDate=r,this.calendarDateDetail=s,this.position=o}}e.PossibleEventTagsAtThisZoomLevel=jr;class Nr{constructor(t,r){this.extraSpace=0,this.calendarEventTagWrappers=[],this.parentBottomZOP=this.parentTopZOP=0,this.calendarDateObject=t,this.availableSpace=r}}e.CalendarEventTagGroup=Nr;class Yr{constructor(t){this.wantedPixelShift=0,this.right=0,this.left=0,this.position=0,this.isPartial=!1,this.parentCollidingFullEventWrappers=[],this.visible=!0,this.calendarEvent=t}}e.CalendarEventTagWrapper=Yr;class wr{constructor(t){this.widthPercentWhenTagsExist=0,this.widthPercent=0,this.preferredWidth=void 0,this.right=void 0,this.left=void 0,this.collisionsHaveBeenChecked=!1,this.parentCollidingFullEventWrappers=[],this.childCollidingFullEventWrappers=[],this.childCollidingEventTagWrappers=[],this.calendarEvent=t}}e.CalendarFullEventWrapper=wr;class Ur{constructor(){this.closeToBellow=this.closeToAbove=!1}}e.Badge=Ur;class Gr{constructor(){this.left=this.maxZOP=this.minZOP=0}}e.OccupiedSpaceObject=Gr;class Xr{constructor(){this.parentCollidingFullEventWrapper=void 0,this.maxZOP=this.minZOP=0}}e.TagSurface=Xr;class qr{constructor(){}}e.TagDataToPaint=qr;class $r{constructor(t,r){this.value1=t,this.value2=r}}e.NumberPair=$r;class Kr{constructor(t,r){this.valueNumber=t,this.valueString=r}}e.NumberStringPair=Kr;class Jr{constructor(t){this.absoluteMinDate=D("1900-01-01 00:00:00").toDate(),this.absoluteMaxDate=D("2100-01-01 00:00:00").toDate(),this.globalMinDate=Number(D("1900-01-01 00:00:00").toDate()),this.margin=0,this.redDay=0,this.menuIconHeight=0,this.menuItemHeight=0,this.menuTextHeight=0,this.title2FontSize=0,this.title1FontSize=0,this.title0FontSize=0,this.weekCircleDiameter=0,this.innerTopMaxMargin=0,this.innerLeftMargin=0,this.titleWidth=0,this.dateBigTextSize=0,this.badgeTextHeight=0,this.tagTextHeight=0,this.tagColorWidth=0,this.minDateHeight=0,this.tagHeight=0,this.rightToLeft=!0,this.eventsFarLeft=0,this.useMiniBadges=!1,this.zoom=this.menuButtonBottom=this.badgesLeft=0,this.allowWeekNumber=!0,this.lineThickness=2,this.themes=new e.Dictionary,this.reloadThemesSettings(t)}reloadThemesSettings(t){this.themes.add("0",new va),t.licenceDarkTheme&&this.themes.add("3",new fa),t.licenceCandyTheme&&this.themes.add("4",new Ta),this.themes.containsKey(t.theme)||(t.theme="0"),this.theme=this.themes[t.theme]}reloadTheme(){this.themes.containsKey(e.core.commonUserSettings.theme)||(e.core.commonUserSettings.theme="0"),this.theme=this.themes[e.core.commonUserSettings.theme]}}e.Settings=Jr;class Qr{constructor(){this.themeName="OneView Calendar Original",this.colorBlack="#000000",this.colorTitleBackground=this.colorDark="#524864",this.colorTitleText="#EFEAE1",this.colorGrayText="#454545",this.colorHorizontalTitle=this.colorDarkText="#000000",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorRedDayText="#C91E1E",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorWhite=this.colorLight=this.colorBackground=this.colorTagText="#EFEAE1",this.colorRed="#524864",this.colorMarker="#4C88DB",this.colorBlue="#2890D1",this.colorAddButton="#3E5C87",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberText=this.colorWeekNumberShadow="#EFEAE1",this.colorWeekNumberCircle="#524864",this.eventColors="#556783 #87547B #5A837C #785A7F #AF9165 #8B5956 #51717D #4D2242 #5E9172 #381C46 #A07466 #B9AD73 #29344D #936F8B #305242 #796E83 #594E45 #7A6B5B #538B8B #813F59 #7C978C #7A3C84 #64302F #785642 #3A3A3A #828282 #484848 #909090 #696969 #565656".split(" "),this.eventTextColors="#EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1".split(" "),this.eventColorsForFirstCalendar=["#916181","#916181","#916181","#916181","#916181"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=50,this.triangleColorStr="rgba( 39, 49, 66, ",this.triangleTextNudgeX=2,this.triangleTextNudgeY=1,this.titleBarFont="Quicksand",this.titleBarFontSize=28,this.titleBarFontBold="Quicksand",this.textFontThin=this.textFontBold=this.textFont="Arial",this.badgeColorIsTagTextColor=!1,this.addButtonWidthFactor=.9}}e.OriginalColorTheme=Qr;class Or{constructor(){this.themeName="Vivid Material",this.colorBlack="#000000",this.colorDark="#01518E",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorTitleBackground="#01518E",this.colorTitleText="#FFFFFF",this.colorGrayText="#454545",this.colorHorizontalTitle=this.colorDarkText="#000000",this.colorRedDayText="#C91E1E",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorWhite=this.colorLight=this.colorBackground=this.colorTagText="#FFFFFF",this.colorRed="#01518E",this.colorMarker="#4C88DB",this.colorBlue="#2890D1",this.colorAddButton="#01518E",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#E9EAEC",this.colorWeekNumberText="#FFFFFF",this.colorWeekNumberCircle="#707070",this.eventColors="#016DD5 #E91E63 #009688 #FF9800 #9C27B0 #70A83C #F23E2B #965F30 #FF3886 #38C0AF #FFA938 #CC43E4 #85C848 #FF543E #BE7E46 #8E1C4E #11635B #A66E1B #830BCD #537200 #FF5513 #63452B #757575 #656565 #555555 #808080 #707070 #606060".split(" "),this.eventTextColors="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=50,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=this.triangleTextNudgeX=0,this.titleBarFont="RobotoL",this.titleBarFontSize=16,this.titleBarFontBold="RobotoB",this.textFont="Roboto",this.textFontBold="RobotoB",this.textFontThin="RobotoL",this.badgeColorIsTagTextColor=!1,this.addButtonWidthFactor=1.1}}e.MaterialColorTheme=Or;class va{constructor(){this.themeName="Free theme",this.colorBlack="#000000",this.colorDark="#233142",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorTitleBackground="#ffffff",this.colorTitleText="#334155",this.colorGrayText="#454545",this.colorDarkText="#7B838E",this.colorHorizontalTitle="#4B5056",this.colorRedDayText="#4f46e6",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2="#E50081",this.colorTag="#E50081",this.colorWhite="#FFFFFF",this.colorLight="#FFFFFF",this.colorBackground="#FFFFFF",this.colorTagText="#FFFFFF",this.colorRed="#233142",this.colorMarker="#4338ca",this.colorBlue="#2890D1",this.colorAddButton="#233142",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#E9EAEC",this.colorWeekNumberText="#233142",this.colorWeekNumberCircle="#FFFFFF",this.eventColors="#3878DB #E12FB7 #22B297 #AD45C6 #FF9800 #EF4134 #2291BB #94006C #1ECD63 #620094 #FF6633 #F3C600 #173B91 #D65BBE #00793F #926DB5 #775234 #A5713A #00C1C4 #F4116D #5FBF98 #D905FF #C6110D #C24F05 #394E6B #967292 #7D9673 #454545 #757575 #A0A0A0".split(" "),this.eventTextColors="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=40,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=0,this.triangleTextNudgeX=0,this.titleBarFont="system-ui",this.titleBarFontSize=16,this.titleBarFontBold="system-ui",this.textFont="system-ui",this.textFontBold="system-ui",this.textFontThin="system-ui",this.badgeColorIsTagTextColor=!1,this.addButtonWidthFactor=1.1}}e.FreeTheme=va;class fa{constructor(){this.themeName="Dark theme",this.colorBlack="#000000",this.colorDark="#333333",this.colorBigDateDividerStr="rgba( 133, 136, 131, ",this.colorTitleBackground="#0e162a",this.colorTitleText="#95a2b8",this.colorGrayText="#808080",this.colorDarkText="#95a3b8",this.colorHorizontalTitle="#7C7C7C",this.colorRedDayText="#c7d2ff",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorTagText="#FFFFFF",this.colorBackground="#0f162a",this.colorWhite=this.colorLight="#FFFFFF",this.colorRed="#333333",this.colorMarker="#e0e7ff",this.colorBlue="#2890D1",this.colorAddButton="#333333",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#2D2B2A",this.colorWeekNumberText="#A49C91",this.colorWeekNumberCircle="#191919",this.eventColors="#3878DB #E12FB7 #22B297 #AD45C6 #FF9800 #EF4134 #2291BB #94006C #1ECD63 #620094 #FF6633 #F3C600 #173B91 #D65BBE #00793F #926DB5 #775234 #926DB5 #00C1C4 #F4116D #5FBF98 #D905FF #C6110D #C24F05 #394E6B #967292 #7D9673 #454545 #757575 #A0A0A0".split(" "),this.eventTextColors="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=40,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=this.triangleTextNudgeX=0,this.titleBarFont="system-ui",this.titleBarFontSize=16,this.titleBarFontBold="system-ui",this.textFont="system-ui",this.textFontBold="system-ui",this.textFontThin="system-ui",this.badgeColorIsTagTextColor=!0,this.addButtonWidthFactor=1.1}}e.DarkTheme=fa;class Ta{constructor(){this.themeName="Candy theme",this.colorBlack="#000000",this.colorDark="#AA6990",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorTitleBackground="#AA6990",this.colorTitleText="#FFFFFF",this.colorGrayText="#454545",this.colorDarkText="#7B838E",this.colorHorizontalTitle="#4B5056",this.colorRedDayText="#E26C8E",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorWhite=this.colorLight=this.colorBackground=this.colorTagText="#FFFFFF",this.colorRed="#AA6990",this.colorMarker="#E26C8E",this.colorBlue="#2890D1",this.colorAddButton="#AA6990",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#E9EAEC",this.colorWeekNumberText="#233142",this.colorWeekNumberCircle="#FFFFFF",this.eventColors="#AFC9F1 #F3ACE2 #A7E0D5 #DEB5E8 #FFD699 #F9B3AE #A7D3E4 #D499C4 #A5EBC1 #C099D4 #FFC2AD #FAE899 #A2B1D3 #EFBDE5 #99C9B2 #D3C5E1 #C9BAAE #DBC6B0 #99E6E7 #FBA0C5 #BFE5D6 #F09BFF #E8A09E #E7B99B #B0B8C4 #D5C7D3 #CBD5C7 #999999 #BABABA #D9D9D9".split(" "),this.eventTextColors="#234A88 #8C1D71 #156E5E #6B2B7B #9E5E00 #942820 #155A74 #6F0051 #137F3D #4A006F #9E3F20 #816900 #112C6D #853876 #004B27 #4D3A60 #4A3320 #664624 #00787A #970B44 #326551 #87039E #950D0A #783103 #243244 #60495D #50604A #2C2C2C #4B4B4B #666666".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!0,this.titleWidthFactor=50,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=this.triangleTextNudgeX=0,this.titleBarFont="RobotoL",this.titleBarFontSize=16,this.titleBarFontBold="RobotoB",this.textFont="Roboto",this.textFontBold="RobotoB",this.textFontThin="RobotoL",this.badgeColorIsTagTextColor=!0,this.addButtonWidthFactor=1.1}}e.CandyTheme=Ta;class Vr{constructor(t){this.calendars=[],this.debugtext="",this.touchEnabledDevice=!1,this.charCodeReload="reload",this.charCodeLogin="cloud-download",this.charCodeLogout="cloud-upload",this.charCodeCalendars="layers",this.charCodeShop="shop",this.charCodeAbout="help",this.charCodeHeart="heart",this.charCodeSend="send",this.charCodeFake="drop",this.charCodeLogo="logo",this.charCodeSettings="cog",this.charCodeBack="arrow-left",this.charCodeMoveBlack="clock",this.charCodeMove="clock",this.charCodeEdit="pencil",this.charCodeDelete="trash",this.charCodeOk="check",this.charCodeCancel="cross",this.charCodeView="eye",this.charCodeNew="circle-plus",this.charCodeMenu="menu",this.charCodeAdd="add",this.alreadyRedrawing=!1,this.pageLoaded=!1,this.readyToGo=!1,this.redrawCountdown=0,this.maxTime=0,this.totalRedraws=0,this.totalTime=0,this.fps=0,this.lastDrawTime=0,this.hardRedraw=!1,this.debugCounter=0,this.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)}}(),this.firstTouchMade=!1,this.loadedFiles=[],this.loadingHandler=new e.LoadingHandler,this.isCordovaApp=!1,this.ratio=window.devicePixelRatio,this.helper=new e.Helper,this.commonUserSettings=new e.CommonUserSettings,this.zopHandler=new e.ZopHandler,this.settings=new e.Settings(this.commonUserSettings),this.drawArea=new e.DrawArea,this.eventHandler=new e.EventHandler,this.domHandler=new e.DomHandler,this.zopDrawArea=new e.ZopDrawArea,this.appStateHandler=new e.AppStateHandler,this.dateTimeSelectionHandler=new e.DateTimeSelectionHandler,this.postRequest=t}init(){this.setSizeSettings(),this.domHandler.init(),this.dateTimeSelectionHandler.init(),this.commonUserSettings.updateAppWithLang(),this.debugTexts=[],this.redrawCore=this.redrawCore.bind(this),this.loadGraphics(),this.loadDataProxy()}loadDataProxy(){this.populateCalendars()}redraw(t){this.hardRedraw=t,this.redrawCountdown=1}startDrawLoop(){this.redrawCountdown=1,this.redrawCore()}redrawCore(){this.debugtextDiv?this.debugtextDiv.innerText!==this.debugtext&&(this.debugtextDiv.innerText=this.debugtext):this.debugtextDiv=document.getElementById("debugtext");var t;if(!this.alreadyRedrawing&&this.readyToGo===!0&&e.core.appStateHandler.sizesInitiated&&0<this.redrawCountdown){this.lastDrawTime=this.getTimeStamp(),t=this.drawAreaEffects.runEffects(),this.alreadyRedrawing=!0,this.appStateHandler.isMainMenuShowing&&this.mainMenuControl.setSizes(),this.zopDrawArea.clearDrawArea(),this.drawArea.startNewRound(),this.addButtonControl.isAnimationActive()&&(t=!0,this.addButtonControl.doAnimation()),this.calendarDateHandler&&(this.appStateHandler.isMainMenuShowing&&this.mainMenuControl.redraw(),this.calendarDateHandler.paintCalendarDateObjects(),this.calendarEventHandler.paintCalendarEvents()),this.calendarDateHandler.paintWeekNumbers(),this.dateTimeSelectionHandler&&this.appStateHandler&&this.appStateHandler.isChoosingDateTimeForEvent?this.dateTimeSelectionHandler.paint():this.calendarDateHandler.paintMarker(new Date),this.mainMenuControl.redrawMenuIcon(),this.addButtonControl.redrawAddButton();var r=this.getTimeStamp(),s=Math.round(r-this.lastDrawTime);this.totalTime+=s,this.totalRedraws+=1,this.maxTime<s+20&&(this.maxTime=Math.max(s,this.maxTime)),100<this.totalRedraws&&(this.totalRedraws=this.totalTime=0),this.loadingHandler&&this.loadingHandler.showLoadingSpinnerIfNeeded(),this.lastDrawTime=r,this.zopDrawArea.debugTexts(this.debugTexts),this.debugCounter=0,this.alreadyRedrawing=!1,t||!this.loadingHandler||this.loadingHandler.isLoading()||--this.redrawCountdown}this.requestAnimFrame.call(window,this.redrawCore)}getTimeStamp(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():new Date().getTime()}reopenApp(){e.core.helper.canShowDatePicker()&&(this.onSuccessX=this.onSuccessX.bind(this),this.onErrorX=this.onErrorX.bind(this),datePicker.updateThemeColor(this.settings.theme.colorTitleBackground,this.commonUserSettings.theme=="3",this.onSuccessX,this.onErrorX))}onSuccessX(t){datePicker.restartApp(function(){},function(){})}onErrorX(t){}reloadAllCalendarData(){this.calendarDateHandler.reset(),this.calendarDataProxy?this.calendarDataProxy.reload():this.loadDataProxy()}persistChangesToCalendars(){e.core.calendarDataProxy.saveSettings()}populateCalendars(){var t=this;e.core&&e.core.pageLoaded?(this.calendarDataProxy=new e.DemoCalendarDataProxy,this.loadingHandler.startLoading(),this.calendarDataProxy.populateCalendarEvents(function(){t.dataLoadReady()})):(this.populateCalendars=this.populateCalendars.bind(this),setTimeout(this.populateCalendars,100))}dataLoadReady(){this.firstTouchMade||e.core.zopHandler.showInitialBounds(!0),e.core.calendarEventHandler.dataLoadReady(),e.core.loadingHandler.stopLoading(),this.redraw(!0)}dynamicallyLoadFile(t,r,s){var o=this;-1<this.loadedFiles.indexOf(t)?s&&s():r=="js"?(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",t),s&&(r.onload=function(){o.loadedFiles.push(t),s()}),document.getElementsByTagName("head")[0].appendChild(r)):r=="css"&&(r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(r),this.loadedFiles.push(t))}getCalendar(t){var r;for(r=0;r<this.calendars.length;r++)if(this.calendars[r].id===t)return this.calendars[r];return new e.CalendarObject("NoneZ","None",[],1,e.VisibilityType.Hidden,!0,!0)}setSizeSettings(){var t=Math.max(6.67,Math.min(10,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/20));this.settings.allowWeekNumber=9<t,this.settings.titleWidth=Math.ceil(this.settings.theme.titleWidthFactor*this.ratio*this.settings.zoom),this.settings.innerLeftMargin=this.settings.titleWidth/5,this.settings.innerTopMaxMargin=this.settings.innerLeftMargin,this.settings.badgesLeft=Math.floor(9.6*t*this.ratio*this.settings.zoom),this.settings.eventsFarLeft=Math.floor(11.5*t*this.ratio*this.settings.zoom),10>t&&(this.settings.eventsFarLeft=this.settings.badgesLeft+6*this.ratio*this.settings.zoom),this.settings.useMiniBadges=10>t,this.settings.tagHeight=Math.floor(26*this.ratio*this.settings.zoom),this.zopHandler.absoluteMinZoom=.001*this.settings.tagHeight/this.ratio,this.zopHandler.absoluteMaxZoom=4e5/this.settings.tagHeight,this.settings.minDateHeight=this.settings.tagHeight+2,this.settings.tagColorWidth=0,this.settings.margin=Math.floor(4*this.ratio*this.settings.zoom),this.settings.tagTextHeight=Math.min(14*this.ratio*this.settings.zoom,Math.floor(this.settings.tagHeight-this.settings.margin-Math.floor(this.settings.tagHeight/4))),this.settings.weekCircleDiameter=1.6*this.settings.tagTextHeight,this.settings.badgeTextHeight=Math.min(11*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*.8)),this.settings.dateBigTextSize=Math.min(16*this.ratio*this.settings.zoom,Math.ceil((this.settings.tagTextHeight+this.settings.tagHeight)/2)),this.settings.title0FontSize=Math.min(16*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*1.1)),this.settings.title1FontSize=Math.min(16*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*.9)),this.settings.title2FontSize=Math.min(16*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*.8)),this.settings.menuTextHeight=this.settings.title0FontSize,this.settings.menuItemHeight=3*this.settings.title0FontSize,this.settings.lineThickness=2*this.ratio*this.settings.zoom,this.settings.menuIconHeight=16>this.settings.menuTextHeight?1.6*t:26>this.settings.menuTextHeight?2.4*t:34>this.settings.menuTextHeight?3.2*t:4.8*t}showBackButtons(){return!new e.Helper().isAndroid()||!e.core.isCordovaApp}loadGraphics(){this.drawAreaEffects=new e.DrawAreaEffects,this.calendarEventHandler=new e.CalendarEventHandler,this.calendarDateHandler=new e.CalendarDateHandler;var t="onorientationchange"in window?"orientationchange":"resize";this.domHandler.resetDrawAreaSize_Delayed=this.domHandler.resetDrawAreaSize_Delayed.bind(this.domHandler),window.addEventListener(t,this.domHandler.resetDrawAreaSize_Delayed,!1),new ResizeObserver(this.domHandler.resetDrawAreaSize_Delayed).observe(document.documentElement),this.zopHandler.showInitialBounds(!1),this.readyToGo=!0,this.redraw(!0),this.preloadAllImages(),this.pageLoaded=!0}preloadAllImages(){this.preloadImage(this.charCodeReload),this.preloadImage(this.charCodeLogin),this.preloadImage(this.charCodeLogout),this.preloadImage(this.charCodeCalendars),this.preloadImage(this.charCodeAbout),this.preloadImage(this.charCodeFake),this.preloadImage(this.charCodeSettings),this.preloadImage(this.charCodeNew),this.preloadImage(this.charCodeView),this.preloadImage(this.charCodeEdit),this.preloadImage(this.charCodeDelete),this.preloadImage(this.charCodeOk),this.preloadImage(this.charCodeCancel),this.preloadImage(this.charCodeMenu),this.preloadImage(this.charCodeAdd)}preloadImage(t){e.core.drawArea.drawIcon(t,-100,-100,16,16)}}e.Core=Vr;class es{constructor(t){this.languages=new e.Dictionary;var r;for(r=0;r<et.length;r++)this.languages.add(et[r],ba[r]);for(this.defaultLanguageIndex=0,this.currentLanguageIndex=et.indexOf(t),0>this.currentLanguageIndex&&(this.currentLanguageIndex=this.defaultLanguageIndex),this.keys=[],r=0;r<Ht.length;r++)this.keys.push(Ht[r][this.defaultLanguageIndex])}static languageExists(t){return 0<=et.indexOf(t)||0<=ba.indexOf(t)}get(t){var r=this.keys.indexOf(t);return 0>r?t:(r=Ht[r][this.currentLanguageIndex],r!=null&&r!=""?r:t)}}e.Translate=es;class ts{constructor(){this._keys=[],this._values=[]}setup(t,r){for(var s=0;s<t.length;s++)this.add(t[s],r[s])}syncArrays(){for(var t=0;t<this._values.length;t++)this._values[t]=this[this._keys[t]]}add(t,r){this[t]=r,this._keys.push(t),this._values.push(r)}remove(t){var r=this._keys.indexOf(t,0);this._keys.splice(r,1),this._values.splice(r,1),delete this[t]}keys(){return this._keys}values(){return this._values}containsKey(t){return!(typeof this[t]>"u")}toLookup(){return this}}e.Dictionary=ts;class as{constructor(t,r){this.cachedTags=[],this.cachedDates=[],this.cachedDates2=[],this.cachedBadges=[],this.badgeRowHeight=0,this.date2RowHeight=0,this.dateRowHeight=0,this.tagRowHeight=0,this.badgeTextHeight=0,this.date2TextHeight=0,this.dateTextHeight=0,this.tagTextHeight=0,this.previousFont="",this.canvas=t,this.canvasContext=r}setTagHeight(t){if(this.tagTextHeight!==t){this.tagTextHeight=t,this.tagRowHeight=this.tagTextHeight+2,this.cachedTags=[],this.canvasContext.clearRect(this.tagsLeft,this.tagsTop,this.tagsWidth,this.tagsHeight),t=Math.floor(this.canvas.height/this.tagRowHeight);var r;for(r=0;r<t;r++)this.cachedTags.push(new d)}}setDateHeights(t,r){if(this.dateTextHeight!==t||this.date2TextHeight!==r){this.dateTextHeight=t,this.dateRowHeight=this.dateTextHeight+2,this.date2TextHeight=r,this.date2RowHeight=this.date2TextHeight+2,this.cachedDates=[],this.canvasContext.clearRect(this.datesLeft,this.datesTop,this.datesWidth,this.datesHeight);var s=Math.floor(this.canvas.height/(this.dateRowHeight+this.date2RowHeight)),o;for(o=0;o<s;o++)this.cachedDates.push(new d);for(this.cachedDates2=[],this.canvasContext.clearRect(this.dates2Left,this.dates2Top,this.dates2Width,this.dates2Height),o=0;o<s;o++)this.cachedDates2.push(new d);this.setBoundries()}}setBadgeHeight(t){if(this.badgeTextHeight!==t){this.badgeRowHeight=this.badgeTextHeight=t,this.cachedBadges=[],this.canvasContext.clearRect(this.badgesLeft,this.badgesTop,this.badgesWidth,this.badgesHeight),t=Math.floor(this.canvas.height/t);var r;for(r=0;r<t;r++)this.cachedBadges.push(new d)}}emptyCache(){var t;for(t=0;t<this.cachedTags.length;t++)this.cachedTags[t].isEmpty=!0;for(t=0;t<this.cachedDates.length;t++)this.cachedDates[t].isEmpty=!0;for(t=0;t<this.cachedDates2.length;t++)this.cachedDates2[t].isEmpty=!0;for(t=0;t<this.cachedBadges.length;t++)this.cachedBadges[t].isEmpty=!0;this.setBoundries()}setBoundries(){this.tagsLeft=e.core.settings.eventsFarLeft,this.tagsTop=0,this.tagsWidth=this.canvas.width-this.tagsLeft,this.tagsHeight=this.canvas.height,this.badgesLeft=e.core.settings.badgesLeft,this.badgesTop=0,this.badgesWidth=this.tagsLeft-this.badgesLeft,this.badgesHeight=this.canvas.height,this.datesLeft=e.core.settings.titleWidth,this.datesTop=0,this.datesWidth=this.badgesLeft-this.datesLeft,this.datesHeight=Math.floor(this.canvas.height/(this.dateTextHeight+this.date2TextHeight))*this.dateTextHeight,this.dates2Left=e.core.settings.titleWidth,this.dates2Top=this.datesHeight,this.dates2Width=this.badgesLeft-this.dates2Left,this.dates2Height=Math.floor(this.canvas.height/(this.dateTextHeight+this.date2TextHeight))*this.date2TextHeight}startRedraw(){var t;for(t=0;t<this.cachedTags.length;t++)this.cachedTags[t].wasUsedLast=!1;for(t=0;t<this.cachedDates.length;t++)this.cachedDates[t].wasUsedLast=!1;for(t=0;t<this.cachedDates2.length;t++)this.cachedDates2[t].wasUsedLast=!1;for(t=0;t<this.cachedBadges.length;t++)this.cachedBadges[t].wasUsedLast=!1}endRedraw(){var t;for(t=0;t<this.cachedTags.length;t++)this.cachedTags[t].wasUsedLast===!1&&(this.cachedTags[t].isEmpty=!0);for(t=0;t<this.cachedDates.length;t++)this.cachedDates[t].wasUsedLast===!1&&(this.cachedDates[t].isEmpty=!0);for(t=0;t<this.cachedDates2.length;t++)this.cachedDates2[t].wasUsedLast===!1&&(this.cachedDates2[t].isEmpty=!0);for(t=0;t<this.cachedBadges.length;t++)this.cachedBadges[t].wasUsedLast===!1&&(this.cachedBadges[t].isEmpty=!0)}drawTagText(t,r,s,o,l,c,p){this.drawTextHelper(this.cachedTags,t,r,s,o,l,c,p,this.tagTextHeight,this.tagRowHeight+4,this.tagsLeft,this.tagsWidth,this.tagsTop)}drawDateText(t,r,s,o,l,c,p,f){r===this.dateTextHeight?this.drawTextHelper(this.cachedDates,t,s,o,l,c,p,f,this.dateTextHeight,this.dateRowHeight,this.datesLeft,this.datesWidth,this.datesTop):this.drawTextHelper(this.cachedDates2,t,s,o,l,c,p,f,this.date2TextHeight,this.date2RowHeight,this.dates2Left,this.dates2Width,this.dates2Top)}drawBadgeText(t,r,s,o,l,c,p){this.drawTextHelper(this.cachedBadges,t,r,s,o,l,c,p,this.badgeTextHeight,this.badgeRowHeight,this.badgesLeft,this.badgesWidth,this.badgesTop)}drawTextHelper(t,r,s,o,l,c,p,f,g,m,S,M,_){f=Math.min(f,M),t=new d,t.text=r,t.textColor=s,this.paintImageToCacheCanvas(t,l,g,m,c,f,p)}paintImageToCacheCanvas(t,r,s,o,l,c,p){r===this.canvasContext&&r.clearRect(l,p,c,o),this.setFont(s,r),r.fillStyle=t.textColor,r.fillText(t.text,l,p+s)}getImageFromCacheCanvas(t,r,s,o,l,c,p,f){r.drawImage(this.canvas,s,Math.ceil(o),f,l-1,Math.ceil(c),Math.floor(p),f,l-1)}setFont(t,r){var s="normal lighter "+t+"px Roboto";r!==this.canvasContext?r.font=s:this.previousFont!==s&&(this.previousFont=s,r.font=this.previousFont)}}e.CanvasHorizontalCacheObject=as;class rs{constructor(){this.canvasContext=void 0,this.canvas=void 0,this.zopAreaWidth=0,this.zopAreaLeft=0,this.zopAreaHeight=0,this.zopAreaTop=0,this.screenTop=0,this.screenLeft=0,this.characterFitCache=new e.SpeedCache,this.textMeasuresCache=new e.SpeedCache,this.drawInfos=[]}init(t,r){this.canvas=t,this.canvasContext=r,e.core.eventHandler.addBatchEventsTo(this.canvas)}setCanvas(t,r){this.canvas=t,this.canvasContext=r,e.core.drawArea=new e.DrawArea}fillDrawArea(t){this.canvasContext.fillStyle=t,this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height)}emptyDrawArea(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}clearDrawArea(){this.characterFitCache.startNewRound(),this.textMeasuresCache.startNewRound(),e.core.drawArea.drawFilledRectangle({x:e.core.zopHandler.leftPixel+e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,y:0,width:e.core.zopHandler.rightPixel-e.core.zopHandler.leftPixel,height:e.core.zopDrawArea.zopAreaHeight,fillStyle:e.core.settings.theme.colorBackground,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:e.core.zopHandler.leftPixel,y:0,width:e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,height:e.core.zopDrawArea.zopAreaHeight,fillStyle:e.core.settings.theme.colorTitleBackground,hasShadow:!1,rounded:!1,strokeStyle:void 0})}resetDrawAreaSize(t,r){console.log("resizing"),this.zopAreaTop=0,this.zopAreaHeight=t,this.zopAreaLeft=0,this.zopAreaWidth=r,e.core.appStateHandler.isChoosingDateTimeForEvent&&(this.zopAreaTop+=e.core.dateTimeSelectionHandler.getSpaceTakenAtTop(),this.zopAreaHeight-=e.core.dateTimeSelectionHandler.getSpaceTakenAtTop()+e.core.dateTimeSelectionHandler.getSpaceTakenAtBottom()),e.core.zopHandler.initSize(this.zopAreaTop,this.zopAreaTop+this.zopAreaHeight,this.zopAreaLeft,this.zopAreaLeft+this.zopAreaWidth),e.core.zopHandler.setZoom(e.core.zopHandler.topZOP,e.core.zopHandler.bottomZOP,this.zopAreaTop,this.zopAreaTop+this.zopAreaHeight)}setShadow(t){t&&(this.canvasContext.shadowOffsetX=1*e.core.ratio,this.canvasContext.shadowOffsetY=2*e.core.ratio,this.canvasContext.shadowBlur=4*e.core.ratio,this.canvasContext.shadowColor="rgb(0 0 0 / 0.1)")}clearTextDivs(){}drawCalendarDateObjectName(t,r,s,o,l,c,p,f){return 3>l?0:(r+=s,s=e.core.settings.theme.colorDarkText,c&&(s=e.core.settings.theme.colorRedDayText),p?this.measureTextWidth(this.drawText(o,t,r,0,l,s,e.core.settings.theme.colorBackground,!1,2e3,!f,f),l,!1,!1):this.measureTextWidthIfRisky(this.drawText(o,t,r,0,l,s,e.core.settings.theme.colorBackground,!1,2e3,!f,f),l,2e3,!1,!1))}drawBadge(t,r,s,o,l,c,p){if(e.core.settings.useMiniBadges)this.drawFilledCircle2(t,r+s/2,2*e.core.ratio*e.core.settings.zoom,p,!1);else{s=s-e.core.settings.margin-1;var f=e.core.settings.badgeTextHeight;e.core.drawArea.setFont(f);for(var g=o-t,m=this.measureTextWidth(l,f,!1,!0);m>g&&6<f;)--f,m=this.measureTextWidth(l,f,!1,!0);s=Math.floor((s-f)/2),m>o-t&&(o+=(m-o+t)/2),.5<c&&this.drawText(l,o-m,r,s,f,p,e.core.settings.theme.colorRed,!1,200,!1,!1)}}howManyCharactersFit(t,r,s,o){var l=t+"&&"+r,c=this.characterFitCache.findObject(l);if(c!==void 0){var p=c.lettersCount;if(c.lastMaxPixelWidth!==s){var f=this.measureTextWidth(t.substring(0,p),r,!1,o);if(c.lastMaxPixelWidth>s)for(;0<p&&f>=s;)--p,f=this.measureTextWidth(t.substring(0,p),r,!1,!0);else{for(o=f;p<t.length&&f<s;)p+=1,o=f,f=this.measureTextWidth(t.substring(0,p),r,!1,!0);p==t.length&&f<s||(f=o,--p)}c.lettersCount=p,c.lastMaxPixelWidth=f}return p}for(p=t.length,f=this.measureTextWidthIfRisky(t,r,s,!1,o);0<p&&f>=s;)--p,f=this.measureTextWidth(t.substring(0,p),r,!1,o);return this.characterFitCache.addObject(l,new Ea(p,s)),p}measureTextWidth(t,r,s,o){var l=t+"##"+r,c=this.textMeasuresCache.findObject(l);return c===void 0&&(c=new Da(this.canvasContext,t,r,s,o),this.textMeasuresCache.addObject(l,c)),c.pixelLength}measureTextWidthIfRisky(t,r,s,o,l){var c=t.length*r*.85;return c>s?this.measureTextWidth(t,r,o,l):c}drawTag(t,r,s,o,l,c,p,f){var g=r+1;s-=e.core.settings.margin;var m=Math.min(e.core.settings.tagColorWidth,s),S=Math.floor((c-e.core.settings.tagTextHeight)/2-e.core.settings.margin),M=S+e.core.settings.margin;0<m&&e.core.drawArea.drawFilledRectangle({x:t,y:g,width:m,height:c-e.core.settings.margin,fillStyle:e.core.settings.theme.colorBlue,hasShadow:!1,rounded:!1,strokeStyle:void 0}),0<s-m&&(e.core.drawArea.drawFilledRectangle({x:t+m,y:g,width:s-m,height:c-e.core.settings.margin,fillStyle:o,hasShadow:!1,rounded:!1,strokeStyle:void 0}),.5<f&&(.95>f&&(l=e.core.helper.colorToRGBA(l,2*(f-.5))),this.drawText(p,t+m+M,r,S,e.core.settings.tagTextHeight,l,o,!1,s-m-M-2,!1,e.core.settings.theme.tagTextIsBold)))}drawFullEvent(t,r,s,o,l,c,p,f,g){var M=Math.max(e.core.zopHandler.getPixelFromZOP(r)+1,0),m=Math.max(e.core.zopHandler.getPixelFromZOP(s),0),S=e.core.zopHandler.getPixelFromZOP(s)-e.core.zopHandler.getPixelFromZOP(r),M=Math.min(M,m-e.core.settings.tagHeight);o-=e.core.settings.margin;const _=m-M-1;if(_>0){const j=Math.min(e.core.settings.tagColorWidth,o),B=Math.floor((e.core.settings.tagHeight-e.core.settings.tagTextHeight)/2-e.core.settings.margin),Ce=B+e.core.settings.margin,Qe=Math.min(e.core.settings.tagHeight,o-j);if(j>0&&e.core.drawArea.drawFilledRectangle({x:t,y:M,width:j,height:_,fillStyle:e.core.settings.theme.colorBlue,hasShadow:!1,rounded:!1,strokeStyle:void 0}),o-j>0){const Ze=e.core.commonUserSettings.theme==="0";l=l?`rgba(${l}, ${f?1:.9})`:Ze?"rgb(148, 163, 184)":"#6c7684",e.core.drawArea.drawFilledRectangle({x:t+j,y:M,width:o-j,height:_,fillStyle:l,hasShadow:!1,rounded:!1,strokeStyle:f?Ze?"rgb(15, 23, 42)":"#fff":g?Ze?"#4338ca":"rgb(165, 180, 252)":void 0})}S/o<2||S<2*e.core.settings.tagHeight?this.drawText(p,t+j+Ce,M-1,B,e.core.settings.tagTextHeight,c,l,!1,o-j-Ce-2,!1,e.core.settings.theme.tagTextIsBold):Qe>e.core.settings.tagTextHeight&&(Math.floor(e.core.settings.tagHeight/6),this.drawVerticalTitle(r,s,t+j+Ce,p,e.core.settings.tagTextHeight,c,e.core.settings.margin,!1,e.core.settings.theme.tagTextIsBold))}}drawPartialTag(t,r,s,o,l){s-=e.core.settings.margin,4>l||e.core.drawArea.drawFilledRectangle({x:t,y:r+1,width:s,height:l-e.core.settings.margin,fillStyle:o,hasShadow:!1,rounded:!1,strokeStyle:void 0})}drawTextDiv(t,r,s,o,l,c,p,f,g,m){}drawFilledRectangle(t,r,s,o,l,c){this.canvasContext.fillStyle=l,r=e.core.zopHandler.getPixelFromZOP(r),o=Math.max(e.core.zopHandler.getPixelFromZOP(o)-r,c),this.canvasContext.fillRect(t,r,s,o)}drawTriangle(t,r,s,o,l,c,p,f){this.setShadow(f),r=e.core.zopHandler.getPixelFromZOP(r),o=r+o,c=r+c,this.canvasContext.fillStyle=p,this.canvasContext.beginPath(),this.canvasContext.moveTo(t,r),this.canvasContext.lineTo(t+s,o),this.canvasContext.lineTo(t+l,c),this.canvasContext.closePath(),this.canvasContext.fill(),this.removeShadow(f)}removeShadow(t){t&&(this.canvasContext.shadowOffsetX=0,this.canvasContext.shadowOffsetY=0,this.canvasContext.shadowBlur=0,this.canvasContext.shadowColor="#000000")}drawHorizontalLine(t,r,s,o,l){this.drawHorizontalLineThick(t,r,s,o,e.core.settings.lineThickness,l)}drawFilledCircle(t,r,s,o,l){this.setShadow(l),r=Math.floor(e.core.zopHandler.getPixelFromZOP(r))+.5,this.canvasContext.beginPath(),this.canvasContext.arc(t,r,s,0,2*Math.PI,!1),this.canvasContext.fillStyle=o,this.canvasContext.fill(),this.removeShadow(l)}drawFilledCircle2(t,r,s,o,l){this.setShadow(l),this.canvasContext.beginPath(),this.canvasContext.arc(t,r,s,0,2*Math.PI,!1),this.canvasContext.fillStyle=o,this.canvasContext.fill(),this.removeShadow(l)}drawHorizontalLineThick(t,r,s,o,l,c){r=Math.floor(e.core.zopHandler.getPixelFromZOP(r)),e.core.drawArea.drawHorizontalLineNotZOP(t,r,s,o,l,c)}startTextDelayedDraw(){this.delayedDraw=!0}endTextDelayedDraw(){this.delayedDraw=!1,this.drawInfos.sort(function(s,o){return s.textHeight-o.textHeight});for(var t=0;t<this.drawInfos.length;t++){var r=this.drawInfos[t];this.drawText(r.text,r.left,r.topPixel,r.topPixelShift,r.textHeight,r.color,r.bgColor,r.useShadow,r.maxWidth,r.isThinner,r.isBold)}this.drawInfos=[]}drawText(t,r,s,o,l,c,p,f,g,m,S){return this.delayedDraw?(this.drawInfos.push(new ya(t,r,s,o,l,c,p,f,g,m,S)),t):(s=Math.floor(s+o),e.core.drawArea.setFont(l,!1,m,S),t=t.substring(0,this.howManyCharactersFit(t,l,g,!0)),e.core.drawArea.drawText(t,r,s,l,c,!1,!1,m,S),t)}drawVerticalTitle(t,r,s,o,l,c,p,f,g){e.core.drawArea.setFont(l,f,!1,g),g=e.core.zopHandler.get2PixelsFromZOPsForVErticalText(t,r),t=g.value1+p,g=g.value2-p;var m=p=0,S=e.core.settings.menuButtonBottom;for(s>e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged&&(S=0),t<e.core.zopHandler.topPixel+S&&(p=e.core.zopHandler.topPixel+S-t),r>e.core.zopHandler.bottomZOP&&(m=g-e.core.zopHandler.bottomPixel),r=g-t-p-m,g=0,m=this.measureTextWidth(o,l,f,!0)+5;1<o.length&&m>=r;)o=o.substring(0,o.length-1),m=this.measureTextWidth(o,l,f,!0)+5,g=r-m;this.measureTextWidth(o,l,f,!0)+5<r&&(this.canvasContext.save(),this.canvasContext.translate(Math.floor(s+.85*l),Math.floor(r/2)),this.canvasContext.rotate(-Math.PI/2),this.canvasContext.textAlign="center",this.canvasContext.fillStyle=c,this.canvasContext.fillText(o,Math.floor(-t-p-g/2),Math.floor(e.core.zopHandler.leftPixel)),this.canvasContext.restore())}debugTexts(t){if(t!=null){var r=20*e.core.ratio,s;for(s=0;s<t.length;s++)e.core.drawArea.drawFilledRectangle({x:200,y:r,width:1e3,height:20*e.core.ratio,fillStyle:"#000000",hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawText(t[s],202,r-1,18*e.core.ratio,"#FFFFFF",!1,!1),r+=22*e.core.ratio}}debugText(t){t!=null&&t.length!=0&&(this.canvasContext.fillStyle="#FF0000",e.core.drawArea.setFont(14),this.canvasContext.fillText(t,90,330),60<t.length&&this.canvasContext.fillText(t.substring(60),90,360),120<t.length&&this.canvasContext.fillText(t.substring(120),90,420),180<t.length&&this.canvasContext.fillText(t.substring(180),90,480),240<t.length&&this.canvasContext.fillText(t.substring(240),90,540))}}e.ZopDrawArea=rs;class Da{constructor(t,r,s,o,l){this.text=r,this.textHeight=s,l||e.core.drawArea.setFont(s,o),this.pixelLength=t.measureText(r).width}}e.TextMeasurer=Da;class ya{constructor(t,r,s,o,l,c,p,f,g,m,S){this.text=t,this.left=r,this.topPixel=s,this.topPixelShift=o,this.textHeight=l,this.color=c,this.bgColor=p,this.useShadow=f,this.maxWidth=g,this.isThinner=m,this.isBold=S}}e.TextDrawer=ya;class Ea{constructor(t,r){this.lettersCount=t,this.lastMaxPixelWidth=r}}e.FitCacheEntry=Ea;class Ft extends i{constructor(){super(...arguments),this.enableMultipleCalendars=!0,this.enableReload=!0,this.enableShop=!1,this.enableFakeData=!1,this.enableGoogleLogout=!1,this.enableGoogleLogin=!1,this.calendarDataProxyType=e.CalendarDataProxyType.Demo,this.demoVideoSpecial=!0,this.dbVersion="demo0.52",this.loadReadyCallback=()=>{}}connectionOk(){return!0}login(){}logout(){}populateCalendarEvents(t){this.loadReadyCallback=t,this.calendarEvents=[],e.core.commonUserSettings.licenceColorPicker=!0,e.core.commonUserSettings.licenceCandyTheme=!0,e.core.commonUserSettings.licenceDarkTheme=!0,e.core.settings.reloadThemesSettings(e.core.commonUserSettings),e.core.calendars=[],e.core.calendarPrimaryId=void 0,this.loadEventsFromCache()&&e.core.calendars!=null&&e.core.calendars.length!=0||(this.fakeData(),e.core.helper.sortCalendars(),e.core.calendarEventHandler.gradeCalendarEvents(this.calendarEvents),this.calendarEvents.sort(function(r,s){return r.startZOP-s.startZOP}),this.saveEventsToCache()),this.finalizeLoad(),Ft.setLastSessionWasInDemoMode(!0)}saveSettings(){this.saveEventsToCache()}reload(){var t=this.dbVersion;this.dbVersion="XXX",e.core.populateCalendars(),this.dbVersion=t}fakeData(){var t;e.core.calendars.push(new e.CalendarObject("Work","Work Calendar",[],0,e.VisibilityType.Visible,!0,!0)),e.core.calendars.push(new e.CalendarObject("My","My Calendar",[],1,e.VisibilityType.Visible,!0,!0)),e.core.calendars.push(new e.CalendarObject("Other","Partners calendar",[],2,e.VisibilityType.Visible,!0,!1)),e.core.calendarPrimaryId="My",e.core.getCalendar("Work").allEventsAreFullDay=!1,e.core.getCalendar("My").allEventsAreFullDay=!1,e.core.getCalendar("Other").allEventsAreFullDay=!1,this.calendarEvents=[];var r=D().startOf("week"),s=r.clone().add(1,"weeks").add(-28,"days"),o,l;for(t=0;30>t;t++)o=s.clone().add(-80+21*t,"days").add(17,"hours").toDate(),l=s.clone().add(-80+21*t,"days").add(19.5,"hours").toDate(),o=new e.CalendarEventObject("Hockey with kids","If you can\'t make it call Eddies dad: 043-423213","Weaver hall",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(t=0;20>t;t++)t===3&&t++,o=s.clone().add(-100+28*t,"days").add(18,"hours").toDate(),l=s.clone().add(-100+28*t,"days").add(22,"hours").toDate(),o=new e.CalendarEventObject("Walk n talk with Jim","Time for reflection","The park",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(o=D().startOf("week").add(-200,"months").toDate(),l=D().startOf("week").add(-199,"months").toDate(),o=new e.CalendarEventObject("School starts","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-150,"months").toDate(),l=D().startOf("week").add(-130,"months").toDate(),o=new e.CalendarEventObject("First girlfriend","","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-100,"months").toDate(),l=D().startOf("week").add(-99,"months").toDate(),o=new e.CalendarEventObject("16th birthday","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-86,"months").toDate(),l=D().startOf("week").add(-50,"months").toDate(),o=new e.CalendarEventObject("University","","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-48,"months").toDate(),l=D().startOf("week").add(-36,"months").toDate(),o=new e.CalendarEventObject("Year in London","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-32,"months").toDate(),l=D().startOf("week").add(-30,"months").toDate(),o=new e.CalendarEventObject("Wedding!!","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(4,"days").toDate(),l=D().startOf("week").add(5,"days").toDate(),o=new e.CalendarEventObject("Jims birthday","","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(7,"days").toDate(),l=D().startOf("week").add(8,"days").toDate(),o=new e.CalendarEventObject("Release","On the menu there is an option to connect to Google. This will enable you to see your real calendar.","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(9,"days").toDate(),l=D().startOf("week").add(10,"days").toDate(),o=new e.CalendarEventObject("Lisas birthday","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(-22,"days").toDate(),l=r.clone().add(1,"weeks").add(10,"days").toDate(),o=new e.CalendarEventObject("On diet","Calorie drought","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-63,"weeks").add(-22,"days").toDate(),l=r.clone().add(-54,"weeks").add(10,"days").toDate(),o=new e.CalendarEventObject("On diet","Calorie drought","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(13,"days").toDate(),l=r.clone().add(1,"weeks").add(18,"days").toDate(),o=new e.CalendarEventObject("Rent a car","Abis","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),t=0;40>t;t++)t===5&&t++,o=s.clone().add(-120+14*t,"days").add(17,"hours").toDate(),l=s.clone().add(-120+14*t,"days").add(20,"hours").toDate(),o=new e.CalendarEventObject("Gym","","Wassits",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(t=0;60>t;t++)t===5&&t++,o=s.clone().add(-127+14*t,"days").add(7,"hours").toDate(),l=s.clone().add(-127+14*t,"days").add(8,"hours").toDate(),o=new e.CalendarEventObject("Morning swim","Be on time","Lake",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(o=r.clone().add(-52,"weeks").add(1,"days").toDate(),l=r.clone().add(-52,"weeks").add(31,"days").toDate(),o=new e.CalendarEventObject("Family holiday","Double check the hotel booking","Saxapahaw",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(10,"days").toDate(),l=r.clone().add(1,"weeks").add(23,"days").toDate(),o=new e.CalendarEventObject("Family holiday","Double check the hotel booking","Saxapahaw",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(30,"weeks").toDate(),l=r.clone().add(40,"weeks").toDate(),o=new e.CalendarEventObject("Course","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-100,"weeks").toDate(),l=r.clone().add(-28,"weeks").toDate(),o=new e.CalendarEventObject("Previous job","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-27,"weeks").toDate(),l=r.clone().add(-18,"weeks").toDate(),o=new e.CalendarEventObject("Intro period","Double check the hotel booking","Saxapahaw",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-17,"weeks").toDate(),l=r.clone().add(-14,"weeks").toDate(),o=new e.CalendarEventObject("IT Course","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-13,"weeks").toDate(),l=r.clone().add(-8,"weeks").toDate(),o=new e.CalendarEventObject("Smile project","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(5,"days").add(18,"hours").toDate(),l=r.clone().add(1,"weeks").add(8,"days").add(22,"hours").toDate(),o=new e.CalendarEventObject("Visit my parents","","Sutton Bonnington",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(14,"days").toDate(),l=r.clone().add(1,"weeks").add(16,"days").toDate(),o=new e.CalendarEventObject("Trip to mountains","Bring tent","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),t=0;30>t;t++)o=r.clone().add(-15,"weeks").add(2+7*t-21,"days").add(9,"hours").toDate(),l=r.clone().add(-15,"weeks").add(2+7*t-21,"days").add(9,"hours").add(20,"minutes").toDate(),o=new e.CalendarEventObject("Morning briefing","","Work",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(t=0;15>t;t++)o=r.clone().add(1,"weeks").add(4+7*t-21,"days").add(9,"hours").toDate(),l=r.clone().add(1,"weeks").add(4+7*t-21,"days").add(9,"hours").add(20,"minutes").toDate(),o=new e.CalendarEventObject("Morning briefing","","Work",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(o=r.clone().add(1,"weeks").add(-7,"days").toDate(),l=r.clone().add(1,"weeks").add(0,"days").toDate(),o=new e.CalendarEventObject("Annual wrap-up","Close all ongoing cases","",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-23,"weeks").add(-7,"days").toDate(),l=r.clone().add(-23,"weeks").add(0,"days").toDate(),o=new e.CalendarEventObject("Annual wrap-up","Close all ongoing cases","",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),t=0;10>t;t++)t===7&&(t+=2),o=s.clone().add(-3+7*t,"days").add(7,"hours").add(30,"minutes").toDate(),l=s.clone().add(-3+7*t,"days").add(10,"hours").toDate(),o=new e.CalendarEventObject("My breakfast-day","Have everything prepared by 7.30","Work",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o);o=r.clone().add(1,"weeks").add(-4,"days").add(11,"hours").toDate(),l=r.clone().add(1,"weeks").add(-4,"days").add(13,"hours").toDate(),o=new e.CalendarEventObject("Meeting with R.P","Your turn to take the bill","Jackie\'s Besty Diner",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(3,"days").add(13,"hours").toDate(),l=r.clone().add(1,"weeks").add(3,"days").add(16,"hours").toDate(),o=new e.CalendarEventObject("Meeting with R.P","Bring the files","Office on Winfall BLVD",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o)}getCleanRedirectURI(){return window.location.protocol+"//"+window.location.host}getRRuleObject(t,r){r(void 0)}getFirstRecurringEvent(t){return this.calendarEvents.filter(function(r){return r.recurringEventId===t.recurringEventId})[0]}finalizeLoad(){var t;for(this.applyCalendarsVisibilitySettings(),e.core.calendarEventHandler.clearAllEvents(),t=0;t<this.calendarEvents.length;t++)e.core.getCalendar(this.calendarEvents[t].calendarId).visibility==e.VisibilityType.Visible&&e.core.calendarEventHandler.addEventToCalendar(this.calendarEvents[t]);e.core.calendarEventHandler.findCommonTimes(),e.core.loadingHandler.stopLoading(),this.loadReadyCallback&&this.loadReadyCallback(),e.core.redraw(!0)}canEditRecurring(t){return!1}deleteEvent(t,r,s){if(t.isRecurring&&r===a.EventEditType.AllInSeries)for(r=e.core.calendarEventHandler.getCalendarEventsByIdAndRecurringId(t.recurringEventId),t=0;t<r.length;t++)this.removeEventFromFromDemoData(r[t]),e.core.calendarEventHandler.removeCalendarEvent(r[t]);else this.removeEventFromFromDemoData(t),e.core.calendarEventHandler.removeCalendarEvent(t);this.saveEventsToCache()}removeEventFromFromDemoData(t){var r;for(r=0;r<this.calendarEvents.length;r++)if(this.calendarEvents[r]===t){this.calendarEvents.splice(r,1);break}}addNewEvent(t,r){if(t.id=""+Math.random(),this.calendarEvents.push(t),e.core.calendarEventHandler.addEventToCalendar(t),t.rruleToSave!==void 0&&t.rruleToSave!==null){var s=t.endDateTime.getTime()-t.startDateTime.getTime();t.isRecurring=!0;for(var o=t.rruleToSave.all(),l=1;l<o.length;l++){var c=new Date(o[l].getTime()+s),c=new e.CalendarEventObject(t.summary,t.description,t.location,o[l],c,t.calendarId,""+Math.random());c.isRecurring=!0,c.recurringEventId=t.id,this.calendarEvents.push(c),e.core.calendarEventHandler.addEventToCalendar(c)}}this.saveEventsToCache()}editExistingEvent(t,r){e.core.calendarEventHandler.removeCalendarEvent(t),e.core.calendarEventHandler.addEventToCalendar(t),this.saveEventsToCache()}saveEventsToCache(){this.localStorageSetItem("oneview_demo_verrsion",this.dbVersion),this.localStorageSetItem("oneview_demo_saveComplete",JSON.stringify(!1)),this.localStorageSetItem("oneview_demo_allEvents",JSON.stringify(this.calendarEvents)),this.localStorageSetItem("oneview_demo_allCalendars",JSON.stringify(e.core.calendars)),this.localStorageSetItem("oneview_demo_primaryCalendarId",JSON.stringify(e.core.calendarPrimaryId)),this.localStorageSetItem("oneview_demo_demo",JSON.stringify(!0)),this.localStorageSetItem("oneview_demo_saveComplete",JSON.stringify(!0))}static getLastSessionWasInDemoMode(){try{var t=localStorage.getItem("oneview_demo_last_session_was_in_demo_mode");return t==null||t==null?!0:JSON.parse(t)}catch{return!0}}static setLastSessionWasInDemoMode(t){new e.LocalStorage().localStorageSetItem("oneview_demo_last_session_was_in_demo_mode",JSON.stringify(t))}loadEventsFromCache(){try{var t=localStorage.getItem("oneview_demo_verrsion"),r=localStorage.getItem("oneview_demo_saveComplete"),s=localStorage.getItem("oneview_demo_allEvents"),o=localStorage.getItem("oneview_demo_allCalendars"),l=localStorage.getItem("oneview_demo_primaryCalendarId"),c=localStorage.getItem("oneview_demo_demo");if(t!==this.dbVersion||r!="true"||o==null||o==null||s==null||s==null||l==null||l==null||c==null||c==null)return!1;try{e.core.calendarPrimaryId=JSON.parse(l),this.calendarEvents=JSON.parse(s,this.dateTimeReviver),e.core.calendars=JSON.parse(o,this.dateTimeReviver)}catch{return!1}return!0}catch{return!1}}persistCalendarsVisibilitySettings(t){this.localStorageSetItem("oneview_demo_visibilitySettings",JSON.stringify(t)),this.saveEventsToCache(),e.core.populateCalendars()}applyCalendarsVisibilitySettings(){try{var t=localStorage.getItem("oneview_demo_visibilitySettings");if(t!=null)for(var t=JSON.parse(t,this.dateTimeReviver),r=0;r<e.core.calendars.length;r++)for(var s=0;s<t.length;s++)t[s].id==e.core.calendars[r].id&&(e.core.calendars[r].visibility=t[s].newVisibility)}catch{}}analyticsEvent(t,r){}analyticsPage(t){}analyticsValue(t,r,s,o){}analyticsTiming(t,r){}}e.DemoCalendarDataProxy=Ft;class ss{constructor(){this.colorPickerId="onview.calendar.color.control",this.darkThemeId="oneview.calendar.theme.dark.1",this.candyThemeId="oneview.calendar.theme.candy",this.pageHtml=\'<div id="calendarsTopBar" class="topBar">    <button id="shopBack" class="topBarButton" style="width:50%"><img src="images/arrow-left.svg" class="topBarImage"/></span><span>{#Back#}</span></button>    <button id="emptyButton" class="topBarButton" style="width:50%"></button>    <div id="shopTitle" class="topBarTitle" style="width:100%">{#Shop#}</div></div><div id="shopArea" class="pageContent pageTopPadding">    <div id="darkThemeArea" class="shopItemArea" >        <div class="shopItemAreaLeft" >            <div id="darkThemeTitle" class="shopItemTitle"></div>            <div id="darkThemeDescription" class="shopItemDescription"></div>            <button id="darkThemePrice" class="shopItemButton"> ? </button>        </div>        <div class="shopItemAreaRight">            <img class="shopImage" src="images/darkTheme_mini.png">        </div>    </div>    <div id="candyThemeArea" class="shopItemArea" >        <div class="shopItemAreaLeft" >            <div id="candyThemeTitle" class="shopItemTitle"></div>            <div id="candyThemeDescription" class="shopItemDescription"></div>            <button id="candyThemePrice" class="shopItemButton"> ? </button>        </div>        <div class="shopItemAreaRight">            <img class="shopImage" src="images/candyTheme_mini.png">        </div>    </div>    <div id="colorPickerArea" class="shopItemArea" >        <div class="shopItemAreaLeft" >            <div id="colorPickerTitle" class="shopItemTitle"></div>            <div id="colorPickerDescription" class="shopItemDescription"></div>            <button id="colorPickerPrice" class="shopItemButton"> ? </button>        </div>        <div class="shopItemAreaRight">            <img class="shopImage" src="images/colorPicker_mini.png">        </div>    </div></div>\',this.alreadyRegistered=!1,this.timestamp=0}reloadShopItems(){this.text="ok",this.setupColorPicker=this.setupColorPicker.bind(this),this.setupDarkTheme=this.setupDarkTheme.bind(this),this.setupCandyTheme=this.setupCandyTheme.bind(this),window.store.when(this.colorPickerId).updated(this.setupColorPicker),window.store.when(this.darkThemeId).updated(this.setupDarkTheme),window.store.when(this.candyThemeId).updated(this.setupCandyTheme),this.alreadyRegistered||(window.store.register({id:this.colorPickerId,alias:"Color picker",type:"non consumable"}),window.store.register({id:this.darkThemeId,alias:"Dark theme",type:"non consumable"}),window.store.register({id:this.candyThemeId,alias:"Candy theme",type:"non consumable"})),this.alreadyRegistered=!0,window.store.refresh(),this.productColorPicker&&this.setupItem(this.productColorPicker,"colorPicker"),this.productCandyTheme&&this.setupItem(this.productDarkTheme,"darkTheme"),this.productCandyTheme&&this.setupItem(this.productCandyTheme,"candyTheme"),document.getElementById("colorPickerTitle").innerHTML="Color picker",document.getElementById("colorPickerDescription").innerHTML="Change calendar colors and event colors. (30 color palette)",document.getElementById("darkThemeTitle").innerHTML="Dark theme",document.getElementById("darkThemeDescription").innerHTML="A beautiful theme on a dark background.",document.getElementById("candyThemeTitle").innerHTML="Candy theme",document.getElementById("candyThemeDescription").innerHTML="A playful theme in calm pastel colors.",e.core.domHandler.addClickEvent("colorPickerPrice",this.itemClicked,this),e.core.domHandler.addClickEvent("darkThemePrice",this.itemClicked,this),e.core.domHandler.addClickEvent("candyThemePrice",this.itemClicked,this)}productOk(t){return t.owned||t.downloading||t.downloaded||t.state=="downloading"||t.state=="downloaded"||t.state=="approved"||t.state=="finnished"||t.state=="owned"}productNotFinished(t){return t.state=="approved"}setupColorPicker(t){this.productColorPicker=t,this.setupItem(t,"colorPicker"),this.productOk(t)?e.core.commonUserSettings.licenceColorPicker=!0:e.core.commonUserSettings.licenceColorPicker=!1,this.productNotFinished(t)&&t.finish()}setupDarkTheme(t){this.productDarkTheme=t,this.setupItem(t,"darkTheme"),this.productOk(t)?e.core.commonUserSettings.licenceDarkTheme=!0:e.core.commonUserSettings.licenceDarkTheme=!1,this.productNotFinished(t)&&t.finish()}setupCandyTheme(t){this.productCandyTheme=t,this.setupItem(t,"candyTheme"),this.productOk(t)?e.core.commonUserSettings.licenceCandyTheme=!0:e.core.commonUserSettings.licenceCandyTheme=!1,this.productNotFinished(t)&&t.finish()}setupItem(t,r){document.getElementById(r+"Title").innerHTML=t.alias,document.getElementById(r+"Price").innerHTML=t.price,t.owned||!t.canPurchase?document.getElementById(r+"Price").classList.contains("shopItemButtonInactive")||document.getElementById(r+"Price").classList.add("shopItemButtonInactive"):document.getElementById(r+"Price").classList.contains("shopItemButtonInactive")&&document.getElementById(r+"Price").classList.remove("shopItemButtonInactive")}show(){e.core.domHandler.hideCanvas(),this.timestamp=e.core.getTimeStamp(),e.core.calendarDataProxy.analyticsPage("Shop page"),this.shopPage=e.core.domHandler.pageHtmlFormatHelper("shopPage",this.pageHtml),this.shopPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100),this.reloadShopItems();var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("shopBack").style.padding=t+"px",document.getElementById("emptyButton").style.padding=e.core.settings.titleWidth/e.core.ratio/2+1+"px",document.getElementById("shopArea").style.top="54px",e.core.showBackButtons()?(e.core.domHandler.addClickEvent("shopBack",this.shopBack,this),document.getElementById("shopTitle").style.display="none"):(document.getElementById("shopBack").style.display="none",document.getElementById("emptyButton").style.display="none")}hide(){e.core.appStateHandler.shopControlIsShowing=!1,window.store.off(this.setupColorPicker),window.store.off(this.setupDarkTheme),window.store.off(this.setupCandyTheme),e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.shopPage.id)}reshow(){this.show()}getEventTarget(t){return t=t||window.event,t.target||t.srcElement}itemClicked(t){t.preventDefault();var r=e.core.getTimeStamp();this.lastClickTime&&this.lastClickTime+250>r||(this.lastClickTime=r,t=this.getEventTarget(t),t.innerHTML!="?"&&(t==document.getElementById("colorPickerPrice")&&window.store.order(this.colorPickerId),t==document.getElementById("darkThemePrice")&&window.store.order(this.darkThemeId),t==document.getElementById("candyThemePrice")&&window.store.order(this.candyThemeId)))}shopBack(t){300>e.core.getTimeStamp()-this.timestamp||e.core.appStateHandler.back()}}e.ShopControl=ss,e.EventEditType={10:"ThisOnly",20:"AllInSeries",30:"ThisAndFuture",40:"None",50:"DontKnow",51:"New",ThisOnly:10,AllInSeries:20,ThisAndFuture:30,None:40,DontKnow:50,New:51},e.CalendarDataProxyType={0:"Google",1:"Demo",2:"Android",Google:0,Demo:1,Android:2},e.VisibilityType={10:"Visible",20:"Hidden",Hidden:20,Visible:10},e.CalendarDateObjectType={0:"Minutes5",1:"Hour",2:"Day",3:"Week",4:"Month",5:"Year",6:"Title",Minutes5:0,Hour:1,Day:2,Week:3,Month:4,Year:5,Title:6},e.RRuleFrequencies={0:"Year",1:"Month",2:"Week",3:"Day",4:"Hourly",5:"Minutely",6:"Secondly",Day:3,Week:2,Month:1,Year:0,Title:6,Hourly:4,Minutely:5,Secondly:6},e.RRuleWeekDay={0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday",Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6}})(q||(q={}));const hl=()=>{let e="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e},cl=e=>{const i=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let h,u=!1;n&&(h=new WebSocket(n),h.onopen=()=>{u=!0,T("appState"),T("markwhenState")});const v=k=>{h&&u?h.send(JSON.stringify(k)):typeof window<"u"&&window.parent.postMessage(k,"*")},T=(k,I)=>{const W=`markwhen_${hl()}`;return new Promise((J,Me)=>{i.set(W,{resolve:J,reject:Me}),v({type:k,request:!0,id:W,params:I})})},C=(k,I,W)=>v({type:I,response:!0,id:k,params:W}),P=k=>{var W,J;if(!k.data.id||!k.data.id.startsWith("markwhen")||k.source===window)return;const I=k.data;if(I.response)(W=i.get(I.id))==null||W.resolve(I),i.delete(I.id);else if(I.request){const Me=(J=e==null?void 0:e[I.type])==null?void 0:J.call(e,I.params);Promise.resolve(Me).then(St=>{C(I.id,I.type,St)})}else console.error("Not a request or response",I)};h?h.onmessage=k=>{const I=new MessageEvent("message",{data:JSON.parse(k.data)});P(I)}:typeof window<"u"&&(window==null||window.addEventListener("message",P));const b=typeof window<"u"&&window.__markwhen_initial_state;return b&&e&&e.markwhenState&&e.markwhenState(b),{postRequest:T}},oa=/(milliseconds|ms)/i,na=/(seconds|second|secs|sec|s)/i,la=/(minutes|minute|mins|min)/i,da=/(hours|hour|h)/i,ha=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,ca=/(weeks|week|w)/i,ua=/(months|month)/i,ga=/(years|year|y)/i,ul=new RegExp(`(\\\\d+\\\\W*)(${oa.source}|${na.source}|${la.source}|${da.source}|${ha.source}|${ca.source}|${ua.source}|${ga.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),gl=/(?:\\W|^)(!\\w+)/,Lt=new RegExp(`(by|before|after)?(\\\\s*${gl.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${ul.source})*`),ml=/january|february|march|april|may|june|july|august|september|october|november|december/,pl=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,ma=new RegExp(`(?:(${ml.source})|(${pl.source}))`),vl=new RegExp(`(([0-3]?[0-9])\\\\s+${ma.source})`),fl=new RegExp(`(${ma.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),pa=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2}))/,Tl=new RegExp(`(?:(?:${vl.source}|${fl.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${pa.source})?)|(${ma.source}(?:\\\\s+(\\\\d{1,4}))?)`),Dl=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,Rt=/now/,yl=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${pa.source})?)?)?)`),Ha=new RegExp(`(${Dl.source})|(${Rt.source})|${pa.source}|(${yl.source})|(${Lt.source})|${Tl.source}`),El=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${oa.source}|${na.source}|${la.source}|${da.source}|${ha.source}|${ca.source}|${ua.source}|${ga.source})`,"g"),Cl=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${oa.source}|${na.source}|${la.source}|${da.source}|${ha.source}|${ca.source}|${ua.source}|${ga.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),Fr=new RegExp(`\\\\s*every\\\\s+${El.source}${Cl.source}`),Sl=new RegExp(`((${Ha.source})(?:\\\\s*(?:-|to)\\\\s*(${Ha.source}))?)(${Fr.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${Sl.source}(.*)`,"i");const ka=/(\\d{4}(-\\d{2}(-\\d{2})?)?)/,Fl=new RegExp(`((?:${ka.source}|(${Lt.source})|(${Rt.source}))(\\\\s*/\\\\s*(?:${ka.source}|(${Lt.source})|(${Rt.source})))?)(${Fr.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${Fl.source}(.*)`,"i");var Aa;(function(e){e.TEXT="text",e.LIST_ITEM="listItem",e.CHECKBOX="checkbox",e.IMAGE="image"})(Aa||(Aa={}));var Ba;(function(e){e.Comment="comment",e.CheckboxItemIndicator="checkboxItemIndicator",e.listItemIndicator="listItemIndicator",e.ListItemContents="listItemContents",e.Tag="tag",e.tagDefinition="tagDefinition",e.Title="title",e.View="view",e.Viewer="viewer",e.Description="description",e.Section="section",e.DateRange="dateRange",e.DateRangeColon="dateRangeColon",e.Event="event",e.Edit="edit",e.Editor="editor",e.Recurrence="recurrence",e.FrontmatterDelimiter="frontMatterDelimiter",e.HeaderKey="headerKey",e.HeaderKeyColon="headerKeyColon",e.HeaderValue="headerValue"})(Ba||(Ba={}));function*xr(e,i){if(yield{node:e,path:i},e&&!Zt(e)){const n=e.value;for(let h=0;h<n.length;h++)yield*xr(n[h],[...i,h])}}const Zt=e=>!Array.isArray(e.value);function xl(){let e,i,n=!1,h=[],u={},v;const T=(b,k)=>{var J;const I=Zt(b)?b.value.eventDescription.tags:b.tags,W=b.source||"default";return I?(J=k==null?void 0:k[W])==null?void 0:J[I[0]]:void 0},C=(b,k,I=!0)=>{h=[];for(const{node:W,path:J}of xr(b,[]))if(W&&Zt(W)){const Me=new q.CalendarEventObject({summary:W.value.eventDescription.eventDescription,description:J.join(","),location:"",startDate:new Date(W.value.dateRangeIso.fromDateTimeIso),endDate:new Date(W.value.dateRangeIso.toDateTimeIso),calendarId:"Default",eventId:J.join(","),color:T(W,u),isHovered:J.join(",")===(k==null?void 0:k.join(",")),isDetail:J.join(",")===(i==null?void 0:i.join(",")),mwNode:W});h.push(Me)}q.core.calendarEventHandler.clearAllEvents(),q.core.calendars=[new q.CalendarObject("Default","default",[],0,q.VisibilityType.Visible,!0,!0)],q.core.calendarPrimaryId="Default",q.core.getCalendar("Default").allEventsAreFullDay=!1,q.core.calendarEventHandler.gradeCalendarEvents(h),h.sort(function(W,J){return W.startZOP-J.startZOP}),h.forEach(W=>{q.core.calendarEventHandler.addEventToCalendar(W)}),q.core.calendarEventHandler.findCommonTimes(),q.core.redraw(I)},{postRequest:P}=cl({appState(b){b.isDark!==n&&(n=!!b.isDark,q.core.commonUserSettings.theme=n?"3":"0",q.core.settings.reloadTheme()),e=b.hoveringPath,u=b.colorMap,i=b.detailPath,C(v,e)},markwhenState(b){v=b.transformed,C(v,e)}});q.core=new q.Core(P),q.core.init(),q.core.startDrawLoop(),P("appState"),P("markwhenState")}window.onload=function(){window.setTimeout(function(){try{xl()}catch(e){console.error(e)}},50)}});export default Ml();\n\n<\/script>\n  </head>\n  <body>\n    <div id="debugtext"></div>\n    \n  </body>\n</html>\n',xa='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta\n      name="viewport"\n      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"\n    />\n    <title>Resume</title>\n    <script type="module" crossorigin>\n(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll(\'link[rel="modulepreload"]\'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function dt(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Cn(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Y(r)?bi(r):Cn(r);if(s)for(const o in s)t[o]=s[o]}return t}else{if(Y(e))return e;if(ne(e))return e}}const mi=/;(?![^(]*\\))/g,gi=/:([^]+)/,_i=/\\/\\*.*?\\*\\//gs;function bi(e){const t={};return e.replace(_i,"").split(mi).forEach(n=>{if(n){const r=n.split(gi);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function yi(e){let t="";if(!e||Y(e))return t;for(const n in e){const r=e[n],s=n.startsWith("--")?n:pt(n);(Y(r)||typeof r=="number")&&(t+=`${s}:${r};`)}return t}function ht(e){let t="";if(Y(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const r=ht(e[n]);r&&(t+=r+" ")}else if(ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const xi="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",wi="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vi=dt(xi),Ei=dt(wi),zs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oi=dt(zs),Ri=dt(zs+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function mr(e){return!!e||e===""}const Pi=/[>/="\'\\u0009\\u000a\\u000c\\u0020]/,Ln={};function Ai(e){if(Ln.hasOwnProperty(e))return Ln[e];const t=Pi.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Ln[e]=!t}const Ci={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Ti=/["\'&<>]/;function ze(e){const t=""+e,n=Ti.exec(t);if(!n)return t;let r="",s,o,i=0;for(o=n.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}i!==o&&(r+=t.slice(i,o)),i=o+1,r+=s}return i!==o?r+t.slice(i,o):r}const $i=/^-?>|<!--|-->|--!>|<!-$/g;function Mi(e){return e.replace($i,"")}const Oe=e=>Y(e)?e:e==null?"":F(e)||ne(e)&&(e.toString===Zs||!D(e.toString))?JSON.stringify(e,Ys,2):String(e),Ys=(e,t)=>t&&t.__v_isRef?Ys(e,t.value):wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Js(t)?{[`Set(${t.size})`]:[...t.values()]}:ne(t)&&!F(t)&&!Qs(t)?String(t):t,te={},xt=[],xe=()=>{},Ii=()=>!1,ki=/^on[^a-z]/,$t=e=>ki.test(e),gr=e=>e.startsWith("onUpdate:"),me=Object.assign,_r=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ni=Object.prototype.hasOwnProperty,B=(e,t)=>Ni.call(e,t),F=Array.isArray,wt=e=>Tn(e)==="[object Map]",Js=e=>Tn(e)==="[object Set]",D=e=>typeof e=="function",Y=e=>typeof e=="string",br=e=>typeof e=="symbol",ne=e=>e!==null&&typeof e=="object",tn=e=>ne(e)&&D(e.then)&&D(e.catch),Zs=Object.prototype.toString,Tn=e=>Zs.call(e),Si=e=>Tn(e).slice(8,-1),Qs=e=>Tn(e)==="[object Object]",yr=e=>Y(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dt=dt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$n=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fi=/-(\\w)/g,Et=$n(e=>e.replace(Fi,(t,n)=>n?n.toUpperCase():"")),ji=/\\B([A-Z])/g,pt=$n(e=>e.replace(ji,"-$1").toLowerCase()),eo=$n(e=>e.charAt(0).toUpperCase()+e.slice(1)),Un=$n(e=>e?`on${eo(e)}`:""),Vt=(e,t)=>!Object.is(e,t),Bn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},gn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Di=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let os;const Hi=()=>os||(os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ye;class to{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ye,!t&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ye;try{return ye=this,t()}finally{ye=n}}}on(){ye=this}off(){ye=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function no(e){return new to(e)}function Li(e,t=ye){t&&t.active&&t.effects.push(e)}function ro(){return ye}function Ui(e){ye&&ye.cleanups.push(e)}const xr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},so=e=>(e.w&Qe)>0,oo=e=>(e.n&Qe)>0,Bi=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Qe},Ki=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];so(s)&&!oo(s)?s.delete(e):t[n++]=s,s.w&=~Qe,s.n&=~Qe}t.length=n}},_n=new WeakMap;let Ft=0,Qe=1;const Jn=30;let Ce;const ct=Symbol(""),Zn=Symbol("");class wr{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Li(this,r)}run(){if(!this.active)return this.fn();let t=Ce,n=Ye;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ce,Ce=this,Ye=!0,Qe=1<<++Ft,Ft<=Jn?Bi(this):is(this),this.fn()}finally{Ft<=Jn&&Ki(this),Qe=1<<--Ft,Ce=this.parent,Ye=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ce===this?this.deferStop=!0:this.active&&(is(this),this.onStop&&this.onStop(),this.active=!1)}}function is(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ye=!0;const io=[];function Mt(){io.push(Ye),Ye=!1}function It(){const e=io.pop();Ye=e===void 0?!0:e}function _e(e,t,n){if(Ye&&Ce){let r=_n.get(e);r||_n.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=xr()),lo(s)}}function lo(e,t){let n=!1;Ft<=Jn?oo(e)||(e.n|=Qe,n=!so(e)):n=!e.has(Ce),n&&(e.add(Ce),Ce.deps.push(e))}function Ue(e,t,n,r,s,o){const i=_n.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&F(e)){const c=Number(r);i.forEach((a,d)=>{(d==="length"||d>=c)&&l.push(a)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":F(e)?yr(n)&&l.push(i.get("length")):(l.push(i.get(ct)),wt(e)&&l.push(i.get(Zn)));break;case"delete":F(e)||(l.push(i.get(ct)),wt(e)&&l.push(i.get(Zn)));break;case"set":wt(e)&&l.push(i.get(ct));break}if(l.length===1)l[0]&&Qn(l[0]);else{const c=[];for(const a of l)a&&c.push(...a);Qn(xr(c))}}function Qn(e,t){const n=F(e)?e:[...e];for(const r of n)r.computed&&ls(r);for(const r of n)r.computed||ls(r)}function ls(e,t){(e!==Ce||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Wi(e,t){var n;return(n=_n.get(e))===null||n===void 0?void 0:n.get(t)}const Xi=dt("__proto__,__v_isRef,__isVue"),co=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(br)),Vi=vr(),qi=vr(!1,!0),Gi=vr(!0),cs=zi();function zi(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=K(this);for(let o=0,i=this.length;o<i;o++)_e(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(K)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Mt();const r=K(this)[t].apply(this,n);return It(),r}}),e}function Yi(e){const t=K(this);return _e(t,"has",e),t.hasOwnProperty(e)}function vr(e=!1,t=!1){return function(r,s,o){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(e?t?dl:po:t?ho:ao).get(r))return r;const i=F(r);if(!e){if(i&&B(cs,s))return Reflect.get(cs,s,o);if(s==="hasOwnProperty")return Yi}const l=Reflect.get(r,s,o);return(br(s)?co.has(s):Xi(s))||(e||_e(r,"get",s),t)?l:le(l)?i&&yr(s)?l:l.value:ne(l)?e?mo(l):In(l):l}}const Ji=fo(),Zi=fo(!0);function fo(e=!1){return function(n,r,s,o){let i=n[r];if(Ot(i)&&le(i)&&!le(s))return!1;if(!e&&(!bn(s)&&!Ot(s)&&(i=K(i),s=K(s)),!F(n)&&le(i)&&!le(s)))return i.value=s,!0;const l=F(n)&&yr(r)?Number(r)<n.length:B(n,r),c=Reflect.set(n,r,s,o);return n===K(o)&&(l?Vt(s,i)&&Ue(n,"set",r,s):Ue(n,"add",r,s)),c}}function Qi(e,t){const n=B(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Ue(e,"delete",t,void 0),r}function el(e,t){const n=Reflect.has(e,t);return(!br(t)||!co.has(t))&&_e(e,"has",t),n}function tl(e){return _e(e,"iterate",F(e)?"length":ct),Reflect.ownKeys(e)}const uo={get:Vi,set:Ji,deleteProperty:Qi,has:el,ownKeys:tl},nl={get:Gi,set(e,t){return!0},deleteProperty(e,t){return!0}},rl=me({},uo,{get:qi,set:Zi}),Er=e=>e,Mn=e=>Reflect.getPrototypeOf(e);function sn(e,t,n=!1,r=!1){e=e.__v_raw;const s=K(e),o=K(t);n||(t!==o&&_e(s,"get",t),_e(s,"get",o));const{has:i}=Mn(s),l=r?Er:n?Pr:qt;if(i.call(s,t))return l(e.get(t));if(i.call(s,o))return l(e.get(o));e!==s&&e.get(t)}function on(e,t=!1){const n=this.__v_raw,r=K(n),s=K(e);return t||(e!==s&&_e(r,"has",e),_e(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ln(e,t=!1){return e=e.__v_raw,!t&&_e(K(e),"iterate",ct),Reflect.get(e,"size",e)}function fs(e){e=K(e);const t=K(this);return Mn(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function us(e,t){t=K(t);const n=K(this),{has:r,get:s}=Mn(n);let o=r.call(n,e);o||(e=K(e),o=r.call(n,e));const i=s.call(n,e);return n.set(e,t),o?Vt(t,i)&&Ue(n,"set",e,t):Ue(n,"add",e,t),this}function as(e){const t=K(this),{has:n,get:r}=Mn(t);let s=n.call(t,e);s||(e=K(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&Ue(t,"delete",e,void 0),o}function ds(){const e=K(this),t=e.size!==0,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}function cn(e,t){return function(r,s){const o=this,i=o.__v_raw,l=K(i),c=t?Er:e?Pr:qt;return!e&&_e(l,"iterate",ct),i.forEach((a,d)=>r.call(s,c(a),c(d),o))}}function fn(e,t,n){return function(...r){const s=this.__v_raw,o=K(s),i=wt(o),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,a=s[e](...r),d=n?Er:t?Pr:qt;return!t&&_e(o,"iterate",c?Zn:ct),{next(){const{value:h,done:_}=a.next();return _?{value:h,done:_}:{value:l?[d(h[0]),d(h[1])]:d(h),done:_}},[Symbol.iterator](){return this}}}}function We(e){return function(...t){return e==="delete"?!1:this}}function sl(){const e={get(o){return sn(this,o)},get size(){return ln(this)},has:on,add:fs,set:us,delete:as,clear:ds,forEach:cn(!1,!1)},t={get(o){return sn(this,o,!1,!0)},get size(){return ln(this)},has:on,add:fs,set:us,delete:as,clear:ds,forEach:cn(!1,!0)},n={get(o){return sn(this,o,!0)},get size(){return ln(this,!0)},has(o){return on.call(this,o,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:cn(!0,!1)},r={get(o){return sn(this,o,!0,!0)},get size(){return ln(this,!0)},has(o){return on.call(this,o,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:cn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=fn(o,!1,!1),n[o]=fn(o,!0,!1),t[o]=fn(o,!1,!0),r[o]=fn(o,!0,!0)}),[e,n,t,r]}const[ol,il,ll,cl]=sl();function Or(e,t){const n=t?e?cl:ll:e?il:ol;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(B(n,s)&&s in r?n:r,s,o)}const fl={get:Or(!1,!1)},ul={get:Or(!1,!0)},al={get:Or(!0,!1)},ao=new WeakMap,ho=new WeakMap,po=new WeakMap,dl=new WeakMap;function hl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pl(e){return e.__v_skip||!Object.isExtensible(e)?0:hl(Si(e))}function In(e){return Ot(e)?e:Rr(e,!1,uo,fl,ao)}function ml(e){return Rr(e,!1,rl,ul,ho)}function mo(e){return Rr(e,!0,nl,al,po)}function Rr(e,t,n,r,s){if(!ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=pl(e);if(i===0)return e;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function Je(e){return Ot(e)?Je(e.__v_raw):!!(e&&e.__v_isReactive)}function Ot(e){return!!(e&&e.__v_isReadonly)}function bn(e){return!!(e&&e.__v_isShallow)}function go(e){return Je(e)||Ot(e)}function K(e){const t=e&&e.__v_raw;return t?K(t):e}function Rt(e){return gn(e,"__v_skip",!0),e}const qt=e=>ne(e)?In(e):e,Pr=e=>ne(e)?mo(e):e;function _o(e){Ye&&Ce&&(e=K(e),lo(e.dep||(e.dep=xr())))}function bo(e,t){e=K(e);const n=e.dep;n&&Qn(n)}function le(e){return!!(e&&e.__v_isRef===!0)}function ot(e){return gl(e,!1)}function gl(e,t){return le(e)?e:new _l(e,t)}class _l{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:K(t),this._value=n?t:qt(t)}get value(){return _o(this),this._value}set value(t){const n=this.__v_isShallow||bn(t)||Ot(t);t=n?t:K(t),Vt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:qt(t),bo(this))}}function se(e){return le(e)?e.value:e}const bl={get:(e,t,n)=>se(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return le(s)&&!le(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function yo(e){return Je(e)?e:new Proxy(e,bl)}function yl(e){const t=F(e)?new Array(e.length):{};for(const n in e)t[n]=wl(e,n);return t}class xl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Wi(K(this._object),this._key)}}function wl(e,t,n){const r=e[t];return le(r)?r:new xl(e,t,n)}var xo;class vl{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[xo]=!1,this._dirty=!0,this.effect=new wr(t,()=>{this._dirty||(this._dirty=!0,bo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=K(this);return _o(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}xo="__v_isReadonly";function El(e,t,n=!1){let r,s;const o=D(e);return o?(r=e,s=xe):(r=e.get,s=e.set),new vl(r,s,o||!s,n)}function Ze(e,t,n,r){let s;try{s=r?e(...r):e()}catch(o){kn(o,t,n)}return s}function ke(e,t,n,r){if(D(e)){const o=Ze(e,t,n,r);return o&&tn(o)&&o.catch(i=>{kn(i,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(ke(e[o],t,n,r));return s}function kn(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,l=n;for(;o;){const a=o.ec;if(a){for(let d=0;d<a.length;d++)if(a[d](e,i,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){Ze(c,null,10,[e,i,l]);return}}Ol(e,n,s,r)}function Ol(e,t,n,r=!0){console.error(e)}let Gt=!1,er=!1;const he=[];let je=0;const vt=[];let Le=null,it=0;const wo=Promise.resolve();let Ar=null;function vo(e){const t=Ar||wo;return e?t.then(this?e.bind(this):e):t}function Rl(e){let t=je+1,n=he.length;for(;t<n;){const r=t+n>>>1;zt(he[r])<e?t=r+1:n=r}return t}function Cr(e){(!he.length||!he.includes(e,Gt&&e.allowRecurse?je+1:je))&&(e.id==null?he.push(e):he.splice(Rl(e.id),0,e),Eo())}function Eo(){!Gt&&!er&&(er=!0,Ar=wo.then(Oo))}function Pl(e){const t=he.indexOf(e);t>je&&he.splice(t,1)}function Al(e){F(e)?vt.push(...e):(!Le||!Le.includes(e,e.allowRecurse?it+1:it))&&vt.push(e),Eo()}function hs(e,t=Gt?je+1:0){for(;t<he.length;t++){const n=he[t];n&&n.pre&&(he.splice(t,1),t--,n())}}function yn(e){if(vt.length){const t=[...new Set(vt)];if(vt.length=0,Le){Le.push(...t);return}for(Le=t,Le.sort((n,r)=>zt(n)-zt(r)),it=0;it<Le.length;it++)Le[it]();Le=null,it=0}}const zt=e=>e.id==null?1/0:e.id,Cl=(e,t)=>{const n=zt(e)-zt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Oo(e){er=!1,Gt=!0,he.sort(Cl);const t=xe;try{for(je=0;je<he.length;je++){const n=he[je];n&&n.active!==!1&&Ze(n,null,14)}}finally{je=0,he.length=0,yn(),Gt=!1,Ar=null,(he.length||vt.length)&&Oo()}}function Tl(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||te;let s=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in r){const d=`${i==="modelValue"?"model":i}Modifiers`,{number:h,trim:_}=r[d]||te;_&&(s=n.map(R=>Y(R)?R.trim():R)),h&&(s=n.map(Di))}let l,c=r[l=Un(t)]||r[l=Un(Et(t))];!c&&o&&(c=r[l=Un(pt(t))]),c&&ke(c,e,6,s);const a=r[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ke(a,e,6,s)}}function Ro(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},l=!1;if(!D(e)){const c=a=>{const d=Ro(a,t,!0);d&&(l=!0,me(i,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(ne(e)&&r.set(e,null),null):(F(o)?o.forEach(c=>i[c]=null):me(i,o),ne(e)&&r.set(e,i),i)}function Nn(e,t){return!e||!$t(t)?!1:(t=t.slice(2).replace(/Once$/,""),B(e,t[0].toLowerCase()+t.slice(1))||B(e,pt(t))||B(e,t))}let $e=null,Po=null;function Yt(e){const t=$e;return $e=e,Po=e&&e.type.__scopeId||null,t}function $l(e,t=$e,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ws(-1);const o=Yt(t);let i;try{i=e(...s)}finally{Yt(o),r._d&&ws(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function hn(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[i],slots:l,attrs:c,emit:a,render:d,renderCache:h,data:_,setupState:R,ctx:O,inheritAttrs:T}=e;let G,b;const E=Yt(e);try{if(n.shapeFlag&4){const H=s||r;G=Pe(d.call(H,H,h,o,R,_,O)),b=c}else{const H=t;G=Pe(H.length>1?H(o,{attrs:c,slots:l,emit:a}):H(o,null)),b=t.props?c:Ml(c)}}catch(H){Kt.length=0,kn(H,e,1),G=ae(Be)}let A=G;if(b&&T!==!1){const H=Object.keys(b),{shapeFlag:j}=A;H.length&&j&7&&(i&&H.some(gr)&&(b=Il(b,i)),A=At(A,b))}return n.dirs&&(A=At(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),G=A,Yt(E),G}const Ml=e=>{let t;for(const n in e)(n==="class"||n==="style"||$t(n))&&((t||(t={}))[n]=e[n]);return t},Il=(e,t)=>{const n={};for(const r in e)(!gr(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function kl(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:l,patchFlag:c}=t,a=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ps(r,i,a):!!i;if(c&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const _=d[h];if(i[_]!==r[_]&&!Nn(a,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===i?!1:r?i?ps(r,i,a):!0:!!i;return!1}function ps(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!Nn(n,o))return!0}return!1}function Nl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Sl=e=>e.__isSuspense;function Ao(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):Al(e)}function Fl(e,t){if(ue){let n=ue.provides;const r=ue.parent&&ue.parent.provides;r===n&&(n=ue.provides=Object.create(r)),n[e]=t}}function Ht(e,t,n=!1){const r=ue||$e;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&D(t)?t.call(r.proxy):t}}const un={};function pn(e,t,n){return Co(e,t,n)}function Co(e,t,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:i}=te){const l=ro()===(ue==null?void 0:ue.scope)?ue:null;let c,a=!1,d=!1;if(le(e)?(c=()=>e.value,a=bn(e)):Je(e)?(c=()=>e,r=!0):F(e)?(d=!0,a=e.some(A=>Je(A)||bn(A)),c=()=>e.map(A=>{if(le(A))return A.value;if(Je(A))return bt(A);if(D(A))return Ze(A,l,2)})):D(e)?t?c=()=>Ze(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),ke(e,l,3,[_])}:c=xe,t&&r){const A=c;c=()=>bt(A())}let h,_=A=>{h=b.onStop=()=>{Ze(A,l,4)}},R;if(Zt)if(_=xe,t?n&&ke(t,l,3,[c(),d?[]:void 0,_]):c(),s==="sync"){const A=Pc();R=A.__watcherHandles||(A.__watcherHandles=[])}else return xe;let O=d?new Array(e.length).fill(un):un;const T=()=>{if(b.active)if(t){const A=b.run();(r||a||(d?A.some((H,j)=>Vt(H,O[j])):Vt(A,O)))&&(h&&h(),ke(t,l,3,[A,O===un?void 0:d&&O[0]===un?[]:O,_]),O=A)}else b.run()};T.allowRecurse=!!t;let G;s==="sync"?G=T:s==="post"?G=()=>ge(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),G=()=>Cr(T));const b=new wr(c,G);t?n?T():O=b.run():s==="post"?ge(b.run.bind(b),l&&l.suspense):b.run();const E=()=>{b.stop(),l&&l.scope&&_r(l.scope.effects,b)};return R&&R.push(E),E}function jl(e,t,n){const r=this.proxy,s=Y(e)?e.includes(".")?To(r,e):()=>r[e]:e.bind(r,r);let o;D(t)?o=t:(o=t.handler,n=t);const i=ue;Ct(this);const l=Co(s,o.bind(r),n);return i?Ct(i):ft(),l}function To(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function bt(e,t){if(!ne(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),le(e))bt(e.value,t);else if(F(e))for(let n=0;n<e.length;n++)bt(e[n],t);else if(Js(e)||wt(e))e.forEach(n=>{bt(n,t)});else if(Qs(e))for(const n in e)bt(e[n],t);return e}function Pt(e){return D(e)?{setup:e,name:e.name}:e}const Lt=e=>!!e.type.__asyncLoader,$o=e=>e.type.__isKeepAlive;function Dl(e,t){Mo(e,"a",t)}function Hl(e,t){Mo(e,"da",t)}function Mo(e,t,n=ue){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Sn(t,r,n),n){let s=n.parent;for(;s&&s.parent;)$o(s.parent.vnode)&&Ll(r,t,n,s),s=s.parent}}function Ll(e,t,n,r){const s=Sn(t,e,r,!0);Io(()=>{_r(r[t],s)},n)}function Sn(e,t,n=ue,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Mt(),Ct(n);const l=ke(t,n,e,i);return ft(),It(),l});return r?s.unshift(o):s.push(o),o}}const Ke=e=>(t,n=ue)=>(!Zt||e==="sp")&&Sn(e,(...r)=>t(...r),n),Ul=Ke("bm"),Bl=Ke("m"),Kl=Ke("bu"),Wl=Ke("u"),Xl=Ke("bum"),Io=Ke("um"),Vl=Ke("sp"),ql=Ke("rtg"),Gl=Ke("rtc");function zl(e,t=ue){Sn("ec",e,t)}function Fe(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const l=s[i];o&&(l.oldValue=o[i].value);let c=l.dir[r];c&&(Mt(),ke(c,n,8,[e.el,l,e,t]),It())}}const Yl=Symbol();function xn(e,t,n,r){let s;const o=n&&n[r];if(F(e)||Y(e)){s=new Array(e.length);for(let i=0,l=e.length;i<l;i++)s[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,o&&o[i])}else if(ne(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,o&&o[l]));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const a=i[l];s[l]=t(e[a],a,l,o&&o[l])}}else s=[];return n&&(n[r]=s),s}const tr=e=>e?Vo(e)?kr(e)||e.proxy:tr(e.parent):null,Ut=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tr(e.parent),$root:e=>tr(e.root),$emit:e=>e.emit,$options:e=>Tr(e),$forceUpdate:e=>e.f||(e.f=()=>Cr(e.update)),$nextTick:e=>e.n||(e.n=vo.bind(e.proxy)),$watch:e=>jl.bind(e)}),Kn=(e,t)=>e!==te&&!e.__isScriptSetup&&B(e,t),Jl={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const R=i[t];if(R!==void 0)switch(R){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Kn(r,t))return i[t]=1,r[t];if(s!==te&&B(s,t))return i[t]=2,s[t];if((a=e.propsOptions[0])&&B(a,t))return i[t]=3,o[t];if(n!==te&&B(n,t))return i[t]=4,n[t];nr&&(i[t]=0)}}const d=Ut[t];let h,_;if(d)return t==="$attrs"&&_e(e,"get",t),d(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==te&&B(n,t))return i[t]=4,n[t];if(_=c.config.globalProperties,B(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Kn(s,t)?(s[t]=n,!0):r!==te&&B(r,t)?(r[t]=n,!0):B(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let l;return!!n[i]||e!==te&&B(e,i)||Kn(t,i)||(l=o[0])&&B(l,i)||B(r,i)||B(Ut,i)||B(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:B(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let nr=!0;function Zl(e){const t=Tr(e),n=e.proxy,r=e.ctx;nr=!1,t.beforeCreate&&ms(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:l,provide:c,inject:a,created:d,beforeMount:h,mounted:_,beforeUpdate:R,updated:O,activated:T,deactivated:G,beforeDestroy:b,beforeUnmount:E,destroyed:A,unmounted:H,render:j,renderTracked:V,renderTriggered:N,errorCaptured:C,serverPrefetch:X,expose:W,inheritAttrs:z,components:Ee,directives:ce,filters:k}=t;if(a&&Ql(a,r,null,e.appContext.config.unwrapInjectedRef),i)for(const ie in i){const J=i[ie];D(J)&&(r[ie]=J.bind(n))}if(s){const ie=s.call(n,n);ne(ie)&&(e.data=In(ie))}if(nr=!0,o)for(const ie in o){const J=o[ie],et=D(J)?J.bind(n,n):D(J.get)?J.get.bind(n,n):xe,nn=!D(J)&&D(J.set)?J.set.bind(n):xe,tt=Ie({get:et,set:nn});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Ne=>tt.value=Ne})}if(l)for(const ie in l)ko(l[ie],r,n,ie);if(c){const ie=D(c)?c.call(n):c;Reflect.ownKeys(ie).forEach(J=>{Fl(J,ie[J])})}d&&ms(d,e,"c");function ee(ie,J){F(J)?J.forEach(et=>ie(et.bind(n))):J&&ie(J.bind(n))}if(ee(Ul,h),ee(Bl,_),ee(Kl,R),ee(Wl,O),ee(Dl,T),ee(Hl,G),ee(zl,C),ee(Gl,V),ee(ql,N),ee(Xl,E),ee(Io,H),ee(Vl,X),F(W))if(W.length){const ie=e.exposed||(e.exposed={});W.forEach(J=>{Object.defineProperty(ie,J,{get:()=>n[J],set:et=>n[J]=et})})}else e.exposed||(e.exposed={});j&&e.render===xe&&(e.render=j),z!=null&&(e.inheritAttrs=z),Ee&&(e.components=Ee),ce&&(e.directives=ce)}function Ql(e,t,n=xe,r=!1){F(e)&&(e=rr(e));for(const s in e){const o=e[s];let i;ne(o)?"default"in o?i=Ht(o.from||s,o.default,!0):i=Ht(o.from||s):i=Ht(o),le(i)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[s]=i}}function ms(e,t,n){ke(F(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ko(e,t,n,r){const s=r.includes(".")?To(n,r):()=>n[r];if(Y(e)){const o=t[e];D(o)&&pn(s,o)}else if(D(e))pn(s,e.bind(n));else if(ne(e))if(F(e))e.forEach(o=>ko(o,t,n,r));else{const o=D(e.handler)?e.handler.bind(n):t[e.handler];D(o)&&pn(s,o,e)}}function Tr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(a=>wn(c,a,i,!0)),wn(c,t,i)),ne(t)&&o.set(t,c),c}function wn(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&wn(e,o,n,!0),s&&s.forEach(i=>wn(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const l=ec[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const ec={data:gs,props:rt,emits:rt,methods:rt,computed:rt,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:rt,directives:rt,watch:nc,provide:gs,inject:tc};function gs(e,t){return t?e?function(){return me(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function tc(e,t){return rt(rr(e),rr(t))}function rr(e){if(F(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function pe(e,t){return e?[...new Set([].concat(e,t))]:t}function rt(e,t){return e?me(me(Object.create(null),e),t):t}function nc(e,t){if(!e)return t;if(!t)return e;const n=me(Object.create(null),e);for(const r in t)n[r]=pe(e[r],t[r]);return n}function rc(e,t,n,r=!1){const s={},o={};gn(o,Fn,1),e.propsDefaults=Object.create(null),No(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:ml(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function sc(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,l=K(s),[c]=e.propsOptions;let a=!1;if((r||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let _=d[h];if(Nn(e.emitsOptions,_))continue;const R=t[_];if(c)if(B(o,_))R!==o[_]&&(o[_]=R,a=!0);else{const O=Et(_);s[O]=sr(c,l,O,R,e,!1)}else R!==o[_]&&(o[_]=R,a=!0)}}}else{No(e,t,s,o)&&(a=!0);let d;for(const h in l)(!t||!B(t,h)&&((d=pt(h))===h||!B(t,d)))&&(c?n&&(n[h]!==void 0||n[d]!==void 0)&&(s[h]=sr(c,l,h,void 0,e,!0)):delete s[h]);if(o!==l)for(const h in o)(!t||!B(t,h))&&(delete o[h],a=!0)}a&&Ue(e,"set","$attrs")}function No(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(Dt(c))continue;const a=t[c];let d;s&&B(s,d=Et(c))?!o||!o.includes(d)?n[d]=a:(l||(l={}))[d]=a:Nn(e.emitsOptions,c)||(!(c in r)||a!==r[c])&&(r[c]=a,i=!0)}if(o){const c=K(n),a=l||te;for(let d=0;d<o.length;d++){const h=o[d];n[h]=sr(s,c,h,a[h],e,!B(a,h))}}return i}function sr(e,t,n,r,s,o){const i=e[n];if(i!=null){const l=B(i,"default");if(l&&r===void 0){const c=i.default;if(i.type!==Function&&D(c)){const{propsDefaults:a}=s;n in a?r=a[n]:(Ct(s),r=a[n]=c.call(null,t),ft())}else r=c}i[0]&&(o&&!l?r=!1:i[1]&&(r===""||r===pt(n))&&(r=!0))}return r}function So(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},l=[];let c=!1;if(!D(e)){const d=h=>{c=!0;const[_,R]=So(h,t,!0);me(i,_),R&&l.push(...R)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!c)return ne(e)&&r.set(e,xt),xt;if(F(o))for(let d=0;d<o.length;d++){const h=Et(o[d]);_s(h)&&(i[h]=te)}else if(o)for(const d in o){const h=Et(d);if(_s(h)){const _=o[d],R=i[h]=F(_)||D(_)?{type:_}:Object.assign({},_);if(R){const O=xs(Boolean,R.type),T=xs(String,R.type);R[0]=O>-1,R[1]=T<0||O<T,(O>-1||B(R,"default"))&&l.push(h)}}}const a=[i,l];return ne(e)&&r.set(e,a),a}function _s(e){return e[0]!=="$"}function bs(e){const t=e&&e.toString().match(/^\\s*(function|class) (\\w+)/);return t?t[2]:e===null?"null":""}function ys(e,t){return bs(e)===bs(t)}function xs(e,t){return F(t)?t.findIndex(n=>ys(n,e)):D(t)&&ys(t,e)?0:-1}const Fo=e=>e[0]==="_"||e==="$stable",$r=e=>F(e)?e.map(Pe):[Pe(e)],oc=(e,t,n)=>{if(t._n)return t;const r=$l((...s)=>$r(t(...s)),n);return r._c=!1,r},jo=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Fo(s))continue;const o=e[s];if(D(o))t[s]=oc(s,o,r);else if(o!=null){const i=$r(o);t[s]=()=>i}}},Do=(e,t)=>{const n=$r(t);e.slots.default=()=>n},ic=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=K(t),gn(t,"_",n)):jo(t,e.slots={})}else e.slots={},t&&Do(e,t);gn(e.slots,Fn,1)},lc=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=te;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(me(s,t),!n&&l===1&&delete s._):(o=!t.$stable,jo(t,s)),i=t}else t&&(Do(e,t),i={default:1});if(o)for(const l in s)!Fo(l)&&!(l in i)&&delete s[l]};function Ho(){return{app:null,config:{isNativeTag:Ii,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cc=0;function fc(e,t){return function(r,s=null){D(r)||(r=Object.assign({},r)),s!=null&&!ne(s)&&(s=null);const o=Ho(),i=new Set;let l=!1;const c=o.app={_uid:cc++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:Ac,get config(){return o.config},set config(a){},use(a,...d){return i.has(a)||(a&&D(a.install)?(i.add(a),a.install(c,...d)):D(a)&&(i.add(a),a(c,...d))),c},mixin(a){return o.mixins.includes(a)||o.mixins.push(a),c},component(a,d){return d?(o.components[a]=d,c):o.components[a]},directive(a,d){return d?(o.directives[a]=d,c):o.directives[a]},mount(a,d,h){if(!l){const _=ae(r,s);return _.appContext=o,d&&t?t(_,a):e(_,a,h),l=!0,c._container=a,a.__vue_app__=c,kr(_.component)||_.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,d){return o.provides[a]=d,c}};return c}}function vn(e,t,n,r,s=!1){if(F(e)){e.forEach((_,R)=>vn(_,t&&(F(t)?t[R]:t),n,r,s));return}if(Lt(r)&&!s)return;const o=r.shapeFlag&4?kr(r.component)||r.component.proxy:r.el,i=s?null:o,{i:l,r:c}=e,a=t&&t.r,d=l.refs===te?l.refs={}:l.refs,h=l.setupState;if(a!=null&&a!==c&&(Y(a)?(d[a]=null,B(h,a)&&(h[a]=null)):le(a)&&(a.value=null)),D(c))Ze(c,l,12,[i,d]);else{const _=Y(c),R=le(c);if(_||R){const O=()=>{if(e.f){const T=_?B(h,c)?h[c]:d[c]:c.value;s?F(T)&&_r(T,o):F(T)?T.includes(o)||T.push(o):_?(d[c]=[o],B(h,c)&&(h[c]=d[c])):(c.value=[o],e.k&&(d[e.k]=c.value))}else _?(d[c]=i,B(h,c)&&(h[c]=i)):R&&(c.value=i,e.k&&(d[e.k]=i))};i?(O.id=-1,ge(O,n)):O()}}}let Xe=!1;const an=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",dn=e=>e.nodeType===8;function uc(e){const{mt:t,p:n,o:{patchProp:r,createText:s,nextSibling:o,parentNode:i,remove:l,insert:c,createComment:a}}=e,d=(b,E)=>{if(!E.hasChildNodes()){n(null,b,E),yn(),E._vnode=b;return}Xe=!1,h(E.firstChild,b,null,null,null),yn(),E._vnode=b,Xe&&console.error("Hydration completed but contains mismatches.")},h=(b,E,A,H,j,V=!1)=>{const N=dn(b)&&b.data==="[",C=()=>T(b,E,A,H,j,N),{type:X,ref:W,shapeFlag:z,patchFlag:Ee}=E;let ce=b.nodeType;E.el=b,Ee===-2&&(V=!1,E.dynamicChildren=null);let k=null;switch(X){case ut:ce!==3?E.children===""?(c(E.el=s(""),i(b),b),k=b):k=C():(b.data!==E.children&&(Xe=!0,b.data=E.children),k=o(b));break;case Be:ce!==8||N?k=C():k=o(b);break;case Bt:if(N&&(b=o(b),ce=b.nodeType),ce===1||ce===3){k=b;const re=!E.children.length;for(let ee=0;ee<E.staticCount;ee++)re&&(E.children+=k.nodeType===1?k.outerHTML:k.data),ee===E.staticCount-1&&(E.anchor=k),k=o(k);return N?o(k):k}else C();break;case de:N?k=O(b,E,A,H,j,V):k=C();break;default:if(z&1)ce!==1||E.type.toLowerCase()!==b.tagName.toLowerCase()?k=C():k=_(b,E,A,H,j,V);else if(z&6){E.slotScopeIds=j;const re=i(b);if(t(E,re,null,A,H,an(re),V),k=N?G(b):o(b),k&&dn(k)&&k.data==="teleport end"&&(k=o(k)),Lt(E)){let ee;N?(ee=ae(de),ee.anchor=k?k.previousSibling:re.lastChild):ee=b.nodeType===3?yt(""):ae("div"),ee.el=b,E.component.subTree=ee}}else z&64?ce!==8?k=C():k=E.type.hydrate(b,E,A,H,j,V,e,R):z&128&&(k=E.type.hydrate(b,E,A,H,an(i(b)),j,V,e,h))}return W!=null&&vn(W,null,H,E),k},_=(b,E,A,H,j,V)=>{V=V||!!E.dynamicChildren;const{type:N,props:C,patchFlag:X,shapeFlag:W,dirs:z}=E,Ee=N==="input"&&z||N==="option";if(Ee||X!==-1){if(z&&Fe(E,null,A,"created"),C)if(Ee||!V||X&48)for(const k in C)(Ee&&k.endsWith("value")||$t(k)&&!Dt(k))&&r(b,k,null,C[k],!1,void 0,A);else C.onClick&&r(b,"onClick",null,C.onClick,!1,void 0,A);let ce;if((ce=C&&C.onVnodeBeforeMount)&&Re(ce,A,E),z&&Fe(E,null,A,"beforeMount"),((ce=C&&C.onVnodeMounted)||z)&&Ao(()=>{ce&&Re(ce,A,E),z&&Fe(E,null,A,"mounted")},H),W&16&&!(C&&(C.innerHTML||C.textContent))){let k=R(b.firstChild,E,b,A,H,j,V);for(;k;){Xe=!0;const re=k;k=k.nextSibling,l(re)}}else W&8&&b.textContent!==E.children&&(Xe=!0,b.textContent=E.children)}return b.nextSibling},R=(b,E,A,H,j,V,N)=>{N=N||!!E.dynamicChildren;const C=E.children,X=C.length;for(let W=0;W<X;W++){const z=N?C[W]:C[W]=Pe(C[W]);if(b)b=h(b,z,H,j,V,N);else{if(z.type===ut&&!z.children)continue;Xe=!0,n(null,z,A,null,H,j,an(A),V)}}return b},O=(b,E,A,H,j,V)=>{const{slotScopeIds:N}=E;N&&(j=j?j.concat(N):N);const C=i(b),X=R(o(b),E,C,A,H,j,V);return X&&dn(X)&&X.data==="]"?o(E.anchor=X):(Xe=!0,c(E.anchor=a("]"),C,X),X)},T=(b,E,A,H,j,V)=>{if(Xe=!0,E.el=null,V){const X=G(b);for(;;){const W=o(b);if(W&&W!==X)l(W);else break}}const N=o(b),C=i(b);return l(b),n(null,E,C,N,A,H,an(C),j),N},G=b=>{let E=0;for(;b;)if(b=o(b),b&&dn(b)&&(b.data==="["&&E++,b.data==="]")){if(E===0)return o(b);E--}return b};return[d,h]}const ge=Ao;function ac(e){return Lo(e)}function dc(e){return Lo(e,uc)}function Lo(e,t){const n=Hi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:l,createComment:c,setText:a,setElementText:d,parentNode:h,nextSibling:_,setScopeId:R=xe,insertStaticContent:O}=e,T=(f,u,p,g=null,m=null,w=null,P=!1,x=null,v=!!u.dynamicChildren)=>{if(f===u)return;f&&!St(f,u)&&(g=rn(f),Ne(f,m,w,!0),f=null),u.patchFlag===-2&&(v=!1,u.dynamicChildren=null);const{type:y,ref:M,shapeFlag:$}=u;switch(y){case ut:G(f,u,p,g);break;case Be:b(f,u,p,g);break;case Bt:f==null&&E(u,p,g,P);break;case de:Ee(f,u,p,g,m,w,P,x,v);break;default:$&1?j(f,u,p,g,m,w,P,x,v):$&6?ce(f,u,p,g,m,w,P,x,v):($&64||$&128)&&y.process(f,u,p,g,m,w,P,x,v,mt)}M!=null&&m&&vn(M,f&&f.ref,w,u||f,!u)},G=(f,u,p,g)=>{if(f==null)r(u.el=l(u.children),p,g);else{const m=u.el=f.el;u.children!==f.children&&a(m,u.children)}},b=(f,u,p,g)=>{f==null?r(u.el=c(u.children||""),p,g):u.el=f.el},E=(f,u,p,g)=>{[f.el,f.anchor]=O(f.children,u,p,g,f.el,f.anchor)},A=({el:f,anchor:u},p,g)=>{let m;for(;f&&f!==u;)m=_(f),r(f,p,g),f=m;r(u,p,g)},H=({el:f,anchor:u})=>{let p;for(;f&&f!==u;)p=_(f),s(f),f=p;s(u)},j=(f,u,p,g,m,w,P,x,v)=>{P=P||u.type==="svg",f==null?V(u,p,g,m,w,P,x,v):X(f,u,m,w,P,x,v)},V=(f,u,p,g,m,w,P,x)=>{let v,y;const{type:M,props:$,shapeFlag:I,transition:S,dirs:U}=f;if(v=f.el=i(f.type,w,$&&$.is,$),I&8?d(v,f.children):I&16&&C(f.children,v,null,g,m,w&&M!=="foreignObject",P,x),U&&Fe(f,null,g,"created"),N(v,f,f.scopeId,P,g),$){for(const q in $)q!=="value"&&!Dt(q)&&o(v,q,null,$[q],w,f.children,g,m,He);"value"in $&&o(v,"value",null,$.value),(y=$.onVnodeBeforeMount)&&Re(y,g,f)}U&&Fe(f,null,g,"beforeMount");const Z=(!m||m&&!m.pendingBranch)&&S&&!S.persisted;Z&&S.beforeEnter(v),r(v,u,p),((y=$&&$.onVnodeMounted)||Z||U)&&ge(()=>{y&&Re(y,g,f),Z&&S.enter(v),U&&Fe(f,null,g,"mounted")},m)},N=(f,u,p,g,m)=>{if(p&&R(f,p),g)for(let w=0;w<g.length;w++)R(f,g[w]);if(m){let w=m.subTree;if(u===w){const P=m.vnode;N(f,P,P.scopeId,P.slotScopeIds,m.parent)}}},C=(f,u,p,g,m,w,P,x,v=0)=>{for(let y=v;y<f.length;y++){const M=f[y]=x?qe(f[y]):Pe(f[y]);T(null,M,u,p,g,m,w,P,x)}},X=(f,u,p,g,m,w,P)=>{const x=u.el=f.el;let{patchFlag:v,dynamicChildren:y,dirs:M}=u;v|=f.patchFlag&16;const $=f.props||te,I=u.props||te;let S;p&&nt(p,!1),(S=I.onVnodeBeforeUpdate)&&Re(S,p,u,f),M&&Fe(u,f,p,"beforeUpdate"),p&&nt(p,!0);const U=m&&u.type!=="foreignObject";if(y?W(f.dynamicChildren,y,x,p,g,U,w):P||J(f,u,x,null,p,g,U,w,!1),v>0){if(v&16)z(x,u,$,I,p,g,m);else if(v&2&&$.class!==I.class&&o(x,"class",null,I.class,m),v&4&&o(x,"style",$.style,I.style,m),v&8){const Z=u.dynamicProps;for(let q=0;q<Z.length;q++){const fe=Z[q],Ae=$[fe],gt=I[fe];(gt!==Ae||fe==="value")&&o(x,fe,Ae,gt,m,f.children,p,g,He)}}v&1&&f.children!==u.children&&d(x,u.children)}else!P&&y==null&&z(x,u,$,I,p,g,m);((S=I.onVnodeUpdated)||M)&&ge(()=>{S&&Re(S,p,u,f),M&&Fe(u,f,p,"updated")},g)},W=(f,u,p,g,m,w,P)=>{for(let x=0;x<u.length;x++){const v=f[x],y=u[x],M=v.el&&(v.type===de||!St(v,y)||v.shapeFlag&70)?h(v.el):p;T(v,y,M,null,g,m,w,P,!0)}},z=(f,u,p,g,m,w,P)=>{if(p!==g){if(p!==te)for(const x in p)!Dt(x)&&!(x in g)&&o(f,x,p[x],null,P,u.children,m,w,He);for(const x in g){if(Dt(x))continue;const v=g[x],y=p[x];v!==y&&x!=="value"&&o(f,x,y,v,P,u.children,m,w,He)}"value"in g&&o(f,"value",p.value,g.value)}},Ee=(f,u,p,g,m,w,P,x,v)=>{const y=u.el=f?f.el:l(""),M=u.anchor=f?f.anchor:l("");let{patchFlag:$,dynamicChildren:I,slotScopeIds:S}=u;S&&(x=x?x.concat(S):S),f==null?(r(y,p,g),r(M,p,g),C(u.children,p,M,m,w,P,x,v)):$>0&&$&64&&I&&f.dynamicChildren?(W(f.dynamicChildren,I,p,m,w,P,x),(u.key!=null||m&&u===m.subTree)&&Uo(f,u,!0)):J(f,u,p,M,m,w,P,x,v)},ce=(f,u,p,g,m,w,P,x,v)=>{u.slotScopeIds=x,f==null?u.shapeFlag&512?m.ctx.activate(u,p,g,P,v):k(u,p,g,m,w,P,v):re(f,u,v)},k=(f,u,p,g,m,w,P)=>{const x=f.component=Xo(f,g,m);if($o(f)&&(x.ctx.renderer=mt),qo(x),x.asyncDep){if(m&&m.registerDep(x,ee),!f.el){const v=x.subTree=ae(Be);b(null,v,u,p)}return}ee(x,f,u,p,m,w,P)},re=(f,u,p)=>{const g=u.component=f.component;if(kl(f,u,p))if(g.asyncDep&&!g.asyncResolved){ie(g,u,p);return}else g.next=u,Pl(g.update),g.update();else u.el=f.el,g.vnode=u},ee=(f,u,p,g,m,w,P)=>{const x=()=>{if(f.isMounted){let{next:M,bu:$,u:I,parent:S,vnode:U}=f,Z=M,q;nt(f,!1),M?(M.el=U.el,ie(f,M,P)):M=U,$&&Bn($),(q=M.props&&M.props.onVnodeBeforeUpdate)&&Re(q,S,M,U),nt(f,!0);const fe=hn(f),Ae=f.subTree;f.subTree=fe,T(Ae,fe,h(Ae.el),rn(Ae),f,m,w),M.el=fe.el,Z===null&&Nl(f,fe.el),I&&ge(I,m),(q=M.props&&M.props.onVnodeUpdated)&&ge(()=>Re(q,S,M,U),m)}else{let M;const{el:$,props:I}=u,{bm:S,m:U,parent:Z}=f,q=Lt(u);if(nt(f,!1),S&&Bn(S),!q&&(M=I&&I.onVnodeBeforeMount)&&Re(M,Z,u),nt(f,!0),$&&Hn){const fe=()=>{f.subTree=hn(f),Hn($,f.subTree,f,m,null)};q?u.type.__asyncLoader().then(()=>!f.isUnmounted&&fe()):fe()}else{const fe=f.subTree=hn(f);T(null,fe,p,g,f,m,w),u.el=fe.el}if(U&&ge(U,m),!q&&(M=I&&I.onVnodeMounted)){const fe=u;ge(()=>Re(M,Z,fe),m)}(u.shapeFlag&256||Z&&Lt(Z.vnode)&&Z.vnode.shapeFlag&256)&&f.a&&ge(f.a,m),f.isMounted=!0,u=p=g=null}},v=f.effect=new wr(x,()=>Cr(y),f.scope),y=f.update=()=>v.run();y.id=f.uid,nt(f,!0),y()},ie=(f,u,p)=>{u.component=f;const g=f.vnode.props;f.vnode=u,f.next=null,sc(f,u.props,g,p),lc(f,u.children,p),Mt(),hs(),It()},J=(f,u,p,g,m,w,P,x,v=!1)=>{const y=f&&f.children,M=f?f.shapeFlag:0,$=u.children,{patchFlag:I,shapeFlag:S}=u;if(I>0){if(I&128){nn(y,$,p,g,m,w,P,x,v);return}else if(I&256){et(y,$,p,g,m,w,P,x,v);return}}S&8?(M&16&&He(y,m,w),$!==y&&d(p,$)):M&16?S&16?nn(y,$,p,g,m,w,P,x,v):He(y,m,w,!0):(M&8&&d(p,""),S&16&&C($,p,g,m,w,P,x,v))},et=(f,u,p,g,m,w,P,x,v)=>{f=f||xt,u=u||xt;const y=f.length,M=u.length,$=Math.min(y,M);let I;for(I=0;I<$;I++){const S=u[I]=v?qe(u[I]):Pe(u[I]);T(f[I],S,p,null,m,w,P,x,v)}y>M?He(f,m,w,!0,!1,$):C(u,p,g,m,w,P,x,v,$)},nn=(f,u,p,g,m,w,P,x,v)=>{let y=0;const M=u.length;let $=f.length-1,I=M-1;for(;y<=$&&y<=I;){const S=f[y],U=u[y]=v?qe(u[y]):Pe(u[y]);if(St(S,U))T(S,U,p,null,m,w,P,x,v);else break;y++}for(;y<=$&&y<=I;){const S=f[$],U=u[I]=v?qe(u[I]):Pe(u[I]);if(St(S,U))T(S,U,p,null,m,w,P,x,v);else break;$--,I--}if(y>$){if(y<=I){const S=I+1,U=S<M?u[S].el:g;for(;y<=I;)T(null,u[y]=v?qe(u[y]):Pe(u[y]),p,U,m,w,P,x,v),y++}}else if(y>I)for(;y<=$;)Ne(f[y],m,w,!0),y++;else{const S=y,U=y,Z=new Map;for(y=U;y<=I;y++){const be=u[y]=v?qe(u[y]):Pe(u[y]);be.key!=null&&Z.set(be.key,y)}let q,fe=0;const Ae=I-U+1;let gt=!1,ns=0;const Nt=new Array(Ae);for(y=0;y<Ae;y++)Nt[y]=0;for(y=S;y<=$;y++){const be=f[y];if(fe>=Ae){Ne(be,m,w,!0);continue}let Se;if(be.key!=null)Se=Z.get(be.key);else for(q=U;q<=I;q++)if(Nt[q-U]===0&&St(be,u[q])){Se=q;break}Se===void 0?Ne(be,m,w,!0):(Nt[Se-U]=y+1,Se>=ns?ns=Se:gt=!0,T(be,u[Se],p,null,m,w,P,x,v),fe++)}const rs=gt?hc(Nt):xt;for(q=rs.length-1,y=Ae-1;y>=0;y--){const be=U+y,Se=u[be],ss=be+1<M?u[be+1].el:g;Nt[y]===0?T(null,Se,p,ss,m,w,P,x,v):gt&&(q<0||y!==rs[q]?tt(Se,p,ss,2):q--)}}},tt=(f,u,p,g,m=null)=>{const{el:w,type:P,transition:x,children:v,shapeFlag:y}=f;if(y&6){tt(f.component.subTree,u,p,g);return}if(y&128){f.suspense.move(u,p,g);return}if(y&64){P.move(f,u,p,mt);return}if(P===de){r(w,u,p);for(let $=0;$<v.length;$++)tt(v[$],u,p,g);r(f.anchor,u,p);return}if(P===Bt){A(f,u,p);return}if(g!==2&&y&1&&x)if(g===0)x.beforeEnter(w),r(w,u,p),ge(()=>x.enter(w),m);else{const{leave:$,delayLeave:I,afterLeave:S}=x,U=()=>r(w,u,p),Z=()=>{$(w,()=>{U(),S&&S()})};I?I(w,U,Z):Z()}else r(w,u,p)},Ne=(f,u,p,g=!1,m=!1)=>{const{type:w,props:P,ref:x,children:v,dynamicChildren:y,shapeFlag:M,patchFlag:$,dirs:I}=f;if(x!=null&&vn(x,null,p,f,!0),M&256){u.ctx.deactivate(f);return}const S=M&1&&I,U=!Lt(f);let Z;if(U&&(Z=P&&P.onVnodeBeforeUnmount)&&Re(Z,u,f),M&6)pi(f.component,p,g);else{if(M&128){f.suspense.unmount(p,g);return}S&&Fe(f,null,u,"beforeUnmount"),M&64?f.type.remove(f,u,p,m,mt,g):y&&(w!==de||$>0&&$&64)?He(y,u,p,!1,!0):(w===de&&$&384||!m&&M&16)&&He(v,u,p),g&&es(f)}(U&&(Z=P&&P.onVnodeUnmounted)||S)&&ge(()=>{Z&&Re(Z,u,f),S&&Fe(f,null,u,"unmounted")},p)},es=f=>{const{type:u,el:p,anchor:g,transition:m}=f;if(u===de){hi(p,g);return}if(u===Bt){H(f);return}const w=()=>{s(p),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:P,delayLeave:x}=m,v=()=>P(p,w);x?x(f.el,w,v):v()}else w()},hi=(f,u)=>{let p;for(;f!==u;)p=_(f),s(f),f=p;s(u)},pi=(f,u,p)=>{const{bum:g,scope:m,update:w,subTree:P,um:x}=f;g&&Bn(g),m.stop(),w&&(w.active=!1,Ne(P,f,u,p)),x&&ge(x,u),ge(()=>{f.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},He=(f,u,p,g=!1,m=!1,w=0)=>{for(let P=w;P<f.length;P++)Ne(f[P],u,p,g,m)},rn=f=>f.shapeFlag&6?rn(f.component.subTree):f.shapeFlag&128?f.suspense.next():_(f.anchor||f.el),ts=(f,u,p)=>{f==null?u._vnode&&Ne(u._vnode,null,null,!0):T(u._vnode||null,f,u,null,null,null,p),hs(),yn(),u._vnode=f},mt={p:T,um:Ne,m:tt,r:es,mt:k,mc:C,pc:J,pbc:W,n:rn,o:e};let Dn,Hn;return t&&([Dn,Hn]=t(mt)),{render:ts,hydrate:Dn,createApp:fc(ts,Dn)}}function nt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Uo(e,t,n=!1){const r=e.children,s=t.children;if(F(r)&&F(s))for(let o=0;o<r.length;o++){const i=r[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=qe(s[o]),l.el=i.el),n||Uo(i,l)),l.type===ut&&(l.el=i.el)}}function hc(e){const t=e.slice(),n=[0];let r,s,o,i,l;const c=e.length;for(r=0;r<c;r++){const a=e[r];if(a!==0){if(s=n[n.length-1],e[s]<a){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<a?o=l+1:i=l;a<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}const pc=e=>e.__isTeleport,de=Symbol(void 0),ut=Symbol(void 0),Be=Symbol(void 0),Bt=Symbol(void 0),Kt=[];let Me=null;function Q(e=!1){Kt.push(Me=e?null:[])}function mc(){Kt.pop(),Me=Kt[Kt.length-1]||null}let Jt=1;function ws(e){Jt+=e}function Bo(e){return e.dynamicChildren=Jt>0?Me||xt:null,mc(),Jt>0&&Me&&Me.push(e),e}function oe(e,t,n,r,s,o){return Bo(L(e,t,n,r,s,o,!0))}function Mr(e,t,n,r,s){return Bo(ae(e,t,n,r,s,!0))}function En(e){return e?e.__v_isVNode===!0:!1}function St(e,t){return e.type===t.type&&e.key===t.key}const Fn="__vInternal",Ko=({key:e})=>e??null,mn=({ref:e,ref_key:t,ref_for:n})=>e!=null?Y(e)||le(e)||D(e)?{i:$e,r:e,k:t,f:!!n}:e:null;function L(e,t=null,n=null,r=0,s=null,o=e===de?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ko(t),ref:t&&mn(t),scopeId:Po,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$e};return l?(Ir(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Y(n)?8:16),Jt>0&&!i&&Me&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Me.push(c),c}const ae=gc;function gc(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Yl)&&(e=Be),En(e)){const l=At(e,t,!0);return n&&Ir(l,n),Jt>0&&!o&&Me&&(l.shapeFlag&6?Me[Me.indexOf(e)]=l:Me.push(l)),l.patchFlag|=-2,l}if(Oc(e)&&(e=e.__vccOpts),t){t=_c(t);let{class:l,style:c}=t;l&&!Y(l)&&(t.class=ht(l)),ne(c)&&(go(c)&&!F(c)&&(c=me({},c)),t.style=Cn(c))}const i=Y(e)?1:Sl(e)?128:pc(e)?64:ne(e)?4:D(e)?2:0;return L(e,t,n,r,s,i,o,!0)}function _c(e){return e?go(e)||Fn in e?me({},e):e:null}function At(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:i}=e,l=t?Wo(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ko(l),ref:t&&t.ref?n&&s?F(s)?s.concat(mn(t)):[s,mn(t)]:mn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&At(e.ssContent),ssFallback:e.ssFallback&&At(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function yt(e=" ",t=0){return ae(ut,null,e,t)}function Ge(e="",t=!1){return t?(Q(),Mr(Be,null,e)):ae(Be,null,e)}function Pe(e){return e==null||typeof e=="boolean"?ae(Be):F(e)?ae(de,null,e.slice()):typeof e=="object"?qe(e):ae(ut,null,String(e))}function qe(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:At(e)}function Ir(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(F(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ir(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Fn in t)?t._ctx=$e:s===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:$e},n=32):(t=String(t),r&64?(n=16,t=[yt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wo(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ht([t.class,r.class]));else if(s==="style")t.style=Cn([t.style,r.style]);else if($t(s)){const o=t[s],i=r[s];i&&o!==i&&!(F(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function Re(e,t,n,r=null){ke(e,t,7,[n,r])}const bc=Ho();let yc=0;function Xo(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||bc,o={uid:yc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new to(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:So(r,s),emitsOptions:Ro(r,s),emit:null,emitted:null,propsDefaults:te,inheritAttrs:r.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Tl.bind(null,o),e.ce&&e.ce(o),o}let ue=null;const xc=()=>ue||$e,Ct=e=>{ue=e,e.scope.on()},ft=()=>{ue&&ue.scope.off(),ue=null};function Vo(e){return e.vnode.shapeFlag&4}let Zt=!1;function qo(e,t=!1){Zt=t;const{props:n,children:r}=e.vnode,s=Vo(e);rc(e,n,s,t),ic(e,r);const o=s?wc(e,t):void 0;return Zt=!1,o}function wc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Rt(new Proxy(e.ctx,Jl));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Ec(e):null;Ct(e),Mt();const o=Ze(r,e,0,[e.props,s]);if(It(),ft(),tn(o)){if(o.then(ft,ft),t)return o.then(i=>{vs(e,i,t)}).catch(i=>{kn(i,e,0)});e.asyncDep=o}else vs(e,o,t)}else Go(e,t)}function vs(e,t,n){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ne(t)&&(e.setupState=yo(t)),Go(e,n)}let Es;function Go(e,t,n){const r=e.type;if(!e.render){if(!t&&Es&&!r.render){const s=r.template||Tr(e).template;if(s){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,a=me(me({isCustomElement:o,delimiters:l},i),c);r.render=Es(s,a)}}e.render=r.render||xe}Ct(e),Mt(),Zl(e),It(),ft()}function vc(e){return new Proxy(e.attrs,{get(t,n){return _e(e,"get","$attrs"),t[n]}})}function Ec(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=vc(e))},slots:e.slots,emit:e.emit,expose:t}}function kr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(yo(Rt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ut)return Ut[n](e)},has(t,n){return n in t||n in Ut}}))}function Oc(e){return D(e)&&"__vccOpts"in e}const Ie=(e,t)=>El(e,t,Zt);function Rc(e,t,n){const r=arguments.length;return r===2?ne(t)&&!F(t)?En(t)?ae(e,null,[t]):ae(e,t):ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&En(n)&&(n=[n]),ae(e,t,n))}const Nr=Symbol(""),Pc=()=>Ht(Nr),Ac="3.2.47",Cc={createComponentInstance:Xo,setupComponent:qo,renderComponentRoot:hn,setCurrentRenderingInstance:Yt,isVNode:En,normalizeVNode:Pe},zo=Cc,Tc="http://www.w3.org/2000/svg",lt=typeof document<"u"?document:null,Os=lt&&lt.createElement("template"),$c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?lt.createElementNS(Tc,e):lt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>lt.createTextNode(e),createComment:e=>lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Os.innerHTML=r?`<svg>${e}</svg>`:e;const l=Os.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Mc(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ic(e,t,n){const r=e.style,s=Y(n);if(n&&!s){if(t&&!Y(t))for(const o in t)n[o]==null&&or(r,o,"");for(const o in n)or(r,o,n[o])}else{const o=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Rs=/\\s*!important$/;function or(e,t,n){if(F(n))n.forEach(r=>or(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=kc(e,t);Rs.test(n)?e.setProperty(pt(r),n.replace(Rs,""),"important"):e[r]=n}}const Ps=["Webkit","Moz","ms"],Wn={};function kc(e,t){const n=Wn[t];if(n)return n;let r=Et(t);if(r!=="filter"&&r in e)return Wn[t]=r;r=eo(r);for(let s=0;s<Ps.length;s++){const o=Ps[s]+r;if(o in e)return Wn[t]=o}return t}const As="http://www.w3.org/1999/xlink";function Nc(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(As,t.slice(6,t.length)):e.setAttributeNS(As,t,n);else{const o=Oi(t);n==null||o&&!mr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Sc(e,t,n,r,s,o,i){if(t==="innerHTML"||t==="textContent"){r&&i(r,s,o),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=mr(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Fc(e,t,n,r){e.addEventListener(t,n,r)}function jc(e,t,n,r){e.removeEventListener(t,n,r)}function Dc(e,t,n,r,s=null){const o=e._vei||(e._vei={}),i=o[t];if(r&&i)i.value=r;else{const[l,c]=Hc(t);if(r){const a=o[t]=Bc(r,s);Fc(e,l,a,c)}else i&&(jc(e,l,i,c),o[t]=void 0)}}const Cs=/(?:Once|Passive|Capture)$/;function Hc(e){let t;if(Cs.test(e)){t={};let r;for(;r=e.match(Cs);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pt(e.slice(2)),t]}let Xn=0;const Lc=Promise.resolve(),Uc=()=>Xn||(Lc.then(()=>Xn=0),Xn=Date.now());function Bc(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ke(Kc(r,n.value),t,5,[r])};return n.value=e,n.attached=Uc(),n}function Kc(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ts=/^on[a-z]/,Wc=(e,t,n,r,s=!1,o,i,l,c)=>{t==="class"?Mc(e,r,s):t==="style"?Ic(e,n,r):$t(t)?gr(t)||Dc(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Xc(e,t,r,s))?Sc(e,t,r,o,i,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Nc(e,t,r,s))};function Xc(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Ts.test(t)&&D(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ts.test(t)&&Y(n)?!1:t in e}const Yo=me({patchProp:Wc},$c);let Wt,$s=!1;function Vc(){return Wt||(Wt=ac(Yo))}function qc(){return Wt=$s?Wt:dc(Yo),$s=!0,Wt}const Jo=(...e)=>{const t=Vc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Zo(r);if(!s)return;const o=t._component;!D(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const i=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t},Gc=(...e)=>{const t=qc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Zo(r);if(s)return n(s,!0,s instanceof SVGElement)},t};function Zo(e){return Y(e)?document.querySelector(e):e}const zc=()=>{};var Yc=!1;/*!\n  * pinia v2.0.33\n  * (c) 2023 Eduardo San Martin Morote\n  * @license MIT\n  */let Qo;const jn=e=>Qo=e,ei=Symbol();function ir(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Xt;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xt||(Xt={}));function Jc(){const e=no(!0),t=e.run(()=>ot({}));let n=[],r=[];const s=Rt({install(o){jn(s),s._a=o,o.provide(ei,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return!this._a&&!Yc?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const ti=()=>{};function Ms(e,t,n,r=ti){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&ro()&&Ui(s),s}function _t(e,...t){e.slice().forEach(n=>{n(...t)})}function lr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];ir(s)&&ir(r)&&e.hasOwnProperty(n)&&!le(r)&&!Je(r)?e[n]=lr(s,r):e[n]=r}return e}const Zc=Symbol();function Qc(e){return!ir(e)||!e.hasOwnProperty(Zc)}const{assign:Ve}=Object;function ef(e){return!!(le(e)&&e.effect)}function tf(e,t,n,r){const{state:s,actions:o,getters:i}=t,l=n.state.value[e];let c;function a(){l||(n.state.value[e]=s?s():{});const d=yl(n.state.value[e]);return Ve(d,o,Object.keys(i||{}).reduce((h,_)=>(h[_]=Rt(Ie(()=>{jn(n);const R=n._s.get(e);return i[_].call(R,R)})),h),{}))}return c=ni(e,a,t,n,r,!0),c}function ni(e,t,n={},r,s,o){let i;const l=Ve({actions:{}},n),c={deep:!0};let a,d,h=Rt([]),_=Rt([]),R;const O=r.state.value[e];!o&&!O&&(r.state.value[e]={}),ot({});let T;function G(N){let C;a=d=!1,typeof N=="function"?(N(r.state.value[e]),C={type:Xt.patchFunction,storeId:e,events:R}):(lr(r.state.value[e],N),C={type:Xt.patchObject,payload:N,storeId:e,events:R});const X=T=Symbol();vo().then(()=>{T===X&&(a=!0)}),d=!0,_t(h,C,r.state.value[e])}const b=o?function(){const{state:C}=n,X=C?C():{};this.$patch(W=>{Ve(W,X)})}:ti;function E(){i.stop(),h=[],_=[],r._s.delete(e)}function A(N,C){return function(){jn(r);const X=Array.from(arguments),W=[],z=[];function Ee(re){W.push(re)}function ce(re){z.push(re)}_t(_,{args:X,name:N,store:j,after:Ee,onError:ce});let k;try{k=C.apply(this&&this.$id===e?this:j,X)}catch(re){throw _t(z,re),re}return k instanceof Promise?k.then(re=>(_t(W,re),re)).catch(re=>(_t(z,re),Promise.reject(re))):(_t(W,k),k)}}const H={_p:r,$id:e,$onAction:Ms.bind(null,_),$patch:G,$reset:b,$subscribe(N,C={}){const X=Ms(h,N,C.detached,()=>W()),W=i.run(()=>pn(()=>r.state.value[e],z=>{(C.flush==="sync"?d:a)&&N({storeId:e,type:Xt.direct,events:R},z)},Ve({},c,C)));return X},$dispose:E},j=In(H);r._s.set(e,j);const V=r._e.run(()=>(i=no(),i.run(()=>t())));for(const N in V){const C=V[N];if(le(C)&&!ef(C)||Je(C))o||(O&&Qc(C)&&(le(C)?C.value=O[N]:lr(C,O[N])),r.state.value[e][N]=C);else if(typeof C=="function"){const X=A(N,C);V[N]=X,l.actions[N]=C}}return Ve(j,V),Ve(K(j),V),Object.defineProperty(j,"$state",{get:()=>r.state.value[e],set:N=>{G(C=>{Ve(C,N)})}}),r._p.forEach(N=>{Ve(j,i.run(()=>N({store:j,app:r._a,pinia:r,options:l})))}),O&&o&&n.hydrate&&n.hydrate(j.$state,O),a=!0,d=!0,j}function nf(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function i(l,c){const a=xc();return l=l||a&&Ht(ei,null),l&&jn(l),l=Qo,l._s.has(r)||(o?ni(r,t,s,l):tf(r,s,l)),l._s.get(r)}return i.$id=r,i}const rf=dt(",key,ref,innerHTML,textContent,ref_key,ref_for");function sf(e,t){let n="";for(const r in e){if(rf(r)||$t(r)||t==="textarea"&&r==="value")continue;const s=e[r];r==="class"?n+=` class="${cf(s)}"`:r==="style"?n+=` style="${ff(s)}"`:n+=of(r,s,t)}return n}function of(e,t,n){if(!lf(t))return"";const r=n&&(n.indexOf("-")>0||vi(n))?e:Ci[e]||e.toLowerCase();return Ri(r)?mr(t)?` ${r}`:"":Ai(r)?t===""?` ${r}`:` ${r}="${ze(t)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${r}`),"")}function lf(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}function cf(e){return ze(ht(e))}function ff(e){if(!e)return"";if(Y(e))return ze(e);const t=Cn(e);return ze(yi(t))}function uf(e,t,n,r,s){e("<!--teleport start-->");const o=s.appContext.provides[Nr],i=o.__teleportBuffers||(o.__teleportBuffers={}),l=i[n]||(i[n]=[]),c=l.length;let a;if(r)t(e),a="<!--teleport anchor-->";else{const{getBuffer:d,push:h}=ri();t(h),h("<!--teleport anchor-->"),a=d()}l.splice(c,0,a),e("<!--teleport end-->")}function af(e,t){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:df,setCurrentRenderingInstance:Is,setupComponent:hf,renderComponentRoot:ks,normalizeVNode:pf}=zo;function ri(){let e=!1;const t=[];return{getBuffer(){return t},push(n){const r=Y(n);e&&r?t[t.length-1]+=n:t.push(n),e=r,(tn(n)||F(n)&&n.hasAsync)&&(t.hasAsync=!0)}}}function si(e,t=null,n){const r=df(e,t,null),s=hf(r,!0),o=tn(s),i=r.sp;if(o||i){let l=o?s:Promise.resolve();return i&&(l=l.then(()=>Promise.all(i.map(c=>c.call(r.proxy)))).catch(()=>{})),l.then(()=>Ns(r,n))}else return Ns(r,n)}function Ns(e,t){const n=e.type,{getBuffer:r,push:s}=ri();if(D(n)){let o=ks(e);if(!n.props)for(const i in e.attrs)i.startsWith("data-v-")&&((o.props||(o.props={}))[i]="");On(s,e.subTree=o,e,t)}else{(!e.render||e.render===xe)&&!e.ssrRender&&!n.ssrRender&&Y(n.template)&&(n.ssrRender=af(n.template));for(const i of e.scope.effects)i.computed&&(i.computed._cacheable=!0);const o=e.ssrRender||n.ssrRender;if(o){let i=e.inheritAttrs!==!1?e.attrs:void 0,l=!1,c=e;for(;;){const d=c.vnode.scopeId;d&&(l||(i={...i},l=!0),i[d]="");const h=c.parent;if(h&&h.subTree&&h.subTree===c.vnode)c=h;else break}t&&(l||(i={...i}),i[t.trim()]="");const a=Is(e);try{o(e.proxy,s,e,i,e.props,e.setupState,e.data,e.ctx)}finally{Is(a)}}else e.render&&e.render!==xe?On(s,e.subTree=ks(e),e,t):(n.name||n.__file,s("<!---->"))}return r()}function On(e,t,n,r){const{type:s,shapeFlag:o,children:i}=t;switch(s){case ut:e(ze(i));break;case Be:e(i?`<!--${Mi(i)}-->`:"<!---->");break;case Bt:e(i);break;case de:t.slotScopeIds&&(r=(r?r+" ":"")+t.slotScopeIds.join(" ")),e("<!--[-->"),Sr(e,i,n,r),e("<!--]-->");break;default:o&1?mf(e,t,n,r):o&6?e(si(t,n,r)):o&64?_f(e,t,n,r):o&128&&On(e,t.ssContent,n,r)}}function Sr(e,t,n,r){for(let s=0;s<t.length;s++)On(e,pf(t[s]),n,r)}function mf(e,t,n,r){const s=t.type;let{props:o,children:i,shapeFlag:l,scopeId:c,dirs:a}=t,d=`<${s}`;a&&(o=gf(t,o,a)),o&&(d+=sf(o,s)),c&&(d+=` ${c}`);let h=n,_=t;for(;h&&_===h.subTree;)_=h.vnode,_.scopeId&&(d+=` ${_.scopeId}`),h=h.parent;if(r&&(d+=` ${r}`),e(d+">"),!Ei(s)){let R=!1;o&&(o.innerHTML?(R=!0,e(o.innerHTML)):o.textContent?(R=!0,e(ze(o.textContent))):s==="textarea"&&o.value&&(R=!0,e(ze(o.value)))),R||(l&8?e(ze(i)):l&16&&Sr(e,i,n,r)),e(`</${s}>`)}}function gf(e,t,n){const r=[];for(let s=0;s<n.length;s++){const o=n[s],{dir:{getSSRProps:i}}=o;if(i){const l=i(o,e);l&&r.push(l)}}return Wo(t||{},...r)}function _f(e,t,n,r){const s=t.props&&t.props.to,o=t.props&&t.props.disabled;if(!s)return[];if(!Y(s))return[];uf(e,i=>{Sr(i,t.children,n,r)},s,o||o==="",n)}const{isVNode:bf}=zo;async function Fr(e){if(e.hasAsync){let t="";for(let n=0;n<e.length;n++){let r=e[n];tn(r)&&(r=await r),Y(r)?t+=r:t+=await Fr(r)}return t}else return oi(e)}function oi(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Y(r)?t+=r:t+=oi(r)}return t}async function ii(e,t={}){if(bf(e))return ii(Jo({render:()=>e}),t);const n=ae(e._component,e._props);n.appContext=e._context,e.provide(Nr,t);const r=await si(n),s=await Fr(r);if(await yf(t),t.__watcherHandles)for(const o of t.__watcherHandles)o();return s}async function yf(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const t in e.__teleportBuffers)e.teleports[t]=await Fr(await Promise.all([e.__teleportBuffers[t]]))}}zc();function Te(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"\'"+s+"\'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Tt(e){return!!e&&!!e[we]}function at(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Af}(e)||Array.isArray(e)||!!e[Bs]||!!(!((t=e.constructor)===null||t===void 0)&&t[Bs])||jr(e)||Dr(e))}function Qt(e,t,n){n===void 0&&(n=!1),kt(e)===0?(n?Object.keys:Kr)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,s){return t(s,r,e)})}function kt(e){var t=e[we];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:jr(e)?2:Dr(e)?3:0}function cr(e,t){return kt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xf(e,t){return kt(e)===2?e.get(t):e[t]}function li(e,t,n){var r=kt(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wf(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function jr(e){return Rf&&e instanceof Map}function Dr(e){return Pf&&e instanceof Set}function st(e){return e.o||e.t}function Hr(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Cf(e);delete t[we];for(var n=Kr(t),r=0;r<n.length;r++){var s=n[r],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),t)}function Lr(e,t){return t===void 0&&(t=!1),Ur(e)||Tt(e)||!at(e)||(kt(e)>1&&(e.set=e.add=e.clear=e.delete=vf),Object.freeze(e),t&&Qt(e,function(n,r){return Lr(r,!0)},!0)),e}function vf(){Te(2)}function Ur(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function De(e){var t=Tf[e];return t||Te(18,e),t}function Ss(){return en}function Vn(e,t){t&&(De("Patches"),e.u=[],e.s=[],e.v=t)}function Rn(e){fr(e),e.p.forEach(Ef),e.p=null}function fr(e){e===en&&(en=e.l)}function Fs(e){return en={p:[],l:en,h:e,m:!0,_:0}}function Ef(e){var t=e[we];t.i===0||t.i===1?t.j():t.O=!0}function qn(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||De("ES5").S(t,e,r),r?(n[we].P&&(Rn(t),Te(4)),at(e)&&(e=Pn(t,e),t.l||An(t,e)),t.u&&De("Patches").M(n[we].t,e,t.u,t.s)):e=Pn(t,n,[]),Rn(t),t.u&&t.v(t.u,t.s),e!==ci?e:void 0}function Pn(e,t,n){if(Ur(t))return t;var r=t[we];if(!r)return Qt(t,function(l,c){return js(e,r,t,l,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return An(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=Hr(r.k):r.o,o=s,i=!1;r.i===3&&(o=new Set(s),s.clear(),i=!0),Qt(o,function(l,c){return js(e,r,s,l,c,n,i)}),An(e,s,!1),n&&e.u&&De("Patches").N(r,n,e.u,e.s)}return r.o}function js(e,t,n,r,s,o,i){if(Tt(s)){var l=Pn(e,s,o&&t&&t.i!==3&&!cr(t.R,r)?o.concat(r):void 0);if(li(n,r,l),!Tt(l))return;e.m=!1}else i&&n.add(s);if(at(s)&&!Ur(s)){if(!e.h.D&&e._<1)return;Pn(e,s),t&&t.A.l||An(e,s)}}function An(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Lr(t,n)}function Gn(e,t){var n=e[we];return(n?st(n):e)[t]}function Ds(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ur(e){e.P||(e.P=!0,e.l&&ur(e.l))}function zn(e){e.o||(e.o=Hr(e.t))}function ar(e,t,n){var r=jr(t)?De("MapSet").F(t,n):Dr(t)?De("MapSet").T(t,n):e.g?function(s,o){var i=Array.isArray(s),l={i:i?1:0,A:o?o.A:Ss(),P:!1,I:!1,R:{},l:o,t:s,k:null,o:null,j:null,C:!1},c=l,a=dr;i&&(c=[l],a=jt);var d=Proxy.revocable(c,a),h=d.revoke,_=d.proxy;return l.k=_,l.j=h,_}(t,n):De("ES5").J(t,n);return(n?n.A:Ss()).p.push(r),r}function Of(e){return Tt(e)||Te(22,e),function t(n){if(!at(n))return n;var r,s=n[we],o=kt(n);if(s){if(!s.P&&(s.i<4||!De("ES5").K(s)))return s.t;s.I=!0,r=Hs(n,o),s.I=!1}else r=Hs(n,o);return Qt(r,function(i,l){s&&xf(s.t,i)===l||li(r,i,t(l))}),o===3?new Set(r):r}(e)}function Hs(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Hr(e)}var Ls,en,Br=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Rf=typeof Map<"u",Pf=typeof Set<"u",Us=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ci=Br?Symbol.for("immer-nothing"):((Ls={})["immer-nothing"]=!0,Ls),Bs=Br?Symbol.for("immer-draftable"):"__$immer_draftable",we=Br?Symbol.for("immer-state"):"__$immer_state",Af=""+Object.prototype.constructor,Kr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Cf=Object.getOwnPropertyDescriptors||function(e){var t={};return Kr(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Tf={},dr={get:function(e,t){if(t===we)return e;var n=st(e);if(!cr(n,t))return function(s,o,i){var l,c=Ds(o,i);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(e,n,t);var r=n[t];return e.I||!at(r)?r:r===Gn(e.t,t)?(zn(e),e.o[t]=ar(e.A.h,r,e)):r},has:function(e,t){return t in st(e)},ownKeys:function(e){return Reflect.ownKeys(st(e))},set:function(e,t,n){var r=Ds(st(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var s=Gn(st(e),t),o=s==null?void 0:s[we];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(wf(n,s)&&(n!==void 0||cr(e.t,t)))return!0;zn(e),ur(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Gn(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,zn(e),ur(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=st(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Te(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Te(12)}},jt={};Qt(dr,function(e,t){jt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),jt.deleteProperty=function(e,t){return jt.set.call(this,e,t,void 0)},jt.set=function(e,t,n){return dr.set.call(this,e[0],t,n,e[0])};var $f=function(){function e(n){var r=this;this.g=Us,this.D=!0,this.produce=function(s,o,i){if(typeof s=="function"&&typeof o!="function"){var l=o;o=s;var c=r;return function(T){var G=this;T===void 0&&(T=l);for(var b=arguments.length,E=Array(b>1?b-1:0),A=1;A<b;A++)E[A-1]=arguments[A];return c.produce(T,function(H){var j;return(j=o).call.apply(j,[G,H].concat(E))})}}var a;if(typeof o!="function"&&Te(6),i!==void 0&&typeof i!="function"&&Te(7),at(s)){var d=Fs(r),h=ar(r,s,void 0),_=!0;try{a=o(h),_=!1}finally{_?Rn(d):fr(d)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(T){return Vn(d,i),qn(T,d)},function(T){throw Rn(d),T}):(Vn(d,i),qn(a,d))}if(!s||typeof s!="object"){if((a=o(s))===void 0&&(a=s),a===ci&&(a=void 0),r.D&&Lr(a,!0),i){var R=[],O=[];De("Patches").M(s,a,R,O),i(R,O)}return a}Te(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(a){for(var d=arguments.length,h=Array(d>1?d-1:0),_=1;_<d;_++)h[_-1]=arguments[_];return r.produceWithPatches(a,function(R){return s.apply(void 0,[R].concat(h))})};var i,l,c=r.produce(s,o,function(a,d){i=a,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(a){return[a,i,l]}):[c,i,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){at(n)||Te(8),Tt(n)&&(n=Of(n));var r=Fs(this),s=ar(this,n,void 0);return s[we].C=!0,fr(r),s},t.finishDraft=function(n,r){var s=n&&n[we],o=s.A;return Vn(o,r),qn(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Us&&Te(20),this.g=n},t.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var o=r[s];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}s>-1&&(r=r.slice(s+1));var i=De("Patches").$;return Tt(n)?i(n,r):this.produce(n,function(l){return i(l,r)})},e}(),ve=new $f,Mf=ve.produce;ve.produceWithPatches.bind(ve);ve.setAutoFreeze.bind(ve);ve.setUseProxies.bind(ve);ve.applyPatches.bind(ve);ve.createDraft.bind(ve);ve.finishDraft.bind(ve);const Ks=Mf,If=()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},kf=e=>{const t=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let r,s=!1;n&&(r=new WebSocket(n),r.onopen=()=>{s=!0,i("state")});const o=d=>{r&&s?r.send(JSON.stringify(d)):typeof window<"u"&&window.parent.postMessage(d,"*")},i=(d,h)=>{const _=`markwhen_${If()}`;return new Promise((R,O)=>{t.set(_,{resolve:R,reject:O}),o({type:d,request:!0,id:_,params:h})})},l=(d,h,_)=>o({type:h,response:!0,id:d,params:_}),c=d=>{var _,R;if(!d.data.id||!d.data.id.startsWith("markwhen")||d.source===window)return;const h=d.data;if(h.response)(_=t.get(h.id))==null||_.resolve(h),t.delete(h.id);else if(h.request){const O=(R=e==null?void 0:e[h.type])==null?void 0:R.call(e,h.params);Promise.resolve(O).then(T=>{l(h.id,h.type,T)})}else console.error("Not a request or response",h)};r?r.onmessage=d=>{const h=new MessageEvent("message",{data:JSON.parse(d.data)});c(h)}:typeof window<"u"&&(window==null||window.addEventListener("message",c));const a=typeof window<"u"&&window.__markwhen_initial_state;return a&&e&&e.state&&e.state(a),{postRequest:i}},Nf=(e,t)=>{if(!e||!t||e.type!==t.type)return!1;const n=e.path,r=t.path;return n.join(",")===r.join(",")},Sf=nf("markwhen",()=>{const e=ot(),t=ot(),n=ot(O=>{}),r=ot(O=>{}),s=ot(typeof window<"u"&&window.__markwhen_initial_state),{postRequest:o}=kf({state:O=>{e.value=Ks(e.value,()=>O.app),t.value=Ks(t.value,()=>O.markwhen)},jumpToPath:({path:O})=>{var T;(T=n.value)==null||T.call(n,O)},jumpToRange:({dateRangeIso:O})=>{var T;(T=r.value)==null||T.call(r,O)}}),i=O=>{o("setHoveringPath",O)},l=O=>{o("setDetailPath",O)},c=(O,T)=>{o("setText",{text:O,at:T})},a=O=>{o("showInEditor",O)},d=O=>{var T;return!!O&&Nf(O,(T=e.value)==null?void 0:T.detailPath)},h=(O,T,G=!0)=>{o("newEvent",{dateRangeIso:O,granularity:T,immediate:G})},_=(O,T,G,b)=>{o("editEventDateRange",{path:O,range:T,scale:G,preferredInterpolationFormat:b})},R=()=>o("state");return R(),{app:e,markwhen:t,hadInitialState:s,onJumpToPath:n,onJumpToRange:r,requestStateUpdate:R,setHoveringPath:i,setDetailEventPath:l,isDetailEventPath:d,setText:c,showInEditor:a,createEventFromRange:h,editEventDateRange:_}}),Ff={class:"sidebar flex flex-col bg-slate-100 dark:bg-slate-600"},jf={class:"flex flex-col justify-center py-8 px-6 text-slate-900 bg-slate-200 dark:bg-slate-700 dark:text-slate-100"},Df={class:"text-xl font-black text-center"},Hf={class:"font-bold text-center"},Lf={class:"flex flex-col px-6 gap-10 py-8 text-slate-700 dark:text-slate-200"},Uf={class:"flex flex-col gap-2"},Bf=["href"],Kf={class:"flex flex-row items-center gap-1"},Wf=L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})],-1),Xf=["href"],Vf={class:"flex flex-row items-center gap-1 underline"},qf=L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})],-1),Gf=["href"],zf={class:"flex flex-row items-center gap-1 underline"},Yf=L("svg",{class:"w-4 h-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},[L("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"})],-1),Jf=["href"],Zf={class:"flex flex-row items-center gap-1 underline"},Qf=L("svg",{class:"w-4 h-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},[L("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"})],-1),eu={key:0,class:"text-sm"},tu={class:"flex flex-col gap-2"},nu={class:"text-sm text-slate-500 dark:text-slate-400 uppercase"},ru={class:""},su={key:0,class:""},ou={key:1,class:"text-sm"},iu=Pt({__name:"Sidebar",props:{header:null},setup(e){const t=e,n=i=>i.startsWith("http")?i:`http://${i}`,r=Ie(()=>{var i,l;return n(((l=(i=t.header)==null?void 0:i.contact)==null?void 0:l.website)||"http://example.com")}),s=Ie(()=>{var i,l;return n(((l=(i=t.header)==null?void 0:i.contact)==null?void 0:l.linkedIn)||"https://linkedin.com")}),o=Ie(()=>{var i,l;return n(((l=(i=t.header)==null?void 0:i.contact)==null?void 0:l.github)||"github.com")});return(i,l)=>{var c,a,d,h,_;return Q(),oe("aside",Ff,[L("div",jf,[L("h1",Df,Oe(e.header.title||"[header.title]"),1),L("h2",Hf,Oe(e.header.description||"[header.description]"),1)]),L("div",Lf,[L("div",Uf,[L("a",{href:`mailto:${((c=e.header.contact)==null?void 0:c.email)||"example@example.com"}`},[L("h4",Kf,[Wf,yt(" "+Oe(((a=e.header.contact)==null?void 0:a.email)||"[header.contact.email]"),1)])],8,Bf),L("a",{href:se(r)},[L("h4",Vf,[qf,yt(" "+Oe(((d=e.header.contact)==null?void 0:d.website)||"[header.contact.website]"),1)])],8,Xf),L("a",{href:se(s)},[L("h4",zf,[Yf,yt(" "+Oe(((h=e.header.contact)==null?void 0:h.linkedIn)||"[header.contact.linkedIn]"),1)])],8,Gf),L("a",{href:se(o)},[L("h4",Zf,[Qf,yt(" "+Oe(((_=e.header.contact)==null?void 0:_.github)||"[header.contact.github]"),1)])],8,Jf)]),e.header.sidebar?Ge("",!0):(Q(),oe("pre",eu,`sidebar:\n- name: education\nitems: \n  - \n    - BS in Computer Science\n    - Yale\n  -\n    - PhD in Computer Science\n    - Harvard\n    `)),(Q(!0),oe(de,null,xn(e.header.sidebar,R=>(Q(),oe("div",tu,[L("h4",nu,Oe(R.name),1),(Q(!0),oe(de,null,xn(R.items,O=>(Q(),oe("div",ru,[Array.isArray(O)?(Q(),oe(de,{key:0},[L("h5",{class:ht(O.length===2?"font-medium":"")},Oe(O[0]),3),O[1]?(Q(),oe("h6",su,Oe(O[1]),1)):Ge("",!0)],64)):(Q(),oe("h5",ou,Oe(O),1))]))),256))]))),256))])])}}}),Wr=/(milliseconds|ms)/i,Xr=/(seconds|second|secs|sec|s)/i,Vr=/(minutes|minute|mins|min)/i,qr=/(hours|hour|h)/i,Gr=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,zr=/(weeks|week|w)/i,Yr=/(months|month)/i,Jr=/(years|year|y)/i,lu=new RegExp(`(\\\\d+\\\\W*)(${Wr.source}|${Xr.source}|${Vr.source}|${qr.source}|${Gr.source}|${zr.source}|${Yr.source}|${Jr.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),cu=/(?:\\W|^)(!\\w+)/,hr=new RegExp(`(by|before|after)?(\\\\s*${cu.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${lu.source})*`),fu=/january|february|march|april|may|june|july|august|september|october|november|december/,uu=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,Zr=new RegExp(`(?:(${fu.source})|(${uu.source}))`),au=new RegExp(`(([0-3]?[0-9])\\\\s+${Zr.source})`),du=new RegExp(`(${Zr.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),Qr=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2}))/,hu=new RegExp(`(?:(?:${au.source}|${du.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${Qr.source})?)|(${Zr.source}(?:\\\\s+(\\\\d{1,4}))?)`),pu=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,pr=/now/,mu=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${Qr.source})?)?)?)`),Ws=new RegExp(`(${pu.source})|(${pr.source})|${Qr.source}|(${mu.source})|(${hr.source})|${hu.source}`),gu=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${Wr.source}|${Xr.source}|${Vr.source}|${qr.source}|${Gr.source}|${zr.source}|${Yr.source}|${Jr.source})`,"g"),_u=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${Wr.source}|${Xr.source}|${Vr.source}|${qr.source}|${Gr.source}|${zr.source}|${Yr.source}|${Jr.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),fi=new RegExp(`\\\\s*every\\\\s+${gu.source}${_u.source}`),bu=new RegExp(`((${Ws.source})(?:\\\\s*(?:-|to)\\\\s*(${Ws.source}))?)(${fi.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${bu.source}(.*)`,"i");const Xs=/(\\d{4}(-\\d{2}(-\\d{2})?)?)/,yu=new RegExp(`((?:${Xs.source}|(${hr.source})|(${pr.source}))(\\\\s*/\\\\s*(?:${Xs.source}|(${hr.source})|(${pr.source})))?)(${fi.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${yu.source}(.*)`,"i");function Yn(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(wu,(t,n,r)=>`<a class="underline" href="${xu(r)}">${n}</a>`).replace(/&/g,"&amp;").replace(vu,(t,n)=>`<a class="underline" href="/${n}">@${n}</a>`)}function xu(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`http://${e}`}const wu=/\\[([^\\]\\<\\>]+)\\]\\(((https?:\\/\\/)?[\\w\\d./\\&\\?=\\-#:,_]+)\\)/g,vu=/@([\\w\\d\\/]+)/g;var Vs;(function(e){e.TEXT="text",e.LIST_ITEM="listItem",e.CHECKBOX="checkbox",e.IMAGE="image"})(Vs||(Vs={}));var qs;(function(e){e.Comment="comment",e.CheckboxItemIndicator="checkboxItemIndicator",e.listItemIndicator="listItemIndicator",e.ListItemContents="listItemContents",e.Tag="tag",e.tagDefinition="tagDefinition",e.Title="title",e.View="view",e.Viewer="viewer",e.Description="description",e.Section="section",e.DateRange="dateRange",e.DateRangeColon="dateRangeColon",e.Event="event",e.Edit="edit",e.Editor="editor",e.Recurrence="recurrence",e.FrontmatterDelimiter="frontMatterDelimiter",e.HeaderKey="headerKey",e.HeaderKeyColon="headerKeyColon",e.HeaderValue="headerValue"})(qs||(qs={}));const ui=(e,t,n)=>{if(!n(e,t)&&e&&!ai(e)){const r=e.value;for(let s=0;s<r.length;s++)ui(r[s],[...t,s],n)}},ai=e=>!Array.isArray(e.value),Eu={class:"flex flex-col gap-2"},Ou={class:"flex flex-row gap-3 items-center"},Ru=["src","alt"],Pu={key:1,class:"h-8 w-8 flex-shrink-0"},Au={class:"flex flex-col justify-center w-full"},Cu={class:"flex flex-row"},Tu={key:0,class:"font-semibold text-slate-800 dark:text-slate-200"},$u=["innerHTML"],Mu={class:"ml-auto text-sm text-slate-500 dark:text-slate-400"},Iu={class:"flex flex-row gap-1"},ku=["innerHTML"],Nu={key:1,class:"text-sm text-slate-500 dark:text-slate-400"},Su={key:2,class:"text-sm text-slate-500 dark:text-slate-400"},Fu={class:"flex flex-row gap-3"},ju=L("div",{class:"h-8 w-8 flex-shrink-0"},null,-1),Du={class:"flex flex-col gap-1 dark:text-slate-300"},Hu=["innerHTML"],Lu=Pt({__name:"Entry",props:{entry:null},setup(e){const t=e,n=Ie(()=>t.entry.value.eventDescription.supplemental),r=Ie(()=>n.value.find(i=>i.type==="image")),s=Ie(()=>{var i;return(i=t.entry.value.eventDescription.locations)==null?void 0:i[0]}),o=Ie(()=>n.value.filter(i=>i.type==="listItem"));return(i,l)=>(Q(),oe("div",Eu,[L("div",Ou,[se(r)?(Q(),oe("img",{key:0,src:se(r).link,alt:se(r).altText,class:"rounded h-8 w-8"},null,8,Ru)):(Q(),oe("div",Pu)),L("div",Au,[L("div",Cu,[e.entry.value.eventDescription.eventDescription?Ge("",!0):(Q(),oe("h1",Tu," [title] ")),L("h1",{class:"font-semibold text-slate-800 dark:text-slate-200",innerHTML:se(Yn)(e.entry.value.eventDescription.eventDescription)},null,8,$u),L("h2",Mu,Oe(e.entry.value.dateText),1)]),L("div",Iu,[se(n)[0]?(Q(),oe("h2",{key:0,class:"text-sm dark:text-slate-300",innerHTML:se(Yn)(se(n)[0].raw)},null,8,ku)):Ge("",!0),se(s)?(Q(),oe("h2",Nu," · ")):Ge("",!0),se(s)?(Q(),oe("h2",Su,Oe(se(s)),1)):Ge("",!0)])])]),L("div",Fu,[ju,L("div",Du,[(Q(!0),oe(de,null,xn(se(o),c=>(Q(),oe("p",{class:"",innerHTML:se(Yn)(c.raw),style:{"font-size":"95%"}},null,8,Hu))),256))])])]))}}),Uu={class:"py-8 bg-slate-50 dark:bg-slate-800 px-12 w-full flex flex-col gap-6"},Bu=Pt({__name:"Entries",props:{entries:null},setup(e){const t=e,n=Ie(()=>{const r=[];return ui(t.entries,[],(s,o)=>{s&&ai(s)&&r.push(s)}),r});return(r,s)=>(Q(),oe("main",Uu,[(Q(!0),oe(de,null,xn(se(n),o=>(Q(),Mr(Lu,{entry:o},null,8,["entry"]))),256))]))}}),Ku=Pt({__name:"Resume",props:{header:null,entries:null,dark:{type:Boolean}},setup(e){return(t,n)=>(Q(),oe("div",{class:ht(["mx-auto font-sans flex flex-row resume",e.dark?"dark":""])},[ae(iu,{header:e.header},null,8,["header"]),ae(Bu,{entries:e.entries},null,8,["entries"])],2))}});const Wu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Gs=Wu(Ku,[["__scopeId","data-v-12b7e835"]]),Xu={key:0,class:"flex flex-row gap-2 items-center py-1 border-b dark:border-slate-800"},Vu=L("a",{class:"underline dark:text-slate-300",target:"_blank",href:"https://github.com/kochrt/kochrt.github.io/blob/master/resume.mw"},"Example syntax",-1),qu=L("a",{href:"https://robko.ch/resume",class:"underline dark:text-slate-300",target:"_blank"},"Example output (good for printing to PDF)",-1),Gu={class:"overflow-scroll w-full h-full bg-white dark:bg-slate-900"},zu=Pt({__name:"App",setup(e){const t=Sf(),n=async()=>{const o=Pt({render(){var a,d,h,_;return Rc(Gs,{header:(d=(a=t.markwhen)==null?void 0:a.parsed)==null?void 0:d[0].header,entries:(h=t.markwhen)==null?void 0:h.transformed,dark:(_=t.app)==null?void 0:_.isDark})}}),i=Gc(o),l=await ii(i),c=[];for(const a of document.getElementsByTagName("style"))c.push(`<style>${a.innerHTML}</style>`);return`<html>\n  <head>\n    <title>Resume</title>\n    ${c.join("")}\n  </head>\n  <body>\n    <div id="app">${l}</div>\n  </body>\n</html>`},r=Ie(()=>{var o;return(o=t.app)==null?void 0:o.isDark}),s=async()=>{const o=document.createElement("a"),i=new Blob([await n()],{type:"text/html"});o.href=URL.createObjectURL(i),o.download="resume.html",o.click(),URL.revokeObjectURL(o.href)};return(o,i)=>{var l,c,a;return Q(),oe("div",{class:ht(["w-full h-full flex flex-col",se(r)?"dark":""])},[se(t).hadInitialState?Ge("",!0):(Q(),oe("div",Xu,[L("div",{class:"ml-auto flex flex-row gap-2 mx-2 font-sans"},[Vu,qu,L("button",{class:"rounded py-px font-bold px-2 text-slate-100 bg-blue-800",onClick:s}," Download HTML ")])])),L("div",Gu,[se(t).markwhen?(Q(),Mr(Gs,{key:0,header:(c=(l=se(t).markwhen)==null?void 0:l.parsed)==null?void 0:c[0].header,entries:(a=se(t).markwhen)==null?void 0:a.transformed,dark:!!se(r)},null,8,["header","entries","dark"])):Ge("",!0)])],2)}}});const di=Jo(zu),Yu=Jc();di.use(Yu);di.mount("#app");\n\n<\/script>\n    <style>\n.resume[data-v-12b7e835]{display:grid;grid-template-columns:16rem auto}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-auto{margin-left:auto;margin-right:auto}.ml-auto{margin-left:auto}.flex{display:flex}.grid{display:grid}.h-4{height:1rem}.h-8{height:2rem}.h-full{height:100%}.w-4{width:1rem}.w-8{width:2rem}.w-full{width:100%}.flex-shrink-0{flex-shrink:0}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-10{gap:2.5rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-6{gap:1.5rem}.overflow-scroll{overflow:scroll}.rounded{border-radius:.25rem}.border-b{border-bottom-width:1px}.bg-blue-800{--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-50{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.px-12{padding-left:3rem;padding-right:3rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-px{padding-top:1px;padding-bottom:1px}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-black{font-weight:900}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-slate-700{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}.text-slate-800{--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity))}.text-slate-900{--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}:root,body,#app{width:100%;height:100%}html,body{height:100%;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;mix-blend-mode:multiply}.noScrollBar::-webkit-scrollbar{display:none}.noScrollBar{scrollbar-width:none}button{-webkit-tap-highlight-color:transparent}.safeBottomPadding{padding-bottom:env(safe-area-inset-bottom)}.dark .dark\\:border-slate-800{--tw-border-opacity: 1;border-color:rgb(30 41 59 / var(--tw-border-opacity))}.dark .dark\\:bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.dark .dark\\:bg-slate-700{--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark .dark\\:bg-slate-800{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}.dark .dark\\:bg-slate-900{--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}.dark .dark\\:text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.dark .dark\\:text-slate-200{--tw-text-opacity: 1;color:rgb(226 232 240 / var(--tw-text-opacity))}.dark .dark\\:text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.dark .dark\\:text-slate-400{--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}\n\n</style>\n  </head>\n  <body>\n    <div id="app"></div>\n    \n  </body>\n</html>\n',Xa='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta\n      name="viewport"\n      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"\n    />\n    <title>Markwhen Timeline</title>\n    <script type="module" crossorigin>\n(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll(\'link[rel="modulepreload"]\'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Yl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Ze={},Gs=[],fn=()=>{},xg=()=>!1,Ng=/^on[^a-z]/,Ao=t=>Ng.test(t),Ul=t=>t.startsWith("onUpdate:"),ut=Object.assign,Bl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Lg=Object.prototype.hasOwnProperty,Le=(t,e)=>Lg.call(t,e),Te=Array.isArray,Xs=t=>xo(t)==="[object Map]",Ch=t=>xo(t)==="[object Set]",Se=t=>typeof t=="function",ot=t=>typeof t=="string",Hl=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",Ah=t=>Ge(t)&&Se(t.then)&&Se(t.catch),xh=Object.prototype.toString,xo=t=>xh.call(t),Rg=t=>xo(t).slice(8,-1),Nh=t=>xo(t)==="[object Object]",jl=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zi=Yl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),No=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Pg=/-(\\w)/g,ir=No(t=>t.replace(Pg,(e,n)=>n?n.toUpperCase():"")),$g=/\\B([A-Z])/g,mr=No(t=>t.replace($g,"-$1").toLowerCase()),Lh=No(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gi=No(t=>t?`on${Lh(t)}`:""),ni=(t,e)=>!Object.is(t,e),ka=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ao=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Fg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},zg=t=>{const e=ot(t)?Number(t):NaN;return isNaN(e)?t:e};let gu;const rl=()=>gu||(gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ze(t){if(Te(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ot(s)?Hg(s):ze(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(ot(t))return t;if(Ge(t))return t}}const Yg=/;(?![^(]*\\))/g,Ug=/:([^]+)/,Bg=/\\/\\*[^]*?\\*\\//g;function Hg(t){const e={};return t.replace(Bg,"").split(Yg).forEach(n=>{if(n){const s=n.split(Ug);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ft(t){let e="";if(ot(t))e=t;else if(Te(t))for(let n=0;n<t.length;n++){const s=ft(t[n]);s&&(e+=s+" ")}else if(Ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function yu(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ot(e)&&(t.class=ft(e)),n&&(t.style=ze(n)),t}const jg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wg=Yl(jg);function Rh(t){return!!t||t===""}const vt=t=>ot(t)?t:t==null?"":Te(t)||Ge(t)&&(t.toString===xh||!Se(t.toString))?JSON.stringify(t,Ph,2):String(t),Ph=(t,e)=>e&&e.__v_isRef?Ph(t,e.value):Xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Ch(e)?{[`Set(${e.size})`]:[...e.values()]}:Ge(e)&&!Te(e)&&!Nh(e)?String(e):e;let zt;class $h{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zt,!e&&zt&&(this.index=(zt.scopes||(zt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=zt;try{return zt=this,e()}finally{zt=n}}}on(){zt=this}off(){zt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Fh(t){return new $h(t)}function Vg(t,e=zt){e&&e.active&&e.effects.push(t)}function Wl(){return zt}function zh(t){zt&&zt.cleanups.push(t)}const Vl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Yh=t=>(t.w&ss)>0,Uh=t=>(t.n&ss)>0,qg=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ss},Kg=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Yh(r)&&!Uh(r)?r.delete(t):e[n++]=r,r.w&=~ss,r.n&=~ss}e.length=n}},lo=new WeakMap;let Ur=0,ss=1;const il=30;let an;const Is=Symbol(""),ol=Symbol("");class ql{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Vg(this,s)}run(){if(!this.active)return this.fn();let e=an,n=Qn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=an,an=this,Qn=!0,ss=1<<++Ur,Ur<=il?qg(this):vu(this),this.fn()}finally{Ur<=il&&Kg(this),ss=1<<--Ur,an=this.parent,Qn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){an===this?this.deferStop=!0:this.active&&(vu(this),this.onStop&&this.onStop(),this.active=!1)}}function vu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Qn=!0;const Bh=[];function pr(){Bh.push(Qn),Qn=!1}function gr(){const t=Bh.pop();Qn=t===void 0?!0:t}function Rt(t,e,n){if(Qn&&an){let s=lo.get(t);s||lo.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Vl()),Hh(r)}}function Hh(t,e){let n=!1;Ur<=il?Uh(t)||(t.n|=ss,n=!Yh(t)):n=!t.has(an),n&&(t.add(an),an.deps.push(t))}function Nn(t,e,n,s,r,i){const o=lo.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Te(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Te(t)?jl(n)&&a.push(o.get("length")):(a.push(o.get(Is)),Xs(t)&&a.push(o.get(ol)));break;case"delete":Te(t)||(a.push(o.get(Is)),Xs(t)&&a.push(o.get(ol)));break;case"set":Xs(t)&&a.push(o.get(Is));break}if(a.length===1)a[0]&&al(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);al(Vl(l))}}function al(t,e){const n=Te(t)?t:[...t];for(const s of n)s.computed&&Tu(s);for(const s of n)s.computed||Tu(s)}function Tu(t,e){(t!==an||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Zg(t,e){var n;return(n=lo.get(t))==null?void 0:n.get(e)}const Gg=Yl("__proto__,__v_isRef,__isVue"),jh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hl)),Xg=Kl(),Jg=Kl(!1,!0),Qg=Kl(!0),wu=ey();function ey(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Ae(this);for(let i=0,o=this.length;i<o;i++)Rt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Ae)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pr();const s=Ae(this)[e].apply(this,n);return gr(),s}}),t}function ty(t){const e=Ae(this);return Rt(e,"has",t),e.hasOwnProperty(t)}function Kl(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?yy:Zh:e?Kh:qh).get(s))return s;const o=Te(s);if(!t){if(o&&Le(wu,r))return Reflect.get(wu,r,i);if(r==="hasOwnProperty")return ty}const a=Reflect.get(s,r,i);return(Hl(r)?jh.has(r):Gg(r))||(t||Rt(s,"get",r),e)?a:rt(a)?o&&jl(r)?a:a.value:Ge(a)?t?Xh(a):ks(a):a}}const ny=Wh(),sy=Wh(!0);function Wh(t=!1){return function(n,s,r,i){let o=n[s];if(or(o)&&rt(o)&&!rt(r))return!1;if(!t&&(!co(r)&&!or(r)&&(o=Ae(o),r=Ae(r)),!Te(n)&&rt(o)&&!rt(r)))return o.value=r,!0;const a=Te(n)&&jl(s)?Number(s)<n.length:Le(n,s),l=Reflect.set(n,s,r,i);return n===Ae(i)&&(a?ni(r,o)&&Nn(n,"set",s,r):Nn(n,"add",s,r)),l}}function ry(t,e){const n=Le(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Nn(t,"delete",e,void 0),s}function iy(t,e){const n=Reflect.has(t,e);return(!Hl(e)||!jh.has(e))&&Rt(t,"has",e),n}function oy(t){return Rt(t,"iterate",Te(t)?"length":Is),Reflect.ownKeys(t)}const Vh={get:Xg,set:ny,deleteProperty:ry,has:iy,ownKeys:oy},ay={get:Qg,set(t,e){return!0},deleteProperty(t,e){return!0}},ly=ut({},Vh,{get:Jg,set:sy}),Zl=t=>t,Lo=t=>Reflect.getPrototypeOf(t);function Ai(t,e,n=!1,s=!1){t=t.__v_raw;const r=Ae(t),i=Ae(e);n||(e!==i&&Rt(r,"get",e),Rt(r,"get",i));const{has:o}=Lo(r),a=s?Zl:n?Jl:si;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function xi(t,e=!1){const n=this.__v_raw,s=Ae(n),r=Ae(t);return e||(t!==r&&Rt(s,"has",t),Rt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Ni(t,e=!1){return t=t.__v_raw,!e&&Rt(Ae(t),"iterate",Is),Reflect.get(t,"size",t)}function _u(t){t=Ae(t);const e=Ae(this);return Lo(e).has.call(e,t)||(e.add(t),Nn(e,"add",t,t)),this}function bu(t,e){e=Ae(e);const n=Ae(this),{has:s,get:r}=Lo(n);let i=s.call(n,t);i||(t=Ae(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?ni(e,o)&&Nn(n,"set",t,e):Nn(n,"add",t,e),this}function Eu(t){const e=Ae(this),{has:n,get:s}=Lo(e);let r=n.call(e,t);r||(t=Ae(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Nn(e,"delete",t,void 0),i}function Su(){const t=Ae(this),e=t.size!==0,n=t.clear();return e&&Nn(t,"clear",void 0,void 0),n}function Li(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Ae(o),l=e?Zl:t?Jl:si;return!t&&Rt(a,"iterate",Is),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function Ri(t,e,n){return function(...s){const r=this.__v_raw,i=Ae(r),o=Xs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Zl:e?Jl:si;return!e&&Rt(i,"iterate",l?ol:Is),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function zn(t){return function(...e){return t==="delete"?!1:this}}function cy(){const t={get(i){return Ai(this,i)},get size(){return Ni(this)},has:xi,add:_u,set:bu,delete:Eu,clear:Su,forEach:Li(!1,!1)},e={get(i){return Ai(this,i,!1,!0)},get size(){return Ni(this)},has:xi,add:_u,set:bu,delete:Eu,clear:Su,forEach:Li(!1,!0)},n={get(i){return Ai(this,i,!0)},get size(){return Ni(this,!0)},has(i){return xi.call(this,i,!0)},add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear"),forEach:Li(!0,!1)},s={get(i){return Ai(this,i,!0,!0)},get size(){return Ni(this,!0)},has(i){return xi.call(this,i,!0)},add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear"),forEach:Li(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ri(i,!1,!1),n[i]=Ri(i,!0,!1),e[i]=Ri(i,!1,!0),s[i]=Ri(i,!0,!0)}),[t,n,e,s]}const[uy,fy,hy,dy]=cy();function Gl(t,e){const n=e?t?dy:hy:t?fy:uy;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Le(n,r)&&r in s?n:s,r,i)}const my={get:Gl(!1,!1)},py={get:Gl(!1,!0)},gy={get:Gl(!0,!1)},qh=new WeakMap,Kh=new WeakMap,Zh=new WeakMap,yy=new WeakMap;function vy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ty(t){return t.__v_skip||!Object.isExtensible(t)?0:vy(Rg(t))}function ks(t){return or(t)?t:Xl(t,!1,Vh,my,qh)}function Gh(t){return Xl(t,!1,ly,py,Kh)}function Xh(t){return Xl(t,!0,ay,gy,Zh)}function Xl(t,e,n,s,r){if(!Ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Ty(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function es(t){return or(t)?es(t.__v_raw):!!(t&&t.__v_isReactive)}function or(t){return!!(t&&t.__v_isReadonly)}function co(t){return!!(t&&t.__v_isShallow)}function Jh(t){return es(t)||or(t)}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function Ro(t){return ao(t,"__v_skip",!0),t}const si=t=>Ge(t)?ks(t):t,Jl=t=>Ge(t)?Xh(t):t;function Qh(t){Qn&&an&&(t=Ae(t),Hh(t.dep||(t.dep=Vl())))}function ed(t,e){t=Ae(t);const n=t.dep;n&&al(n)}function rt(t){return!!(t&&t.__v_isRef===!0)}function ue(t){return td(t,!1)}function wy(t){return td(t,!0)}function td(t,e){return rt(t)?t:new _y(t,e)}class _y{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ae(e),this._value=n?e:si(e)}get value(){return Qh(this),this._value}set value(e){const n=this.__v_isShallow||co(e)||or(e);e=n?e:Ae(e),ni(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:si(e),ed(this))}}function U(t){return rt(t)?t.value:t}const by={get:(t,e,n)=>U(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return rt(r)&&!rt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function nd(t){return es(t)?t:new Proxy(t,by)}function Ey(t){const e=Te(t)?new Array(t.length):{};for(const n in t)e[n]=Iy(t,n);return e}class Sy{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Zg(Ae(this._object),this._key)}}function Iy(t,e,n){const s=t[e];return rt(s)?s:new Sy(t,e,n)}class Oy{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ql(e,()=>{this._dirty||(this._dirty=!0,ed(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Ae(this);return Qh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Cn(t,e,n=!1){let s,r;const i=Se(t);return i?(s=t,r=fn):(s=t.get,r=t.set),new Oy(s,r,i||!r,n)}function ts(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Po(i,e,n)}return r}function Gt(t,e,n,s){if(Se(t)){const i=ts(t,e,n,s);return i&&Ah(i)&&i.catch(o=>{Po(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Gt(t[i],e,n,s));return r}function Po(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){ts(l,null,10,[t,o,a]);return}}Dy(t,n,r,s)}function Dy(t,e,n,s=!0){console.error(t)}let ri=!1,ll=!1;const St=[];let bn=0;const Js=[];let Mn=null,ys=0;const sd=Promise.resolve();let Ql=null;function ln(t){const e=Ql||sd;return t?e.then(this?t.bind(this):t):e}function ky(t){let e=bn+1,n=St.length;for(;e<n;){const s=e+n>>>1;ii(St[s])<t?e=s+1:n=s}return e}function ec(t){(!St.length||!St.includes(t,ri&&t.allowRecurse?bn+1:bn))&&(t.id==null?St.push(t):St.splice(ky(t.id),0,t),rd())}function rd(){!ri&&!ll&&(ll=!0,Ql=sd.then(od))}function My(t){const e=St.indexOf(t);e>bn&&St.splice(e,1)}function Cy(t){Te(t)?Js.push(...t):(!Mn||!Mn.includes(t,t.allowRecurse?ys+1:ys))&&Js.push(t),rd()}function Iu(t,e=ri?bn+1:0){for(;e<St.length;e++){const n=St[e];n&&n.pre&&(St.splice(e,1),e--,n())}}function id(t){if(Js.length){const e=[...new Set(Js)];if(Js.length=0,Mn){Mn.push(...e);return}for(Mn=e,Mn.sort((n,s)=>ii(n)-ii(s)),ys=0;ys<Mn.length;ys++)Mn[ys]();Mn=null,ys=0}}const ii=t=>t.id==null?1/0:t.id,Ay=(t,e)=>{const n=ii(t)-ii(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function od(t){ll=!1,ri=!0,St.sort(Ay);const e=fn;try{for(bn=0;bn<St.length;bn++){const n=St[bn];n&&n.active!==!1&&ts(n,null,14)}}finally{bn=0,St.length=0,id(),ri=!1,Ql=null,(St.length||Js.length)&&od()}}function xy(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ze;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=s[u]||Ze;h&&(r=n.map(d=>ot(d)?d.trim():d)),f&&(r=n.map(Fg))}let a,l=s[a=Gi(e)]||s[a=Gi(ir(e))];!l&&i&&(l=s[a=Gi(mr(e))]),l&&Gt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Gt(c,t,6,r)}}function ad(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Se(t)){const l=c=>{const u=ad(c,e,!0);u&&(a=!0,ut(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ge(t)&&s.set(t,null),null):(Te(i)?i.forEach(l=>o[l]=null):ut(o,i),Ge(t)&&s.set(t,o),o)}function $o(t,e){return!t||!Ao(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,mr(e))||Le(t,e))}let _t=null,Fo=null;function uo(t){const e=_t;return _t=t,Fo=t&&t.type.__scopeId||null,e}function ld(t){Fo=t}function cd(){Fo=null}function Tt(t,e=_t,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Pu(-1);const i=uo(e);let o;try{o=t(...r)}finally{uo(i),s._d&&Pu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ma(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:m,inheritAttrs:p}=t;let y,g;const T=uo(t);try{if(n.shapeFlag&4){const E=r||s;y=_n(u.call(E,E,f,i,d,h,m)),g=l}else{const E=e;y=_n(E.length>1?E(i,{attrs:l,slots:a,emit:c}):E(i,null)),g=e.props?l:Ny(l)}}catch(E){Kr.length=0,Po(E,t,1),y=_e(Xt)}let I=y;if(g&&p!==!1){const E=Object.keys(g),{shapeFlag:_}=I;E.length&&_&7&&(o&&E.some(Ul)&&(g=Ly(g,o)),I=rs(I,g))}return n.dirs&&(I=rs(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),y=I,uo(T),y}const Ny=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ao(n))&&((e||(e={}))[n]=t[n]);return e},Ly=(t,e)=>{const n={};for(const s in t)(!Ul(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Ry(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Ou(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==s[h]&&!$o(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ou(s,o,c):!0:!!o;return!1}function Ou(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!$o(n,i))return!0}return!1}function Py({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const $y=t=>t.__isSuspense;function Fy(t,e){e&&e.pendingBranch?Te(t)?e.effects.push(...t):e.effects.push(t):Cy(t)}function Ns(t,e){return tc(t,null,e)}const Pi={};function je(t,e,n){return tc(t,e,n)}function tc(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ze){var a;const l=Wl()===((a=gt)==null?void 0:a.scope)?gt:null;let c,u=!1,f=!1;if(rt(t)?(c=()=>t.value,u=co(t)):es(t)?(c=()=>t,s=!0):Te(t)?(f=!0,u=t.some(E=>es(E)||co(E)),c=()=>t.map(E=>{if(rt(E))return E.value;if(es(E))return _s(E);if(Se(E))return ts(E,l,2)})):Se(t)?e?c=()=>ts(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),Gt(t,l,3,[d])}:c=fn,e&&s){const E=c;c=()=>_s(E())}let h,d=E=>{h=T.onStop=()=>{ts(E,l,4)}},m;if(li)if(d=fn,e?n&&Gt(e,l,3,[c(),f?[]:void 0,d]):c(),r==="sync"){const E=Mv();m=E.__watcherHandles||(E.__watcherHandles=[])}else return fn;let p=f?new Array(t.length).fill(Pi):Pi;const y=()=>{if(T.active)if(e){const E=T.run();(s||u||(f?E.some((_,b)=>ni(_,p[b])):ni(E,p)))&&(h&&h(),Gt(e,l,3,[E,p===Pi?void 0:f&&p[0]===Pi?[]:p,d]),p=E)}else T.run()};y.allowRecurse=!!e;let g;r==="sync"?g=y:r==="post"?g=()=>xt(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),g=()=>ec(y));const T=new ql(c,g);e?n?y():p=T.run():r==="post"?xt(T.run.bind(T),l&&l.suspense):T.run();const I=()=>{T.stop(),l&&l.scope&&Bl(l.scope.effects,T)};return m&&m.push(I),I}function zy(t,e,n){const s=this.proxy,r=ot(t)?t.includes(".")?ud(s,t):()=>s[t]:t.bind(s,s);let i;Se(e)?i=e:(i=e.handler,n=e);const o=gt;ar(this);const a=tc(r,i.bind(s),n);return o?ar(o):Os(),a}function ud(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function _s(t,e){if(!Ge(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),rt(t))_s(t.value,e);else if(Te(t))for(let n=0;n<t.length;n++)_s(t[n],e);else if(Ch(t)||Xs(t))t.forEach(n=>{_s(n,e)});else if(Nh(t))for(const n in t)_s(t[n],e);return t}function Qs(t,e){const n=_t;if(n===null)return t;const s=jo(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=Ze]=e[i];o&&(Se(o)&&(o={mounted:o,updated:o}),o.deep&&_s(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function us(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(pr(),Gt(l,n,8,[t.el,a,t,e]),gr())}}function Yy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $n(()=>{t.isMounted=!0}),gd(()=>{t.isUnmounting=!0}),t}const jt=[Function,Array],fd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},Uy={name:"BaseTransition",props:fd,setup(t,{slots:e}){const n=Cd(),s=Yy();let r;return()=>{const i=e.default&&dd(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const p of i)if(p.type!==Xt){o=p;break}}const a=Ae(t),{mode:l}=a;if(s.isLeaving)return Ca(o);const c=Du(o);if(!c)return Ca(o);const u=cl(c,a,s,n);ul(c,u);const f=n.subTree,h=f&&Du(f);let d=!1;const{getTransitionKey:m}=c.type;if(m){const p=m();r===void 0?r=p:p!==r&&(r=p,d=!0)}if(h&&h.type!==Xt&&(!vs(c,h)||d)){const p=cl(h,a,s,n);if(ul(h,p),l==="out-in")return s.isLeaving=!0,p.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Ca(o);l==="in-out"&&c.type!==Xt&&(p.delayLeave=(y,g,T)=>{const I=hd(s,h);I[String(h.key)]=h,y._leaveCb=()=>{g(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=T})}return o}}},By=Uy;function hd(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function cl(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:p,onAppear:y,onAfterAppear:g,onAppearCancelled:T}=e,I=String(t.key),E=hd(n,t),_=(D,A)=>{D&&Gt(D,s,9,A)},b=(D,A)=>{const z=A[1];_(D,A),Te(D)?D.every(X=>X.length<=1)&&z():D.length<=1&&z()},k={mode:i,persisted:o,beforeEnter(D){let A=a;if(!n.isMounted)if(r)A=p||a;else return;D._leaveCb&&D._leaveCb(!0);const z=E[I];z&&vs(t,z)&&z.el._leaveCb&&z.el._leaveCb(),_(A,[D])},enter(D){let A=l,z=c,X=u;if(!n.isMounted)if(r)A=y||l,z=g||c,X=T||u;else return;let L=!1;const re=D._enterCb=he=>{L||(L=!0,he?_(X,[D]):_(z,[D]),k.delayedLeave&&k.delayedLeave(),D._enterCb=void 0)};A?b(A,[D,re]):re()},leave(D,A){const z=String(t.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return A();_(f,[D]);let X=!1;const L=D._leaveCb=re=>{X||(X=!0,A(),re?_(m,[D]):_(d,[D]),D._leaveCb=void 0,E[z]===t&&delete E[z])};E[z]=t,h?b(h,[D,L]):L()},clone(D){return cl(D,e,n,s)}};return k}function Ca(t){if(zo(t))return t=rs(t),t.children=null,t}function Du(t){return zo(t)?t.children?t.children[0]:void 0:t}function ul(t,e){t.shapeFlag&6&&t.component?ul(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dd(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===$e?(o.patchFlag&128&&r++,s=s.concat(dd(o.children,e,a))):(e||o.type!==Xt)&&s.push(a!=null?rs(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function De(t,e){return Se(t)?(()=>ut({name:t.name},e,{setup:t}))():t}const Vr=t=>!!t.type.__asyncLoader,zo=t=>t.type.__isKeepAlive;function md(t,e){pd(t,"a",e)}function Hy(t,e){pd(t,"da",e)}function pd(t,e,n=gt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Yo(e,s,n),n){let r=n.parent;for(;r&&r.parent;)zo(r.parent.vnode)&&jy(s,e,n,r),r=r.parent}}function jy(t,e,n,s){const r=Yo(e,t,s,!0);Uo(()=>{Bl(s[e],r)},n)}function Yo(t,e,n=gt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;pr(),ar(n);const a=Gt(e,n,t,o);return Os(),gr(),a});return s?r.unshift(i):r.push(i),i}}const Pn=t=>(e,n=gt)=>(!li||t==="sp")&&Yo(t,(...s)=>e(...s),n),Wy=Pn("bm"),$n=Pn("m"),Vy=Pn("bu"),qy=Pn("u"),gd=Pn("bum"),Uo=Pn("um"),Ky=Pn("sp"),Zy=Pn("rtg"),Gy=Pn("rtc");function Xy(t,e=gt){Yo("ec",t,e)}const Jy=Symbol.for("v-ndc");function dn(t,e,n,s){let r;const i=n&&n[s];if(Te(t)||ot(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Ge(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function yd(t,e,n={},s,r){if(_t.isCE||_t.parent&&Vr(_t.parent)&&_t.parent.isCE)return e!=="default"&&(n.name=e),_e("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),ne();const o=i&&vd(i(n)),a=Xe($e,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function vd(t){return t.some(e=>ho(e)?!(e.type===Xt||e.type===$e&&!vd(e.children)):!0)?t:null}function nc(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:Gi(s)]=t[s];return n}const fl=t=>t?Ad(t)?jo(t)||t.proxy:fl(t.parent):null,qr=ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fl(t.parent),$root:t=>fl(t.root),$emit:t=>t.emit,$options:t=>sc(t),$forceUpdate:t=>t.f||(t.f=()=>ec(t.update)),$nextTick:t=>t.n||(t.n=ln.bind(t.proxy)),$watch:t=>zy.bind(t)}),Aa=(t,e)=>t!==Ze&&!t.__isScriptSetup&&Le(t,e),Qy={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Aa(s,e))return o[e]=1,s[e];if(r!==Ze&&Le(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Le(c,e))return o[e]=3,i[e];if(n!==Ze&&Le(n,e))return o[e]=4,n[e];hl&&(o[e]=0)}}const u=qr[e];let f,h;if(u)return e==="$attrs"&&Rt(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Ze&&Le(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Le(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Aa(r,e)?(r[e]=n,!0):s!==Ze&&Le(s,e)?(s[e]=n,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ze&&Le(t,o)||Aa(e,o)||(a=i[0])&&Le(a,o)||Le(s,o)||Le(qr,o)||Le(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Le(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ku(t){return Te(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let hl=!0;function ev(t){const e=sc(t),n=t.proxy,s=t.ctx;hl=!1,e.beforeCreate&&Mu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:m,activated:p,deactivated:y,beforeDestroy:g,beforeUnmount:T,destroyed:I,unmounted:E,render:_,renderTracked:b,renderTriggered:k,errorCaptured:D,serverPrefetch:A,expose:z,inheritAttrs:X,components:L,directives:re,filters:he}=e;if(c&&tv(c,s,null),o)for(const te in o){const S=o[te];Se(S)&&(s[te]=S.bind(n))}if(r){const te=r.call(n,n);Ge(te)&&(t.data=ks(te))}if(hl=!0,i)for(const te in i){const S=i[te],G=Se(S)?S.bind(n,n):Se(S.get)?S.get.bind(n,n):fn,F=!Se(S)&&Se(S.set)?S.set.bind(n):fn,Q=x({get:G,set:F});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>Q.value,set:ve=>Q.value=ve})}if(a)for(const te in a)Td(a[te],s,n,te);if(l){const te=Se(l)?l.call(n):l;Reflect.ownKeys(te).forEach(S=>{Xi(S,te[S])})}u&&Mu(u,t,"c");function J(te,S){Te(S)?S.forEach(G=>te(G.bind(n))):S&&te(S.bind(n))}if(J(Wy,f),J($n,h),J(Vy,d),J(qy,m),J(md,p),J(Hy,y),J(Xy,D),J(Gy,b),J(Zy,k),J(gd,T),J(Uo,E),J(Ky,A),Te(z))if(z.length){const te=t.exposed||(t.exposed={});z.forEach(S=>{Object.defineProperty(te,S,{get:()=>n[S],set:G=>n[S]=G})})}else t.exposed||(t.exposed={});_&&t.render===fn&&(t.render=_),X!=null&&(t.inheritAttrs=X),L&&(t.components=L),re&&(t.directives=re)}function tv(t,e,n=fn){Te(t)&&(t=dl(t));for(const s in t){const r=t[s];let i;Ge(r)?"default"in r?i=hn(r.from||s,r.default,!0):i=hn(r.from||s):i=hn(r),rt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Mu(t,e,n){Gt(Te(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Td(t,e,n,s){const r=s.includes(".")?ud(n,s):()=>n[s];if(ot(t)){const i=e[t];Se(i)&&je(r,i)}else if(Se(t))je(r,t.bind(n));else if(Ge(t))if(Te(t))t.forEach(i=>Td(i,e,n,s));else{const i=Se(t.handler)?t.handler.bind(n):e[t.handler];Se(i)&&je(r,i,t)}}function sc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>fo(l,c,o,!0)),fo(l,e,o)),Ge(e)&&i.set(e,l),l}function fo(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&fo(t,i,n,!0),r&&r.forEach(o=>fo(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=nv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nv={data:Cu,props:Au,emits:Au,methods:Br,computed:Br,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:Br,directives:Br,watch:rv,provide:Cu,inject:sv};function Cu(t,e){return e?t?function(){return ut(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function sv(t,e){return Br(dl(t),dl(e))}function dl(t){if(Te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function kt(t,e){return t?[...new Set([].concat(t,e))]:e}function Br(t,e){return t?ut(Object.create(null),t,e):e}function Au(t,e){return t?Te(t)&&Te(e)?[...new Set([...t,...e])]:ut(Object.create(null),ku(t),ku(e??{})):e}function rv(t,e){if(!t)return e;if(!e)return t;const n=ut(Object.create(null),t);for(const s in e)n[s]=kt(t[s],e[s]);return n}function wd(){return{app:null,config:{isNativeTag:xg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iv=0;function ov(t,e){return function(s,r=null){Se(s)||(s=ut({},s)),r!=null&&!Ge(r)&&(r=null);const i=wd(),o=new Set;let a=!1;const l=i.app={_uid:iv++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Cv,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Se(c.install)?(o.add(c),c.install(l,...u)):Se(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,f){if(!a){const h=_e(s,r);return h.appContext=i,u&&e?e(h,c):t(h,c,f),a=!0,l._container=c,c.__vue_app__=l,jo(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){oi=l;try{return c()}finally{oi=null}}};return l}}let oi=null;function Xi(t,e){if(gt){let n=gt.provides;const s=gt.parent&&gt.parent.provides;s===n&&(n=gt.provides=Object.create(s)),n[t]=e}}function hn(t,e,n=!1){const s=gt||_t;if(s||oi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:oi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Se(e)?e.call(s&&s.proxy):e}}function av(){return!!(gt||_t||oi)}function lv(t,e,n,s=!1){const r={},i={};ao(i,Ho,1),t.propsDefaults=Object.create(null),_d(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Gh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function cv(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ae(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if($o(t.emitsOptions,h))continue;const d=e[h];if(l)if(Le(i,h))d!==i[h]&&(i[h]=d,c=!0);else{const m=ir(h);r[m]=ml(l,a,m,d,t,!1)}else d!==i[h]&&(i[h]=d,c=!0)}}}else{_d(t,e,r,i)&&(c=!0);let u;for(const f in a)(!e||!Le(e,f)&&((u=mr(f))===f||!Le(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=ml(l,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Le(e,f))&&(delete i[f],c=!0)}c&&Nn(t,"set","$attrs")}function _d(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Zi(l))continue;const c=e[l];let u;r&&Le(r,u=ir(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:$o(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Ae(n),c=a||Ze;for(let u=0;u<i.length;u++){const f=i[u];n[f]=ml(r,l,f,c[f],t,!Le(c,f))}}return o}function ml(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Le(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Se(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(ar(r),s=c[n]=l.call(null,e),Os())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===mr(n))&&(s=!0))}return s}function bd(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Se(t)){const u=f=>{l=!0;const[h,d]=bd(f,e,!0);ut(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ge(t)&&s.set(t,Gs),Gs;if(Te(i))for(let u=0;u<i.length;u++){const f=ir(i[u]);xu(f)&&(o[f]=Ze)}else if(i)for(const u in i){const f=ir(u);if(xu(f)){const h=i[u],d=o[f]=Te(h)||Se(h)?{type:h}:ut({},h);if(d){const m=Ru(Boolean,d.type),p=Ru(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||Le(d,"default"))&&a.push(f)}}}const c=[o,a];return Ge(t)&&s.set(t,c),c}function xu(t){return t[0]!=="$"}function Nu(t){const e=t&&t.toString().match(/^\\s*(function|class) (\\w+)/);return e?e[2]:t===null?"null":""}function Lu(t,e){return Nu(t)===Nu(e)}function Ru(t,e){return Te(e)?e.findIndex(n=>Lu(n,t)):Se(e)&&Lu(e,t)?0:-1}const Ed=t=>t[0]==="_"||t==="$stable",rc=t=>Te(t)?t.map(_n):[_n(t)],uv=(t,e,n)=>{if(e._n)return e;const s=Tt((...r)=>rc(e(...r)),n);return s._c=!1,s},Sd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ed(r))continue;const i=t[r];if(Se(i))e[r]=uv(r,i,s);else if(i!=null){const o=rc(i);e[r]=()=>o}}},Id=(t,e)=>{const n=rc(e);t.slots.default=()=>n},fv=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ae(e),ao(e,"_",n)):Sd(e,t.slots={})}else t.slots={},e&&Id(t,e);ao(t.slots,Ho,1)},hv=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ze;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ut(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Sd(e,r)),o=e}else e&&(Id(t,e),o={default:1});if(i)for(const a in r)!Ed(a)&&!(a in o)&&delete r[a]};function pl(t,e,n,s,r=!1){if(Te(t)){t.forEach((h,d)=>pl(h,e&&(Te(e)?e[d]:e),n,s,r));return}if(Vr(s)&&!r)return;const i=s.shapeFlag&4?jo(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ze?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(ot(c)?(u[c]=null,Le(f,c)&&(f[c]=null)):rt(c)&&(c.value=null)),Se(l))ts(l,a,12,[o,u]);else{const h=ot(l),d=rt(l);if(h||d){const m=()=>{if(t.f){const p=h?Le(f,l)?f[l]:u[l]:l.value;r?Te(p)&&Bl(p,i):Te(p)?p.includes(i)||p.push(i):h?(u[l]=[i],Le(f,l)&&(f[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else h?(u[l]=o,Le(f,l)&&(f[l]=o)):d&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,xt(m,n)):m()}}}const xt=Fy;function dv(t){return mv(t)}function mv(t,e){const n=rl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=fn,insertStaticContent:m}=t,p=(O,C,N,Y=null,H=null,W=null,oe=!1,ee=null,se=!!C.dynamicChildren)=>{if(O===C)return;O&&!vs(O,C)&&(Y=$(O),ve(O,H,W,!0),O=null),C.patchFlag===-2&&(se=!1,C.dynamicChildren=null);const{type:j,ref:ge,shapeFlag:me}=C;switch(j){case Bo:y(O,C,N,Y);break;case Xt:g(O,C,N,Y);break;case xa:O==null&&T(C,N,Y,oe);break;case $e:L(O,C,N,Y,H,W,oe,ee,se);break;default:me&1?_(O,C,N,Y,H,W,oe,ee,se):me&6?re(O,C,N,Y,H,W,oe,ee,se):(me&64||me&128)&&j.process(O,C,N,Y,H,W,oe,ee,se,q)}ge!=null&&H&&pl(ge,O&&O.ref,W,C||O,!C)},y=(O,C,N,Y)=>{if(O==null)s(C.el=a(C.children),N,Y);else{const H=C.el=O.el;C.children!==O.children&&c(H,C.children)}},g=(O,C,N,Y)=>{O==null?s(C.el=l(C.children||""),N,Y):C.el=O.el},T=(O,C,N,Y)=>{[O.el,O.anchor]=m(O.children,C,N,Y,O.el,O.anchor)},I=({el:O,anchor:C},N,Y)=>{let H;for(;O&&O!==C;)H=h(O),s(O,N,Y),O=H;s(C,N,Y)},E=({el:O,anchor:C})=>{let N;for(;O&&O!==C;)N=h(O),r(O),O=N;r(C)},_=(O,C,N,Y,H,W,oe,ee,se)=>{oe=oe||C.type==="svg",O==null?b(C,N,Y,H,W,oe,ee,se):A(O,C,H,W,oe,ee,se)},b=(O,C,N,Y,H,W,oe,ee)=>{let se,j;const{type:ge,props:me,shapeFlag:ye,transition:we,dirs:Ee}=O;if(se=O.el=o(O.type,W,me&&me.is,me),ye&8?u(se,O.children):ye&16&&D(O.children,se,null,Y,H,W&&ge!=="foreignObject",oe,ee),Ee&&us(O,null,Y,"created"),k(se,O,O.scopeId,oe,Y),me){for(const Ne in me)Ne!=="value"&&!Zi(Ne)&&i(se,Ne,null,me[Ne],W,O.children,Y,H,Ye);"value"in me&&i(se,"value",null,me.value),(j=me.onVnodeBeforeMount)&&Tn(j,Y,O)}Ee&&us(O,null,Y,"beforeMount");const xe=(!H||H&&!H.pendingBranch)&&we&&!we.persisted;xe&&we.beforeEnter(se),s(se,C,N),((j=me&&me.onVnodeMounted)||xe||Ee)&&xt(()=>{j&&Tn(j,Y,O),xe&&we.enter(se),Ee&&us(O,null,Y,"mounted")},H)},k=(O,C,N,Y,H)=>{if(N&&d(O,N),Y)for(let W=0;W<Y.length;W++)d(O,Y[W]);if(H){let W=H.subTree;if(C===W){const oe=H.vnode;k(O,oe,oe.scopeId,oe.slotScopeIds,H.parent)}}},D=(O,C,N,Y,H,W,oe,ee,se=0)=>{for(let j=se;j<O.length;j++){const ge=O[j]=ee?qn(O[j]):_n(O[j]);p(null,ge,C,N,Y,H,W,oe,ee)}},A=(O,C,N,Y,H,W,oe)=>{const ee=C.el=O.el;let{patchFlag:se,dynamicChildren:j,dirs:ge}=C;se|=O.patchFlag&16;const me=O.props||Ze,ye=C.props||Ze;let we;N&&fs(N,!1),(we=ye.onVnodeBeforeUpdate)&&Tn(we,N,C,O),ge&&us(C,O,N,"beforeUpdate"),N&&fs(N,!0);const Ee=H&&C.type!=="foreignObject";if(j?z(O.dynamicChildren,j,ee,N,Y,Ee,W):oe||S(O,C,ee,null,N,Y,Ee,W,!1),se>0){if(se&16)X(ee,C,me,ye,N,Y,H);else if(se&2&&me.class!==ye.class&&i(ee,"class",null,ye.class,H),se&4&&i(ee,"style",me.style,ye.style,H),se&8){const xe=C.dynamicProps;for(let Ne=0;Ne<xe.length;Ne++){const K=xe[Ne],Re=me[K],st=ye[K];(st!==Re||K==="value")&&i(ee,K,Re,st,H,O.children,N,Y,Ye)}}se&1&&O.children!==C.children&&u(ee,C.children)}else!oe&&j==null&&X(ee,C,me,ye,N,Y,H);((we=ye.onVnodeUpdated)||ge)&&xt(()=>{we&&Tn(we,N,C,O),ge&&us(C,O,N,"updated")},Y)},z=(O,C,N,Y,H,W,oe)=>{for(let ee=0;ee<C.length;ee++){const se=O[ee],j=C[ee],ge=se.el&&(se.type===$e||!vs(se,j)||se.shapeFlag&70)?f(se.el):N;p(se,j,ge,null,Y,H,W,oe,!0)}},X=(O,C,N,Y,H,W,oe)=>{if(N!==Y){if(N!==Ze)for(const ee in N)!Zi(ee)&&!(ee in Y)&&i(O,ee,N[ee],null,oe,C.children,H,W,Ye);for(const ee in Y){if(Zi(ee))continue;const se=Y[ee],j=N[ee];se!==j&&ee!=="value"&&i(O,ee,j,se,oe,C.children,H,W,Ye)}"value"in Y&&i(O,"value",N.value,Y.value)}},L=(O,C,N,Y,H,W,oe,ee,se)=>{const j=C.el=O?O.el:a(""),ge=C.anchor=O?O.anchor:a("");let{patchFlag:me,dynamicChildren:ye,slotScopeIds:we}=C;we&&(ee=ee?ee.concat(we):we),O==null?(s(j,N,Y),s(ge,N,Y),D(C.children,N,ge,H,W,oe,ee,se)):me>0&&me&64&&ye&&O.dynamicChildren?(z(O.dynamicChildren,ye,N,H,W,oe,ee),(C.key!=null||H&&C===H.subTree)&&Od(O,C,!0)):S(O,C,N,ge,H,W,oe,ee,se)},re=(O,C,N,Y,H,W,oe,ee,se)=>{C.slotScopeIds=ee,O==null?C.shapeFlag&512?H.ctx.activate(C,N,Y,oe,se):he(C,N,Y,H,W,oe,se):de(O,C,se)},he=(O,C,N,Y,H,W,oe)=>{const ee=O.component=bv(O,Y,H);if(zo(O)&&(ee.ctx.renderer=q),Ev(ee),ee.asyncDep){if(H&&H.registerDep(ee,J),!O.el){const se=ee.subTree=_e(Xt);g(null,se,C,N)}return}J(ee,O,C,N,H,W,oe)},de=(O,C,N)=>{const Y=C.component=O.component;if(Ry(O,C,N))if(Y.asyncDep&&!Y.asyncResolved){te(Y,C,N);return}else Y.next=C,My(Y.update),Y.update();else C.el=O.el,Y.vnode=C},J=(O,C,N,Y,H,W,oe)=>{const ee=()=>{if(O.isMounted){let{next:ge,bu:me,u:ye,parent:we,vnode:Ee}=O,xe=ge,Ne;fs(O,!1),ge?(ge.el=Ee.el,te(O,ge,oe)):ge=Ee,me&&ka(me),(Ne=ge.props&&ge.props.onVnodeBeforeUpdate)&&Tn(Ne,we,ge,Ee),fs(O,!0);const K=Ma(O),Re=O.subTree;O.subTree=K,p(Re,K,f(Re.el),$(Re),O,H,W),ge.el=K.el,xe===null&&Py(O,K.el),ye&&xt(ye,H),(Ne=ge.props&&ge.props.onVnodeUpdated)&&xt(()=>Tn(Ne,we,ge,Ee),H)}else{let ge;const{el:me,props:ye}=C,{bm:we,m:Ee,parent:xe}=O,Ne=Vr(C);if(fs(O,!1),we&&ka(we),!Ne&&(ge=ye&&ye.onVnodeBeforeMount)&&Tn(ge,xe,C),fs(O,!0),me&&Ie){const K=()=>{O.subTree=Ma(O),Ie(me,O.subTree,O,H,null)};Ne?C.type.__asyncLoader().then(()=>!O.isUnmounted&&K()):K()}else{const K=O.subTree=Ma(O);p(null,K,N,Y,O,H,W),C.el=K.el}if(Ee&&xt(Ee,H),!Ne&&(ge=ye&&ye.onVnodeMounted)){const K=C;xt(()=>Tn(ge,xe,K),H)}(C.shapeFlag&256||xe&&Vr(xe.vnode)&&xe.vnode.shapeFlag&256)&&O.a&&xt(O.a,H),O.isMounted=!0,C=N=Y=null}},se=O.effect=new ql(ee,()=>ec(j),O.scope),j=O.update=()=>se.run();j.id=O.uid,fs(O,!0),j()},te=(O,C,N)=>{C.component=O;const Y=O.vnode.props;O.vnode=C,O.next=null,cv(O,C.props,Y,N),hv(O,C.children,N),pr(),Iu(),gr()},S=(O,C,N,Y,H,W,oe,ee,se=!1)=>{const j=O&&O.children,ge=O?O.shapeFlag:0,me=C.children,{patchFlag:ye,shapeFlag:we}=C;if(ye>0){if(ye&128){F(j,me,N,Y,H,W,oe,ee,se);return}else if(ye&256){G(j,me,N,Y,H,W,oe,ee,se);return}}we&8?(ge&16&&Ye(j,H,W),me!==j&&u(N,me)):ge&16?we&16?F(j,me,N,Y,H,W,oe,ee,se):Ye(j,H,W,!0):(ge&8&&u(N,""),we&16&&D(me,N,Y,H,W,oe,ee,se))},G=(O,C,N,Y,H,W,oe,ee,se)=>{O=O||Gs,C=C||Gs;const j=O.length,ge=C.length,me=Math.min(j,ge);let ye;for(ye=0;ye<me;ye++){const we=C[ye]=se?qn(C[ye]):_n(C[ye]);p(O[ye],we,N,null,H,W,oe,ee,se)}j>ge?Ye(O,H,W,!0,!1,me):D(C,N,Y,H,W,oe,ee,se,me)},F=(O,C,N,Y,H,W,oe,ee,se)=>{let j=0;const ge=C.length;let me=O.length-1,ye=ge-1;for(;j<=me&&j<=ye;){const we=O[j],Ee=C[j]=se?qn(C[j]):_n(C[j]);if(vs(we,Ee))p(we,Ee,N,null,H,W,oe,ee,se);else break;j++}for(;j<=me&&j<=ye;){const we=O[me],Ee=C[ye]=se?qn(C[ye]):_n(C[ye]);if(vs(we,Ee))p(we,Ee,N,null,H,W,oe,ee,se);else break;me--,ye--}if(j>me){if(j<=ye){const we=ye+1,Ee=we<ge?C[we].el:Y;for(;j<=ye;)p(null,C[j]=se?qn(C[j]):_n(C[j]),N,Ee,H,W,oe,ee,se),j++}}else if(j>ye)for(;j<=me;)ve(O[j],H,W,!0),j++;else{const we=j,Ee=j,xe=new Map;for(j=Ee;j<=ye;j++){const ht=C[j]=se?qn(C[j]):_n(C[j]);ht.key!=null&&xe.set(ht.key,j)}let Ne,K=0;const Re=ye-Ee+1;let st=!1,Pt=0;const $t=new Array(Re);for(j=0;j<Re;j++)$t[j]=0;for(j=we;j<=me;j++){const ht=O[j];if(K>=Re){ve(ht,H,W,!0);continue}let Je;if(ht.key!=null)Je=xe.get(ht.key);else for(Ne=Ee;Ne<=ye;Ne++)if($t[Ne-Ee]===0&&vs(ht,C[Ne])){Je=Ne;break}Je===void 0?ve(ht,H,W,!0):($t[Je-Ee]=j+1,Je>=Pt?Pt=Je:st=!0,p(ht,C[Je],N,null,H,W,oe,ee,se),K++)}const Sn=st?pv($t):Gs;for(Ne=Sn.length-1,j=Re-1;j>=0;j--){const ht=Ee+j,Je=C[ht],dt=ht+1<ge?C[ht+1].el:Y;$t[j]===0?p(null,Je,N,dt,H,W,oe,ee,se):st&&(Ne<0||j!==Sn[Ne]?Q(Je,N,dt,2):Ne--)}}},Q=(O,C,N,Y,H=null)=>{const{el:W,type:oe,transition:ee,children:se,shapeFlag:j}=O;if(j&6){Q(O.component.subTree,C,N,Y);return}if(j&128){O.suspense.move(C,N,Y);return}if(j&64){oe.move(O,C,N,q);return}if(oe===$e){s(W,C,N);for(let me=0;me<se.length;me++)Q(se[me],C,N,Y);s(O.anchor,C,N);return}if(oe===xa){I(O,C,N);return}if(Y!==2&&j&1&&ee)if(Y===0)ee.beforeEnter(W),s(W,C,N),xt(()=>ee.enter(W),H);else{const{leave:me,delayLeave:ye,afterLeave:we}=ee,Ee=()=>s(W,C,N),xe=()=>{me(W,()=>{Ee(),we&&we()})};ye?ye(W,Ee,xe):xe()}else s(W,C,N)},ve=(O,C,N,Y=!1,H=!1)=>{const{type:W,props:oe,ref:ee,children:se,dynamicChildren:j,shapeFlag:ge,patchFlag:me,dirs:ye}=O;if(ee!=null&&pl(ee,null,N,O,!0),ge&256){C.ctx.deactivate(O);return}const we=ge&1&&ye,Ee=!Vr(O);let xe;if(Ee&&(xe=oe&&oe.onVnodeBeforeUnmount)&&Tn(xe,C,O),ge&6)at(O.component,N,Y);else{if(ge&128){O.suspense.unmount(N,Y);return}we&&us(O,null,C,"beforeUnmount"),ge&64?O.type.remove(O,C,N,H,q,Y):j&&(W!==$e||me>0&&me&64)?Ye(j,C,N,!1,!0):(W===$e&&me&384||!H&&ge&16)&&Ye(se,C,N),Y&&He(O)}(Ee&&(xe=oe&&oe.onVnodeUnmounted)||we)&&xt(()=>{xe&&Tn(xe,C,O),we&&us(O,null,C,"unmounted")},N)},He=O=>{const{type:C,el:N,anchor:Y,transition:H}=O;if(C===$e){We(N,Y);return}if(C===xa){E(O);return}const W=()=>{r(N),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(O.shapeFlag&1&&H&&!H.persisted){const{leave:oe,delayLeave:ee}=H,se=()=>oe(N,W);ee?ee(O.el,W,se):se()}else W()},We=(O,C)=>{let N;for(;O!==C;)N=h(O),r(O),O=N;r(C)},at=(O,C,N)=>{const{bum:Y,scope:H,update:W,subTree:oe,um:ee}=O;Y&&ka(Y),H.stop(),W&&(W.active=!1,ve(oe,O,C,N)),ee&&xt(ee,C),xt(()=>{O.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Ye=(O,C,N,Y=!1,H=!1,W=0)=>{for(let oe=W;oe<O.length;oe++)ve(O[oe],C,N,Y,H)},$=O=>O.shapeFlag&6?$(O.component.subTree):O.shapeFlag&128?O.suspense.next():h(O.anchor||O.el),ie=(O,C,N)=>{O==null?C._vnode&&ve(C._vnode,null,null,!0):p(C._vnode||null,O,C,null,null,null,N),Iu(),id(),C._vnode=O},q={p,um:ve,m:Q,r:He,mt:he,mc:D,pc:S,pbc:z,n:$,o:t};let le,Ie;return e&&([le,Ie]=e(q)),{render:ie,hydrate:le,createApp:ov(ie,le)}}function fs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Od(t,e,n=!1){const s=t.children,r=e.children;if(Te(s)&&Te(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=qn(r[i]),a.el=o.el),n||Od(o,a)),a.type===Bo&&(a.el=o.el)}}function pv(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const gv=t=>t.__isTeleport,$e=Symbol.for("v-fgt"),Bo=Symbol.for("v-txt"),Xt=Symbol.for("v-cmt"),xa=Symbol.for("v-stc"),Kr=[];let cn=null;function ne(t=!1){Kr.push(cn=t?null:[])}function yv(){Kr.pop(),cn=Kr[Kr.length-1]||null}let ai=1;function Pu(t){ai+=t}function Dd(t){return t.dynamicChildren=ai>0?cn||Gs:null,yv(),ai>0&&cn&&cn.push(t),t}function pe(t,e,n,s,r,i){return Dd(V(t,e,n,s,r,i,!0))}function Xe(t,e,n,s,r){return Dd(_e(t,e,n,s,r,!0))}function ho(t){return t?t.__v_isVNode===!0:!1}function vs(t,e){return t.type===e.type&&t.key===e.key}const Ho="__vInternal",kd=({key:t})=>t??null,Ji=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||rt(t)||Se(t)?{i:_t,r:t,k:e,f:!!n}:t:null);function V(t,e=null,n=null,s=0,r=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kd(e),ref:e&&Ji(e),scopeId:Fo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:_t};return a?(ic(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),ai>0&&!o&&cn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&cn.push(l),l}const _e=vv;function vv(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Jy)&&(t=Xt),ho(t)){const a=rs(t,e,!0);return n&&ic(a,n),ai>0&&!i&&cn&&(a.shapeFlag&6?cn[cn.indexOf(t)]=a:cn.push(a)),a.patchFlag|=-2,a}if(Dv(t)&&(t=t.__vccOpts),e){e=Tv(e);let{class:a,style:l}=e;a&&!ot(a)&&(e.class=ft(a)),Ge(l)&&(Jh(l)&&!Te(l)&&(l=ut({},l)),e.style=ze(l))}const o=ot(t)?1:$y(t)?128:gv(t)?64:Ge(t)?4:Se(t)?2:0;return V(t,e,n,s,r,o,i,!0)}function Tv(t){return t?Jh(t)||Ho in t?ut({},t):t:null}function rs(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?is(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&kd(a),ref:e&&e.ref?n&&r?Te(r)?r.concat(Ji(e)):[r,Ji(e)]:Ji(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rs(t.ssContent),ssFallback:t.ssFallback&&rs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Md(t=" ",e=0){return _e(Bo,null,t,e)}function Be(t="",e=!1){return e?(ne(),Xe(Xt,null,t)):_e(Xt,null,t)}function _n(t){return t==null||typeof t=="boolean"?_e(Xt):Te(t)?_e($e,null,t.slice()):typeof t=="object"?qn(t):_e(Bo,null,String(t))}function qn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rs(t)}function ic(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Te(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),ic(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Ho in e)?e._ctx=_t:r===3&&_t&&(_t.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:_t},n=32):(e=String(e),s&64?(n=16,e=[Md(e)]):n=8);t.children=e,t.shapeFlag|=n}function is(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ft([e.class,s.class]));else if(r==="style")e.style=ze([e.style,s.style]);else if(Ao(r)){const i=e[r],o=s[r];o&&i!==o&&!(Te(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Tn(t,e,n,s=null){Gt(t,e,7,[n,s])}const wv=wd();let _v=0;function bv(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||wv,i={uid:_v++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new $h(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bd(s,r),emitsOptions:ad(s,r),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:s.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=xy.bind(null,i),t.ce&&t.ce(i),i}let gt=null;const Cd=()=>gt||_t;let oc,zs,$u="__VUE_INSTANCE_SETTERS__";(zs=rl()[$u])||(zs=rl()[$u]=[]),zs.push(t=>gt=t),oc=t=>{zs.length>1?zs.forEach(e=>e(t)):zs[0](t)};const ar=t=>{oc(t),t.scope.on()},Os=()=>{gt&&gt.scope.off(),oc(null)};function Ad(t){return t.vnode.shapeFlag&4}let li=!1;function Ev(t,e=!1){li=e;const{props:n,children:s}=t.vnode,r=Ad(t);lv(t,n,r,e),fv(t,s);const i=r?Sv(t,e):void 0;return li=!1,i}function Sv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ro(new Proxy(t.ctx,Qy));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Ov(t):null;ar(t),pr();const i=ts(s,t,0,[t.props,r]);if(gr(),Os(),Ah(i)){if(i.then(Os,Os),e)return i.then(o=>{Fu(t,o,e)}).catch(o=>{Po(o,t,0)});t.asyncDep=i}else Fu(t,i,e)}else xd(t,e)}function Fu(t,e,n){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)&&(t.setupState=nd(e)),xd(t,n)}let zu;function xd(t,e,n){const s=t.type;if(!t.render){if(!e&&zu&&!s.render){const r=s.template||sc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ut(ut({isCustomElement:i,delimiters:a},o),l);s.render=zu(r,c)}}t.render=s.render||fn}ar(t),pr(),ev(t),gr(),Os()}function Iv(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Rt(t,"get","$attrs"),e[n]}}))}function Ov(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Iv(t)},slots:t.slots,emit:t.emit,expose:e}}function jo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(nd(Ro(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qr)return qr[n](t)},has(e,n){return n in e||n in qr}}))}function Dv(t){return Se(t)&&"__vccOpts"in t}const x=(t,e)=>Cn(t,e,li);function ac(t,e,n){const s=arguments.length;return s===2?Ge(e)&&!Te(e)?ho(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ho(n)&&(n=[n]),_e(t,e,n))}const kv=Symbol.for("v-scx"),Mv=()=>hn(kv),Cv="3.3.4",Av="http://www.w3.org/2000/svg",Ts=typeof document<"u"?document:null,Yu=Ts&&Ts.createElement("template"),xv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Ts.createElementNS(Av,t):Ts.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ts.createTextNode(t),createComment:t=>Ts.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ts.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Yu.innerHTML=s?`<svg>${t}</svg>`:t;const a=Yu.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Nv(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Lv(t,e,n){const s=t.style,r=ot(n);if(n&&!r){if(e&&!ot(e))for(const i in e)n[i]==null&&gl(s,i,"");for(const i in n)gl(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Uu=/\\s*!important$/;function gl(t,e,n){if(Te(n))n.forEach(s=>gl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Rv(t,e);Uu.test(n)?t.setProperty(mr(s),n.replace(Uu,""),"important"):t[s]=n}}const Bu=["Webkit","Moz","ms"],Na={};function Rv(t,e){const n=Na[e];if(n)return n;let s=ir(e);if(s!=="filter"&&s in t)return Na[e]=s;s=Lh(s);for(let r=0;r<Bu.length;r++){const i=Bu[r]+s;if(i in t)return Na[e]=i}return e}const Hu="http://www.w3.org/1999/xlink";function Pv(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Hu,e.slice(6,e.length)):t.setAttributeNS(Hu,e,n);else{const i=Wg(e);n==null||i&&!Rh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function $v(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Rh(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Fv(t,e,n,s){t.addEventListener(e,n,s)}function zv(t,e,n,s){t.removeEventListener(e,n,s)}function Yv(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Uv(e);if(s){const c=i[e]=jv(s,r);Fv(t,a,c,l)}else o&&(zv(t,a,o,l),i[e]=void 0)}}const ju=/(?:Once|Passive|Capture)$/;function Uv(t){let e;if(ju.test(t)){e={};let s;for(;s=t.match(ju);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):mr(t.slice(2)),e]}let La=0;const Bv=Promise.resolve(),Hv=()=>La||(Bv.then(()=>La=0),La=Date.now());function jv(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Gt(Wv(s,n.value),e,5,[s])};return n.value=t,n.attached=Hv(),n}function Wv(t,e){if(Te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Wu=/^on[a-z]/,Vv=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?Nv(t,s,r):e==="style"?Lv(t,n,s):Ao(e)?Ul(e)||Yv(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qv(t,e,s,r))?$v(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Pv(t,e,s,r))};function qv(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Wu.test(e)&&Se(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Wu.test(e)&&ot(n)?!1:e in t}const Yn="transition",Nr="animation",Wo=(t,{slots:e})=>ac(By,Kv(t),e);Wo.displayName="Transition";const Nd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Wo.props=ut({},fd,Nd);const hs=(t,e=[])=>{Te(t)?t.forEach(n=>n(...e)):t&&t(...e)},Vu=t=>t?Te(t)?t.some(e=>e.length>1):t.length>1:!1;function Kv(t){const e={};for(const L in t)L in Nd||(e[L]=t[L]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=Zv(r),p=m&&m[0],y=m&&m[1],{onBeforeEnter:g,onEnter:T,onEnterCancelled:I,onLeave:E,onLeaveCancelled:_,onBeforeAppear:b=g,onAppear:k=T,onAppearCancelled:D=I}=e,A=(L,re,he)=>{ds(L,re?u:a),ds(L,re?c:o),he&&he()},z=(L,re)=>{L._isLeaving=!1,ds(L,f),ds(L,d),ds(L,h),re&&re()},X=L=>(re,he)=>{const de=L?k:T,J=()=>A(re,L,he);hs(de,[re,J]),qu(()=>{ds(re,L?l:i),Un(re,L?u:a),Vu(de)||Ku(re,s,p,J)})};return ut(e,{onBeforeEnter(L){hs(g,[L]),Un(L,i),Un(L,o)},onBeforeAppear(L){hs(b,[L]),Un(L,l),Un(L,c)},onEnter:X(!1),onAppear:X(!0),onLeave(L,re){L._isLeaving=!0;const he=()=>z(L,re);Un(L,f),Jv(),Un(L,h),qu(()=>{L._isLeaving&&(ds(L,f),Un(L,d),Vu(E)||Ku(L,s,y,he))}),hs(E,[L,he])},onEnterCancelled(L){A(L,!1),hs(I,[L])},onAppearCancelled(L){A(L,!0),hs(D,[L])},onLeaveCancelled(L){z(L),hs(_,[L])}})}function Zv(t){if(t==null)return null;if(Ge(t))return[Ra(t.enter),Ra(t.leave)];{const e=Ra(t);return[e,e]}}function Ra(t){return zg(t)}function Un(t,e){e.split(/\\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ds(t,e){e.split(/\\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function qu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Gv=0;function Ku(t,e,n,s){const r=t._endId=++Gv,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Xv(t,e);if(!o)return s();const c=o+"end";let u=0;const f=()=>{t.removeEventListener(c,h),i()},h=d=>{d.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,h)}function Xv(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(`${Yn}Delay`),i=s(`${Yn}Duration`),o=Zu(r,i),a=s(`${Nr}Delay`),l=s(`${Nr}Duration`),c=Zu(a,l);let u=null,f=0,h=0;e===Yn?o>0&&(u=Yn,f=o,h=i.length):e===Nr?c>0&&(u=Nr,f=c,h=l.length):(f=Math.max(o,c),u=f>0?o>c?Yn:Nr:null,h=u?u===Yn?i.length:l.length:0);const d=u===Yn&&/\\b(transform|all)(,|$)/.test(s(`${Yn}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function Zu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Gu(n)+Gu(t[s])))}function Gu(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Jv(){return document.body.offsetHeight}const Qv=["ctrl","shift","alt","meta"],e0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Qv.some(n=>t[`${n}Key`]&&!e.includes(n))},Et=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=e0[e[r]];if(i&&i(n,e))return}return t(n,...s)},er={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Lr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Lr(t,!0),s.enter(t)):s.leave(t,()=>{Lr(t,!1)}):Lr(t,e))},beforeUnmount(t,{value:e}){Lr(t,e)}};function Lr(t,e){t.style.display=e?t._vod:"none"}const t0=ut({patchProp:Vv},xv);let Xu;function n0(){return Xu||(Xu=dv(t0))}const s0=(...t)=>{const e=n0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=r0(s);if(!r)return;const i=e._component;!Se(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function r0(t){return ot(t)?document.querySelector(t):t}var i0=!1;/*!\n * pinia v2.1.6\n * (c) 2023 Eduardo San Martin Morote\n * @license MIT\n */let Ld;const Vo=t=>Ld=t,Rd=Symbol();function yl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Zr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Zr||(Zr={}));function o0(){const t=Fh(!0),e=t.run(()=>ue({}));let n=[],s=[];const r=Ro({install(i){Vo(r),r._a=i,i.provide(Rd,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!i0?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Pd=()=>{};function Ju(t,e,n,s=Pd){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Wl()&&zh(r),r}function Ys(t,...e){t.slice().forEach(n=>{n(...e)})}const a0=t=>t();function vl(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];yl(r)&&yl(s)&&t.hasOwnProperty(n)&&!rt(s)&&!es(s)?t[n]=vl(r,s):t[n]=s}return t}const l0=Symbol();function c0(t){return!yl(t)||!t.hasOwnProperty(l0)}const{assign:Wn}=Object;function u0(t){return!!(rt(t)&&t.effect)}function f0(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Ey(n.state.value[t]);return Wn(u,i,Object.keys(o||{}).reduce((f,h)=>(f[h]=Ro(x(()=>{Vo(n);const d=n._s.get(t);return o[h].call(d,d)})),f),{}))}return l=$d(t,c,e,n,s,!0),l}function $d(t,e,n={},s,r,i){let o;const a=Wn({actions:{}},n),l={deep:!0};let c,u,f=[],h=[],d;const m=s.state.value[t];!i&&!m&&(s.state.value[t]={}),ue({});let p;function y(D){let A;c=u=!1,typeof D=="function"?(D(s.state.value[t]),A={type:Zr.patchFunction,storeId:t,events:d}):(vl(s.state.value[t],D),A={type:Zr.patchObject,payload:D,storeId:t,events:d});const z=p=Symbol();ln().then(()=>{p===z&&(c=!0)}),u=!0,Ys(f,A,s.state.value[t])}const g=i?function(){const{state:A}=n,z=A?A():{};this.$patch(X=>{Wn(X,z)})}:Pd;function T(){o.stop(),f=[],h=[],s._s.delete(t)}function I(D,A){return function(){Vo(s);const z=Array.from(arguments),X=[],L=[];function re(J){X.push(J)}function he(J){L.push(J)}Ys(h,{args:z,name:D,store:_,after:re,onError:he});let de;try{de=A.apply(this&&this.$id===t?this:_,z)}catch(J){throw Ys(L,J),J}return de instanceof Promise?de.then(J=>(Ys(X,J),J)).catch(J=>(Ys(L,J),Promise.reject(J))):(Ys(X,de),de)}}const E={_p:s,$id:t,$onAction:Ju.bind(null,h),$patch:y,$reset:g,$subscribe(D,A={}){const z=Ju(f,D,A.detached,()=>X()),X=o.run(()=>je(()=>s.state.value[t],L=>{(A.flush==="sync"?u:c)&&D({storeId:t,type:Zr.direct,events:d},L)},Wn({},l,A)));return z},$dispose:T},_=ks(E);s._s.set(t,_);const b=s._a&&s._a.runWithContext||a0,k=s._e.run(()=>(o=Fh(),b(()=>o.run(e))));for(const D in k){const A=k[D];if(rt(A)&&!u0(A)||es(A))i||(m&&c0(A)&&(rt(A)?A.value=m[D]:vl(A,m[D])),s.state.value[t][D]=A);else if(typeof A=="function"){const z=I(D,A);k[D]=z,a.actions[D]=A}}return Wn(_,k),Wn(Ae(_),k),Object.defineProperty(_,"$state",{get:()=>s.state.value[t],set:D=>{y(A=>{Wn(A,D)})}}),s._p.forEach(D=>{Wn(_,o.run(()=>D({store:_,app:s._a,pinia:s,options:a})))}),m&&i&&n.hydrate&&n.hydrate(_.$state,m),c=!0,u=!0,_}function yr(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,l){const c=av();return a=a||(c?hn(Rd,null):null),a&&Vo(a),a=Ld,a._s.has(s)||(i?$d(s,e,r,a):f0(s,r,a)),a._s.get(s)}return o.$id=s,o}const di=(t,e)=>!t||!e?!1:t.join(",")===e.join(",");class Ls extends Error{}class h0 extends Ls{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class d0 extends Ls{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class m0 extends Ls{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Hr extends Ls{}class Fd extends Ls{constructor(e){super(`Invalid unit ${e}`)}}class qt extends Ls{}class Bn extends Ls{constructor(){super("Zone is an abstract class")}}const ae="numeric",mn="short",Ut="long",mo={year:ae,month:ae,day:ae},zd={year:ae,month:mn,day:ae},p0={year:ae,month:mn,day:ae,weekday:mn},Yd={year:ae,month:Ut,day:ae},Ud={year:ae,month:Ut,day:ae,weekday:Ut},Bd={hour:ae,minute:ae},Hd={hour:ae,minute:ae,second:ae},jd={hour:ae,minute:ae,second:ae,timeZoneName:mn},Wd={hour:ae,minute:ae,second:ae,timeZoneName:Ut},Vd={hour:ae,minute:ae,hourCycle:"h23"},qd={hour:ae,minute:ae,second:ae,hourCycle:"h23"},Kd={hour:ae,minute:ae,second:ae,hourCycle:"h23",timeZoneName:mn},Zd={hour:ae,minute:ae,second:ae,hourCycle:"h23",timeZoneName:Ut},Gd={year:ae,month:ae,day:ae,hour:ae,minute:ae},Xd={year:ae,month:ae,day:ae,hour:ae,minute:ae,second:ae},Jd={year:ae,month:mn,day:ae,hour:ae,minute:ae},Qd={year:ae,month:mn,day:ae,hour:ae,minute:ae,second:ae},g0={year:ae,month:mn,day:ae,weekday:mn,hour:ae,minute:ae},em={year:ae,month:Ut,day:ae,hour:ae,minute:ae,timeZoneName:mn},tm={year:ae,month:Ut,day:ae,hour:ae,minute:ae,second:ae,timeZoneName:mn},nm={year:ae,month:Ut,day:ae,weekday:Ut,hour:ae,minute:ae,timeZoneName:Ut},sm={year:ae,month:Ut,day:ae,weekday:Ut,hour:ae,minute:ae,second:ae,timeZoneName:Ut};class mi{get type(){throw new Bn}get name(){throw new Bn}get ianaName(){return this.name}get isUniversal(){throw new Bn}offsetName(e,n){throw new Bn}formatOffset(e,n){throw new Bn}offset(e){throw new Bn}equals(e){throw new Bn}get isValid(){throw new Bn}}let Pa=null;class pi extends mi{static get instance(){return Pa===null&&(Pa=new pi),Pa}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return im(e,n,s)}formatOffset(e,n){return Xr(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Qi={};function y0(t){return Qi[t]||(Qi[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Qi[t]}const v0={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function T0(t,e){const n=t.format(e).replace(/\\u200E/g,""),s=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,r,i,o,a,l,c,u]=s;return[o,r,i,a,l,c,u]}function w0(t,e){const n=t.formatToParts(e),s=[];for(let r=0;r<n.length;r++){const{type:i,value:o}=n[r],a=v0[i];i==="era"?s[a]=o:ke(a)||(s[a]=parseInt(o,10))}return s}let $i={};class Ln extends mi{static create(e){return $i[e]||($i[e]=new Ln(e)),$i[e]}static resetCache(){$i={},Qi={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ln.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return im(e,n,s,this.name)}formatOffset(e,n){return Xr(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const s=y0(this.name);let[r,i,o,a,l,c,u]=s.formatToParts?w0(s,n):T0(s,n);a==="BC"&&(r=-Math.abs(r)+1);const h=Ko({year:r,month:i,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let d=+n;const m=d%1e3;return d-=m>=0?m:1e3+m,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Qu={};function _0(t,e={}){const n=JSON.stringify([t,e]);let s=Qu[n];return s||(s=new Intl.ListFormat(t,e),Qu[n]=s),s}let Tl={};function wl(t,e={}){const n=JSON.stringify([t,e]);let s=Tl[n];return s||(s=new Intl.DateTimeFormat(t,e),Tl[n]=s),s}let _l={};function b0(t,e={}){const n=JSON.stringify([t,e]);let s=_l[n];return s||(s=new Intl.NumberFormat(t,e),_l[n]=s),s}let bl={};function E0(t,e={}){const{base:n,...s}=e,r=JSON.stringify([t,s]);let i=bl[r];return i||(i=new Intl.RelativeTimeFormat(t,e),bl[r]=i),i}let jr=null;function S0(){return jr||(jr=new Intl.DateTimeFormat().resolvedOptions().locale,jr)}function I0(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let s,r;try{s=wl(t).resolvedOptions(),r=t}catch{const l=t.substring(0,n);s=wl(l).resolvedOptions(),r=l}const{numberingSystem:i,calendar:o}=s;return[r,i,o]}}function O0(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function D0(t){const e=[];for(let n=1;n<=12;n++){const s=B.utc(2009,n,1);e.push(t(s))}return e}function k0(t){const e=[];for(let n=1;n<=7;n++){const s=B.utc(2016,11,13+n);e.push(t(s))}return e}function Fi(t,e,n,s){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):s(e)}function M0(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class C0{constructor(e,n,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:r,floor:i,...o}=s;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...s};s.padTo>0&&(a.minimumIntegerDigits=s.padTo),this.inf=b0(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):cc(e,3);return ct(n,this.padTo)}}}class A0{constructor(e,n,s){this.opts=s,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ln.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=wl(n,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:s}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class x0{constructor(e,n,s){this.opts={style:"long",...s},!n&&rm()&&(this.rtf=E0(e,s))}format(e,n){return this.rtf?this.rtf.format(e,n):Z0(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class Ke{static fromOpts(e){return Ke.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,s,r=!1){const i=e||lt.defaultLocale,o=i||(r?"en-US":S0()),a=n||lt.defaultNumberingSystem,l=s||lt.defaultOutputCalendar;return new Ke(o,a,l,i)}static resetCache(){jr=null,Tl={},_l={},bl={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:s}={}){return Ke.create(e,n,s)}constructor(e,n,s,r){const[i,o,a]=I0(e);this.locale=i,this.numberingSystem=n||o||null,this.outputCalendar=s||a||null,this.intl=O0(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=M0(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ke.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Fi(this,e,lm,()=>{const s=n?{month:e,day:"numeric"}:{month:e},r=n?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=D0(i=>this.extract(i,s,"month"))),this.monthsCache[r][e]})}weekdays(e,n=!1){return Fi(this,e,fm,()=>{const s=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=k0(i=>this.extract(i,s,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Fi(this,void 0,()=>hm,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[B.utc(2016,11,13,9),B.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Fi(this,e,dm,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[B.utc(-40,1,1),B.utc(2017,1,1)].map(s=>this.extract(s,n,"era"))),this.eraCache[e]})}extract(e,n,s){const r=this.dtFormatter(e,n),i=r.formatToParts(),o=i.find(a=>a.type.toLowerCase()===s);return o?o.value:null}numberFormatter(e={}){return new C0(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new A0(e,this.intl,n)}relFormatter(e={}){return new x0(this.intl,this.isEnglish(),e)}listFormatter(e={}){return _0(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let $a=null;class Ct extends mi{static get utcInstance(){return $a===null&&($a=new Ct(0)),$a}static instance(e){return e===0?Ct.utcInstance:new Ct(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new Ct(Zo(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xr(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xr(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Xr(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class N0 extends mi{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Gn(t,e){if(ke(t)||t===null)return e;if(t instanceof mi)return t;if(L0(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?pi.instance:n==="utc"||n==="gmt"?Ct.utcInstance:Ct.parseSpecifier(n)||Ln.create(t)}else return Ds(t)?Ct.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new N0(t)}let ef=()=>Date.now(),tf="system",nf=null,sf=null,rf=null,of=60,af;class lt{static get now(){return ef}static set now(e){ef=e}static set defaultZone(e){tf=e}static get defaultZone(){return Gn(tf,pi.instance)}static get defaultLocale(){return nf}static set defaultLocale(e){nf=e}static get defaultNumberingSystem(){return sf}static set defaultNumberingSystem(e){sf=e}static get defaultOutputCalendar(){return rf}static set defaultOutputCalendar(e){rf=e}static get twoDigitCutoffYear(){return of}static set twoDigitCutoffYear(e){of=e%100}static get throwOnInvalid(){return af}static set throwOnInvalid(e){af=e}static resetCaches(){Ke.resetCache(),Ln.resetCache()}}function ke(t){return typeof t>"u"}function Ds(t){return typeof t=="number"}function qo(t){return typeof t=="number"&&t%1===0}function L0(t){return typeof t=="string"}function R0(t){return Object.prototype.toString.call(t)==="[object Date]"}function rm(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function P0(t){return Array.isArray(t)?t:[t]}function lf(t,e,n){if(t.length!==0)return t.reduce((s,r)=>{const i=[e(r),r];return s&&n(s[0],i[0])===s[0]?s:i},null)[1]}function $0(t,e){return e.reduce((n,s)=>(n[s]=t[s],n),{})}function lr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function An(t,e,n){return qo(t)&&t>=e&&t<=n}function F0(t,e){return t-e*Math.floor(t/e)}function ct(t,e=2){const n=t<0;let s;return n?s="-"+(""+-t).padStart(e,"0"):s=(""+t).padStart(e,"0"),s}function Kn(t){if(!(ke(t)||t===null||t===""))return parseInt(t,10)}function ms(t){if(!(ke(t)||t===null||t===""))return parseFloat(t)}function lc(t){if(!(ke(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function cc(t,e,n=!1){const s=10**e;return(n?Math.trunc:Math.round)(t*s)/s}function gi(t){return t%4===0&&(t%100!==0||t%400===0)}function Gr(t){return gi(t)?366:365}function po(t,e){const n=F0(e-1,12)+1,s=t+(e-n)/12;return n===2?gi(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ko(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function go(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,s=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||s===3?53:52}function El(t){return t>99?t:t>lt.twoDigitCutoffYear?1900+t:2e3+t}function im(t,e,n,s=null){const r=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(i.timeZone=s);const o={timeZoneName:e,...i},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Zo(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const s=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-s:s;return n*60+r}function om(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new qt(`Invalid unit value ${t}`);return e}function yo(t,e){const n={};for(const s in t)if(lr(t,s)){const r=t[s];if(r==null)continue;n[e(s)]=om(r)}return n}function Xr(t,e){const n=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${ct(n,2)}:${ct(s,2)}`;case"narrow":return`${r}${n}${s>0?`:${s}`:""}`;case"techie":return`${r}${ct(n,2)}${ct(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Go(t){return $0(t,["hour","minute","second","millisecond"])}const z0=["January","February","March","April","May","June","July","August","September","October","November","December"],am=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y0=["J","F","M","A","M","J","J","A","S","O","N","D"];function lm(t){switch(t){case"narrow":return[...Y0];case"short":return[...am];case"long":return[...z0];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const cm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],um=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],U0=["M","T","W","T","F","S","S"];function fm(t){switch(t){case"narrow":return[...U0];case"short":return[...um];case"long":return[...cm];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const hm=["AM","PM"],B0=["Before Christ","Anno Domini"],H0=["BC","AD"],j0=["B","A"];function dm(t){switch(t){case"narrow":return[...j0];case"short":return[...H0];case"long":return[...B0];default:return null}}function W0(t){return hm[t.hour<12?0:1]}function V0(t,e){return fm(e)[t.weekday-1]}function q0(t,e){return lm(e)[t.month-1]}function K0(t,e){return dm(e)[t.year<0?0:1]}function Z0(t,e,n="always",s=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&i){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${r[t][0]}`;case-1:return f?"yesterday":`last ${r[t][0]}`;case 0:return f?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],u=s?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return o?`${a} ${u} ago`:`in ${a} ${u}`}function cf(t,e){let n="";for(const s of t)s.literal?n+=s.val:n+=e(s.val);return n}const G0={D:mo,DD:zd,DDD:Yd,DDDD:Ud,t:Bd,tt:Hd,ttt:jd,tttt:Wd,T:Vd,TT:qd,TTT:Kd,TTTT:Zd,f:Gd,ff:Jd,fff:em,ffff:nm,F:Xd,FF:Qd,FFF:tm,FFFF:sm};class It{static create(e,n={}){return new It(e,n)}static parseFormat(e){let n=null,s="",r=!1;const i=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="\'"?(s.length>0&&i.push({literal:r||/^\\s+$/.test(s),val:s}),n=null,s="",r=!r):r||a===n?s+=a:(s.length>0&&i.push({literal:/^\\s+$/.test(s),val:s}),s=a,n=a)}return s.length>0&&i.push({literal:r||/^\\s+$/.test(s),val:s}),i}static macroTokenToFormatOpts(e){return G0[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return ct(e,n);const s={...this.opts};return n>0&&(s.padTo=n),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,n){const s=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(d,m)=>this.loc.extract(e,d,m),o=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",a=()=>s?W0(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,m)=>s?q0(e,d):i(m?{month:d}:{month:d,day:"numeric"},"month"),c=(d,m)=>s?V0(e,d):i(m?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),u=d=>{const m=It.macroTokenToFormatOpts(d);return m?this.formatWithSystemDefault(e,m):d},f=d=>s?K0(e,d):i({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(d)}};return cf(It.parseFormat(n),h)}formatDurationFromString(e,n){const s=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const u=s(c);return u?this.num(l.get(u),c.length):c},i=It.parseFormat(n),o=i.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=e.shiftTo(...o.map(s).filter(l=>l));return cf(i,r(a))}}class un{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const mm=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function vr(...t){const e=t.reduce((n,s)=>n+s.source,"");return RegExp(`^${e}$`)}function Tr(...t){return e=>t.reduce(([n,s,r],i)=>{const[o,a,l]=i(e,r);return[{...n,...o},a||s,l]},[{},null,1]).slice(0,2)}function wr(t,...e){if(t==null)return[null,null];for(const[n,s]of e){const r=n.exec(t);if(r)return s(r)}return[null,null]}function pm(...t){return(e,n)=>{const s={};let r;for(r=0;r<t.length;r++)s[t[r]]=Kn(e[n+r]);return[s,null,n+r]}}const gm=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,X0=`(?:${gm.source}?(?:\\\\[(${mm.source})\\\\])?)?`,uc=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,ym=RegExp(`${uc.source}${X0}`),fc=RegExp(`(?:T${ym.source})?`),J0=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,Q0=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,eT=/(\\d{4})-?(\\d{3})/,tT=pm("weekYear","weekNumber","weekDay"),nT=pm("year","ordinal"),sT=/(\\d{4})-(\\d\\d)-(\\d\\d)/,vm=RegExp(`${uc.source} ?(?:${gm.source}|(${mm.source}))?`),rT=RegExp(`(?: ${vm.source})?`);function tr(t,e,n){const s=t[e];return ke(s)?n:Kn(s)}function iT(t,e){return[{year:tr(t,e),month:tr(t,e+1,1),day:tr(t,e+2,1)},null,e+3]}function _r(t,e){return[{hours:tr(t,e,0),minutes:tr(t,e+1,0),seconds:tr(t,e+2,0),milliseconds:lc(t[e+3])},null,e+4]}function yi(t,e){const n=!t[e]&&!t[e+1],s=Zo(t[e+1],t[e+2]),r=n?null:Ct.instance(s);return[{},r,e+3]}function vi(t,e){const n=t[e]?Ln.create(t[e]):null;return[{},n,e+1]}const oT=RegExp(`^T?${uc.source}$`),aT=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function lT(t){const[e,n,s,r,i,o,a,l,c]=t,u=e[0]==="-",f=l&&l[0]==="-",h=(d,m=!1)=>d!==void 0&&(m||d&&u)?-d:d;return[{years:h(ms(n)),months:h(ms(s)),weeks:h(ms(r)),days:h(ms(i)),hours:h(ms(o)),minutes:h(ms(a)),seconds:h(ms(l),l==="-0"),milliseconds:h(lc(c),f)}]}const cT={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hc(t,e,n,s,r,i,o){const a={year:e.length===2?El(Kn(e)):Kn(e),month:am.indexOf(n)+1,day:Kn(s),hour:Kn(r),minute:Kn(i)};return o&&(a.second=Kn(o)),t&&(a.weekday=t.length>3?cm.indexOf(t)+1:um.indexOf(t)+1),a}const uT=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function fT(t){const[,e,n,s,r,i,o,a,l,c,u,f]=t,h=hc(e,r,s,n,i,o,a);let d;return l?d=cT[l]:c?d=0:d=Zo(u,f),[h,new Ct(d)]}function hT(t){return t.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const dT=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,mT=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,pT=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function uf(t){const[,e,n,s,r,i,o,a]=t;return[hc(e,r,s,n,i,o,a),Ct.utcInstance]}function gT(t){const[,e,n,s,r,i,o,a]=t;return[hc(e,a,n,s,r,i,o),Ct.utcInstance]}const yT=vr(J0,fc),vT=vr(Q0,fc),TT=vr(eT,fc),wT=vr(ym),Tm=Tr(iT,_r,yi,vi),_T=Tr(tT,_r,yi,vi),bT=Tr(nT,_r,yi,vi),ET=Tr(_r,yi,vi);function ST(t){return wr(t,[yT,Tm],[vT,_T],[TT,bT],[wT,ET])}function IT(t){return wr(hT(t),[uT,fT])}function OT(t){return wr(t,[dT,uf],[mT,uf],[pT,gT])}function DT(t){return wr(t,[aT,lT])}const kT=Tr(_r);function MT(t){return wr(t,[oT,kT])}const CT=vr(sT,rT),AT=vr(vm),xT=Tr(_r,yi,vi);function NT(t){return wr(t,[CT,Tm],[AT,xT])}const ff="Invalid Duration",wm={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},LT={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...wm},Wt=146097/400,Us=146097/4800,RT={years:{quarters:4,months:12,weeks:Wt/7,days:Wt,hours:Wt*24,minutes:Wt*24*60,seconds:Wt*24*60*60,milliseconds:Wt*24*60*60*1e3},quarters:{months:3,weeks:Wt/28,days:Wt/4,hours:Wt*24/4,minutes:Wt*24*60/4,seconds:Wt*24*60*60/4,milliseconds:Wt*24*60*60*1e3/4},months:{weeks:Us/7,days:Us,hours:Us*24,minutes:Us*24*60,seconds:Us*24*60*60,milliseconds:Us*24*60*60*1e3},...wm},bs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],PT=bs.slice(0).reverse();function Hn(t,e,n=!1){const s={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Me(s)}function _m(t,e){let n=e.milliseconds??0;for(const s of PT.slice(1))e[s]&&(n+=e[s]*t[s].milliseconds);return n}function hf(t,e){const n=_m(t,e)<0?-1:1;bs.reduceRight((s,r)=>{if(ke(e[r]))return s;if(s){const i=e[s]*n,o=t[r][s],a=Math.floor(i/o);e[r]+=a*n,e[s]-=a*o*n}return r},null),bs.reduce((s,r)=>{if(ke(e[r]))return s;if(s){const i=e[s]%1;e[s]-=i,e[r]+=i*t[s][r]}return r},null)}function $T(t){const e={};for(const[n,s]of Object.entries(t))s!==0&&(e[n]=s);return e}class Me{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let s=n?RT:LT;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||Ke.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,n){return Me.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new qt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Me({values:yo(e,Me.normalizeUnit),loc:Ke.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Ds(e))return Me.fromMillis(e);if(Me.isDuration(e))return e;if(typeof e=="object")return Me.fromObject(e);throw new qt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[s]=DT(e);return s?Me.fromObject(s,n):Me.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static fromISOTime(e,n){const[s]=MT(e);return s?Me.fromObject(s,n):Me.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new qt("need to specify a reason the Duration is invalid");const s=e instanceof un?e:new un(e,n);if(lt.throwOnInvalid)throw new m0(s);return new Me({invalid:s})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Fd(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const s={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?It.create(this.loc,s).formatDurationFromString(this,e):ff}toHuman(e={}){if(!this.isValid)return ff;const n=bs.map(s=>{const r=this.values[s];return ke(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(r)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=cc(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},B.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?_m(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Me.fromDurationLike(e),s={};for(const r of bs)(lr(n.values,r)||lr(this.values,r))&&(s[r]=n.get(r)+this.get(r));return Hn(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const n=Me.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const s of Object.keys(this.values))n[s]=om(e(this.values[s],s));return Hn(this,{values:n},!0)}get(e){return this[Me.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...yo(e,Me.normalizeUnit)};return Hn(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:s,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:s};return Hn(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return hf(this.matrix,e),Hn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=$T(this.normalize().shiftToAll().toObject());return Hn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Me.normalizeUnit(o));const n={},s={},r=this.toObject();let i;for(const o of bs)if(e.indexOf(o)>=0){i=o;let a=0;for(const c in s)a+=this.matrix[c][o]*s[c],s[c]=0;Ds(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,s[o]=(a*1e3-l*1e3)/1e3}else Ds(r[o])&&(s[o]=r[o]);for(const o in s)s[o]!==0&&(n[i]+=o===i?s[o]:s[o]/this.matrix[i][o]);return hf(this.matrix,n),Hn(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Hn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(s,r){return s===void 0||s===0?r===void 0||r===0:s===r}for(const s of bs)if(!n(this.values[s],e.values[s]))return!1;return!0}}const Bs="Invalid Interval";function FT(t,e){return!t||!t.isValid?tt.invalid("missing or invalid start"):!e||!e.isValid?tt.invalid("missing or invalid end"):e<t?tt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class tt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new qt("need to specify a reason the Interval is invalid");const s=e instanceof un?e:new un(e,n);if(lt.throwOnInvalid)throw new d0(s);return new tt({invalid:s})}static fromDateTimes(e,n){const s=Pr(e),r=Pr(n),i=FT(s,r);return i??new tt({start:s,end:r})}static after(e,n){const s=Me.fromDurationLike(n),r=Pr(e);return tt.fromDateTimes(r,r.plus(s))}static before(e,n){const s=Me.fromDurationLike(n),r=Pr(e);return tt.fromDateTimes(r.minus(s),r)}static fromISO(e,n){const[s,r]=(e||"").split("/",2);if(s&&r){let i,o;try{i=B.fromISO(s,n),o=i.isValid}catch{o=!1}let a,l;try{a=B.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return tt.fromDateTimes(i,a);if(o){const c=Me.fromISO(r,n);if(c.isValid)return tt.after(i,c)}else if(l){const c=Me.fromISO(s,n);if(c.isValid)return tt.before(a,c)}}return tt.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),s=this.end.startOf(e);return Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?tt.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Pr).filter(o=>this.contains(o)).sort(),s=[];let{s:r}=this,i=0;for(;r<this.e;){const o=n[i]||this.e,a=+o>+this.e?this.e:o;s.push(tt.fromDateTimes(r,a)),r=a,i+=1}return s}splitBy(e){const n=Me.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s}=this,r=1,i;const o=[];for(;s<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));i=+a>+this.e?this.e:a,o.push(tt.fromDateTimes(s,i)),s=i,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return n>=s?null:tt.fromDateTimes(n,s)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return tt.fromDateTimes(n,s)}static merge(e){const[n,s]=e.sort((r,i)=>r.s-i.s).reduce(([r,i],o)=>i?i.overlaps(o)||i.abutsStart(o)?[r,i.union(o)]:[r.concat([i]),o]:[r,o],[[],null]);return s&&n.push(s),n}static xor(e){let n=null,s=0;const r=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...i),a=o.sort((l,c)=>l.time-c.time);for(const l of a)s+=l.type==="s"?1:-1,s===1?n=l.time:(n&&+n!=+l.time&&r.push(tt.fromDateTimes(n,l.time)),n=null);return tt.merge(r)}difference(...e){return tt.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Bs}toLocaleString(e=mo,n={}){return this.isValid?It.create(this.s.loc.clone(n),e).formatInterval(this):Bs}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Bs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Bs}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Bs}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Bs}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Me.invalid(this.invalidReason)}mapEndpoints(e){return tt.fromDateTimes(e(this.s),e(this.e))}}class zi{static hasDST(e=lt.defaultZone){const n=B.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ln.isValidZone(e)}static normalizeZone(e){return Gn(e,lt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Ke.create(n,s,i)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Ke.create(n,s,i)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null}={}){return(r||Ke.create(n,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null}={}){return(r||Ke.create(n,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ke.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Ke.create(n,null,"gregory").eras(e)}static features(){return{relative:rm()}}}function df(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=n(e)-n(t);return Math.floor(Me.fromMillis(s).as("days"))}function zT(t,e,n){const s=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=df(l,c);return(u-u%7)/7}],["days",df]],r={},i=t;let o,a;for(const[l,c]of s)n.indexOf(l)>=0&&(o=l,r[l]=c(t,e),a=i.plus(r),a>e?(r[l]--,t=i.plus(r),t>e&&(a=t,r[l]--,t=i.plus(r))):t=a);return[t,r,a,o]}function YT(t,e,n,s){let[r,i,o,a]=zT(t,e,n);const l=e-r,c=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(i[a]=(i[a]||0)+l/(o-r)));const u=Me.fromObject(i,s);return c.length>0?Me.fromMillis(l,s).shiftTo(...c).plus(u):u}const dc={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},mf={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},UT=dc.hanidec.replace(/[\\[|\\]]/g,"").split("");function BT(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(t[n].search(dc.hanidec)!==-1)e+=UT.indexOf(t[n]);else for(const r in mf){const[i,o]=mf[r];s>=i&&s<=o&&(e+=s-i)}}return parseInt(e,10)}else return e}function nn({numberingSystem:t},e=""){return new RegExp(`${dc[t||"latn"]}${e}`)}const HT="missing Intl.DateTimeFormat.formatToParts support";function Pe(t,e=n=>n){return{regex:t,deser:([n])=>e(BT(n))}}const jT=String.fromCharCode(160),bm=`[ ${jT}]`,Em=new RegExp(bm,"g");function WT(t){return t.replace(/\\./g,"\\\\.?").replace(Em,bm)}function pf(t){return t.replace(/\\./g,"").replace(Em," ").toLowerCase()}function sn(t,e){return t===null?null:{regex:RegExp(t.map(WT).join("|")),deser:([n])=>t.findIndex(s=>pf(n)===pf(s))+e}}function gf(t,e){return{regex:t,deser:([,n,s])=>Zo(n,s),groups:e}}function Yi(t){return{regex:t,deser:([e])=>e}}function VT(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function qT(t,e){const n=nn(e),s=nn(e,"{2}"),r=nn(e,"{3}"),i=nn(e,"{4}"),o=nn(e,"{6}"),a=nn(e,"{1,2}"),l=nn(e,"{1,3}"),c=nn(e,"{1,6}"),u=nn(e,"{1,9}"),f=nn(e,"{2,4}"),h=nn(e,"{4,6}"),d=y=>({regex:RegExp(VT(y.val)),deser:([g])=>g,literal:!0}),p=(y=>{if(t.literal)return d(y);switch(y.val){case"G":return sn(e.eras("short"),0);case"GG":return sn(e.eras("long"),0);case"y":return Pe(c);case"yy":return Pe(f,El);case"yyyy":return Pe(i);case"yyyyy":return Pe(h);case"yyyyyy":return Pe(o);case"M":return Pe(a);case"MM":return Pe(s);case"MMM":return sn(e.months("short",!0),1);case"MMMM":return sn(e.months("long",!0),1);case"L":return Pe(a);case"LL":return Pe(s);case"LLL":return sn(e.months("short",!1),1);case"LLLL":return sn(e.months("long",!1),1);case"d":return Pe(a);case"dd":return Pe(s);case"o":return Pe(l);case"ooo":return Pe(r);case"HH":return Pe(s);case"H":return Pe(a);case"hh":return Pe(s);case"h":return Pe(a);case"mm":return Pe(s);case"m":return Pe(a);case"q":return Pe(a);case"qq":return Pe(s);case"s":return Pe(a);case"ss":return Pe(s);case"S":return Pe(l);case"SSS":return Pe(r);case"u":return Yi(u);case"uu":return Yi(a);case"uuu":return Pe(n);case"a":return sn(e.meridiems(),0);case"kkkk":return Pe(i);case"kk":return Pe(f,El);case"W":return Pe(a);case"WW":return Pe(s);case"E":case"c":return Pe(n);case"EEE":return sn(e.weekdays("short",!1),1);case"EEEE":return sn(e.weekdays("long",!1),1);case"ccc":return sn(e.weekdays("short",!0),1);case"cccc":return sn(e.weekdays("long",!0),1);case"Z":case"ZZ":return gf(new RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return gf(new RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return Yi(/[a-z_+-/]{1,256}?/i);case" ":return Yi(/[^\\S\\n\\r]/);default:return d(y)}})(t)||{invalidReason:HT};return p.token=t,p}const KT={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ZT(t,e,n){const{type:s,value:r}=t;if(s==="literal"){const l=/^\\s+$/.test(r);return{literal:!l,val:l?" ":r}}const i=e[s];let o=s;s==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=KT[o];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function GT(t){return[`^${t.map(n=>n.regex).reduce((n,s)=>`${n}(${s.source})`,"")}$`,t]}function XT(t,e,n){const s=t.match(e);if(s){const r={};let i=1;for(const o in n)if(lr(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(s.slice(i,i+l))),i+=l}return[s,r]}else return[s,{}]}function JT(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,s;return ke(t.z)||(n=Ln.create(t.z)),ke(t.Z)||(n||(n=new Ct(t.Z)),s=t.Z),ke(t.q)||(t.M=(t.q-1)*3+1),ke(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ke(t.u)||(t.S=lc(t.u)),[Object.keys(t).reduce((i,o)=>{const a=e(o);return a&&(i[a]=t[o]),i},{}),n,s]}let Fa=null;function QT(){return Fa||(Fa=B.fromMillis(1555555555555)),Fa}function ew(t,e){if(t.literal)return t;const n=It.macroTokenToFormatOpts(t.val),s=Om(n,e);return s==null||s.includes(void 0)?t:s}function Sm(t,e){return Array.prototype.concat(...t.map(n=>ew(n,e)))}function Im(t,e,n){const s=Sm(It.parseFormat(n),t),r=s.map(o=>qT(o,t)),i=r.find(o=>o.invalidReason);if(i)return{input:e,tokens:s,invalidReason:i.invalidReason};{const[o,a]=GT(r),l=RegExp(o,"i"),[c,u]=XT(e,l,a),[f,h,d]=u?JT(u):[null,null,void 0];if(lr(u,"a")&&lr(u,"H"))throw new Hr("Can\'t include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:l,rawMatches:c,matches:u,result:f,zone:h,specificOffset:d}}}function tw(t,e,n){const{result:s,zone:r,specificOffset:i,invalidReason:o}=Im(t,e,n);return[s,r,i,o]}function Om(t,e){if(!t)return null;const s=It.create(e,t).dtFormatter(QT()),r=s.formatToParts(),i=s.resolvedOptions();return r.map(o=>ZT(o,t,i))}const Dm=[0,31,59,90,120,151,181,212,243,273,304,334],km=[0,31,60,91,121,152,182,213,244,274,305,335];function Zt(t,e){return new un("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Mm(t,e,n){const s=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const r=s.getUTCDay();return r===0?7:r}function Cm(t,e,n){return n+(gi(t)?km:Dm)[e-1]}function Am(t,e){const n=gi(t)?km:Dm,s=n.findIndex(i=>i<e),r=e-n[s];return{month:s+1,day:r}}function vo(t){const{year:e,month:n,day:s}=t,r=Cm(e,n,s),i=Mm(e,n,s);let o=Math.floor((r-i+10)/7),a;return o<1?(a=e-1,o=go(a)):o>go(e)?(a=e+1,o=1):a=e,{weekYear:a,weekNumber:o,weekday:i,...Go(t)}}function yf(t){const{weekYear:e,weekNumber:n,weekday:s}=t,r=Mm(e,1,4),i=Gr(e);let o=n*7+s-r-3,a;o<1?(a=e-1,o+=Gr(a)):o>i?(a=e+1,o-=Gr(e)):a=e;const{month:l,day:c}=Am(a,o);return{year:a,month:l,day:c,...Go(t)}}function za(t){const{year:e,month:n,day:s}=t,r=Cm(e,n,s);return{year:e,ordinal:r,...Go(t)}}function vf(t){const{year:e,ordinal:n}=t,{month:s,day:r}=Am(e,n);return{year:e,month:s,day:r,...Go(t)}}function nw(t){const e=qo(t.weekYear),n=An(t.weekNumber,1,go(t.weekYear)),s=An(t.weekday,1,7);return e?n?s?!1:Zt("weekday",t.weekday):Zt("week",t.week):Zt("weekYear",t.weekYear)}function sw(t){const e=qo(t.year),n=An(t.ordinal,1,Gr(t.year));return e?n?!1:Zt("ordinal",t.ordinal):Zt("year",t.year)}function xm(t){const e=qo(t.year),n=An(t.month,1,12),s=An(t.day,1,po(t.year,t.month));return e?n?s?!1:Zt("day",t.day):Zt("month",t.month):Zt("year",t.year)}function Nm(t){const{hour:e,minute:n,second:s,millisecond:r}=t,i=An(e,0,23)||e===24&&n===0&&s===0&&r===0,o=An(n,0,59),a=An(s,0,59),l=An(r,0,999);return i?o?a?l?!1:Zt("millisecond",r):Zt("second",s):Zt("minute",n):Zt("hour",e)}const Ya="Invalid DateTime",Tf=864e13;function Ui(t){return new un("unsupported zone",`the zone "${t.name}" is not supported`)}function Ua(t){return t.weekData===null&&(t.weekData=vo(t.c)),t.weekData}function ps(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new B({...n,...e,old:n})}function Lm(t,e,n){let s=t-e*60*1e3;const r=n.offset(s);if(e===r)return[s,e];s-=(r-e)*60*1e3;const i=n.offset(s);return r===i?[s,r]:[t-Math.min(r,i)*60*1e3,Math.max(r,i)]}function Bi(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function eo(t,e,n){return Lm(Ko(t),e,n)}function wf(t,e){const n=t.o,s=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:s,month:r,day:Math.min(t.c.day,po(s,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Me.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Ko(i);let[l,c]=Lm(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Rr(t,e,n,s,r,i){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=B.fromObject(t,{...n,zone:l,specificOffset:i});return o?c:c.setZone(a)}else return B.invalid(new un("unparsable",`the input "${r}" can\'t be parsed as ${s}`))}function Hi(t,e,n=!0){return t.isValid?It.create(Ke.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ba(t,e){const n=t.c.year>9999||t.c.year<0;let s="";return n&&t.c.year>=0&&(s+="+"),s+=ct(t.c.year,n?6:4),e?(s+="-",s+=ct(t.c.month),s+="-",s+=ct(t.c.day)):(s+=ct(t.c.month),s+=ct(t.c.day)),s}function _f(t,e,n,s,r,i){let o=ct(t.c.hour);return e?(o+=":",o+=ct(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=ct(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=ct(t.c.second),(t.c.millisecond!==0||!s)&&(o+=".",o+=ct(t.c.millisecond,3))),r&&(t.isOffsetFixed&&t.offset===0&&!i?o+="Z":t.o<0?(o+="-",o+=ct(Math.trunc(-t.o/60)),o+=":",o+=ct(Math.trunc(-t.o%60))):(o+="+",o+=ct(Math.trunc(t.o/60)),o+=":",o+=ct(Math.trunc(t.o%60)))),i&&(o+="["+t.zone.ianaName+"]"),o}const Rm={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rw={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},iw={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Pm=["year","month","day","hour","minute","second","millisecond"],ow=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],aw=["year","ordinal","hour","minute","second","millisecond"];function bf(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Fd(t);return e}function Ef(t,e){const n=Gn(e.zone,lt.defaultZone),s=Ke.fromObject(e),r=lt.now();let i,o;if(ke(t.year))i=r;else{for(const c of Pm)ke(t[c])&&(t[c]=Rm[c]);const a=xm(t)||Nm(t);if(a)return B.invalid(a);const l=n.offset(r);[i,o]=eo(t,l,n)}return new B({ts:i,zone:n,loc:s,o})}function Sf(t,e,n){const s=ke(n.round)?!0:n.round,r=(o,a)=>(o=cc(o,s||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),i=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return r(i(n.unit),n.unit);for(const o of n.units){const a=i(o);if(Math.abs(a)>=1)return r(a,o)}return r(t>e?-0:0,n.units[n.units.length-1])}function If(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class B{constructor(e){const n=e.zone||lt.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new un("invalid input"):null)||(n.isValid?null:Ui(n));this.ts=ke(e.ts)?lt.now():e.ts;let r=null,i=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,i]=[e.old.c,e.old.o];else{const a=n.offset(this.ts);r=Bi(this.ts,a),s=Number.isNaN(r.year)?new un("invalid input"):null,r=s?null:r,i=s?null:a}this._zone=n,this.loc=e.loc||Ke.create(),this.invalid=s,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new B({})}static local(){const[e,n]=If(arguments),[s,r,i,o,a,l,c]=n;return Ef({year:s,month:r,day:i,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=If(arguments),[s,r,i,o,a,l,c]=n;return e.zone=Ct.utcInstance,Ef({year:s,month:r,day:i,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const s=R0(e)?e.valueOf():NaN;if(Number.isNaN(s))return B.invalid("invalid input");const r=Gn(n.zone,lt.defaultZone);return r.isValid?new B({ts:s,zone:r,loc:Ke.fromObject(n)}):B.invalid(Ui(r))}static fromMillis(e,n={}){if(Ds(e))return e<-Tf||e>Tf?B.invalid("Timestamp out of range"):new B({ts:e,zone:Gn(n.zone,lt.defaultZone),loc:Ke.fromObject(n)});throw new qt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Ds(e))return new B({ts:e*1e3,zone:Gn(n.zone,lt.defaultZone),loc:Ke.fromObject(n)});throw new qt("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const s=Gn(n.zone,lt.defaultZone);if(!s.isValid)return B.invalid(Ui(s));const r=lt.now(),i=ke(n.specificOffset)?s.offset(r):n.specificOffset,o=yo(e,bf),a=!ke(o.ordinal),l=!ke(o.year),c=!ke(o.month)||!ke(o.day),u=l||c,f=o.weekYear||o.weekNumber,h=Ke.fromObject(n);if((u||a)&&f)throw new Hr("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new Hr("Can\'t mix ordinal dates with month/day");const d=f||o.weekday&&!u;let m,p,y=Bi(r,i);d?(m=ow,p=rw,y=vo(y)):a?(m=aw,p=iw,y=za(y)):(m=Pm,p=Rm);let g=!1;for(const D of m){const A=o[D];ke(A)?g?o[D]=p[D]:o[D]=y[D]:g=!0}const T=d?nw(o):a?sw(o):xm(o),I=T||Nm(o);if(I)return B.invalid(I);const E=d?yf(o):a?vf(o):o,[_,b]=eo(E,i,s),k=new B({ts:_,zone:s,o:b,loc:h});return o.weekday&&u&&e.weekday!==k.weekday?B.invalid("mismatched weekday",`you can\'t specify both a weekday of ${o.weekday} and a date of ${k.toISO()}`):k}static fromISO(e,n={}){const[s,r]=ST(e);return Rr(s,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[s,r]=IT(e);return Rr(s,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[s,r]=OT(e);return Rr(s,r,n,"HTTP",n)}static fromFormat(e,n,s={}){if(ke(e)||ke(n))throw new qt("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=s,o=Ke.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[a,l,c,u]=tw(o,e,n);return u?B.invalid(u):Rr(a,l,s,`format ${n}`,e,c)}static fromString(e,n,s={}){return B.fromFormat(e,n,s)}static fromSQL(e,n={}){const[s,r]=NT(e);return Rr(s,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new qt("need to specify a reason the DateTime is invalid");const s=e instanceof un?e:new un(e,n);if(lt.throwOnInvalid)throw new h0(s);return new B({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const s=Om(e,Ke.fromObject(n));return s?s.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return Sm(It.parseFormat(e),Ke.fromObject(n)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ua(this).weekYear:NaN}get weekNumber(){return this.isValid?Ua(this).weekNumber:NaN}get weekday(){return this.isValid?Ua(this).weekday:NaN}get ordinal(){return this.isValid?za(this.c).ordinal:NaN}get monthShort(){return this.isValid?zi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?zi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,s=Ko(this.c),r=this.zone.offset(s-e),i=this.zone.offset(s+e),o=this.zone.offset(s-r*n),a=this.zone.offset(s-i*n);if(o===a)return[this];const l=s-o*n,c=s-a*n,u=Bi(l,o),f=Bi(c,a);return u.hour===f.hour&&u.minute===f.minute&&u.second===f.second&&u.millisecond===f.millisecond?[ps(this,{ts:l}),ps(this,{ts:c})]:[this]}get isInLeapYear(){return gi(this.year)}get daysInMonth(){return po(this.year,this.month)}get daysInYear(){return this.isValid?Gr(this.year):NaN}get weeksInWeekYear(){return this.isValid?go(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:s,calendar:r}=It.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:s,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Ct.instance(e),n)}toLocal(){return this.setZone(lt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:s=!1}={}){if(e=Gn(e,lt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||s){const i=e.offset(this.ts),o=this.toObject();[r]=eo(o,i,e)}return ps(this,{ts:r,zone:e})}else return B.invalid(Ui(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:s}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:s});return ps(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=yo(e,bf),s=!ke(n.weekYear)||!ke(n.weekNumber)||!ke(n.weekday),r=!ke(n.ordinal),i=!ke(n.year),o=!ke(n.month)||!ke(n.day),a=i||o,l=n.weekYear||n.weekNumber;if((a||r)&&l)throw new Hr("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new Hr("Can\'t mix ordinal dates with month/day");let c;s?c=yf({...vo(this.c),...n}):ke(n.ordinal)?(c={...this.toObject(),...n},ke(n.day)&&(c.day=Math.min(po(c.year,c.month),c.day))):c=vf({...za(this.c),...n});const[u,f]=eo(c,this.o,this.zone);return ps(this,{ts:u,o:f})}plus(e){if(!this.isValid)return this;const n=Me.fromDurationLike(e);return ps(this,wf(this,n))}minus(e){if(!this.isValid)return this;const n=Me.fromDurationLike(e).negate();return ps(this,wf(this,n))}startOf(e){if(!this.isValid)return this;const n={},s=Me.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks"&&(n.weekday=1),s==="quarters"){const r=Math.ceil(this.month/3);n.month=(r-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?It.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Ya}toLocaleString(e=mo,n={}){return this.isValid?It.create(this.loc.clone(n),e).formatDateTime(this):Ya}toLocaleParts(e={}){return this.isValid?It.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:s=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Ba(this,o);return a+="T",a+=_f(this,o,n,s,r,i),a}toISODate({format:e="extended"}={}){return this.isValid?Ba(this,e==="extended"):null}toISOWeekDate(){return Hi(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:s=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+_f(this,o==="extended",n,e,s,i):null}toRFC2822(){return Hi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Hi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?Ba(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:s=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(s&&(r+=" "),n?r+="z":e&&(r+="ZZ")),Hi(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ya}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",s={}){if(!this.isValid||!e.isValid)return Me.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...s},i=P0(n).map(Me.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=YT(a,l,i,r);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(B.now(),e,n)}until(e){return this.isValid?tt.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const s=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(n)<=s&&s<=r.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||B.fromObject({},{zone:this.zone}),s=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),Sf(n,this.plus(s),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?Sf(e.base||B.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(B.isDateTime))throw new qt("min requires all arguments be DateTimes");return lf(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(B.isDateTime))throw new qt("max requires all arguments be DateTimes");return lf(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,s={}){const{locale:r=null,numberingSystem:i=null}=s,o=Ke.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return Im(o,e,n)}static fromStringExplain(e,n,s={}){return B.fromFormatExplain(e,n,s)}static get DATE_SHORT(){return mo}static get DATE_MED(){return zd}static get DATE_MED_WITH_WEEKDAY(){return p0}static get DATE_FULL(){return Yd}static get DATE_HUGE(){return Ud}static get TIME_SIMPLE(){return Bd}static get TIME_WITH_SECONDS(){return Hd}static get TIME_WITH_SHORT_OFFSET(){return jd}static get TIME_WITH_LONG_OFFSET(){return Wd}static get TIME_24_SIMPLE(){return Vd}static get TIME_24_WITH_SECONDS(){return qd}static get TIME_24_WITH_SHORT_OFFSET(){return Kd}static get TIME_24_WITH_LONG_OFFSET(){return Zd}static get DATETIME_SHORT(){return Gd}static get DATETIME_SHORT_WITH_SECONDS(){return Xd}static get DATETIME_MED(){return Jd}static get DATETIME_MED_WITH_SECONDS(){return Qd}static get DATETIME_MED_WITH_WEEKDAY(){return g0}static get DATETIME_FULL(){return em}static get DATETIME_FULL_WITH_SECONDS(){return tm}static get DATETIME_HUGE(){return nm}static get DATETIME_HUGE_WITH_SECONDS(){return sm}}function Pr(t){if(B.isDateTime(t))return t;if(t&&t.valueOf&&Ds(t.valueOf()))return B.fromJSDate(t);if(t&&typeof t=="object")return B.fromObject(t);throw new qt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}class Xo{constructor(e){this.value=e}}const mc=/(milliseconds|ms)/i,pc=/(seconds|second|secs|sec|s)/i,gc=/(minutes|minute|mins|min)/i,yc=/(hours|hour|h)/i,vc=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,Tc=/(weeks|week|w)/i,wc=/(months|month)/i,_c=/(years|year|y)/i,Sl=new RegExp(`(\\\\d+\\\\W*)(${mc.source}|${pc.source}|${gc.source}|${yc.source}|${vc.source}|${Tc.source}|${wc.source}|${_c.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),$m=/(?:\\W|^)(!\\w+)/,Il=new RegExp(`(by|before|after)?(\\\\s*${$m.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${Sl.source})*`),lw=/january|february|march|april|may|june|july|august|september|october|november|december/,cw=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,bc=new RegExp(`(?:(${lw.source})|(${cw.source}))`),uw=new RegExp(`(([0-3]?[0-9])\\\\s+${bc.source})`),fw=new RegExp(`(${bc.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),Ec=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2})?)/,hw=new RegExp(`(?:(?:${uw.source}|${fw.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${Ec.source})?)|(${bc.source}(?:\\\\s+(\\\\d{1,4}))?)`),dw=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,Ol=/now/,mw=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${Ec.source})?)?)?)`),Of=new RegExp(`(${dw.source})|(${Ol.source})|${Ec.source}|(${mw.source})|(${Il.source})|${hw.source}`),Fm=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${mc.source}|${pc.source}|${gc.source}|${yc.source}|${vc.source}|${Tc.source}|${wc.source}|${_c.source})`,"g"),pw=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${mc.source}|${pc.source}|${gc.source}|${yc.source}|${vc.source}|${Tc.source}|${wc.source}|${_c.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),zm=new RegExp(`\\\\s*every\\\\s+${Fm.source}${pw.source}`),gw=new RegExp(`((${Of.source})(?:\\\\s*(?:-|to)\\\\s*(${Of.source}))?)(${zm.source})?\\\\s*:`),Sc=new RegExp(`^(\\\\s*)${gw.source}(.*)`,"i");let P=0;++P;const yw=++P,vw=++P;++P;const Tw=++P,ww=++P,_w=++P,bw=++P,Ew=++P,Sw=++P,Iw=++P,Ow=++P;++P;++P;++P;const Dw=++P,kw=++P,Mw=++P,Cw=++P,Aw=++P,xw=++P,Nw=++P,Lw=++P;++P;const Rw=++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;const Pw=++P,$w=++P,Fw=++P;++P;const zw=++P,Yw=++P,Uw=++P,Bw=++P,Hw=++P,jw=++P,Ww=++P,Vw=++P,qw=++P,Kw=++P;++P;const Zw=++P,Gw=++P,Xw=++P,Jw=++P;++P;const Qw=++P,e1=++P,t1=++P,n1=++P,s1=++P,r1=++P,i1=++P,o1=++P;++P;++P;++P;const a1=++P,l1=++P,c1=++P,u1=++P,f1=++P,h1=++P,d1=++P,m1=++P;++P;const p1=++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;++P;const g1=++P,y1=++P,v1=++P;++P;const T1=++P,w1=++P,_1=++P,b1=++P,E1=++P,S1=++P,I1=++P,O1=++P,D1=++P,k1=++P;++P;const M1=++P,C1=++P,A1=++P,x1=++P,Df=++P;++P;const N1=++P,L1=++P,R1=++P,P1=++P,$1=++P,F1=++P,z1=++P,Y1=++P,U1=++P,B1=++P,H1=++P,j1=++P;++P;const W1=++P,V1=++P,q1=++P,K1=++P,Z1=++P,G1=++P,X1=++P,J1=++P,Q1=++P,e_=++P;++P;const t_=++P,kf=++P,Dl=/^\\s*\\/\\/.*/,To=/(?:^|\\s)#(?!\\d+(?:\\s|$))(\\w+)/g,Jo=/^(\\s*)(group|section)(?:\\s|$)/i,Ym=/^(\\s*)end(?:Group|Section)/i,n_=/^- .*/,s_=/^- (\\[(x|X| )?\\]).*/,Um=/^\\s*(\\[(x|X| )?\\]).*/,Mf=/(\\d{4}(-\\d{2}(-\\d{2})?)?)/,r_=new RegExp(`((?:${Mf.source}|(${Il.source})|(${Ol.source}))(\\\\s*/\\\\s*(?:${Mf.source}|(${Il.source})|(${Ol.source})))?)(${zm.source})?\\\\s*:`),Ic=new RegExp(`^(\\\\s*)${r_.source}(.*)`,"i");let ce=0;++ce;const i_=++ce,o_=++ce,a_=++ce,l_=++ce,c_=++ce,u_=++ce;++ce;const f_=++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;const h_=++ce,d_=++ce,m_=++ce,p_=++ce,g_=++ce,y_=++ce,v_=++ce;++ce;const T_=++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;++ce;const w_=++ce,__=++ce,b_=++ce;++ce;const E_=++ce,S_=++ce,I_=++ce,O_=++ce,D_=++ce,k_=++ce,M_=++ce,C_=++ce,A_=++ce,x_=++ce,N_=++ce,L_=++ce;++ce;const R_=++ce,P_=++ce,$_=++ce,F_=++ce,z_=++ce,Y_=++ce,U_=++ce,B_=++ce,H_=++ce,j_=++ce;++ce;const W_=++ce,Cf=++ce;function Af(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`http://${t}`}const wo="M/d/y",V_="d/M/y",q_="M/y",K_="y";class Kt{static diffFromString(e){const n=e.matchAll(Sl);let s=n.next();const r={};for(;s.value;){const i=s.value,o=parseInt(i[1]);i[3]?r.milliseconds=(r.milliseconds??0)+o:i[4]?r.seconds=(r.seconds??0)+o:i[5]?r.minutes=(r.minutes??0)+o:i[6]?r.hours=(r.hours??0)+o:i[7]||(i[8]?r.days=(r.days??0)+o:i[9]?r.weeks=(r.weeks??0)+o:i[10]?r.months=(r.months??0)+o:i[11]&&(r.years=(r.years??0)+o)),s=n.next()}return r}static from(e,n,s=!1){const r=e.matchAll(Sl);let i=r.next();const o=s?"minus":"plus";for(;i.value;){const a=i.value,l=parseInt(a[1]);a[3]?n=n[o]({milliseconds:l}):a[4]?n=n[o]({seconds:l}):a[5]?n=n[o]({minutes:l}):a[6]?n=n[o]({hours:l}):a[7]?n=s?Z_(l,n):G_(l,n):a[8]?n=n[o]({days:l}):a[9]?n=n[o]({weeks:l}):a[10]?n=n[o]({months:l}):a[11]&&(n=n[o]({years:l})),i=r.next()}return n}}function Z_(t,e){const n=e.weekday-1,s=t-n;if(s<=0)return e.minus({days:t});const r=2,i=7,o=5,a=n,l=~~(s/o),c=s%o,u=l*i,f=c?r+c:0;return e.minus({days:a+u+f})}function G_(t,e){const r=6-e.weekday,i=t-r;if(i<=0)return e.plus({days:t});{const c=r,u=~~(i/5),f=i%5,h=u*7,d=f?2+f:0;return e.plus({days:c+h+d})}}class _o{constructor(e,n,s,r,i,o){this.fromDateTime=e,this.toDateTime=n,this.originalString=s,this.dateRangeInText=r,this.eventText=i,this.recurrence=o==null?void 0:o.recurrence,this.recurrenceRangeInText=o==null?void 0:o.range}}const X_=/\\[([^\\]\\<\\>]+)\\]\\(((https?:\\/\\/)?[\\w\\d./\\&\\?=\\-#:,_]+)\\)/g,J_=/\\[([^\\]]+)\\]\\((location|map)\\)/g,xf=/!\\[([^\\]\\<\\>]*)\\]\\(((https?:\\/\\/)?[\\w\\d./\\&\\?=\\-#:,_]+)\\)/,Q_=/@([\\w\\d\\/]+)/g,eb=/(?:\\s|^)(\\d{1,3})%(?:\\s|$)/;var Xn;(function(t){t.TEXT="text",t.LIST_ITEM="listItem",t.CHECKBOX="checkbox",t.IMAGE="image"})(Xn||(Xn={}));class tb{constructor(e){this.raw=e,e.startsWith("- []")?(this.type=Xn.CHECKBOX,this.value=!1,this.raw=e.substring(4).trim()):e.startsWith("- [ ]")?(this.type=Xn.CHECKBOX,this.value=!1,this.raw=e.substring(5).trim()):e.startsWith("- [x]")?(this.type=Xn.CHECKBOX,this.value=!0,this.raw=e.substring(5).trim()):e.startsWith("- ")?(this.type=Xn.LIST_ITEM,this.raw=e.substring(2)):this.type=Xn.TEXT}}class Nf{constructor(e,n){this.type="image",this.altText=e,this.link=n}}class nb{constructor(e,n,s){this.tags=[],this.supplemental=[],this.locations=[],this.matchedListItems=n;for(let r=0;r<e.length;r++){let i=e[r];if(!i.match(Dl)){if(r===0&&(i=i.replace(xf,(o,a,l)=>(this.supplemental.push(new Nf(a,Af(l))),""))),i=i.replace(J_,(o,a)=>(this.locations.push(a),"")),i=i.replace(To,(o,a)=>(this.tags.includes(a)||this.tags.push(a),"")),i=i.replace($m,(o,a)=>this.id?a:(this.id=a,"")),!this.percent){const o=i.match(eb);o&&(this.percent=parseInt(o[0]))}e[r]=i}}this.eventDescription=e[0],this.supplemental=this.supplemental.concat(e.slice(1).filter(r=>!r.match(Dl)&&!!r.trim()).map(r=>{r=r.replace(To,(o,a)=>(this.tags.includes(a)||this.tags.push(a),""));const i=r.match(xf);return i?new Nf(i[1],Af(i[2])):new tb(r.trim())})),this.completed=s}}var Fe;(function(t){t.Comment="comment",t.CheckboxItemIndicator="checkboxItemIndicator",t.listItemIndicator="listItemIndicator",t.ListItemContents="listItemContents",t.Tag="tag",t.tagDefinition="tagDefinition",t.Title="title",t.View="view",t.Viewer="viewer",t.Description="description",t.Section="section",t.DateRange="dateRange",t.DateRangeColon="dateRangeColon",t.Event="event",t.Edit="edit",t.Editor="editor",t.Recurrence="recurrence",t.FrontmatterDelimiter="frontMatterDelimiter",t.HeaderKey="headerKey",t.HeaderKeyColon="headerKeyColon",t.HeaderValue="headerValue"})(Fe||(Fe={}));const Oc=t=>({fromDateTimeIso:t.fromDateTime.toISO(),toDateTimeIso:t.toDateTime.toISO()}),yt=t=>({fromDateTime:B.fromISO(t.fromDateTimeIso),toDateTime:B.fromISO(t.toDateTimeIso)});class sb{constructor(e,n,s,r,i,o){this.eventString=e,this.eventText=n.eventText,this.dateRangeIso=Oc(n),this.recurrence=n.recurrence,this.recurrenceRangeInText=n.recurrenceRangeInText,this.rangeInText=s,this.eventDescription=i,this.dateText=o,this.dateRangeInText=r}}function rb(){const t=B.now();return{events:new Xo([]),ranges:[],foldables:[],ids:{},header:{dateFormat:wo},metadata:{earliestTime:t.minus({years:5}).toISO(),latestTime:t.plus({years:5}).toISO(),maxDurationDays:t.diff(t.minus({years:1})).as("days"),startLineIndex:0,endLineIndex:0,startStringIndex:0,endStringIndex:0,preferredInterpolationFormat:void 0}}}function cr(t,e,n,s,r,i){const o=t[e],a=t[n]||":00";let l=t[s];if(!l){const f=parseInt(o);isNaN(f)&&(l="am"),f<9||f===12?l="pm":l="am"}if(o)return{dateTimeIso:B.fromFormat(`${o}${a}${l}`,"h:mma").toISO(),granularity:a===":00"?"hour":"minute"};const c=t[r],u=t[i]||":00";return{dateTimeIso:B.fromFormat(`${c}${u}`,`${c.length===2&&c[0]==="0"?"HH":"H"}:mm`).toISO(),granularity:u===":00"?"hour":"minute"}}function ib(t){return cr(t,kw,Mw,Cw,Aw,xw)}function ob(t){return cr(t,l1,c1,u1,f1,h1)}function ab(t){return cr(t,jw,Ww,Vw,qw,Kw)}function lb(t){return cr(t,S1,I1,O1,D1,k1)}function cb(t,e){let n=t[zw],s=t[Uw],r=t[Bw]||`${B.now().year}`,i=t[Hw]&&ab(t),o=n&&s&&bo(`${r} ${n} ${parseInt(s)}`,e);if(n=t[Yw],o=o||n&&s&&Eo(`${r} ${n} ${parseInt(s)}`,e),s=t[Pw],n=t[$w],o=o||n&&s&&bo(`${r} ${n} ${parseInt(s)}`,e),n=t[Fw],o=o||n&&s&&Eo(`${r} ${n} ${parseInt(s)}`,e),o){if(i){const a=B.fromISO(o.dateTimeIso,{setZone:!0,zone:e.timezone}),l=B.fromISO(i.dateTimeIso,{setZone:!0,zone:e.timezone});o.dateTimeIso=a.set({hour:l.hour,minute:l.minute}).toISO(),o.granularity=i.granularity}return o}if(r=t[Xw]||`${B.now().year}`,n=t[Zw],n)return{dateTimeIso:B.fromFormat(`${r} ${n}`,"y MMMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"};if(n=t[Gw],n)return{dateTimeIso:B.fromFormat(`${r} ${n}`,"y MMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"}}function ub(t,e){let n=t[T1],s=t[_1],r=t[b1]||`${B.now().year}`,i=t[E1]&&lb(t),o=n&&s&&bo(`${r} ${n} ${parseInt(s)}`,e);if(n=t[w1],o=o||n&&s&&Eo(`${r} ${n} ${parseInt(s)}`,e),s=t[g1],n=t[y1],o=o||n&&s&&bo(`${r} ${n} ${parseInt(s)}`,e),n=t[v1],o=o||n&&s&&Eo(`${r} ${n} ${parseInt(s)}`,e),o){if(i&&i){const a=B.fromISO(o.dateTimeIso,{setZone:!0,zone:e.timezone}),l=B.fromISO(i.dateTimeIso,{setZone:!0,zone:e.timezone});o.dateTimeIso=a.set({hour:l.hour,minute:l.minute}).toISO(),o.granularity=i.granularity}return o}if(r=t[A1]||`${B.now().year}`,n=t[M1],n)return{dateTimeIso:B.fromFormat(`${r} ${n}`,"y MMMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"};if(n=t[C1],n)return{dateTimeIso:B.fromFormat(`${r} ${n}`,"y MMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"}}function bo(t,e){return{dateTimeIso:B.fromFormat(t,"y MMMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function Eo(t,e){return{dateTimeIso:B.fromFormat(t,"y MMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function fb(t,e,n){const s=new Xo([]);return s.tags=[],s.style="group",s.rangeInText=n,t=t.replace(Jo,(r,i,o)=>(s.startExpanded=!i.length,s.style=o,"")).replace(To,(r,i)=>(s.tags.includes(i)||s.tags.push(i),"")),s.title=t.trim(),s}function Dc(t){var e;return(e=t.tail)==null?void 0:e.value}function hb(t){const e=Dc(t);if(e)return yt(e.dateRangeIso).toDateTime}function Lf(t,e,n,s){const r=JSON.stringify({s:t,fullFormat:e}),i=s==null?void 0:s.zone(n.timezone).slashDate.get(r);if(i)return i;const o=[[e,"day"],[q_,"month"],[K_,"year"]];for(const a of o){let l=B.fromFormat(t,a[0]);if(l.isValid){const c={dateTimeIso:l.toISO(),granularity:a[1]};return s==null||s.zone(n.timezone).slashDate.set(r,c),c}}}function ws(t,e,n){const s=JSON.stringify(t),r=n==null?void 0:n.zone(e.timezone).roundDateUp.get(s);if(r)return r;const i=a=>(n==null||n.zone(e.timezone).roundDateUp.set(s,a),a),o=B.fromISO(t.dateTimeIso,{setZone:!0,zone:e.timezone});return!o.isValid||["instant","hour","minute","second"].includes(t.granularity)?i(t.dateTimeIso):i(o.plus({[t.granularity]:1}).toISO())}const Rf=["years","months","weeks","weekdays","days","hours","minutes","seconds","milliseconds"],Pf=(t,e,n)=>{const s=t[__];if(!s)return;const r=t[0].indexOf(s),i={type:Fe.Recurrence,from:e[n]+r,to:e[n]+r+s.length,content:s};let o;const a=t[b_];a?a.trim().toLowerCase()==="other"?o=2:o=parseInt(a.trim()):o=1;const l=[A_,C_,M_,D_,k_,O_,I_,S_,E_].findIndex(f=>!!t[f]),u={[Rf[l]]:o};if(t[x_])if(t[N_]){const f=parseInt(t[L_].trim()),h=[...Rf,"times"],d=[H_,B_,U_,z_,Y_,F_,$_,P_,R_,j_].findIndex(p=>t[p]),m=h[d];return{recurrence:{every:u,for:{[m]:f}},range:i}}else{const f=parseInt(t[W_].trim());return{recurrence:{every:u,for:{times:f}},range:i}}return{recurrence:{every:u},range:i}},$f=(t,e,n)=>{const s=t[x1];if(!s)return;const r=t[0].indexOf(s),i={type:Fe.Recurrence,from:e[n]+r,to:e[n]+r+s.length,content:s};let o;if(t[Df]){const f=t[Df].trim();f.toLowerCase()==="other"?o=2:o=parseInt(f)}else o=1;const a=["years","months","weeks","weekdays","days","hours","minutes","seconds","milliseconds"],l=[U1,Y1,z1,$1,F1,P1,R1,L1,N1].findIndex(f=>!!t[f]),u={[a[l]]:o};if(t[B1])if(t[H1]){const f=parseInt(t[j1].trim()),h=["years","months","weeks","weekdays","days","hours","minutes","seconds","milliseconds","times"],d=[Q1,J1,X1,Z1,G1,K1,q1,V1,W1,e_].findIndex(p=>t[p]),m=h[d];return{recurrence:{every:u,for:{[m]:f}},range:i}}else{const f=parseInt(t[t_].trim());return{recurrence:{every:u,for:{times:f}},range:i}}return{recurrence:{every:u},range:i}};function db(t,e,n,s,r){const i=t.match(Sc);if(!i)return;const o=i[yw],a=i[vw],l=i[Jw],c=i[Nw],u=i[Lw],f=["before","by"].includes(u||"")?"before":"after",h=i[d1];i[m1];const d=cb(i,s),m=ub(i,s),p=i[Ow],y=i[o1],g=i[ww],T=i[e1],I=i[Tw],E=i[Qw];let _,b,k="instant",D=!0;const A=t.indexOf(o),z={type:Fe.DateRange,from:n[e]+A,to:n[e]+A+o.length};s.ranges.push(z);const X=t.indexOf(":",A+o.length),L=J=>({type:J,from:n[e]+X,to:n[e]+X+1}),re=r==null?void 0:r.zone(s.timezone).ranges.get(o);if(re){const J=$f(i,n,e);return J&&s.ranges.push(J.range),s.ranges.push(L(Fe.DateRangeColon)),new _o(B.fromISO(re.fromDateTimeIso,{setZone:!0}),B.fromISO(re.toDateTimeIso,{setZone:!0}),o,z,i[kf],J)}if(c){D=!1;const J=i[Rw];let te=J&&(f==="after"?s.ids[J]?yt(s.ids[J].dateRangeIso).toDateTime:void 0:s.ids[J]?yt(s.ids[J].dateRangeIso).fromDateTime:void 0);if(!te){const S=Dc(s);S?te=f==="after"?yt(S.dateRangeIso).toDateTime:yt(S.dateRangeIso).fromDateTime:te=s.now}!h&&!l?f==="before"?(b=te,_=Kt.from(c,te,!0)):(_=te,b=Kt.from(c,te)):f==="before"?h&&(b=Kt.from(c,te,!0),_=Kt.from(h,b,!0)):_=Kt.from(c,te),k="instant"}else if(d)_=B.fromISO(d.dateTimeIso,{setZone:!0,zone:s.timezone}),k=d.granularity;else if(p){const J=i[Dw];let te=p;J&&(te=te.substring(0,te.indexOf(J)).trim().replace(/,/g,""));const S=Lf(te,s.header.dateFormat,s,r);if(S){if(J){const G=ib(i),F=B.fromISO(G.dateTimeIso);_=B.fromISO(S.dateTimeIso,{setZone:!0,zone:s.timezone}).set({hour:F.hour,minute:F.minute}),k=G.granularity}else _=B.fromISO(S.dateTimeIso,{setZone:!0,zone:s.timezone}),k=S.granularity;s.preferredInterpolationFormat=s.header.dateFormat}else console.error("Was supposed to have slash date but couldn\'t parse it.")}else if(g){D=!1;const J=cr(i,_w,bw,Ew,Sw,Iw),te=hb(s)||B.now(),S=B.fromISO(J.dateTimeIso,{setZone:!0,zone:s.timezone});let G=te.set({hour:S.hour,minute:S.minute});G<te?(G=G.plus({days:1}),_=G,k=J.granularity):(_=G,k=J.granularity)}else I?(_=s.now.setZone(s.timezone),k="instant"):(_=B.fromISO(a,{zone:s.timezone,setZone:!0}),k="instant");if((!_||!_.isValid)&&(_=s.now.setZone(s.timezone),k="instant"),!b)if(h){D=!1;const J=i[p1];let te=J&&s.ids[J]&&yt(s.ids[J].dateRangeIso).toDateTime;te||(te=_),b=Kt.from(l,te)}else if(m)b=B.fromISO(ws(m,s,r),{setZone:!0,zone:s.timezone});else if(y){const J=i[a1];let te=y;J&&(te=te.substring(0,te.indexOf(J)).trim().replace(/,/g,""));const S=Lf(te,s.header.dateFormat,s,r);if(S){if(J){const G=B.fromISO(S.dateTimeIso,{setZone:!0,zone:s.timezone}),F=ob(i),Q=B.fromISO(F.dateTimeIso,{setZone:!0,zone:s.timezone});b=G.set({hour:Q.hour,minute:Q.minute}),b=B.fromISO(ws({dateTimeIso:b.toISO(),granularity:F.granularity},s,r),{setZone:!0,zone:s.timezone})}else b=B.fromISO(ws(S,s,r),{setZone:!0,zone:s.timezone});s.preferredInterpolationFormat=s.header.dateFormat}else console.error("Was supposed to have slash date but couldn\'t parse it.")}else if(T){const J=cr(i,t1,n1,s1,r1,i1),te=B.fromISO(J.dateTimeIso,{setZone:!0,zone:s.timezone});let S=_.set({hour:te.hour,minute:te.minute});S<_&&(S=S.plus({days:1})),b=S,k=J.granularity}else E?(b=B.now(),k="instant"):b=B.fromISO(ws({dateTimeIso:l,granularity:"instant"},s,r),{setZone:!0,zone:s.timezone});(!b||!b.isValid)&&(b=B.fromISO(ws({dateTimeIso:_.toISO(),granularity:k},s,r),{setZone:!0,zone:s.timezone}));const he=$f(i,n,e);he&&s.ranges.push(he.range),s.ranges.push(L(Fe.DateRangeColon));const de=new _o(_,b,o,z,i[kf],he);return D&&(r==null||r.zone(s.timezone).ranges.set(o,{fromDateTimeIso:_.toISO(),toDateTimeIso:b.toISO()})),de}function mb(t,e,n,s,r){const i=t.match(Ic);if(!i)return;const o=i[i_],a=i[o_],l=!!i[a_],c=!!i[l_],u=i[d_],f=i[m_],h=!!i[p_],d=!!i[g_],m=i[u_];i[v_];const p=i[c_],y=["before","by"].includes(m||"")?"before":"after",g=i[y_],T=i[h_],I=i[w_],E=t.indexOf(o),_={type:Fe.DateRange,from:n[e]+E,to:n[e]+E+o.length};s.ranges.push(_);const b=t.indexOf(":",E+o.length),k=de=>({type:de,from:n[e]+b,to:n[e]+b+1}),D=r==null?void 0:r.zone(s.timezone).ranges.get(o);if(D){const de=Pf(i,n,e);return de&&s.ranges.push(de.range),s.ranges.push(k(Fe.DateRangeColon)),new _o(B.fromISO(D.fromDateTimeIso,{setZone:!0}),B.fromISO(D.toDateTimeIso,{setZone:!0}),o,_,i[Cf],de)}let A,z,X="instant",L=!0;if(a)A=B.fromISO(a,{setZone:!0,zone:s.timezone}),X=c?"day":l?"month":"year";else if(p){L=!1;const de=i[f_];let J=de&&(y==="after"?s.ids[de]?yt(s.ids[de].dateRangeIso).toDateTime:void 0:s.ids[de]?yt(s.ids[de].dateRangeIso).fromDateTime:void 0);if(!J){const te=Dc(s);te?J=y==="after"?yt(te.dateRangeIso).toDateTime:yt(te.dateRangeIso).fromDateTime:J=s.now}!g&&!u?y==="before"?(z=J,A=Kt.from(p,J,!0)):(A=J,z=Kt.from(p,J)):y==="before"?g&&(z=Kt.from(p,J,!0),A=Kt.from(g,z,!0)):A=Kt.from(p,J),X="instant"}else T?(A=s.now.setZone(s.timezone),X="instant"):(A=B.fromISO(a,{zone:s.timezone}),X="instant");if((!A||!(A!=null&&A.isValid))&&(A=s.now.setZone(s.timezone),X="instant"),!z)if(g){L=!1;const de=i[T_];let J=de&&s.ids[de]&&yt(s.ids[de].dateRangeIso).toDateTime;J||(J=A),z=Kt.from(g,J)}else I?(z=s.now.setZone(s.timezone),X="instant"):f&&(z=B.fromISO(ws({dateTimeIso:f,granularity:d?"day":h?"month":"year"},s,r),{setZone:!0,zone:s.timezone}));(!z||!z.isValid)&&(z=B.fromISO(ws({dateTimeIso:A.toISO(),granularity:X},s,r),{setZone:!0,zone:s.timezone}));const re=Pf(i,n,e);re&&s.ranges.push(re.range),s.ranges.push(k(Fe.DateRangeColon));const he=new _o(A,z,o,_,i[Cf],re);return L&&(r==null||r.zone(s.timezone).ranges.set(o,{fromDateTimeIso:A.toISO(),toDateTimeIso:z.toISO()})),he}function Bm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const $r=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,pb=typeof AbortController=="function",So=pb?AbortController:class{constructor(){this.signal=new Hm}abort(){this.signal.dispatchEvent("abort")}},gb=typeof AbortSignal=="function",yb=typeof So.AbortSignal=="function",Hm=gb?AbortSignal:yb?So.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;const n={type:e,target:this};this.onabort(n),this._listeners.forEach(s=>s(n),this)}}onabort(){}addEventListener(e,n){e==="abort"&&this._listeners.push(n)}removeEventListener(e,n){e==="abort"&&(this._listeners=this._listeners.filter(s=>s!==n))}},kc=new Set,Ha=(t,e)=>{const n=`LRU_CACHE_OPTION_${t}`;Qo(n)&&Mc(n,`${t} option`,`options.${e}`,Ms)},ja=(t,e)=>{const n=`LRU_CACHE_METHOD_${t}`;if(Qo(n)){const{prototype:s}=Ms,{get:r}=Object.getOwnPropertyDescriptor(s,t);Mc(n,`${t} method`,`cache.${e}()`,r)}},vb=(t,e)=>{const n=`LRU_CACHE_PROPERTY_${t}`;if(Qo(n)){const{prototype:s}=Ms,{get:r}=Object.getOwnPropertyDescriptor(s,t);Mc(n,`${t} property`,`cache.${e}`,r)}},jm=(...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},Qo=t=>!kc.has(t),Mc=(t,e,n,s)=>{kc.add(t);const r=`The ${e} is deprecated. Please use ${n} instead.`;jm(r,"DeprecationWarning",t,s)},Vn=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Wm=t=>Vn(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?to:null:null;class to extends Array{constructor(e){super(e),this.fill(0)}}class Tb{constructor(e){if(e===0)return[];const n=Wm(e);this.heap=new n(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class Ms{constructor(e={}){const{max:n=0,ttl:s,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:h,maxSize:d=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:y,fetchContext:g,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:I}=e,{length:E,maxAge:_,stale:b}=e instanceof Ms?{}:e;if(n!==0&&!Vn(n))throw new TypeError("max option must be a nonnegative integer");const k=n?Wm(n):Array;if(!k)throw new Error("invalid max value: "+n);if(this.max=n,this.maxSize=d,this.maxEntrySize=m||this.maxSize,this.sizeCalculation=p||E,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=y||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=g,!this.fetchMethod&&g!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(n).fill(null),this.valList=new Array(n).fill(null),this.next=new k(n),this.prev=new k(n),this.head=0,this.tail=0,this.free=new Tb(n),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof u=="function"?(this.disposeAfter=u,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!T,this.maxEntrySize!==0){if(this.maxSize!==0&&!Vn(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!Vn(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!l||!!b,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Vn(r)||r===0?r:1,this.ttlAutopurge=!!i,this.ttl=s||_||0,this.ttl){if(!Vn(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const D="LRU_CACHE_UNBOUNDED";Qo(D)&&(kc.add(D),jm("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,Ms))}b&&Ha("stale","allowStale"),_&&Ha("maxAge","ttl"),E&&Ha("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new to(this.max),this.starts=new to(this.max),this.setItemTTL=(s,r,i=$r.now())=>{if(this.starts[s]=r!==0?i:0,this.ttls[s]=r,r!==0&&this.ttlAutopurge){const o=setTimeout(()=>{this.isStale(s)&&this.delete(this.keyList[s])},r+1);o.unref&&o.unref()}},this.updateItemAge=s=>{this.starts[s]=this.ttls[s]!==0?$r.now():0};let e=0;const n=()=>{const s=$r.now();if(this.ttlResolution>0){e=s;const r=setTimeout(()=>e=0,this.ttlResolution);r.unref&&r.unref()}return s};this.getRemainingTTL=s=>{const r=this.keyMap.get(s);return r===void 0?0:this.ttls[r]===0||this.starts[r]===0?1/0:this.starts[r]+this.ttls[r]-(e||n())},this.isStale=s=>this.ttls[s]!==0&&this.starts[s]!==0&&(e||n())-this.starts[s]>this.ttls[s]}updateItemAge(e){}setItemTTL(e,n,s){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new to(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,n,s,r)=>{if(this.isBackgroundFetch(n))return 0;if(!Vn(s))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(s=r(n,e),!Vn(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return s},this.addItemSize=(e,n)=>{if(this.sizes[e]=n,this.maxSize){const s=this.maxSize-this.sizes[e];for(;this.calculatedSize>s;)this.evict(!0)}this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,n){}requireSize(e,n,s,r){if(s||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let n=this.tail;!(!this.isValidIndex(n)||((e||!this.isStale(n))&&(yield n),n===this.head));)n=this.prev[n]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let n=this.head;!(!this.isValidIndex(n)||((e||!this.isStale(n))&&(yield n),n===this.tail));)n=this.next[n]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(const e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(const e of this.indexes())yield this.keyList[e]}*rkeys(){for(const e of this.rindexes())yield this.keyList[e]}*values(){for(const e of this.indexes())yield this.valList[e]}*rvalues(){for(const e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,n={}){for(const s of this.indexes())if(e(this.valList[s],this.keyList[s],this))return this.get(this.keyList[s],n)}forEach(e,n=this){for(const s of this.indexes())e.call(n,this.valList[s],this.keyList[s],this)}rforEach(e,n=this){for(const s of this.rindexes())e.call(n,this.valList[s],this.keyList[s],this)}get prune(){return ja("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const n of this.rindexes({allowStale:!0}))this.isStale(n)&&(this.delete(this.keyList[n]),e=!0);return e}dump(){const e=[];for(const n of this.indexes({allowStale:!0})){const s=this.keyList[n],r=this.valList[n],o={value:this.isBackgroundFetch(r)?r.__staleWhileFetching:r};if(this.ttls){o.ttl=this.ttls[n];const a=$r.now()-this.starts[n];o.start=Math.floor(Date.now()-a)}this.sizes&&(o.size=this.sizes[n]),e.unshift([s,o])}return e}load(e){this.clear();for(const[n,s]of e){if(s.start){const r=Date.now()-s.start;s.start=$r.now()-r}this.set(n,s.value,s)}}dispose(e,n,s){}set(e,n,{ttl:s=this.ttl,start:r,noDisposeOnSet:i=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL}={}){if(o=this.requireSize(e,n,o,a),this.maxEntrySize&&o>this.maxEntrySize)return this.delete(e),this;let c=this.size===0?void 0:this.keyMap.get(e);if(c===void 0)c=this.newIndex(),this.keyList[c]=e,this.valList[c]=n,this.keyMap.set(e,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,o),l=!1;else{const u=this.valList[c];n!==u&&(this.isBackgroundFetch(u)?u.__abortController.abort():i||(this.dispose(u,e,"set"),this.disposeAfter&&this.disposed.push([u,e,"set"])),this.removeItemSize(c),this.valList[c]=n,this.addItemSize(c,o)),this.moveToTail(c)}if(s!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),l||this.setItemTTL(c,s,r),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const n=this.head,s=this.keyList[n],r=this.valList[n];return this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,s,"evict"),this.disposeAfter&&this.disposed.push([r,s,"evict"])),this.removeItemSize(n),e&&(this.keyList[n]=null,this.valList[n]=null,this.free.push(n)),this.head=this.next[n],this.keyMap.delete(s),this.size--,n}has(e,{updateAgeOnHas:n=this.updateAgeOnHas}={}){const s=this.keyMap.get(e);return s!==void 0&&!this.isStale(s)?(n&&this.updateItemAge(s),!0):!1}peek(e,{allowStale:n=this.allowStale}={}){const s=this.keyMap.get(e);if(s!==void 0&&(n||!this.isStale(s))){const r=this.valList[s];return this.isBackgroundFetch(r)?r.__staleWhileFetching:r}}backgroundFetch(e,n,s,r){const i=n===void 0?void 0:this.valList[n];if(this.isBackgroundFetch(i))return i;const o=new So,a={signal:o.signal,options:s,context:r},l=h=>(o.signal.aborted||this.set(e,h,a.options),h),c=h=>{if(this.valList[n]===f&&(!s.noDeleteOnFetchRejection||f.__staleWhileFetching===void 0?this.delete(e):this.valList[n]=f.__staleWhileFetching),f.__returned===f)throw h},u=h=>h(this.fetchMethod(e,i,a)),f=new Promise(u).then(l,c);return f.__abortController=o,f.__staleWhileFetching=i,f.__returned=null,n===void 0?(this.set(e,f,a.options),n=this.keyMap.get(e)):this.valList[n]=f,f}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,fetchContext:f=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:r});const d={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:r,ttl:i,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u};let m=this.keyMap.get(e);if(m===void 0){const p=this.backgroundFetch(e,m,d,f);return p.__returned=p}else{const p=this.valList[m];if(this.isBackgroundFetch(p))return n&&p.__staleWhileFetching!==void 0?p.__staleWhileFetching:p.__returned=p;if(!h&&!this.isStale(m))return this.moveToTail(m),s&&this.updateItemAge(m),p;const y=this.backgroundFetch(e,m,d,f);return n&&y.__staleWhileFetching!==void 0?y.__staleWhileFetching:y.__returned=y}}get(e,{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet}={}){const i=this.keyMap.get(e);if(i!==void 0){const o=this.valList[i],a=this.isBackgroundFetch(o);return this.isStale(i)?a?n?o.__staleWhileFetching:void 0:(r||this.delete(e),n?o:void 0):a?void 0:(this.moveToTail(i),s&&this.updateItemAge(i),o)}}connect(e,n){this.prev[n]=e,this.next[e]=n}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return ja("del","delete"),this.delete}delete(e){let n=!1;if(this.size!==0){const s=this.keyMap.get(e);if(s!==void 0)if(n=!0,this.size===1)this.clear();else{this.removeItemSize(s);const r=this.valList[s];this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,e,"delete"),this.disposeAfter&&this.disposed.push([r,e,"delete"])),this.keyMap.delete(e),this.keyList[s]=null,this.valList[s]=null,s===this.tail?this.tail=this.prev[s]:s===this.head?this.head=this.next[s]:(this.next[this.prev[s]]=this.next[s],this.prev[this.next[s]]=this.prev[s]),this.size--,this.free.push(s)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return n}clear(){for(const e of this.rindexes({allowStale:!0})){const n=this.valList[e];if(this.isBackgroundFetch(n))n.__abortController.abort();else{const s=this.keyList[e];this.dispose(n,s,"delete"),this.disposeAfter&&this.disposed.push([n,s,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return ja("reset","clear"),this.clear}get length(){return vb("length","size"),this.size}static get AbortController(){return So}static get AbortSignal(){return Hm}}var wb=Ms;const Cc=Bm(wb),no=()=>new Cc({max:1e3});class _b{constructor(){this.slashDate=no(),this.roundDateUp=no(),this.ranges=no()}}class bb{constructor(){this.caches={},this.zones=no()}zone(e){const n=e.name,s=this.caches[n];return s||(this.caches[n]=new _b,this.caches[n])}}function Ac(t,e,n,s){if(t.match(Dl)){const r=n[e],i=r+t.length;s.ranges.push({type:Fe.Comment,from:r,to:i});const o=s.currentFoldableComment();if(o)o.endIndex=i;else{const a=t.indexOf("//");s.startFoldable({startIndex:r,startLine:e,endIndex:i,type:"comment",foldStartIndex:r+(a>-1?a+2:0)})}return!0}else return s.finishFoldableComment(e),!1}function Eb(t,e,n,s){const r=t.match(s_);if(r){const i=n[e],o=t.indexOf(r[1])+r[1].length,a=i+o,l={type:Fe.CheckboxItemIndicator,from:i,to:a,content:r.includes("x")||r.includes("X")},c={type:Fe.ListItemContents,from:a,to:i+t.length-1};return s.ranges.push(l,c),[l,c]}else if(t.match(n_)){const i=n[e],o={type:Fe.listItemIndicator,from:n[e],to:i+1},a={type:Fe.ListItemContents,from:i,to:i+t.length-1};return s.ranges.push(o,a),[o,a]}return!1}function Sb(t,e,n,s){const r=(i,o,a,l,c)=>{if(l===0){const u=n[e]+l+o.length;s.ranges.push({type:Fe.Tag,from:u,to:u+a.length+1,content:{tag:a}})}return`${o})${a}`};return t.replace(/(^|\\W+)#(\\w+)/g,r)}function Vm(t,e,n,s){const r=t.matchAll(To);if(r)for(let i of r){const o=t.indexOf("#"+i[1]),a=n[e]+o;s.ranges.push({type:Fe.Tag,from:a,to:a+i[1].length+1,content:{tag:i[1]}}),s.header[")"+i[1]]||(s.header[")"+i[1]]=void 0)}return!1}function ea(t,e){const n=`${t}`,s=e==null?void 0:e.zones.get(n);if(s)return s;{const r=["z","ZZZ","ZZ","Z"];let i;for(const o of r)if(i=B.fromFormat(n,o,{setZone:!0}),i.isValid&&i.zone.isValid||o!=="z"&&(i=B.fromFormat(`+${n}`,o,{setZone:!0}),i.isValid&&i.zone.isValid))return e==null||e.zones.set(n,i.zone),i.zone}}function Ib(t,e,n){if(typeof t.timezone<"u"){const s=ea(t.timezone,n);s&&(e.timezoneStack=[s])}}function Ob(t,e,n){t.eventDescription.id&&!n.ids[t.eventDescription.id]&&(n.ids[t.eventDescription.id]=t),(!n.earliest||e.fromDateTime<n.earliest)&&(n.earliest=e.fromDateTime),(!n.latest||e.toDateTime>n.latest)&&(n.latest=e.toDateTime);const s=+e.toDateTime-+e.fromDateTime;(typeof n.maxDuration>"u"||s>n.maxDuration)&&(n.maxDuration=s)}function Db(t,e,n){const s=t.eventText.match(Um),r=e.indexOf(t.eventText);let i;if(s){const o=r+t.eventText.indexOf(s[0]),a=o+t.eventText.indexOf(s[1])+s[1].length;i=["X","x"].some(c=>s.includes(c));const l={type:Fe.CheckboxItemIndicator,from:t.dateRangeInText.from+o,to:t.dateRangeInText.from+a,content:i};n.ranges.push(l)}return i}function kb(t,e,n,s,r,i){let o=mb(t,n,s,r,i);if(o||(o=db(t,n,s,r,i)),!o)return n;let a=n,l;const c=[];for(;l=e[++a],!(typeof l!="string"||l.match(Ic)||l.match(Sc)||l.match(Jo)||r.currentPath.length>1&&l.match(Ym));){Ac(l,a,s,r),Vm(l,a,s,r);const y=Eb(l,a,s,r);y&&c.push(...y)}const u=e.slice(n,a),f={from:o.dateRangeInText.from,to:s[a],type:Fe.Event},h=Db(o,t,r);u[0]=o.eventText.trim();const d=new nb(u,c,h),m=d.tags.length&&r.header[`)${d.tags[d.tags.length-1]}`];if(typeof m=="object"&&typeof m.timezone<"u"){const y=ea(m.timezone,i);y&&(o.fromDateTime=o.fromDateTime.setZone(y,{keepLocalTime:!0}),o.toDateTime=o.toDateTime.setZone(y,{keepLocalTime:!0}))}const p=new sb(t,o,f,o.dateRangeInText,d,o.originalString);return p&&(r.push(new Xo(p)),Ob(p,o,r),a-n>1&&(r.foldables[s[n]]={startIndex:s[n+1]-1,endIndex:s[a]-1,type:"event",foldStartIndex:s[n+1]-1,startLine:n})),a-1}const qm=(t,e,n,s)=>{if(!n||!n.length){if(Array.isArray(e.value))return e.value.push(t),Array.isArray(t.value)?{path:[e.value.length-1,t.value.length],tail:s}:{path:[e.value.length-1],tail:t};throw new Error("Can\'t push onto event node")}else{const{tail:r,path:i}=qm(t,e.value[n[0]],n.slice(1),s);return{path:[n[0],...i],tail:r}}},xc=(t,e)=>{if(!e.length)return t;const n=t.value;if(!(!n.length||n.length-1<e[0]))return xc(n[e[0]],e.slice(1))},Km=t=>t==null?void 0:t.value,Jt=t=>!Array.isArray(t.value);class Mb{constructor(){this.now=B.now(),this.events=new Xo([]),this.ids={},this.paletteIndex=0,this.earliest=void 0,this.latest=void 0,this.maxDuration=void 0,this.currentPath=[],this.foldables={},this.foldableSections=[],this.ranges=[],this.header={dateFormat:wo},this.timezoneStack=[new pi]}get timezone(){return this.timezoneStack[this.timezoneStack.length-1]}currentFoldableSection(){return this.foldableSections[this.foldableSections.length-1]}currentFoldableComment(){return this.foldables.comment}startFoldableSection(e){this.foldableSections.push(e)}startFoldable(e){this.foldables[e.type]=e}finishFoldableSection(e,n){const s=this.foldableSections.pop();s&&s.startLine<e-1&&(this.foldables[s.startIndex]={...s,endIndex:n})}finishFoldableComment(e){const n=this.currentFoldableComment();n&&(n.startLine<e-1&&(this.foldables[n.startIndex]={...n}),delete this.foldables.comment)}push(e){const{path:n,tail:s}=qm(e,this.events,this.currentPath.slice(0,-1),this.tail);s&&(this.head||(this.head=s),this.tail=s),this.currentPath=n}endCurrentGroup(e,n,s){var r;if(this.currentPath.pop(),this.timezoneStack.length>1){const i=xc(this.events,this.currentPath);if(i&&!Jt(i)){const o=((r=i.tags)==null?void 0:r.length)&&this.header[`)${i.tags[i.tags.length-1]}`];if(typeof o=="object"&&typeof o.timezone<"u"){const a=ea(o.timezone,s);a&&this.timezone.equals(a)&&this.timezoneStack.pop()}}}this.finishFoldableSection(n.line,e)}toTimeline(e,n,s){const r=this.maxDuration?this.maxDuration/1e3/60/60/24:this.now.diff(this.now.minus({years:1})).as("days");return{events:this.events,head:this.head,tail:this.tail,ids:this.ids,ranges:this.ranges,foldables:this.foldables,header:this.header,metadata:{earliestTime:(this.earliest||this.now.minus({years:5})).toISO(),latestTime:(this.latest||this.now.plus({years:5})).toISO(),maxDurationDays:r,startLineIndex:0,startStringIndex:e[0],endLineIndex:n,preferredInterpolationFormat:this.preferredInterpolationFormat,endStringIndex:s,...this.title?{title:this.title}:{},...this.description?{description:this.description}:{}}}}}function Cb(t,e,n,s,r){return s.currentPath.length>1&&t.match(Ym)?(s.ranges.push({from:n[e],to:n[e]+t.length,type:Fe.Section}),s.endCurrentGroup(n[e]+t.length,{line:e,index:t.length},r),!0):!1}function Ab(t,e,n,s,r){var o;const i=t.match(Jo);if(i){const a={from:n[e],to:n[e]+i[0].length,type:Fe.Section};s.ranges.push(a);const l=fb(t,i,a),c=((o=l.tags)==null?void 0:o.length)&&s.header[`)${l.tags[l.tags.length-1]}`];if(typeof c=="object"&&typeof c.timezone<"u"){const u=ea(c.timezone,r);u&&s.timezoneStack.push(u)}return s.push(l),s.startFoldableSection({type:Fe.Section,startLine:e,startIndex:n[e],endIndex:n[e]+t.length,foldStartIndex:n[e]+t.length}),!0}return!1}function xb(t,e,n,s,r){return[Ac,Vm,Ab,Cb].some(i=>i(t,e,n,s,r))}const Nc=Symbol.for("yaml.alias"),kl=Symbol.for("yaml.document"),ns=Symbol.for("yaml.map"),Zm=Symbol.for("yaml.pair"),Rn=Symbol.for("yaml.scalar"),br=Symbol.for("yaml.seq"),en=Symbol.for("yaml.node.type"),Rs=t=>!!t&&typeof t=="object"&&t[en]===Nc,Er=t=>!!t&&typeof t=="object"&&t[en]===kl,Sr=t=>!!t&&typeof t=="object"&&t[en]===ns,Qe=t=>!!t&&typeof t=="object"&&t[en]===Zm,qe=t=>!!t&&typeof t=="object"&&t[en]===Rn,Ir=t=>!!t&&typeof t=="object"&&t[en]===br;function et(t){if(t&&typeof t=="object")switch(t[en]){case ns:case br:return!0}return!1}function it(t){if(t&&typeof t=="object")switch(t[en]){case Nc:case ns:case Rn:case br:return!0}return!1}const Nb=t=>(qe(t)||et(t))&&!!t.anchor,Lt=Symbol("break visit"),Gm=Symbol("skip children"),En=Symbol("remove node");function os(t,e){const n=Xm(e);Er(t)?Vs(null,t.contents,n,Object.freeze([t]))===En&&(t.contents=null):Vs(null,t,n,Object.freeze([]))}os.BREAK=Lt;os.SKIP=Gm;os.REMOVE=En;function Vs(t,e,n,s){const r=Jm(t,e,n,s);if(it(r)||Qe(r))return Qm(t,s,r),Vs(t,r,n,s);if(typeof r!="symbol"){if(et(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=Vs(i,e.items[i],n,s);if(typeof o=="number")i=o-1;else{if(o===Lt)return Lt;o===En&&(e.items.splice(i,1),i-=1)}}}else if(Qe(e)){s=Object.freeze(s.concat(e));const i=Vs("key",e.key,n,s);if(i===Lt)return Lt;i===En&&(e.key=null);const o=Vs("value",e.value,n,s);if(o===Lt)return Lt;o===En&&(e.value=null)}}return r}async function ta(t,e){const n=Xm(e);Er(t)?await qs(null,t.contents,n,Object.freeze([t]))===En&&(t.contents=null):await qs(null,t,n,Object.freeze([]))}ta.BREAK=Lt;ta.SKIP=Gm;ta.REMOVE=En;async function qs(t,e,n,s){const r=await Jm(t,e,n,s);if(it(r)||Qe(r))return Qm(t,s,r),qs(t,r,n,s);if(typeof r!="symbol"){if(et(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=await qs(i,e.items[i],n,s);if(typeof o=="number")i=o-1;else{if(o===Lt)return Lt;o===En&&(e.items.splice(i,1),i-=1)}}}else if(Qe(e)){s=Object.freeze(s.concat(e));const i=await qs("key",e.key,n,s);if(i===Lt)return Lt;i===En&&(e.key=null);const o=await qs("value",e.value,n,s);if(o===Lt)return Lt;o===En&&(e.value=null)}}return r}function Xm(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Jm(t,e,n,s){var r,i,o,a,l;if(typeof n=="function")return n(t,e,s);if(Sr(e))return(r=n.Map)==null?void 0:r.call(n,t,e,s);if(Ir(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,s);if(Qe(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(qe(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(Rs(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function Qm(t,e,n){const s=e[e.length-1];if(et(s))s.items[t]=n;else if(Qe(s))t==="key"?s.key=n:s.value=n;else if(Er(s))s.contents=n;else{const r=Rs(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const Lb={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Rb=t=>t.replace(/[!,[\\]{}]/g,e=>Lb[e]);class Mt{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Mt.defaultYaml,e),this.tags=Object.assign({},Mt.defaultTags,n)}clone(){const e=new Mt(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Mt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Mt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Mt.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Mt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Mt.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \\t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,o]=s;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\\d+\\.\\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren\'t resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/);r||n(`The ${e} tag has no suffix`);const i=this.tags[s];return i?i+decodeURIComponent(r):s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+Rb(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&it(e.contents)){const i={};os(e.contents,(o,a)=>{it(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,o]of s)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`\n`)}}Mt.defaultYaml={explicit:!1,version:"1.2"};Mt.defaultTags={"!!":"tag:yaml.org,2002:"};function ep(t){if(/[\\x00-\\x19\\s,[\\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function tp(t){const e=new Set;return os(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function np(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function Pb(t,e){const n=[],s=new Map;let r=null;return{onAnchor:i=>{n.push(i),r||(r=tp(t));const o=np(e,r);return r.add(o),o},setAnchors:()=>{for(const i of n){const o=s.get(i);if(typeof o=="object"&&o.anchor&&(qe(o.node)||et(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:s}}function Ks(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],a=Ks(t,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=Ks(t,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=Ks(t,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=Ks(t,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return t.call(e,n,s)}function Qt(t,e,n){if(Array.isArray(t))return t.map((s,r)=>Qt(s,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!Nb(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=i=>{s.res=i,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class Lc{constructor(e){Object.defineProperty(this,en,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!Er(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=Qt(this,"",o);if(typeof r=="function")for(const{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?Ks(i,{"":a},"",a):a}}class na extends Lc{constructor(e){super(Nc),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return os(e,{Node:(s,r)=>{if(r===this)return os.BREAK;r.anchor===this.source&&(n=r)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=n,o=this.resolve(r);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(Qt(o,null,n),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=so(r,o,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const r=`*${this.source}`;if(e){if(ep(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function so(t,e,n){if(Rs(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}else if(et(e)){let s=0;for(const r of e.items){const i=so(t,r,n);i>s&&(s=i)}return s}else if(Qe(e)){const s=so(t,e.key,n),r=so(t,e.value,n);return Math.max(s,r)}return 1}const sp=t=>!t||typeof t!="function"&&typeof t!="object";class be extends Lc{constructor(e){super(Rn),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Qt(this.value,e,n)}toString(){return String(this.value)}}be.BLOCK_FOLDED="BLOCK_FOLDED";be.BLOCK_LITERAL="BLOCK_LITERAL";be.PLAIN="PLAIN";be.QUOTE_DOUBLE="QUOTE_DOUBLE";be.QUOTE_SINGLE="QUOTE_SINGLE";const $b="tag:yaml.org,2002:";function Fb(t,e,n){if(e){const s=n.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(s=>{var r;return((r=s.identify)==null?void 0:r.call(s,t))&&!s.format})}function ci(t,e,n){var f,h,d;if(Er(t)&&(t=t.contents),it(t))return t;if(Qe(t)){const m=(h=(f=n.schema[ns]).createNode)==null?void 0:h.call(f,n.schema,null,n);return m.items.push(t),m}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor||(l.anchor=r(t)),new na(l.anchor);l={anchor:null,node:null},a.set(t,l)}e!=null&&e.startsWith("!!")&&(e=$b+e.slice(2));let c=Fb(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const m=new be(t);return l&&(l.node=m),m}c=t instanceof Map?o[ns]:Symbol.iterator in Object(t)?o[br]:o[ns]}i&&(i(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((d=c==null?void 0:c.nodeClass)==null?void 0:d.from)=="function"?c.nodeClass.from(n.schema,t,n):new be(t);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Io(t,e,n){let s=n;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return ci(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Wr=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class sa extends Lc{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>it(s)||Qe(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Wr(e))this.add(n);else{const[s,...r]=e,i=this.get(s,!0);if(et(i))i.addIn(r,n);else if(i===void 0&&this.schema)this.set(s,Io(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const r=this.get(n,!0);if(et(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!n&&qe(i)?i.value:i:et(i)?i.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Qe(n))return!1;const s=n.value;return s==null||e&&qe(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const r=this.get(n,!0);return et(r)?r.hasIn(s):!1}setIn(e,n){const[s,...r]=e;if(r.length===0)this.set(s,n);else{const i=this.get(s,!0);if(et(i))i.setIn(r,n);else if(i===void 0&&this.schema)this.set(s,Io(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}sa.maxFlowStringSingleLineLength=60;const zb=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function xn(t,e){return/^\\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Jn=(t,e,n)=>t.endsWith(`\n`)?xn(n,e):n.includes(`\n`)?`\n`+xn(n,e):(t.endsWith(" ")?"":" ")+n,rp="flow",Ml="block",ro="quoted";function ra(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;const l=Math.max(1+i,1+r-e.length);if(t.length<=l)return t;const c=[],u={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):f=r-s);let h,d,m=!1,p=-1,y=-1,g=-1;n===Ml&&(p=Ff(t,p),p!==-1&&(f=p+l));for(let I;I=t[p+=1];){if(n===ro&&I==="\\\\"){switch(y=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}g=p}if(I===`\n`)n===Ml&&(p=Ff(t,p)),f=p+l,h=void 0;else{if(I===" "&&d&&d!==" "&&d!==`\n`&&d!=="	"){const E=t[p+1];E&&E!==" "&&E!==`\n`&&E!=="	"&&(h=p)}if(p>=f)if(h)c.push(h),f=h+l,h=void 0;else if(n===ro){for(;d===" "||d==="	";)d=I,I=t[p+=1],m=!0;const E=p>g+1?p-2:y-1;if(u[E])return t;c.push(E),u[E]=!0,f=E+l,h=void 0}else m=!0}d=I}if(m&&a&&a(),c.length===0)return t;o&&o();let T=t.slice(0,c[0]);for(let I=0;I<c.length;++I){const E=c[I],_=c[I+1]||t.length;E===0?T=`\n${e}${t.slice(0,_)}`:(n===ro&&u[E]&&(T+=`${t[E]}\\\\`),T+=`\n${e}${t.slice(E+1,_)}`)}return T}function Ff(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`\n`);n=t[e+1]}return e}const ia=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),oa=t=>/^(%|---|\\.\\.\\.)/m.test(t);function Yb(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(t[i]===`\n`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function Jr(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(oa(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\\\ ",l+=1,a=l,c="\\\\"),c==="\\\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\\\0";break;case"0007":o+="\\\\a";break;case"000b":o+="\\\\v";break;case"001b":o+="\\\\e";break;case"0085":o+="\\\\N";break;case"00a0":o+="\\\\_";break;case"2028":o+="\\\\L";break;case"2029":o+="\\\\P";break;default:u.substr(0,2)==="00"?o+="\\\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]===\'"\'||n.length<r)l+=1;else{for(o+=n.slice(a,l)+`\n\n`;n[l+2]==="\\\\"&&n[l+3]==="n"&&n[l+4]!==\'"\';)o+=`\n`,l+=2;o+=i,n[l+2]===" "&&(o+="\\\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,s?o:ra(o,i,ro,ia(e,!1))}function Cl(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`\n`)||/[ \\t]\\n|\\n[ \\t]/.test(t))return Jr(t,e);const n=e.indent||(oa(t)?"  ":""),s="\'"+t.replace(/\'/g,"\'\'").replace(/\\n+/g,`$&\n${n}`)+"\'";return e.implicitKey?s:ra(s,n,rp,ia(e,!1))}function Zs(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=Jr;else{const r=t.includes(\'"\'),i=t.includes("\'");r&&!i?s=Cl:i&&!r?s=Jr:s=n?Cl:Jr}return s(t,e)}let Al;try{Al=new RegExp(`(^|(?<!\n))\n+(?!\n|$)`,"g")}catch{Al=/\\n+(?!\\n|$)/g}function io({comment:t,type:e,value:n},s,r,i){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\\n[\\t ]+$/.test(n)||/^\\s*$/.test(n))return Zs(n,s);const c=s.indent||(s.forceBlockIndent||oa(n)?"  ":""),u=o==="literal"?!0:o==="folded"||e===be.BLOCK_FOLDED?!1:e===be.BLOCK_LITERAL?!0:!Yb(n,l,c.length);if(!n)return u?`|\n`:`>\n`;let f,h;for(h=n.length;h>0;--h){const b=n[h-1];if(b!==`\n`&&b!=="	"&&b!==" ")break}let d=n.substring(h);const m=d.indexOf(`\n`);m===-1?f="-":n===d||m!==d.length-1?(f="+",i&&i()):f="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`\n`&&(d=d.slice(0,-1)),d=d.replace(Al,`$&${c}`));let p=!1,y,g=-1;for(y=0;y<n.length;++y){const b=n[y];if(b===" ")p=!0;else if(b===`\n`)g=y;else break}let T=n.substring(0,g<y?g+1:y);T&&(n=n.substring(T.length),T=T.replace(/\\n+/g,`$&${c}`));let E=(u?"|":">")+(p?c?"2":"1":"")+f;if(t&&(E+=" "+a(t.replace(/ ?[\\r\\n]+/g," ")),r&&r()),u)return n=n.replace(/\\n+/g,`$&${c}`),`${E}\n${c}${T}${n}${d}`;n=n.replace(/\\n+/g,`\n$&`).replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g,"$1$2").replace(/\\n+/g,`$&${c}`);const _=ra(`${T}${n}${d}`,c,Ml,ia(s,!0));return`${E}\n${c}${_}`}function Ub(t,e,n,s){const{type:r,value:i}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`\n`)||u&&/[[\\]{},]/.test(i))return Zs(i,e);if(!i||/^[\\n\\t ,[\\]{}#&*!|>\'"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(i))return a||u||!i.includes(`\n`)?Zs(i,e):io(t,e,n,s);if(!a&&!u&&r!==be.PLAIN&&i.includes(`\n`))return io(t,e,n,s);if(oa(i)){if(l==="")return e.forceBlockIndent=!0,io(t,e,n,s);if(a&&l===c)return Zs(i,e)}const f=i.replace(/\\n+/g,`$&\n${l}`);if(o){const h=p=>{var y;return p.default&&p.tag!=="tag:yaml.org,2002:str"&&((y=p.test)==null?void 0:y.test(f))},{compat:d,tags:m}=e.doc.schema;if(m.some(h)||d!=null&&d.some(h))return Zs(i,e)}return a?f:ra(f,l,rp,ia(e,!1))}function Ti(t,e,n,s){const{implicitKey:r,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==be.QUOTE_DOUBLE&&/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(o.value)&&(a=be.QUOTE_DOUBLE);const l=u=>{switch(u){case be.BLOCK_FOLDED:case be.BLOCK_LITERAL:return r||i?Zs(o.value,e):io(o,e,n,s);case be.QUOTE_DOUBLE:return Jr(o.value,e);case be.QUOTE_SINGLE:return Cl(o.value,e);case be.PLAIN:return Ub(o,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,h=r&&u||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function ip(t,e){const n=Object.assign({blockQuote:!0,commentString:zb,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Bb(t,e){var r;if(e.tag){const i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)??i[0]}let n,s;if(qe(e)){s=e.value;const i=t.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,s)});n=i.find(o=>o.format===e.format)??i.find(o=>!o.format)}else s=e,n=t.find(i=>i.nodeClass&&s instanceof i.nodeClass);if(!n){const i=((r=s==null?void 0:s.constructor)==null?void 0:r.name)??typeof s;throw new Error(`Tag not resolved for ${i} value`)}return n}function Hb(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],i=(qe(t)||et(t))&&t.anchor;i&&ep(i)&&(n.add(i),r.push(`&${i}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&r.push(s.directives.tagString(o)),r.join(" ")}function ur(t,e,n,s){var l;if(Qe(t))return t.toString(e,n,s);if(Rs(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const i=it(t)?t:e.doc.createNode(t,{onTagObj:c=>r=c});r||(r=Bb(e.doc.schema.tags,i));const o=Hb(i,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof r.stringify=="function"?r.stringify(i,e,n,s):qe(i)?Ti(i,e,n,s):i.toString(e,n,s);return o?qe(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}\n${e.indent}${a}`:a}function jb({key:t,value:e},n,s,r){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=n;let h=it(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(et(t)){const k="With simple keys, collection cannot be used as a key value";throw new Error(k)}}let d=!f&&(!t||h&&e==null&&!n.inFlow||et(t)||(qe(t)?t.type===be.BLOCK_FOLDED||t.type===be.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!i),indent:a+l});let m=!1,p=!1,y=ur(t,n,()=>m=!0,()=>p=!0);if(!d&&!n.inFlow&&y.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(i||e==null)return m&&s&&s(),y===""?"?":d?`? ${y}`:y}else if(i&&!f||e==null&&d)return y=`? ${y}`,h&&!m?y+=Jn(y,n.indent,c(h)):p&&r&&r(),y;m&&(h=null),d?(h&&(y+=Jn(y,n.indent,c(h))),y=`? ${y}\n${a}:`):(y=`${y}:`,h&&(y+=Jn(y,n.indent,c(h))));let g,T,I;it(e)?(g=!!e.spaceBefore,T=e.commentBefore,I=e.comment):(g=!1,T=null,I=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&qe(e)&&(n.indentAtStart=y.length+1),p=!1,!u&&l.length>=2&&!n.inFlow&&!d&&Ir(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let E=!1;const _=ur(e,n,()=>E=!0,()=>p=!0);let b=" ";if(h||g||T){if(b=g?`\n`:"",T){const k=c(T);b+=`\n${xn(k,n.indent)}`}_===""&&!n.inFlow?b===`\n`&&(b=`\n\n`):b+=`\n${n.indent}`}else if(!d&&et(e)){const k=_[0],D=_.indexOf(`\n`),A=D!==-1,z=n.inFlow??e.flow??e.items.length===0;if(A||!z){let X=!1;if(A&&(k==="&"||k==="!")){let L=_.indexOf(" ");k==="&"&&L!==-1&&L<D&&_[L+1]==="!"&&(L=_.indexOf(" ",L+1)),(L===-1||D<L)&&(X=!0)}X||(b=`\n${n.indent}`)}}else(_===""||_[0]===`\n`)&&(b="");return y+=b+_,n.inFlow?E&&s&&s():I&&!E?y+=Jn(y,n.indent,c(I)):p&&r&&r(),y}function op(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const zf="<<";function ap(t,e,{key:n,value:s}){if(t!=null&&t.doc.schema.merge&&Wb(n))if(s=Rs(s)?s.resolve(t.doc):s,Ir(s))for(const r of s.items)Wa(t,e,r);else if(Array.isArray(s))for(const r of s)Wa(t,e,r);else Wa(t,e,s);else{const r=Qt(n,"",t);if(e instanceof Map)e.set(r,Qt(s,r,t));else if(e instanceof Set)e.add(r);else{const i=Vb(n,r,t),o=Qt(s,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}const Wb=t=>t===zf||qe(t)&&t.value===zf&&(!t.type||t.type===be.PLAIN);function Wa(t,e,n){const s=t&&Rs(n)?n.resolve(t.doc):n;if(!Sr(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Vb(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(it(t)&&(n!=null&&n.doc)){const s=ip(n.doc,{});s.anchors=new Set;for(const i of n.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=t.toString(s);if(!n.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+\'..."\'),op(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}function Rc(t,e,n){const s=ci(t,void 0,n),r=ci(e,void 0,n);return new Ot(s,r)}class Ot{constructor(e,n=null){Object.defineProperty(this,en,{value:Zm}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return it(n)&&(n=n.clone(e)),it(s)&&(s=s.clone(e)),new Ot(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return ap(n,s,this)}toString(e,n,s){return e!=null&&e.doc?jb(this,e,n,s):JSON.stringify(this)}}function lp(t,e,n){return(e.inFlow??t.flow?Kb:qb)(t,e,n)}function qb({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let f=!1;const h=[];for(let m=0;m<e.length;++m){const p=e[m];let y=null;if(it(p))!f&&p.spaceBefore&&h.push(""),Oo(n,h,p.commentBefore,f),p.comment&&(y=p.comment);else if(Qe(p)){const T=it(p.key)?p.key:null;T&&(!f&&T.spaceBefore&&h.push(""),Oo(n,h,T.commentBefore,f))}f=!1;let g=ur(p,u,()=>y=null,()=>f=!0);y&&(g+=Jn(g,i,c(y))),f&&y&&(f=!1),h.push(s+g)}let d;if(h.length===0)d=r.start+r.end;else{d=h[0];for(let m=1;m<h.length;++m){const p=h[m];d+=p?`\n${l}${p}`:`\n`}}return t?(d+=`\n`+xn(c(t),l),a&&a()):f&&o&&o(),d}function Kb({comment:t,items:e},n,{flowChars:s,itemIndent:r,onComment:i}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=n;r+=a;const u=Object.assign({},n,{indent:r,inFlow:!0,type:null});let f=!1,h=0;const d=[];for(let g=0;g<e.length;++g){const T=e[g];let I=null;if(it(T))T.spaceBefore&&d.push(""),Oo(n,d,T.commentBefore,!1),T.comment&&(I=T.comment);else if(Qe(T)){const _=it(T.key)?T.key:null;_&&(_.spaceBefore&&d.push(""),Oo(n,d,_.commentBefore,!1),_.comment&&(f=!0));const b=it(T.value)?T.value:null;b?(b.comment&&(I=b.comment),b.commentBefore&&(f=!0)):T.value==null&&(_!=null&&_.comment)&&(I=_.comment)}I&&(f=!0);let E=ur(T,u,()=>I=null);g<e.length-1&&(E+=","),I&&(E+=Jn(E,r,c(I))),!f&&(d.length>h||E.includes(`\n`))&&(f=!0),d.push(E),h=d.length}let m;const{start:p,end:y}=s;if(d.length===0)m=p+y;else if(f||(f=d.reduce((T,I)=>T+I.length+2,2)>sa.maxFlowStringSingleLineLength),f){m=p;for(const g of d)m+=g?`\n${a}${o}${g}`:`\n`;m+=`\n${o}${y}`}else m=`${p}${l}${d.join(" ")}${l}${y}`;return t&&(m+=Jn(m,o,c(t)),i&&i()),m}function Oo({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\\n+/,"")),s){const i=xn(e(s),t);n.push(i.trimStart())}}function Es(t,e){const n=qe(e)?e.value:e;for(const s of t)if(Qe(s)&&(s.key===e||s.key===n||qe(s.key)&&s.key.value===n))return s}class Yt extends sa{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(ns,e),this.items=[]}static from(e,n,s){const{keepUndefined:r,replacer:i}=s,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(Rc(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let s;Qe(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Ot(e,e==null?void 0:e.value):s=new Ot(e.key,e.value);const r=Es(this.items,s.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(r){if(!n)throw new Error(`Key ${s.key} already set`);qe(r.value)&&sp(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const a=this.items.findIndex(l=>i(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=Es(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Es(this.items,e),r=s==null?void 0:s.value;return(!n&&qe(r)?r.value:r)??void 0}has(e){return!!Es(this.items,e)}set(e,n){this.add(new Ot(e,n),!0)}toJSON(e,n,s){const r=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items)ap(n,r,i);return r}toString(e,n,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!Qe(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),lp(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Or={collection:"map",default:!0,nodeClass:Yt,tag:"tag:yaml.org,2002:map",resolve(t,e){return Sr(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Yt.from(t,e,n)};class as extends sa{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(br,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=ji(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=ji(e);if(typeof s!="number")return;const r=this.items[s];return!n&&qe(r)?r.value:r}has(e){const n=ji(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=ji(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];qe(r)&&sp(n)?r.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let r=0;for(const i of this.items)s.push(Qt(i,String(r++),n));return s}toString(e,n,s){return e?lp(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof r=="function"){const l=n instanceof Set?a:String(o++);a=r.call(n,l,a)}i.items.push(ci(a,void 0,s))}}return i}}function ji(t){let e=qe(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Dr={collection:"seq",default:!0,nodeClass:as,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Ir(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>as.from(t,e,n)},aa={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Ti(t,e,n,s)}},la={identify:t=>t==null,createNode:()=>new be(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new be(null),stringify:({source:t},e)=>typeof t=="string"&&la.test.test(t)?t:e.options.nullStr},Pc={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new be(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Pc.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function gn({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const cp={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gn},up={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():gn(t)}},fp={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,resolve(t){const e=new be(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:gn},ca=t=>typeof t=="bigint"||Number.isInteger(t),$c=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function hp(t,e,n){const{value:s}=t;return ca(s)&&s>=0?n+s.toString(e):gn(t)}const dp={identify:t=>ca(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>$c(t,2,8,n),stringify:t=>hp(t,8,"0o")},mp={identify:ca,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>$c(t,0,10,n),stringify:gn},pp={identify:t=>ca(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>$c(t,2,16,n),stringify:t=>hp(t,16,"0x")},Zb=[Or,Dr,aa,la,Pc,dp,mp,pp,cp,up,fp];function Yf(t){return typeof t=="bigint"||Number.isInteger(t)}const Wi=({value:t})=>JSON.stringify(t),Gb=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Wi},{identify:t=>t==null,createNode:()=>new be(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Wi},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Wi},{identify:Yf,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Yf(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Wi}],Xb={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Jb=[Or,Dr].concat(Gb,Xb),Fc={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\\n\\r]/g,"")),s=new Uint8Array(n.length);for(let r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,i){const o=n;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=be.BLOCK_LITERAL),e!==be.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)u[f]=a.substr(h,l);a=u.join(e===be.BLOCK_LITERAL?`\n`:" ")}return Ti({comment:t,type:e,value:a},s,r,i)}};function gp(t,e){if(Ir(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!Qe(s)){if(Sr(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Ot(new be(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}\n${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}\n${i.comment}`:s.comment}s=r}t.items[n]=Qe(s)?s:new Ot(s)}}else e("Expected a sequence for this tag");return t}function yp(t,e,n){const{replacer:s}=n,r=new as(t);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(Rc(a,l,n))}return r}const zc={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:gp,createNode:yp};class nr extends as{constructor(){super(),this.add=Yt.prototype.add.bind(this),this.delete=Yt.prototype.delete.bind(this),this.get=Yt.prototype.get.bind(this),this.has=Yt.prototype.has.bind(this),this.set=Yt.prototype.set.bind(this),this.tag=nr.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const r of this.items){let i,o;if(Qe(r)?(i=Qt(r.key,"",n),o=Qt(r.value,i,n)):i=Qt(r,"",n),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(e,n,s){const r=yp(e,n,s),i=new this;return i.items=r.items,i}}nr.tag="tag:yaml.org,2002:omap";const Yc={collection:"seq",identify:t=>t instanceof Map,nodeClass:nr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=gp(t,e),s=[];for(const{key:r}of n.items)qe(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new nr,n)},createNode:(t,e,n)=>nr.from(t,e,n)};function vp({value:t,source:e},n){return e&&(t?Tp:wp).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Tp={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new be(!0),stringify:vp},wp={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new be(!1),stringify:vp},Qb={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gn},eE={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():gn(t)}},tE={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,resolve(t){const e=new be(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:gn},wi=t=>typeof t=="bigint"||Number.isInteger(t);function ua(t,e,n,{intAsBigInt:s}){const r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return r==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return r==="-"?-1*i:i}function Uc(t,e,n){const{value:s}=t;if(wi(s)){const r=s.toString(e);return s<0?"-"+n+r.substr(1):n+r}return gn(t)}const nE={identify:wi,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>ua(t,2,2,n),stringify:t=>Uc(t,2,"0b")},sE={identify:wi,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>ua(t,1,8,n),stringify:t=>Uc(t,8,"0")},rE={identify:wi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>ua(t,0,10,n),stringify:gn},iE={identify:wi,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>ua(t,2,16,n),stringify:t=>Uc(t,16,"0x")};class sr extends Yt{constructor(e){super(e),this.tag=sr.tag}add(e){let n;Qe(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ot(e.key,null):n=new Ot(e,null),Es(this.items,n.key)||this.items.push(n)}get(e,n){const s=Es(this.items,e);return!n&&Qe(s)?qe(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Es(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Ot(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),i.items.push(Rc(o,null,s));return i}}sr.tag="tag:yaml.org,2002:set";const Bc={collection:"map",identify:t=>t instanceof Set,nodeClass:sr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>sr.from(t,e,n),resolve(t,e){if(Sr(t)){if(t.hasAllNullValues(!0))return Object.assign(new sr,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Hc(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),i=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return n==="-"?r(-1)*i:i}function _p(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return gn(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\\d*$/,"")}const bp={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Hc(t,n),stringify:_p},Ep={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,resolve:t=>Hc(t,!1),stringify:_p},fa={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\\\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(fa.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,r,i||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=Hc(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\\.000Z$/,"")},Uf=[Or,Dr,aa,la,Tp,wp,nE,sE,rE,iE,Qb,eE,tE,Fc,Yc,zc,Bc,bp,Ep,fa],Bf=new Map([["core",Zb],["failsafe",[Or,Dr,aa]],["json",Jb],["yaml11",Uf],["yaml-1.1",Uf]]),Hf={binary:Fc,bool:Pc,float:fp,floatExp:up,floatNaN:cp,floatTime:Ep,int:mp,intHex:pp,intOct:dp,intTime:bp,map:Or,null:la,omap:Yc,pairs:zc,seq:Dr,set:Bc,timestamp:fa},oE={"tag:yaml.org,2002:binary":Fc,"tag:yaml.org,2002:omap":Yc,"tag:yaml.org,2002:pairs":zc,"tag:yaml.org,2002:set":Bc,"tag:yaml.org,2002:timestamp":fa};function Va(t,e){let n=Bf.get(e);if(!n)if(Array.isArray(t))n=[];else{const s=Array.from(Bf.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)n=n.concat(s);else typeof t=="function"&&(n=t(n.slice()));return n.map(s=>{if(typeof s!="string")return s;const r=Hf[s];if(r)return r;const i=Object.keys(Hf).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${i}`)})}const aE=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class ha{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Va(e,"compat"):e?Va(null,e):null,this.merge=!!s,this.name=typeof i=="string"&&i||"core",this.knownTags=r?oE:{},this.tags=Va(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,ns,{value:Or}),Object.defineProperty(this,Rn,{value:aa}),Object.defineProperty(this,br,{value:Dr}),this.sortMapEntries=typeof o=="function"?o:o===!0?aE:null}clone(){const e=Object.create(ha.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function lE(t,e){var l;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=ip(t,e),{commentString:i}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=i(t.commentBefore);n.unshift(xn(c,""))}let o=!1,a=null;if(t.contents){if(it(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const f=i(t.contents.commentBefore);n.push(xn(f,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}const c=a?void 0:()=>o=!0;let u=ur(t.contents,r,()=>a=null,c);a&&(u+=Jn(u,"",i(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(ur(t.contents,r));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=i(t.comment);c.includes(`\n`)?(n.push("..."),n.push(xn(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(xn(i(c),"")))}return n.join(`\n`)+`\n`}class kr{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,en,{value:kl});let r=null;typeof n=="function"||Array.isArray(n)?r=n:s===void 0&&n&&(s=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:o}=i;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Mt({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(kr.prototype,{[en]:{value:kl}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=it(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Hs(this.contents)&&this.contents.add(e)}addIn(e,n){Hs(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=tp(this);e.anchor=!n||s.has(n)?np(n||"a",s):n}return new na(e.anchor)}createNode(e,n,s){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){const y=T=>typeof T=="number"||T instanceof String||T instanceof Number,g=n.filter(y).map(String);g.length>0&&(n=n.concat(g)),r=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:h,sourceObjects:d}=Pb(this,o||"a"),m={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:d},p=ci(e,u,m);return a&&et(p)&&(p.flow=!0),h(),p}createPair(e,n,s={}){const r=this.createNode(e,null,s),i=this.createNode(n,null,s);return new Ot(r,i)}delete(e){return Hs(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Wr(e)?this.contents==null?!1:(this.contents=null,!0):Hs(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return et(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Wr(e)?!n&&qe(this.contents)?this.contents.value:this.contents:et(this.contents)?this.contents.getIn(e,n):void 0}has(e){return et(this.contents)?this.contents.has(e):!1}hasIn(e){return Wr(e)?this.contents!==void 0:et(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Io(this.schema,[e],n):Hs(this.contents)&&this.contents.set(e,n)}setIn(e,n){Wr(e)?this.contents=n:this.contents==null?this.contents=Io(this.schema,Array.from(e),n):Hs(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Mt({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Mt({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected \'1.1\', \'1.2\' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new ha(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=Qt(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?Ks(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return lE(this,e)}}function Hs(t){if(et(t))return!0;throw new Error("Expected a YAML collection as document contents")}class jc extends Error{constructor(e,n,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=n}}class Ss extends jc{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class Sp extends jc{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Do=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let i=r-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\\n\\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="…"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),s>1&&/^ *$/.test(o.substring(0,i))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`…\n`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:\n\n${o}\n${c}\n`}};function fr(t,{flow:e,indicator:n,next:s,offset:r,onError:i,startOnNewline:o}){let a=!1,l=o,c=o,u="",f="",h=!1,d=!1,m=!1,p=null,y=null,g=null,T=null,I=null;for(const b of t)switch(m&&(b.type!=="space"&&b.type!=="newline"&&b.type!=="comma"&&i(b.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),b.type){case"space":!e&&l&&n!=="doc-start"&&b.source[0]==="	"&&i(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(b,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const k=b.source.substring(1)||" ";u?u+=f+k:u=k,f="",l=!1;break}case"newline":l?u?u+=b.source:a=!0:f+=b.source,l=!0,h=!0,(p||y)&&(d=!0),c=!0;break;case"anchor":p&&i(b,"MULTIPLE_ANCHORS","A node can have at most one anchor"),b.source.endsWith(":")&&i(b.offset+b.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=b,I===null&&(I=b.offset),l=!1,c=!1,m=!0;break;case"tag":{y&&i(b,"MULTIPLE_TAGS","A node can have at most one tag"),y=b,I===null&&(I=b.offset),l=!1,c=!1,m=!0;break}case n:(p||y)&&i(b,"BAD_PROP_ORDER",`Anchors and tags must be after the ${b.source} indicator`),T&&i(b,"UNEXPECTED_TOKEN",`Unexpected ${b.source} in ${e??"collection"}`),T=b,l=!1,c=!1;break;case"comma":if(e){g&&i(b,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),g=b,l=!1,c=!1;break}default:i(b,"UNEXPECTED_TOKEN",`Unexpected ${b.type} token`),l=!1,c=!1}const E=t[t.length-1],_=E?E.offset+E.source.length:r;return m&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:T,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:d,anchor:p,tag:y,end:_,start:I??_}}function ui(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`\n`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(ui(e.key)||ui(e.value))return!0}return!1;default:return!0}}function xl(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&ui(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ip(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,o)=>i===o||qe(i)&&qe(o)&&i.value===o.value&&!(i.value==="<<"&&t.schema.merge);return e.some(i=>r(i.key,n))}const jf="All mapping items must start at the same column";function cE({composeNode:t,composeEmptyNode:e},n,s,r,i){var u;const o=(i==null?void 0:i.nodeClass)??Yt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const f of s.items){const{start:h,key:d,sep:m,value:p}=f,y=fr(h,{indicator:"explicit-key-ind",next:d??(m==null?void 0:m[0]),offset:l,onError:r,startOnNewline:!0}),g=!y.found;if(g){if(d&&(d.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==s.indent&&r(l,"BAD_INDENT",jf)),!y.anchor&&!y.tag&&!m){c=y.end,y.comment&&(a.comment?a.comment+=`\n`+y.comment:a.comment=y.comment);continue}(y.hasNewlineAfterProp||ui(d))&&r(d??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=y.found)==null?void 0:u.indent)!==s.indent&&r(l,"BAD_INDENT",jf);const T=y.end,I=d?t(n,d,y,r):e(n,T,h,null,y,r);n.schema.compat&&xl(s.indent,d,r),Ip(n,a.items,I)&&r(T,"DUPLICATE_KEY","Map keys must be unique");const E=fr(m??[],{indicator:"map-value-ind",next:p,offset:I.range[2],onError:r,startOnNewline:!d||d.type==="block-scalar"});if(l=E.end,E.found){g&&((p==null?void 0:p.type)==="block-map"&&!E.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&y.start<E.found.offset-1024&&r(I.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const _=p?t(n,p,E,r):e(n,l,m,null,E,r);n.schema.compat&&xl(s.indent,p,r),l=_.range[2];const b=new Ot(I,_);n.options.keepSourceTokens&&(b.srcToken=f),a.items.push(b)}else{g&&r(I.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(I.comment?I.comment+=`\n`+E.comment:I.comment=E.comment);const _=new Ot(I);n.options.keepSourceTokens&&(_.srcToken=f),a.items.push(_)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function uE({composeNode:t,composeEmptyNode:e},n,s,r,i){const o=(i==null?void 0:i.nodeClass)??as,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const h=fr(u,{indicator:"seq-item-ind",next:f,offset:l,onError:r,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const d=f?t(n,f,h,r):e(n,h.end,u,null,h,r);n.schema.compat&&xl(s.indent,f,r),l=d.range[2],a.items.push(d)}return a.range=[s.offset,l,c??l],a}function _i(t,e,n,s){let r="";if(t){let i=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const qa="Block collections are not allowed within flow collections",Ka=t=>t&&(t.type==="block-map"||t.type==="block-seq");function fE({composeNode:t,composeEmptyNode:e},n,s,r,i){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=(i==null?void 0:i.nodeClass)??(o?Yt:as),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1);let f=s.offset+s.start.source.length;for(let y=0;y<s.items.length;++y){const g=s.items[y],{start:T,key:I,sep:E,value:_}=g,b=fr(T,{flow:a,indicator:"explicit-key-ind",next:I??(E==null?void 0:E[0]),offset:f,onError:r,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!E&&!_){y===0&&b.comma?r(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):y<s.items.length-1&&r(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),b.comment&&(c.comment?c.comment+=`\n`+b.comment:c.comment=b.comment),f=b.end;continue}!o&&n.options.strict&&ui(I)&&r(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(y===0)b.comma&&r(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(b.comma||r(b.start,"MISSING_CHAR",`Missing , between ${a} items`),b.comment){let k="";e:for(const D of T)switch(D.type){case"comma":case"space":break;case"comment":k=D.source.substring(1);break e;default:break e}if(k){let D=c.items[c.items.length-1];Qe(D)&&(D=D.value??D.key),D.comment?D.comment+=`\n`+k:D.comment=k,b.comment=b.comment.substring(k.length+1)}}if(!o&&!E&&!b.found){const k=_?t(n,_,b,r):e(n,b.end,E,null,b,r);c.items.push(k),f=k.range[2],Ka(_)&&r(k.range,"BLOCK_IN_FLOW",qa)}else{const k=b.end,D=I?t(n,I,b,r):e(n,k,T,null,b,r);Ka(I)&&r(D.range,"BLOCK_IN_FLOW",qa);const A=fr(E??[],{flow:a,indicator:"map-value-ind",next:_,offset:D.range[2],onError:r,startOnNewline:!1});if(A.found){if(!o&&!b.found&&n.options.strict){if(E)for(const L of E){if(L===A.found)break;if(L.type==="newline"){r(L,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<A.found.offset-1024&&r(A.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else _&&("source"in _&&_.source&&_.source[0]===":"?r(_,"MISSING_CHAR",`Missing space after : in ${a}`):r(A.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const z=_?t(n,_,A,r):A.found?e(n,A.end,E,null,A,r):null;z?Ka(_)&&r(z.range,"BLOCK_IN_FLOW",qa):A.comment&&(D.comment?D.comment+=`\n`+A.comment:D.comment=A.comment);const X=new Ot(D,z);if(n.options.keepSourceTokens&&(X.srcToken=g),o){const L=c;Ip(n,L.items,D)&&r(k,"DUPLICATE_KEY","Map keys must be unique"),L.items.push(X)}else{const L=new Yt(n.schema);L.flow=!0,L.items.push(X),c.items.push(L)}f=z?z.range[2]:A.end}}const h=o?"}":"]",[d,...m]=s.end;let p=f;if(d&&d.source===h)p=d.offset+d.source.length;else{const y=a[0].toUpperCase()+a.substring(1),g=u?`${y} must end with a ${h}`:`${y} in block collection must be sufficiently indented and end with a ${h}`;r(f,u?"MISSING_CHAR":"BAD_INDENT",g),d&&d.source.length!==1&&m.unshift(d)}if(m.length>0){const y=_i(m,p,n.options.strict,r);y.comment&&(c.comment?c.comment+=`\n`+y.comment:c.comment=y.comment),c.range=[s.offset,p,y.offset]}else c.range=[s.offset,p,p];return c}function Za(t,e,n,s,r,i){const o=n.type==="block-map"?cE(t,e,n,s,i):n.type==="block-seq"?uE(t,e,n,s,i):fE(t,e,n,s,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function hE(t,e,n,s,r){var f;const i=s?e.directives.tagName(s.source,h=>r(s,"TAG_RESOLVE_FAILED",h)):null,o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!i||i==="!"||i===Yt.tagName&&o==="map"||i===as.tagName&&o==="seq"||!o)return Za(t,e,n,r,i);let a=e.schema.tags.find(h=>h.tag===i&&h.collection===o);if(!a){const h=e.schema.knownTags[i];if(h&&h.collection===o)e.schema.tags.push(Object.assign({},h,{default:!1})),a=h;else return h!=null&&h.collection?r(s,"BAD_COLLECTION_TYPE",`${h.tag} used for ${o} collection, but expects ${h.collection}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),Za(t,e,n,r,i)}const l=Za(t,e,n,r,i,a),c=((f=a.resolve)==null?void 0:f.call(a,l,h=>r(s,"TAG_RESOLVE_FAILED",h),e.options))??l,u=it(c)?c:new be(c);return u.range=l.range,u.tag=i,a!=null&&a.format&&(u.format=a.format),u}function Op(t,e,n){const s=t.offset,r=dE(t,e,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?be.BLOCK_FOLDED:be.BLOCK_LITERAL,o=t.source?mE(t.source):[];let a=o.length;for(let p=o.length-1;p>=0;--p){const y=o[p][1];if(y===""||y==="\\r")a=p;else break}if(a===0){const p=r.chomp==="+"&&o.length>0?`\n`.repeat(Math.max(1,o.length-1)):"";let y=s+r.length;return t.source&&(y+=t.source.length),{value:p,type:i,comment:r.comment,range:[s,y,y]}}let l=t.indent+r.indent,c=t.offset+r.length,u=0;for(let p=0;p<a;++p){const[y,g]=o[p];if(g===""||g==="\\r")r.indent===0&&y.length>l&&(l=y.length);else{if(y.length<l){const T="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+y.length,"MISSING_CHAR",T)}r.indent===0&&(l=y.length),u=p;break}c+=y.length+g.length+1}for(let p=o.length-1;p>=a;--p)o[p][0].length>l&&(a=p+1);let f="",h="",d=!1;for(let p=0;p<u;++p)f+=o[p][0].slice(l)+`\n`;for(let p=u;p<a;++p){let[y,g]=o[p];c+=y.length+g.length+1;const T=g[g.length-1]==="\\r";if(T&&(g=g.slice(0,-1)),g&&y.length<l){const E=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(c-g.length-(T?2:1),"BAD_INDENT",E),y=""}i===be.BLOCK_LITERAL?(f+=h+y.slice(l)+g,h=`\n`):y.length>l||g[0]==="	"?(h===" "?h=`\n`:!d&&h===`\n`&&(h=`\n\n`),f+=h+y.slice(l)+g,h=`\n`,d=!0):g===""?h===`\n`?f+=`\n`:h=`\n`:(f+=h+g,h=" ",d=!1)}switch(r.chomp){case"-":break;case"+":for(let p=a;p<o.length;++p)f+=`\n`+o[p][0].slice(l);f[f.length-1]!==`\n`&&(f+=`\n`);break;default:f+=`\n`}const m=s+r.length+t.source.length;return{value:f,type:i,comment:r.comment,range:[s,m,m]}}function dE({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let o=0,a="",l=-1;for(let h=1;h<r.length;++h){const d=r[h];if(!a&&(d==="-"||d==="+"))a=d;else{const m=Number(d);!o&&m?o=m:l===-1&&(l=t+h)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",f=r.length;for(let h=1;h<e.length;++h){const d=e[h];switch(d.type){case"space":c=!0;case"newline":f+=d.source.length;break;case"comment":n&&!c&&s(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=d.source.length,u=d.source.substring(1);break;case"error":s(d,"UNEXPECTED_TOKEN",d.message),f+=d.source.length;break;default:{const m=`Unexpected token in block scalar header: ${d.type}`;s(d,"UNEXPECTED_TOKEN",m);const p=d.source;p&&typeof p=="string"&&(f+=p.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function mE(t){const e=t.split(/\\n( *)/),n=e[0],s=n.match(/^( *)/),i=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function Dp(t,e,n){const{offset:s,type:r,source:i,end:o}=t;let a,l;const c=(h,d,m)=>n(s+h,d,m);switch(r){case"scalar":a=be.PLAIN,l=pE(i,c);break;case"single-quoted-scalar":a=be.QUOTE_SINGLE,l=gE(i,c);break;case"double-quoted-scalar":a=be.QUOTE_DOUBLE,l=yE(i,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=_i(o,u,e,n);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function pE(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),kp(t)}function gE(t,e){return(t[t.length-1]!=="\'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing \'quote"),kp(t.slice(1,-1)).replace(/\'\'/g,"\'")}function kp(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\\r?\n`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\\r?\n`,"sy")}catch{e=/(.*?)[ \\t]*\\r?\\n/sy,n=/[ \\t]*(.*?)[ \\t]*\\r?\\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?i===`\n`?r+=i:i=`\n`:(r+=i+s[1],i=" "),o=n.lastIndex;const a=/[ \\t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),r+i+((s==null?void 0:s[1])??"")}function yE(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if(!(r==="\\r"&&t[s+1]===`\n`))if(r===`\n`){const{fold:i,offset:o}=vE(t,s);n+=i,s=o}else if(r==="\\\\"){let i=t[++s];const o=TE[i];if(o)n+=o;else if(i===`\n`)for(i=t[s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="\\r"&&t[s+1]===`\n`)for(i=t[++s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=wE(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){const i=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`\n`&&!(o==="\\r"&&t[s+2]===`\n`)&&(n+=s>i?t.slice(i,s+1):r)}else n+=r}return(t[t.length-1]!==\'"\'||t.length===1)&&e(t.length,"MISSING_CHAR",\'Missing closing "quote\'),n}function vE(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`\n`||s==="\\r")&&!(s==="\\r"&&t[e+2]!==`\n`);)s===`\n`&&(n+=`\n`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const TE={0:"\\0",a:"\\x07",b:"\\b",e:"\\x1B",f:"\\f",n:`\n`,r:"\\r",t:"	",v:"\\v",N:"",_:" ",L:"\\u2028",P:"\\u2029"," ":" ",\'"\':\'"\',"/":"/","\\\\":"\\\\","	":"	"};function wE(t,e,n,s){const r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Mp(t,e,n,s){const{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?Op(e,t.options.strict,s):Dp(e,t.options.strict,s),l=n?t.directives.tagName(n.source,f=>s(n,"TAG_RESOLVE_FAILED",f)):null,c=n&&l?_E(t.schema,r,l,n,s):e.type==="scalar"?bE(t,r,e,s):t.schema[Rn];let u;try{const f=c.resolve(r,h=>s(n??e,"TAG_RESOLVE_FAILED",h),t.options);u=qe(f)?f:new be(f)}catch(f){const h=f instanceof Error?f.message:String(f);s(n??e,"TAG_RESOLVE_FAILED",h),u=new be(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function _E(t,e,n,s,r){var a;if(n==="!")return t[Rn];const i=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)i.push(l);else return l;for(const l of i)if((a=l.test)!=null&&a.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Rn])}function bE({directives:t,schema:e},n,s,r){const i=e.tags.find(o=>{var a;return o.default&&((a=o.test)==null?void 0:a.test(n))})||e[Rn];if(e.compat){const o=e.compat.find(a=>{var l;return a.default&&((l=a.test)==null?void 0:l.test(n))})??e[Rn];if(i.tag!==o.tag){const a=t.tagString(i.tag),l=t.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;r(s,"TAG_RESOLVE_FAILED",c,!0)}}return i}function EE(t,e,n){if(e){n===null&&(n=e.length);for(let s=n-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];(r==null?void 0:r.type)==="space";)t+=r.source.length,r=e[++s];break}}return t}const SE={composeNode:Cp,composeEmptyNode:Wc};function Cp(t,e,n,s){const{spaceBefore:r,comment:i,anchor:o,tag:a}=n;let l,c=!0;switch(e.type){case"alias":l=IE(t,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=Mp(t,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=hE(SE,t,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Wc(t,e.offset,void 0,null,n,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?l.comment=i:l.commentBefore=i),t.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Wc(t,e,n,s,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:EE(e,n,s),indent:-1,source:""},f=Mp(t,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function IE({options:t},{offset:e,source:n,end:s},r){const i=new na(n.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=_i(s,o,t.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function OE(t,e,{offset:n,start:s,value:r,end:i},o){const a=Object.assign({_directives:e},t),l=new kr(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=fr(s,{indicator:"doc-start",next:r??(i==null?void 0:i[0]),offset:n,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Cp(c,r,u,o):Wc(c,u.end,s,null,u,o);const f=l.contents.range[2],h=_i(i,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Fr(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Wf(t){var r;let e="",n=!1,s=!1;for(let i=0;i<t.length;++i){const o=t[i];switch(o[0]){case"#":e+=(e===""?"":s?`\n\n`:`\n`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((r=t[i+1])==null?void 0:r[0])!=="#"&&(i+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class Vc{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,r,i)=>{const o=Fr(n);i?this.warnings.push(new Sp(o,s,r)):this.errors.push(new Ss(o,s,r))},this.directives=new Mt({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:r}=Wf(this.prelude);if(s){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}\n${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(et(i)&&!i.flow&&i.items.length>0){let o=i.items[0];Qe(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}\n${a}`:s}else{const o=i.commentBefore;i.commentBefore=o?`${s}\n${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Wf(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,r)=>{const i=Fr(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=OE(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new Ss(Fr(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new Ss(Fr(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=_i(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}\n${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Ss(Fr(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new kr(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}}function DE(t,e=!0,n){if(t){const s=(r,i,o)=>{const a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(n)n(a,i,o);else throw new Ss([a,a+1],i,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Dp(t,e,s);case"block-scalar":return Op(t,e,s)}}return null}function kE(t,e){const{implicitKey:n=!1,indent:s,inFlow:r=!1,offset:i=-1,type:o="PLAIN"}=e,a=Ti({type:o,value:t},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`\n`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`\n`),u=a.substring(0,c),f=a.substring(c+1)+`\n`,h=[{type:"block-scalar-header",offset:i,indent:s,source:u}];return Ap(h,l)||h.push({type:"newline",offset:-1,indent:s,source:`\n`}),{type:"block-scalar",offset:i,indent:s,props:h,source:f}}case\'"\':return{type:"double-quoted-scalar",offset:i,indent:s,source:a,end:l};case"\'":return{type:"single-quoted-scalar",offset:i,indent:s,source:a,end:l};default:return{type:"scalar",offset:i,indent:s,source:a,end:l}}}function ME(t,e,n={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:i=!1,type:o}=n,a="indent"in t?t.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=t.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=Ti({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":CE(t,l);break;case\'"\':Ga(t,l,"double-quoted-scalar");break;case"\'":Ga(t,l,"single-quoted-scalar");break;default:Ga(t,l,"scalar")}}function CE(t,e){const n=e.indexOf(`\n`),s=e.substring(0,n),r=e.substring(n+1)+`\n`;if(t.type==="block-scalar"){const i=t.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=s,t.source=r}else{const{offset:i}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:i,indent:o,source:s}];Ap(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`\n`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:r})}}function Ap(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function Ga(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const s=t.props.slice(1);let r=e.length;t.props[0].type==="block-scalar-header"&&(r-=t.props[0].source.length);for(const i of s)i.offset+=r;delete t.props,Object.assign(t,{type:n,source:e,end:s});break}case"block-map":case"block-seq":{const r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`\n`};delete t.items,Object.assign(t,{type:n,source:e,end:[r]});break}default:{const s="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(t))i!=="type"&&i!=="offset"&&delete t[i];Object.assign(t,{type:n,indent:s,source:e,end:r})}}}const AE=t=>"type"in t?ko(t):oo(t);function ko(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=ko(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=oo(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=oo(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=oo(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function oo({start:t,key:e,sep:n,value:s}){let r="";for(const i of t)r+=i.source;if(e&&(r+=ko(e)),n)for(const i of n)r+=i.source;return s&&(r+=ko(s)),r}const Nl=Symbol("break visit"),xE=Symbol("skip children"),xp=Symbol("remove item");function Cs(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Np(Object.freeze([]),t,e)}Cs.BREAK=Nl;Cs.SKIP=xE;Cs.REMOVE=xp;Cs.itemAtPath=(t,e)=>{let n=t;for(const[s,r]of e){const i=n==null?void 0:n[s];if(i&&"items"in i)n=i.items[r];else return}return n};Cs.parentCollection=(t,e)=>{const n=Cs.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],r=n==null?void 0:n[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function Np(t,e,n){let s=n(e,t);if(typeof s=="symbol")return s;for(const r of["key","value"]){const i=e[r];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const a=Np(Object.freeze(t.concat([[r,o]])),i.items[o],n);if(typeof a=="number")o=a-1;else{if(a===Nl)return Nl;a===xp&&(i.items.splice(o,1),o-=1)}}typeof s=="function"&&r==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}const da="\\uFEFF",ma="",pa="",fi="",NE=t=>!!t&&"items"in t,LE=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function RE(t){switch(t){case da:return"<BOM>";case ma:return"<DOC>";case pa:return"<FLOW_END>";case fi:return"<SCALAR>";default:return JSON.stringify(t)}}function Lp(t){switch(t){case da:return"byte-order-mark";case ma:return"doc-mode";case pa:return"flow-error-end";case fi:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`\n`:case`\\r\n`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"\'":return"single-quoted-scalar";case\'"\':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const PE=Object.freeze(Object.defineProperty({__proto__:null,BOM:da,DOCUMENT:ma,FLOW_END:pa,SCALAR:fi,createScalarToken:kE,isCollection:NE,isScalar:LE,prettyToken:RE,resolveAsScalar:DE,setScalarValue:ME,stringify:AE,tokenType:Lp,visit:Cs},Symbol.toStringTag,{value:"Module"}));function Vt(t){switch(t){case void 0:case" ":case`\n`:case"\\r":case"	":return!0;default:return!1}}const Vf="0123456789ABCDEFabcdef".split(""),$E="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*\'()".split(""),Xa=",[]{}".split(""),FE=` ,[]{}\n\\r	`.split(""),Ja=t=>!t||FE.includes(t);class Rp{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`\n`?!0:n==="\\r"?this.buffer[e+1]===`\n`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\\r"){const r=this.buffer[s+e+1];if(r===`\n`||!r&&!this.atEnd)return e+s+1}return n===`\n`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&Vt(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`\n`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===da&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length;const s=e.indexOf("#");if(s!==-1){const i=e[s-1];(i===" "||i==="	")&&(n=s-1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield ma,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&Vt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&Vt(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Vt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Vt(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Ja),"doc";case\'"\':case"\'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&Vt(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield pa,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Ja),"flow";case\'"\':case"\'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Vt(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="\'")for(;n!==-1&&this.buffer[n+1]==="\'";)n=this.buffer.indexOf("\'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf(\'"\',n+1)}const s=this.buffer.substring(0,n);let r=s.indexOf(`\n`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`\n`,i)}r!==-1&&(n=r-(s[r-1]==="\\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Vt(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":n+=1;break;case`\n`:e=r,n=0;break;case"\\r":{const i=this.buffer[r+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`\n`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`\n`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,i=this.buffer[r];i==="\\r"&&(i=this.buffer[--r]);const o=r;for(;i===" "||i==="	";)i=this.buffer[--r];if(i===`\n`&&r>=this.pos&&r+1+n>o)e=r;else break}while(!0);return yield fi,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(Vt(i)||e&&i===",")break;n=s}else if(Vt(r)){let i=this.buffer[s+1];if(r==="\\r"&&(i===`\n`?(s+=1,r=`\n`,i=this.buffer[s+1]):n=s),i==="#"||e&&Xa.includes(i))break;if(r===`\n`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&Xa.includes(r))break;n=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield fi,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Ja))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Vt(n)||e&&Xa.includes(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Vt(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if($E.includes(n))n=this.buffer[++e];else if(n==="%"&&Vf.includes(this.buffer[e+1])&&Vf.includes(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`\n`?yield*this.pushCount(1):e==="\\r"&&this.charAt(1)===`\n`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Pp{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const i=n+s>>1;this.lineStarts[i]<e?n=i+1:s=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}}function on(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function qf(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function $p(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Vi(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function js(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function Kf(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!on(e.start,"explicit-key-ind")&&!on(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,$p(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class qc{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Rp,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Lp(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Kf(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!on(r.start,"explicit-key-ind");return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&qf(r.start)===-1&&(n.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),n.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{qf(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Vi(this.peek(2)),s=js(n);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`\n`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`\n`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0,i=Array.isArray(r)?r[r.length-1]:void 0;(i==null?void 0:i.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2],i=(s=r==null?void 0:r.value)==null?void 0:s.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent&&n.sep;let i=[];if(r&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!on(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):r||n.value?(i.push(this.sourceToken),e.items.push({start:i})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(on(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(on(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if($p(n.key)&&!on(n.sep,"newline")){const o=js(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(on(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=js(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:i,key:null,sep:[this.sourceToken]}):on(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);r||n.value?(e.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){r&&o.type!=="block-seq"&&on(n.start,"explicit-key-ind")&&e.items.push({start:i}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0,i=Array.isArray(r)?r[r.length-1]:void 0;(i==null?void 0:i.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2],i=(s=r==null?void 0:r.value)==null?void 0:s.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||on(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Vi(s),i=js(r);Kf(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`\n`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`\n`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Vi(e),s=js(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Vi(e),s=js(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Fp(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Pp||null,prettyErrors:e}}function zE(t,e={}){const{lineCounter:n,prettyErrors:s}=Fp(e),r=new qc(n==null?void 0:n.addNewLine),i=new Vc(e),o=Array.from(i.compose(r.parse(t)));if(s&&n)for(const a of o)a.errors.forEach(Do(t,n)),a.warnings.forEach(Do(t,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function zp(t,e={}){const{lineCounter:n,prettyErrors:s}=Fp(e),r=new qc(n==null?void 0:n.addNewLine),i=new Vc(e);let o=null;for(const a of i.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Ss(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(Do(t,n)),o.warnings.forEach(Do(t,n))),o}function YE(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const r=zp(t,n);if(!r)return null;if(r.warnings.forEach(i=>op(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}function UE(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){const{keepUndefined:r}=n??e??{};if(!r)return}return new kr(t,s,n).toString(n)}const BE=Object.freeze(Object.defineProperty({__proto__:null,Alias:na,CST:PE,Composer:Vc,Document:kr,Lexer:Rp,LineCounter:Pp,Pair:Ot,Parser:qc,Scalar:be,Schema:ha,YAMLError:jc,YAMLMap:Yt,YAMLParseError:Ss,YAMLSeq:as,YAMLWarning:Sp,isAlias:Rs,isCollection:et,isDocument:Er,isMap:Sr,isNode:it,isPair:Qe,isScalar:qe,isSeq:Ir,parse:YE,parseAllDocuments:zE,parseDocument:zp,stringify:UE,visit:os,visitAsync:ta},Symbol.toStringTag,{value:"Module"})),Zf=t=>t.trim().split(/ |,/).filter(e=>!!e&&e.includes("@")||e==="*"||e==="\\\\*"),HE=/^([^:]+)(:)(?:\\s|$)/,jE=/[^:]+$/;function WE(t,e,n,s){let r=0,i=r,o=-1,a=-1;const l=p=>!!p.match(Ic)||!!p.match(Sc)||!!p.match(Jo),c=/^---/;let u=!1;const f=[],h=[],d=[];let m=t[r];for(;typeof m<"u"&&!(!u&&l(m));){const p=m.match(c);if(p){const g={type:Fe.FrontmatterDelimiter,from:e[i],to:e[i]+4};if(d.push(g),!u)r=i,u=!0;else{d.length===2&&(n.ranges.push(d[0]),n.ranges.push(d[1]));break}}const y=Ac(m,i,e,n);if(y||(m=Sb(m,i,e,n),f.push(m)),!y&&!p){const g=m.match(HE);g&&(h.push({type:Fe.HeaderKey,from:e[i],to:e[i]+g[1].length}),h.push({type:Fe.HeaderKeyColon,from:e[i]+g[1].length,to:e[i]+g[1].length+1}));const T=m.match(jE);if(T){const I=m.indexOf(T[0]);h.push({type:Fe.HeaderValue,from:e[i]+I,to:e[i]+I+T[0].length})}}m.length&&(o===-1&&(o=i),a=i),i++,m=t[i]}try{const p=BE.parse(f.join(`\n`));p.dateFormat=p.dateFormat==="d/M/y"?V_:wo,p.view&&typeof p.view=="string"&&(p.view=Zf(p.view)),p.edit&&typeof p.edit=="string"&&(p.edit=Zf(p.edit)),Ib(p,n,s),n.ranges.push(...h),n.header=p}catch{n.header={dateFormat:wo}}if(d.length===2){const p=e[r];n.foldables[p]={startLine:r,startIndex:p,endIndex:e[i]-1,type:"header",foldStartIndex:d.length===2?p+3:p}}else if(o>=0&&a>=0&&a!==o){const p=e[o],y={startLine:o,startIndex:p,endIndex:e[a+1]-1,type:"header",foldStartIndex:p};n.foldables[p]=y}return i}var VE={exports:{}};(function(t){var e;(function(){e=t.exports})(),e.foldLength=75,e.newLineChar=`\\r\n`,e.helpers={updateTimezones:function(n){var s,r,i,o,a,l;if(!n||n.name!=="vcalendar")return n;for(s=n.getAllSubcomponents(),r=[],i={},a=0;a<s.length;a++)s[a].name==="vtimezone"?(l=s[a].getFirstProperty("tzid").getFirstValue(),i[l]=s[a]):r=r.concat(s[a].getAllProperties());for(o={},a=0;a<r.length;a++)(l=r[a].getParameter("tzid"))&&(o[l]=!0);for(a in i)i.hasOwnProperty(a)&&!o[a]&&n.removeSubcomponent(i[a]);for(a in o)o.hasOwnProperty(a)&&!i[a]&&e.TimezoneService.has(a)&&n.addSubcomponent(e.TimezoneService.get(a).component);return n},isStrictlyNaN:function(n){return typeof n=="number"&&isNaN(n)},strictParseInt:function(n){var s=parseInt(n,10);if(e.helpers.isStrictlyNaN(s))throw new Error(\'Could not extract integer from "\'+n+\'"\');return s},formatClassType:function(s,r){if(!(typeof s>"u"))return s instanceof r?s:new r(s)},unescapedIndexOf:function(n,s,r){for(;(r=n.indexOf(s,r))!==-1;)if(r>0&&n[r-1]==="\\\\")r+=1;else return r;return-1},binsearchInsert:function(n,s,r){if(!n.length)return 0;for(var i=0,o=n.length-1,a,l;i<=o;)if(a=i+Math.floor((o-i)/2),l=r(s,n[a]),l<0)o=a-1;else if(l>0)i=a+1;else break;return l<0?a:l>0?a+1:a},dumpn:function(){e.debug&&(typeof console<"u"&&"log"in console?e.helpers.dumpn=function(s){console.log(s)}:e.helpers.dumpn=function(s){dump(s+`\n`)},e.helpers.dumpn(arguments[0]))},clone:function(n,s){if(!n||typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());if("clone"in n)return n.clone();if(Array.isArray(n)){for(var r=[],i=0;i<n.length;i++)r.push(s?e.helpers.clone(n[i],!0):n[i]);return r}else{var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s?o[a]=e.helpers.clone(n[a],!0):o[a]=n[a]);return o}},foldline:function(s){for(var r="",i=s||"",o=0,a=0;i.length;){var l=i.codePointAt(o);l<128?++a:l<2048?a+=2:l<65536?a+=3:a+=4,a<e.foldLength+1?o+=l>65535?2:1:(r+=e.newLineChar+" "+i.substring(0,o),i=i.substring(o),o=a=0)}return r.substr(e.newLineChar.length+1)},pad2:function(s){typeof s!="string"&&(typeof s=="number"&&(s=parseInt(s)),s=String(s));var r=s.length;switch(r){case 0:return"00";case 1:return"0"+s;default:return s}},trunc:function(s){return s<0?Math.ceil(s):Math.floor(s)},inherits:function(n,s,r){function i(){}i.prototype=n.prototype,s.prototype=new i,r&&e.helpers.extend(r,s.prototype)},extend:function(n,s){for(var r in n){var i=Object.getOwnPropertyDescriptor(n,r);i&&!Object.getOwnPropertyDescriptor(s,r)&&Object.defineProperty(s,r,i)}return s}},e.design=function(){var n=/\\\\\\\\|\\\\;|\\\\,|\\\\[Nn]/g,s=/\\\\|;|,|\\n/g,r=/\\\\\\\\|\\\\,|\\\\[Nn]/g,i=/\\\\|,|\\n/g;function o(S,G){var F={matches:/.*/,fromICAL:function(Q,ve){return T(Q,S,ve)},toICAL:function(Q,ve){var He=G;return ve&&(He=new RegExp(He.source+"|"+ve)),Q.replace(He,function(We){switch(We){case"\\\\":return"\\\\\\\\";case";":return"\\\\;";case",":return"\\\\,";case`\n`:return"\\\\n";default:return We}})}};return F}var a={defaultType:"text"},l={defaultType:"text",multiValue:","},c={defaultType:"text",structuredValue:";"},u={defaultType:"integer"},f={defaultType:"date-time",allowedTypes:["date-time","date"]},h={defaultType:"date-time"},d={defaultType:"uri"},m={defaultType:"utc-offset"},p={defaultType:"recur"},y={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function g(S){switch(S){case"\\\\\\\\":return"\\\\";case"\\\\;":return";";case"\\\\,":return",";case"\\\\n":case"\\\\N":return`\n`;default:return S}}function T(S,G,F){return S.indexOf("\\\\")===-1?S:(F&&(G=new RegExp(G.source+"|\\\\\\\\"+F)),S.replace(G,g))}var I={categories:l,url:d,version:a,uid:a},E={boolean:{values:["TRUE","FALSE"],fromICAL:function(S){switch(S){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(S){return S?"TRUE":"FALSE"}},float:{matches:/^[+-]?\\d+\\.\\d+$/,fromICAL:function(S){var G=parseFloat(S);return e.helpers.isStrictlyNaN(G)?0:G},toICAL:function(S){return String(S)}},integer:{fromICAL:function(S){var G=parseInt(S);return e.helpers.isStrictlyNaN(G)?0:G},toICAL:function(S){return String(S)}},"utc-offset":{toICAL:function(S){return S.length<7?S.substr(0,3)+S.substr(4,2):S.substr(0,3)+S.substr(4,2)+S.substr(7,2)},fromICAL:function(S){return S.length<6?S.substr(0,3)+":"+S.substr(3,2):S.substr(0,3)+":"+S.substr(3,2)+":"+S.substr(5,2)},decorate:function(S){return e.UtcOffset.fromString(S)},undecorate:function(S){return S.toString()}}},_={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},b=e.helpers.extend(E,{text:o(n,s),uri:{},binary:{decorate:function(S){return e.Binary.fromString(S)},undecorate:function(S){return S.toString()}},"cal-address":{},date:{decorate:function(S,G){return te.strict?e.Time.fromDateString(S,G):e.Time.fromString(S,G)},undecorate:function(S){return S.toString()},fromICAL:function(S){return!te.strict&&S.length>=15?b["date-time"].fromICAL(S):S.substr(0,4)+"-"+S.substr(4,2)+"-"+S.substr(6,2)},toICAL:function(S){var G=S.length;return G==10?S.substr(0,4)+S.substr(5,2)+S.substr(8,2):G>=19?b["date-time"].toICAL(S):S}},"date-time":{fromICAL:function(S){if(!te.strict&&S.length==8)return b.date.fromICAL(S);var G=S.substr(0,4)+"-"+S.substr(4,2)+"-"+S.substr(6,2)+"T"+S.substr(9,2)+":"+S.substr(11,2)+":"+S.substr(13,2);return S[15]&&S[15]==="Z"&&(G+="Z"),G},toICAL:function(S){var G=S.length;if(G==10&&!te.strict)return b.date.toICAL(S);if(G>=19){var F=S.substr(0,4)+S.substr(5,2)+S.substr(8,5)+S.substr(14,2)+S.substr(17,2);return S[19]&&S[19]==="Z"&&(F+="Z"),F}else return S},decorate:function(S,G){return te.strict?e.Time.fromDateTimeString(S,G):e.Time.fromString(S,G)},undecorate:function(S){return S.toString()}},duration:{decorate:function(S){return e.Duration.fromString(S)},undecorate:function(S){return S.toString()}},period:{fromICAL:function(S){var G=S.split("/");return G[0]=b["date-time"].fromICAL(G[0]),e.Duration.isValueString(G[1])||(G[1]=b["date-time"].fromICAL(G[1])),G},toICAL:function(S){return!te.strict&&S[0].length==10?S[0]=b.date.toICAL(S[0]):S[0]=b["date-time"].toICAL(S[0]),e.Duration.isValueString(S[1])||(!te.strict&&S[1].length==10?S[1]=b.date.toICAL(S[1]):S[1]=b["date-time"].toICAL(S[1])),S.join("/")},decorate:function(S,G){return e.Period.fromJSON(S,G,!te.strict)},undecorate:function(S){return S.toJSON()}},recur:{fromICAL:function(S){return e.Recur._stringToData(S,!0)},toICAL:function(S){var G="";for(var F in S)if(Object.prototype.hasOwnProperty.call(S,F)){var Q=S[F];F=="until"?Q.length>10?Q=b["date-time"].toICAL(Q):Q=b.date.toICAL(Q):F=="wkst"?typeof Q=="number"&&(Q=e.Recur.numericDayToIcalDay(Q)):Array.isArray(Q)&&(Q=Q.join(",")),G+=F.toUpperCase()+"="+Q+";"}return G.substr(0,G.length-1)},decorate:function(G){return e.Recur.fromData(G)},undecorate:function(S){return S.toJSON()}},time:{fromICAL:function(S){if(S.length<6)return S;var G=S.substr(0,2)+":"+S.substr(2,2)+":"+S.substr(4,2);return S[6]==="Z"&&(G+="Z"),G},toICAL:function(S){if(S.length<8)return S;var G=S.substr(0,2)+S.substr(3,2)+S.substr(6,2);return S[8]==="Z"&&(G+="Z"),G}}}),k=e.helpers.extend(I,{action:a,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:a,class:a,comment:a,completed:h,contact:a,created:h,description:a,dtend:f,dtstamp:h,dtstart:f,due:f,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:p,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":h,location:a,method:a,organizer:{defaultType:"cal-address"},"percent-complete":u,priority:u,prodid:a,"related-to":a,repeat:u,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(S){return S.indexOf("/")!==-1?"period":S.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":f,resources:l,"request-status":c,rrule:p,sequence:u,status:a,summary:a,transp:a,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:m,tzoffsetto:m,tzurl:d,tzid:a,tzname:a}),D=e.helpers.extend(E,{text:o(r,i),uri:o(r,i),date:{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date")},undecorate:function(S){return S.toString()},fromICAL:function(S){return S.length==8?b.date.fromICAL(S):S[0]=="-"&&S.length==6?S.substr(0,4)+"-"+S.substr(4):S},toICAL:function(S){return S.length==10?b.date.toICAL(S):S[0]=="-"&&S.length==7?S.substr(0,4)+S.substr(5):S}},time:{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString("T"+S,"time")},undecorate:function(S){return S.toString()},fromICAL:function(S){var G=D.time._splitZone(S,!0),F=G[0],Q=G[1];return Q.length==6?Q=Q.substr(0,2)+":"+Q.substr(2,2)+":"+Q.substr(4,2):Q.length==4&&Q[0]!="-"?Q=Q.substr(0,2)+":"+Q.substr(2,2):Q.length==5&&(Q=Q.substr(0,3)+":"+Q.substr(3,2)),F.length==5&&(F[0]=="-"||F[0]=="+")&&(F=F.substr(0,3)+":"+F.substr(3)),Q+F},toICAL:function(S){var G=D.time._splitZone(S),F=G[0],Q=G[1];return Q.length==8?Q=Q.substr(0,2)+Q.substr(3,2)+Q.substr(6,2):Q.length==5&&Q[0]!="-"?Q=Q.substr(0,2)+Q.substr(3,2):Q.length==6&&(Q=Q.substr(0,3)+Q.substr(4,2)),F.length==6&&(F[0]=="-"||F[0]=="+")&&(F=F.substr(0,3)+F.substr(4)),Q+F},_splitZone:function(S,G){var F=S.length-1,Q=S.length-(G?5:6),ve=S[Q],He,We;return S[F]=="Z"?(He=S[F],We=S.substr(0,F)):S.length>6&&(ve=="-"||ve=="+")?(He=S.substr(Q),We=S.substr(0,Q)):(He="",We=S),[He,We]}},"date-time":{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date-time")},undecorate:function(S){return S.toString()},fromICAL:function(S){return D["date-and-or-time"].fromICAL(S)},toICAL:function(S){return D["date-and-or-time"].toICAL(S)}},"date-and-or-time":{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date-and-or-time")},undecorate:function(S){return S.toString()},fromICAL:function(S){var G=S.split("T");return(G[0]?D.date.fromICAL(G[0]):"")+(G[1]?"T"+D.time.fromICAL(G[1]):"")},toICAL:function(S){var G=S.split("T");return D.date.toICAL(G[0])+(G[1]?"T"+D.time.toICAL(G[1]):"")}},timestamp:b["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}}),A={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},z=e.helpers.extend(I,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:y,bday:y,caladruri:d,caluri:d,clientpidmap:c,email:a,fburl:d,fn:a,gender:c,geo:d,impp:d,key:d,kind:a,lang:{defaultType:"language-tag"},logo:d,member:d,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:l,note:a,org:{defaultType:"text",structuredValue:";"},photo:d,related:d,rev:{defaultType:"timestamp"},role:a,sound:d,source:d,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:a,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:a}),X=e.helpers.extend(E,{binary:b.binary,date:D.date,"date-time":D["date-time"],"phone-number":{},uri:b.uri,text:b.text,time:b.time,vcard:b.text,"utc-offset":{toICAL:function(S){return S.substr(0,7)},fromICAL:function(S){return S.substr(0,7)},decorate:function(S){return e.UtcOffset.fromString(S)},undecorate:function(S){return S.toString()}}}),L={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},re=e.helpers.extend(I,{fn:a,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:l,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(S){return S.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:a,tel:{defaultType:"phone-number"},email:a,mailer:a,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:a,role:a,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:c,note:l,prodid:a,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(S){return S.indexOf("T")===-1?"date":"date-time"}},"sort-string":a,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:a,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),he={value:b,param:_,property:k},de={value:D,param:A,property:z},J={value:X,param:L,property:re},te={strict:!0,defaultSet:he,defaultType:"unknown",components:{vcard:de,vcard3:J,vevent:he,vtodo:he,vjournal:he,valarm:he,vtimezone:he,daylight:he,standard:he},icalendar:he,vcard:de,vcard3:J,getDesignSet:function(S){var G=S&&S in te.components;return G?te.components[S]:te.defaultSet}};return te}(),e.stringify=function(){var n=`\\r\n`,s="unknown",r=e.design,i=e.helpers;function o(l){typeof l[0]=="string"&&(l=[l]);for(var c=0,u=l.length,f="";c<u;c++)f+=o.component(l[c])+n;return f}o.component=function(l,c){var u=l[0].toUpperCase(),f="BEGIN:"+u+n,h=l[1],d=0,m=h.length,p=l[0];for(p==="vcard"&&l[1].length>0&&!(l[1][0][0]==="version"&&l[1][0][3]==="4.0")&&(p="vcard3"),c=c||r.getDesignSet(p);d<m;d++)f+=o.property(h[d],c)+n;for(var y=l[2]||[],g=0,T=y.length;g<T;g++)f+=o.component(y[g],c)+n;return f+="END:"+u,f},o.property=function(l,c,u){var f=l[0].toUpperCase(),h=l[0],d=l[1],m=f,p;for(p in d){var y=d[p];if(d.hasOwnProperty(p)){var I=p in c.param&&c.param[p].multiValue;I&&Array.isArray(y)?(c.param[p].multiValueSeparateDQuote&&(I=\'"\'+I+\'"\'),y=y.map(o._rfc6868Unescape),y=o.multiValue(y,I,"unknown",null,c)):y=o._rfc6868Unescape(y),m+=";"+p.toUpperCase(),m+="="+o.propertyValue(y)}}if(l.length===3)return m+":";var g=l[2];c||(c=r.defaultSet);var T,I=!1,E=!1,_=!1;return h in c.property?(T=c.property[h],"multiValue"in T&&(I=T.multiValue),"structuredValue"in T&&Array.isArray(l[3])&&(E=T.structuredValue),"defaultType"in T?g===T.defaultType&&(_=!0):g===s&&(_=!0)):g===s&&(_=!0),_||(m+=";VALUE="+g.toUpperCase()),m+=":",I&&E?m+=o.multiValue(l[3],E,g,I,c,E):I?m+=o.multiValue(l.slice(3),I,g,null,c,!1):E?m+=o.multiValue(l[3],E,g,null,c,E):m+=o.value(l[3],g,c,!1),u?m:e.helpers.foldline(m)},o.propertyValue=function(l){return i.unescapedIndexOf(l,",")===-1&&i.unescapedIndexOf(l,":")===-1&&i.unescapedIndexOf(l,";")===-1?l:\'"\'+l+\'"\'},o.multiValue=function(l,c,u,f,h,d){for(var m="",p=l.length,y=0;y<p;y++)f&&Array.isArray(l[y])?m+=o.multiValue(l[y],f,u,null,h,d):m+=o.value(l[y],u,h,d),y!==p-1&&(m+=c);return m},o.value=function(l,c,u,f){return c in u.value&&"toICAL"in u.value[c]?u.value[c].toICAL(l,f):l},o._rfc6868Unescape=function(l){return l.replace(/[\\n^"]/g,function(c){return a[c]})};var a={\'"\':"^\'","\\n":"^n","^":"^^"};return o}(),e.parse=function(){var n=/[^ \\t]/,s=":",r=";",i="=",o="unknown",a="text",l=e.design,c=e.helpers;function u(d){this.message=d,this.name="ParserError";try{throw new Error}catch(p){if(p.stack){var m=p.stack.split(`\n`);m.shift(),this.stack=m.join(`\n`)}}}u.prototype=Error.prototype;function f(d){var m={},p=m.component=[];if(m.stack=[p],f._eachLine(d,function(y,g){f._handleContentLine(g,m)}),m.stack.length>1)throw new u("invalid ical body. component began but did not end");return m=null,p.length==1?p[0]:p}f.property=function(d,m){var p={component:[[],[]],designSet:m||l.defaultSet};return f._handleContentLine(d,p),p.component[1][0]},f.component=function(d){return f(d)},f.ParserError=u,f._handleContentLine=function(d,m){var p=d.indexOf(s),y=d.indexOf(r),g,T,I,E,_={};y!==-1&&p!==-1&&y>p&&(y=-1);var b;if(y!==-1){if(I=d.substring(0,y).toLowerCase(),b=f._parseParameters(d.substring(y),0,m.designSet),b[2]==-1)throw new u("Invalid parameters in \'"+d+"\'");if(_=b[0],g=b[1].length+b[2]+y,(T=d.substring(g).indexOf(s))!==-1)E=d.substring(g+T+1);else throw new u("Missing parameter value in \'"+d+"\'")}else if(p!==-1){if(I=d.substring(0,p).toLowerCase(),E=d.substring(p+1),I==="begin"){var k=[E.toLowerCase(),[],[]];m.stack.length===1?m.component.push(k):m.component[2].push(k),m.stack.push(m.component),m.component=k,m.designSet||(m.designSet=l.getDesignSet(m.component[0]));return}else if(I==="end"){m.component=m.stack.pop();return}}else throw new u(\'invalid line (no token ";" or ":") "\'+d+\'"\');var D,A=!1,z=!1,X;I in m.designSet.property&&(X=m.designSet.property[I],"multiValue"in X&&(A=X.multiValue),"structuredValue"in X&&(z=X.structuredValue),E&&"detectType"in X&&(D=X.detectType(E))),D||("value"in _?D=_.value.toLowerCase():X?D=X.defaultType:D=o),delete _.value;var L;A&&z?(E=f._parseMultiValue(E,z,D,[],A,m.designSet,z),L=[I,_,D,E]):A?(L=[I,_,D],f._parseMultiValue(E,A,D,L,null,m.designSet,!1)):z?(E=f._parseMultiValue(E,z,D,[],null,m.designSet,z),L=[I,_,D,E]):(E=f._parseValue(E,D,m.designSet,!1),L=[I,_,D,E]),m.component[0]==="vcard"&&m.component[1].length===0&&!(I==="version"&&E==="4.0")&&(m.designSet=l.getDesignSet("vcard3")),m.component[1].push(L)},f._parseValue=function(d,m,p,y){return m in p.value&&"fromICAL"in p.value[m]?p.value[m].fromICAL(d,y):d},f._parseParameters=function(d,m,p){for(var y=m,g=0,T=i,I={},E,_,b,k=-1,D,A,z;g!==!1&&(g=c.unescapedIndexOf(d,T,g+1))!==-1;){if(E=d.substr(y+1,g-y-1),E.length==0)throw new u("Empty parameter name in \'"+d+"\'");_=E.toLowerCase(),z=!1,A=!1,_ in p.param&&p.param[_].valueType?D=p.param[_].valueType:D=a,_ in p.param&&(A=p.param[_].multiValue,p.param[_].multiValueSeparateDQuote&&(z=f._rfc6868Escape(\'"\'+A+\'"\')));var X=d[g+1];if(X===\'"\'){if(k=g+2,g=c.unescapedIndexOf(d,\'"\',k),A&&g!=-1)for(var L=!0;L;)d[g+1]==A&&d[g+2]==\'"\'?g=c.unescapedIndexOf(d,\'"\',g+3):L=!1;if(g===-1)throw new u(\'invalid line (no matching double quote) "\'+d+\'"\');b=d.substr(k,g-k),y=c.unescapedIndexOf(d,r,g),y===-1&&(g=!1)}else{k=g+1;var re=c.unescapedIndexOf(d,r,k),he=c.unescapedIndexOf(d,s,k);he!==-1&&re>he?(re=he,g=!1):re===-1?(he===-1?re=d.length:re=he,g=!1):(y=re,g=re),b=d.substr(k,re-k)}if(b=f._rfc6868Escape(b),A){var de=z||A;b=f._parseMultiValue(b,de,D,[],null,p)}else b=f._parseValue(b,D,p);A&&_ in I?Array.isArray(I[_])?I[_].push(b):I[_]=[I[_],b]:I[_]=b}return[I,b,k]},f._rfc6868Escape=function(d){return d.replace(/\\^[\'n^]/g,function(m){return h[m]})};var h={"^\'":\'"\',"^n":`\n`,"^^":"^"};return f._parseMultiValue=function(d,m,p,y,g,T,I){var E=0,_=0,b;if(m.length===0)return d;for(;(E=c.unescapedIndexOf(d,m,_))!==-1;)b=d.substr(_,E-_),g?b=f._parseMultiValue(b,g,p,[],null,T,I):b=f._parseValue(b,p,T,I),y.push(b),_=E+m.length;return b=d.substr(_),g?b=f._parseMultiValue(b,g,p,[],null,T,I):b=f._parseValue(b,p,T,I),y.push(b),y.length==1?y[0]:y},f._eachLine=function(d,m){var p=d.length,y=d.search(n),g=y,T,I,E;do g=d.indexOf(`\n`,y)+1,g>1&&d[g-2]==="\\r"?E=2:E=1,g===0&&(g=p,E=0),I=d[y],I===" "||I==="	"?T+=d.substr(y+1,g-y-(E+1)):(T&&m(null,T),T=d.substr(y,g-y-E)),y=g;while(g!==p);T=T.trim(),T.length&&m(null,T)},f}(),e.Component=function(){var n=1,s=2,r=0;function i(o,a){typeof o=="string"&&(o=[o,[],[]]),this.jCal=o,this.parent=a||null}return i.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[r]},get _designSet(){var o=this.parent&&this.parent._designSet;return o||e.design.getDesignSet(this.name)},_hydrateComponent:function(o){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[o])return this._components[o];var a=new i(this.jCal[s][o],this);return this._hydratedComponentCount++,this._components[o]=a},_hydrateProperty:function(o){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[o])return this._properties[o];var a=new e.Property(this.jCal[n][o],this);return this._hydratedPropertyCount++,this._properties[o]=a},getFirstSubcomponent:function(o){if(o){for(var a=0,l=this.jCal[s],c=l.length;a<c;a++)if(l[a][r]===o){var u=this._hydrateComponent(a);return u}}else if(this.jCal[s].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(o){var a=this.jCal[s].length,l=0;if(o){for(var c=this.jCal[s],u=[];l<a;l++)o===c[l][r]&&u.push(this._hydrateComponent(l));return u}else{if(!this._components||this._hydratedComponentCount!==a)for(;l<a;l++)this._hydrateComponent(l);return this._components||[]}},hasProperty:function(o){for(var a=this.jCal[n],l=a.length,c=0;c<l;c++)if(a[c][r]===o)return!0;return!1},getFirstProperty:function(o){if(o){for(var a=0,l=this.jCal[n],c=l.length;a<c;a++)if(l[a][r]===o){var u=this._hydrateProperty(a);return u}}else if(this.jCal[n].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(o){var a=this.getFirstProperty(o);return a?a.getFirstValue():null},getAllProperties:function(o){var a=this.jCal[n].length,l=0;if(o){for(var c=this.jCal[n],u=[];l<a;l++)o===c[l][r]&&u.push(this._hydrateProperty(l));return u}else{if(!this._properties||this._hydratedPropertyCount!==a)for(;l<a;l++)this._hydrateProperty(l);return this._properties||[]}},_removeObjectByIndex:function(o,a,l){if(a=a||[],a[l]){var c=a[l];"parent"in c&&(c.parent=null)}a.splice(l,1),this.jCal[o].splice(l,1)},_removeObject:function(o,a,l){var c=0,u=this.jCal[o],f=u.length,h=this[a];if(typeof l=="string"){for(;c<f;c++)if(u[c][r]===l)return this._removeObjectByIndex(o,h,c),!0}else if(h){for(;c<f;c++)if(h[c]&&h[c]===l)return this._removeObjectByIndex(o,h,c),!0}return!1},_removeAllObjects:function(o,a,l){for(var c=this[a],u=this.jCal[o],f=u.length-1;f>=0;f--)(!l||u[f][r]===l)&&this._removeObjectByIndex(o,c,f)},addSubcomponent:function(o){this._components||(this._components=[],this._hydratedComponentCount=0),o.parent&&o.parent.removeSubcomponent(o);var a=this.jCal[s].push(o.jCal);return this._components[a-1]=o,this._hydratedComponentCount++,o.parent=this,o},removeSubcomponent:function(o){var a=this._removeObject(s,"_components",o);return a&&this._hydratedComponentCount--,a},removeAllSubcomponents:function(o){var a=this._removeAllObjects(s,"_components",o);return this._hydratedComponentCount=0,a},addProperty:function(o){if(!(o instanceof e.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),o.parent&&o.parent.removeProperty(o);var a=this.jCal[n].push(o.jCal);return this._properties[a-1]=o,this._hydratedPropertyCount++,o.parent=this,o},addPropertyWithValue:function(o,a){var l=new e.Property(o);return l.setValue(a),this.addProperty(l),l},updatePropertyWithValue:function(o,a){var l=this.getFirstProperty(o);return l?l.setValue(a):l=this.addPropertyWithValue(o,a),l},removeProperty:function(o){var a=this._removeObject(n,"_properties",o);return a&&this._hydratedPropertyCount--,a},removeAllProperties:function(o){var a=this._removeAllObjects(n,"_properties",o);return this._hydratedPropertyCount=0,a},toJSON:function(){return this.jCal},toString:function(){return e.stringify.component(this.jCal,this._designSet)}},i.fromString=function(o){return new i(e.parse.component(o))},i}(),e.Property=function(){var n=0,s=1,r=2,i=3,o=e.design;function a(l,c){this._parent=c||null,typeof l=="string"?(this.jCal=[l,{},o.defaultType],this.jCal[r]=this.getDefaultType()):this.jCal=l,this._updateType()}return a.prototype={get type(){return this.jCal[r]},get name(){return this.jCal[n]},get parent(){return this._parent},set parent(l){var c=!this._parent||l&&l._designSet!=this._parent._designSet;return this._parent=l,this.type==o.defaultType&&c&&(this.jCal[r]=this.getDefaultType(),this._updateType()),l},get _designSet(){return this.parent?this.parent._designSet:o.defaultSet},_updateType:function(){var l=this._designSet;this.type in l.value&&(l.value[this.type],"decorate"in l.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in l.property&&(this.isMultiValue="multiValue"in l.property[this.name],this.isStructuredValue="structuredValue"in l.property[this.name]))},_hydrateValue:function(l){return this._values&&this._values[l]?this._values[l]:this.jCal.length<=i+l?null:this.isDecorated?(this._values||(this._values=[]),this._values[l]=this._decorate(this.jCal[i+l])):this.jCal[i+l]},_decorate:function(l){return this._designSet.value[this.type].decorate(l,this)},_undecorate:function(l){return this._designSet.value[this.type].undecorate(l,this)},_setDecoratedValue:function(l,c){this._values||(this._values=[]),typeof l=="object"&&"icaltype"in l?(this.jCal[i+c]=this._undecorate(l),this._values[c]=l):(this.jCal[i+c]=l,this._values[c]=this._decorate(l))},getParameter:function(l){if(l in this.jCal[s])return this.jCal[s][l]},getFirstParameter:function(l){var c=this.getParameter(l);return Array.isArray(c)?c[0]:c},setParameter:function(l,c){var u=l.toLowerCase();typeof c=="string"&&u in this._designSet.param&&"multiValue"in this._designSet.param[u]&&(c=[c]),this.jCal[s][l]=c},removeParameter:function(l){delete this.jCal[s][l]},getDefaultType:function(){var l=this.jCal[n],c=this._designSet;if(l in c.property){var u=c.property[l];if("defaultType"in u)return u.defaultType}return o.defaultType},resetType:function(l){this.removeAllValues(),this.jCal[r]=l,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var l=this.jCal.length-i;if(l<1)return[];for(var c=0,u=[];c<l;c++)u[c]=this._hydrateValue(c);return u},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(l){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.\noverride isMultiValue`);var c=l.length,u=0;if(this.removeAllValues(),c>0&&typeof l[0]=="object"&&"icaltype"in l[0]&&this.resetType(l[0].icaltype),this.isDecorated)for(;u<c;u++)this._setDecoratedValue(l[u],u);else for(;u<c;u++)this.jCal[i+u]=l[u]},setValue:function(l){this.removeAllValues(),typeof l=="object"&&"icaltype"in l&&this.resetType(l.icaltype),this.isDecorated?this._setDecoratedValue(l,0):this.jCal[i]=l},toJSON:function(){return this.jCal},toICALString:function(){return e.stringify.property(this.jCal,this._designSet,!0)}},a.fromString=function(l,c){return new a(e.parse.property(l,c))},a}(),e.UtcOffset=function(){function n(s){this.fromData(s)}return n.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return e.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(s){if(s)for(var r in s)s.hasOwnProperty(r)&&(this[r]=s[r]);this._normalize()},fromSeconds:function(s){var r=Math.abs(s);return this.factor=s<0?-1:1,this.hours=e.helpers.trunc(r/3600),r-=this.hours*3600,this.minutes=e.helpers.trunc(r/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(r){var i=this.toSeconds(),o=r.toSeconds();return(i>o)-(o>i)},_normalize:function(){for(var s=this.toSeconds(),r=this.factor;s<-43200;)s+=97200;for(;s>50400;)s-=97200;this.fromSeconds(s),s==0&&(this.factor=r)},toICALString:function(){return e.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(this.factor==1?"+":"-")+e.helpers.pad2(this.hours)+":"+e.helpers.pad2(this.minutes)}},n.fromString=function(s){var r={};return r.factor=s[0]==="+"?1:-1,r.hours=e.helpers.strictParseInt(s.substr(1,2)),r.minutes=e.helpers.strictParseInt(s.substr(4,2)),new e.UtcOffset(r)},n.fromSeconds=function(s){var r=new n;return r.fromSeconds(s),r},n}(),e.Binary=function(){function n(s){this.value=s}return n.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(r){this.value=this._b64_encode(r)},_b64_encode:function(r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,a,l,c,u,f,h,d,m=0,p=0,y="",g=[];if(!r)return r;do o=r.charCodeAt(m++),a=r.charCodeAt(m++),l=r.charCodeAt(m++),d=o<<16|a<<8|l,c=d>>18&63,u=d>>12&63,f=d>>6&63,h=d&63,g[p++]=i.charAt(c)+i.charAt(u)+i.charAt(f)+i.charAt(h);while(m<r.length);y=g.join("");var T=r.length%3;return(T?y.slice(0,T-3):y)+"===".slice(T||3)},_b64_decode:function(r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,a,l,c,u,f,h,d,m=0,p=0,y="",g=[];if(!r)return r;r+="";do c=i.indexOf(r.charAt(m++)),u=i.indexOf(r.charAt(m++)),f=i.indexOf(r.charAt(m++)),h=i.indexOf(r.charAt(m++)),d=c<<18|u<<12|f<<6|h,o=d>>16&255,a=d>>8&255,l=d&255,f==64?g[p++]=String.fromCharCode(o):h==64?g[p++]=String.fromCharCode(o,a):g[p++]=String.fromCharCode(o,a,l);while(m<r.length);return y=g.join(""),y},toString:function(){return this.value}},n.fromString=function(s){return new n(s)},n}(),function(){e.Period=function(s){if(this.wrappedJSObject=this,s&&"start"in s){if(s.start&&!(s.start instanceof e.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=s.start}if(s&&s.end&&s.duration)throw new Error("cannot accept both end and duration");if(s&&"end"in s){if(s.end&&!(s.end instanceof e.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=s.end}if(s&&"duration"in s){if(s.duration&&!(s.duration instanceof e.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=s.duration}},e.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return e.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var n=this.start.clone();return n.addDuration(this.duration),n},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},e.Period.fromString=function(s,r){var i=s.split("/");if(i.length!==2)throw new Error(\'Invalid string value: "\'+s+\'" must contain a "/" char.\');var o={start:e.Time.fromDateTimeString(i[0],r)},a=i[1];return e.Duration.isValueString(a)?o.duration=e.Duration.fromString(a):o.end=e.Time.fromDateTimeString(a,r),new e.Period(o)},e.Period.fromData=function(s){return new e.Period(s)},e.Period.fromJSON=function(n,s,r){function i(o,a){return r?e.Time.fromString(o,a):e.Time.fromDateTimeString(o,a)}return e.Duration.isValueString(n[1])?e.Period.fromData({start:i(n[0],s),duration:e.Duration.fromString(n[1])}):e.Period.fromData({start:i(n[0],s),end:i(n[1],s)})}}(),function(){var n=/([PDWHMTS]{1,1})/;e.Duration=function(i){this.wrappedJSObject=this,this.fromData(i)},e.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return e.Duration.fromData(this)},toSeconds:function(){var i=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-i:i},fromSeconds:function(i){var o=Math.abs(i);return this.isNegative=i<0,this.days=e.helpers.trunc(o/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,o-=(this.days+7*this.weeks)*86400,this.hours=e.helpers.trunc(o/3600),o-=this.hours*3600,this.minutes=e.helpers.trunc(o/60),o-=this.minutes*60,this.seconds=o,this},fromData:function(i){var o=["weeks","days","hours","minutes","seconds","isNegative"];for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];i&&l in i?this[l]=i[l]:this[l]=0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(i){var o=this.toSeconds(),a=i.toSeconds();return(o>a)-(o<a)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(this.toSeconds()==0)return"PT0S";var i="";return this.isNegative&&(i+="-"),i+="P",this.weeks&&(i+=this.weeks+"W"),this.days&&(i+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(i+="T",this.hours&&(i+=this.hours+"H"),this.minutes&&(i+=this.minutes+"M"),this.seconds&&(i+=this.seconds+"S")),i},toICALString:function(){return this.toString()}},e.Duration.fromSeconds=function(i){return new e.Duration().fromSeconds(i)};function s(r,i,o){var a;switch(r){case"P":i&&i==="-"?o.isNegative=!0:o.isNegative=!1;break;case"D":a="days";break;case"W":a="weeks";break;case"H":a="hours";break;case"M":a="minutes";break;case"S":a="seconds";break;default:return 0}if(a){if(!i&&i!==0)throw new Error(\'invalid duration value: Missing number before "\'+r+\'"\');var l=parseInt(i,10);if(e.helpers.isStrictlyNaN(l))throw new Error(\'invalid duration value: Invalid number "\'+i+\'" before "\'+r+\'"\');o[a]=l}return 1}e.Duration.isValueString=function(r){return r[0]==="P"||r[1]==="P"},e.Duration.fromString=function(i){for(var o=0,a=Object.create(null),l=0;(o=i.search(n))!==-1;){var c=i[o],u=i.substr(0,o);i=i.substr(o+1),l+=s(c,u,a)}if(l<2)throw new Error(\'invalid duration value: Not enough duration components in "\'+i+\'"\');return new e.Duration(a)},e.Duration.fromData=function(i){return new e.Duration(i)}}(),function(){var n=["tzid","location","tznames","latitude","longitude"];e.Timezone=function(r){this.wrappedJSObject=this,this.fromData(r)},e.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(r){if(this.expandedUntilYear=0,this.changes=[],r instanceof e.Component)this.component=r;else{if(r&&"component"in r)if(typeof r.component=="string"){var i=e.parse(r.component);this.component=new e.Component(i)}else r.component instanceof e.Component?this.component=r.component:this.component=null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];r&&a in r&&(this[a]=r[a])}}return this.component instanceof e.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(r){if(this==e.Timezone.utcTimezone||this==e.Timezone.localTimezone||(this._ensureCoverage(r.year),!this.changes.length))return 0;for(var i={year:r.year,month:r.month,day:r.day,hour:r.hour,minute:r.minute,second:r.second},o=this._findNearbyChange(i),a=-1,l=1;;){var c=e.helpers.clone(this.changes[o],!0);c.utcOffset<c.prevUtcOffset?e.Timezone.adjust_change(c,0,0,0,c.utcOffset):e.Timezone.adjust_change(c,0,0,0,c.prevUtcOffset);var u=e.Timezone._compare_change_fn(i,c);if(u>=0?a=o:l=-1,l==-1&&a!=-1)break;if(o+=l,o<0)return 0;if(o>=this.changes.length)break}var f=this.changes[a],h=f.utcOffset-f.prevUtcOffset;if(h<0&&a>0){var d=e.helpers.clone(f,!0);if(e.Timezone.adjust_change(d,0,0,0,d.prevUtcOffset),e.Timezone._compare_change_fn(i,d)<0){var m=this.changes[a-1],p=!1;f.is_daylight!=p&&m.is_daylight==p&&(f=m)}}return f.utcOffset},_findNearbyChange:function(r){var i=e.helpers.binsearchInsert(this.changes,r,e.Timezone._compare_change_fn);return i>=this.changes.length?this.changes.length-1:i},_ensureCoverage:function(s){if(e.Timezone._minimumExpansionYear==-1){var r=e.Time.now();e.Timezone._minimumExpansionYear=r.year}var i=s;if(i<e.Timezone._minimumExpansionYear&&(i=e.Timezone._minimumExpansionYear),i+=e.Timezone.EXTRA_COVERAGE,i>e.Timezone.MAX_YEAR&&(i=e.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<s){for(var o=this.component.getAllSubcomponents(),a=o.length,l=0;l<a;l++)this._expandComponent(o[l],i,this.changes);this.changes.sort(e.Timezone._compare_change_fn),this.expandedUntilYear=i}},_expandComponent:function(s,r,i){if(!s.hasProperty("dtstart")||!s.hasProperty("tzoffsetto")||!s.hasProperty("tzoffsetfrom"))return null;var o=s.getFirstProperty("dtstart").getFirstValue(),a;function l(g){return g.factor*(g.hours*3600+g.minutes*60)}function c(){var g={};return g.is_daylight=s.name=="daylight",g.utcOffset=l(s.getFirstProperty("tzoffsetto").getFirstValue()),g.prevUtcOffset=l(s.getFirstProperty("tzoffsetfrom").getFirstValue()),g}if(!s.hasProperty("rrule")&&!s.hasProperty("rdate"))a=c(),a.year=o.year,a.month=o.month,a.day=o.day,a.hour=o.hour,a.minute=o.minute,a.second=o.second,e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset),i.push(a);else{var u=s.getAllProperties("rdate");for(var f in u)if(u.hasOwnProperty(f)){var h=u[f],d=h.getFirstValue();a=c(),a.year=d.year,a.month=d.month,a.day=d.day,d.isDate?(a.hour=o.hour,a.minute=o.minute,a.second=o.second,o.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset)):(a.hour=d.hour,a.minute=d.minute,a.second=d.second,d.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset)),i.push(a)}var m=s.getFirstProperty("rrule");if(m){m=m.getFirstValue(),a=c(),m.until&&m.until.zone==e.Timezone.utcTimezone&&(m.until.adjust(0,0,0,a.prevUtcOffset),m.until.zone=e.Timezone.localTimezone);for(var p=m.iterator(o),y;(y=p.next())&&(a=c(),!(y.year>r||!y));)a.year=y.year,a.month=y.month,a.day=y.day,a.hour=y.hour,a.minute=y.minute,a.second=y.second,a.isDate=y.isDate,e.Timezone.adjust_change(a,0,0,0,-a.prevUtcOffset),i.push(a)}}return i},toString:function(){return this.tznames?this.tznames:this.tzid}},e.Timezone._compare_change_fn=function(r,i){return r.year<i.year?-1:r.year>i.year?1:r.month<i.month?-1:r.month>i.month?1:r.day<i.day?-1:r.day>i.day?1:r.hour<i.hour?-1:r.hour>i.hour?1:r.minute<i.minute?-1:r.minute>i.minute?1:r.second<i.second?-1:r.second>i.second?1:0},e.Timezone.convert_time=function(r,i,o){if(r.isDate||i.tzid==o.tzid||i==e.Timezone.localTimezone||o==e.Timezone.localTimezone)return r.zone=o,r;var a=i.utcOffset(r);return r.adjust(0,0,0,-a),a=o.utcOffset(r),r.adjust(0,0,0,a),null},e.Timezone.fromData=function(r){var i=new e.Timezone;return i.fromData(r)},e.Timezone.utcTimezone=e.Timezone.fromData({tzid:"UTC"}),e.Timezone.localTimezone=e.Timezone.fromData({tzid:"floating"}),e.Timezone.adjust_change=function(r,i,o,a,l){return e.Time.prototype.adjust.call(r,i,o,a,l,r)},e.Timezone._minimumExpansionYear=-1,e.Timezone.MAX_YEAR=2035,e.Timezone.EXTRA_COVERAGE=5}(),e.TimezoneService=function(){var n,s={get count(){return Object.keys(n).length},reset:function(){n=Object.create(null);var r=e.Timezone.utcTimezone;n.Z=r,n.UTC=r,n.GMT=r},has:function(r){return!!n[r]},get:function(r){return n[r]},register:function(r,i){if(r instanceof e.Component&&r.name==="vtimezone"&&(i=new e.Timezone(r),r=i.tzid),i instanceof e.Timezone)n[r]=i;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(r){return delete n[r]}};return s.reset(),s}(),function(){e.Time=function(s,r){this.wrappedJSObject=this;var i=this._time=Object.create(null);i.year=0,i.month=1,i.day=1,i.hour=0,i.minute=0,i.second=0,i.isDate=!1,this.fromData(s,r)},e.Time._dowCache={},e.Time._wnCache={},e.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new e.Time(this._time,this.zone)},reset:function(){this.fromData(e.Time.epochTime),this.zone=e.Timezone.utcTimezone},resetTo:function(s,r,i,o,a,l,c){this.fromData({year:s,month:r,day:i,hour:o,minute:a,second:l,zone:c})},fromJSDate:function(s,r){return s?r?(this.zone=e.Timezone.utcTimezone,this.year=s.getUTCFullYear(),this.month=s.getUTCMonth()+1,this.day=s.getUTCDate(),this.hour=s.getUTCHours(),this.minute=s.getUTCMinutes(),this.second=s.getUTCSeconds()):(this.zone=e.Timezone.localTimezone,this.year=s.getFullYear(),this.month=s.getMonth()+1,this.day=s.getDate(),this.hour=s.getHours(),this.minute=s.getMinutes(),this.second=s.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(s,r){if(s){for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(i==="icaltype")continue;this[i]=s[i]}}if(r&&(this.zone=r),s&&!("isDate"in s)?this.isDate=!("hour"in s):s&&"isDate"in s&&(this.isDate=s.isDate),s&&"timezone"in s){var o=e.TimezoneService.get(s.timezone);this.zone=o||e.Timezone.localTimezone}return s&&"zone"in s&&(this.zone=s.zone),this.zone||(this.zone=e.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(s){var r=s||e.Time.SUNDAY,i=(this.year<<12)+(this.month<<8)+(this.day<<3)+r;if(i in e.Time._dowCache)return e.Time._dowCache[i];var o=this.day,a=this.month+(this.month<3?12:0),l=this.year-(this.month<3?1:0),c=o+l+e.helpers.trunc((a+1)*26/10)+e.helpers.trunc(l/4);return c+=e.helpers.trunc(l/100)*6+e.helpers.trunc(l/400),c=(c+7-r)%7+1,e.Time._dowCache[i]=c,c},dayOfYear:function(){var s=e.Time.isLeapYear(this.year)?1:0,r=e.Time.daysInYearPassedMonth;return r[s][this.month-1]+this.day},startOfWeek:function(s){var r=s||e.Time.SUNDAY,i=this.clone();return i.day-=(this.dayOfWeek()+7-r)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i},endOfWeek:function(s){var r=s||e.Time.SUNDAY,i=this.clone();return i.day+=(7-this.dayOfWeek()+r-e.Time.SUNDAY)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i},startOfMonth:function(){var s=this.clone();return s.day=1,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},endOfMonth:function(){var s=this.clone();return s.day=e.Time.daysInMonth(s.month,s.year),s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},startOfYear:function(){var s=this.clone();return s.day=1,s.month=1,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},endOfYear:function(){var s=this.clone();return s.day=31,s.month=12,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},startDoyWeek:function(s){var r=s||e.Time.SUNDAY,i=this.dayOfWeek()-r;return i<0&&(i+=7),this.dayOfYear()-i},getDominicalLetter:function(){return e.Time.getDominicalLetter(this.year)},nthWeekDay:function(s,r){var i=e.Time.daysInMonth(this.month,this.year),o,a=r,l=0,c=this.clone();if(a>=0){c.day=1,a!=0&&a--,l=c.day;var u=c.dayOfWeek(),f=s-u;f<0&&(f+=7),l+=f,l-=s,o=s}else{c.day=i;var h=c.dayOfWeek();a++,o=h-s,o<0&&(o+=7),o=i-o}return o+=a*7,l+o},isNthWeekDay:function(n,s){var r=this.dayOfWeek();if(s===0&&r===n)return!0;var i=this.nthWeekDay(n,s);return i===this.day},weekNumber:function(s){var r=(this.year<<12)+(this.month<<8)+(this.day<<3)+s;if(r in e.Time._wnCache)return e.Time._wnCache[r];var i,o=this.clone();o.isDate=!0;var a=this.year;o.month==12&&o.day>25?(i=e.Time.weekOneStarts(a+1,s),o.compare(i)<0?i=e.Time.weekOneStarts(a,s):a++):(i=e.Time.weekOneStarts(a,s),o.compare(i)<0&&(i=e.Time.weekOneStarts(--a,s)));var l=o.subtractDate(i).toSeconds()/86400,c=e.helpers.trunc(l/7)+1;return e.Time._wnCache[r]=c,c},addDuration:function(s){var r=s.isNegative?-1:1,i=this.second,o=this.minute,a=this.hour,l=this.day;i+=r*s.seconds,o+=r*s.minutes,a+=r*s.hours,l+=r*s.days,l+=r*7*s.weeks,this.second=i,this.minute=o,this.hour=a,this.day=l,this._cachedUnixTime=null},subtractDate:function(s){var r=this.toUnixTime()+this.utcOffset(),i=s.toUnixTime()+s.utcOffset();return e.Duration.fromSeconds(r-i)},subtractDateTz:function(s){var r=this.toUnixTime(),i=s.toUnixTime();return e.Duration.fromSeconds(r-i)},compare:function(s){var r=this.toUnixTime(),i=s.toUnixTime();return r>i?1:i>r?-1:0},compareDateOnlyTz:function(s,r){function i(c){return e.Time._cmp_attr(o,a,c)}var o=this.convertToZone(r),a=s.convertToZone(r),l=0;return(l=i("year"))!=0||(l=i("month"))!=0||(l=i("day"))!=0,l},convertToZone:function(s){var r=this.clone(),i=this.zone.tzid==s.tzid;return!this.isDate&&!i&&e.Timezone.convert_time(r,this.zone,s),r.zone=s,r},utcOffset:function(){return this.zone==e.Timezone.localTimezone||this.zone==e.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var n=this.toString();return n.length>10?e.design.icalendar.value["date-time"].toICAL(n):e.design.icalendar.value.date.toICAL(n)},toString:function(){var s=this.year+"-"+e.helpers.pad2(this.month)+"-"+e.helpers.pad2(this.day);return this.isDate||(s+="T"+e.helpers.pad2(this.hour)+":"+e.helpers.pad2(this.minute)+":"+e.helpers.pad2(this.second),this.zone===e.Timezone.utcTimezone&&(s+="Z")),s},toJSDate:function(){return this.zone==e.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)},_normalize:function(){return this._time.isDate,this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(s,r,i,o,a){var l,c,u=0,f=0,h,d,m,p,y,g=a||this._time;if(g.isDate||(h=g.second+o,g.second=h%60,l=e.helpers.trunc(h/60),g.second<0&&(g.second+=60,l--),d=g.minute+i+l,g.minute=d%60,c=e.helpers.trunc(d/60),g.minute<0&&(g.minute+=60,c--),m=g.hour+r+c,g.hour=m%24,u=e.helpers.trunc(m/24),g.hour<0&&(g.hour+=24,u--)),g.month>12?f=e.helpers.trunc((g.month-1)/12):g.month<1&&(f=e.helpers.trunc(g.month/12)-1),g.year+=f,g.month-=12*f,p=g.day+s+u,p>0)for(;y=e.Time.daysInMonth(g.month,g.year),!(p<=y);)g.month++,g.month>12&&(g.year++,g.month=1),p-=y;else for(;p<=0;)g.month==1?(g.year--,g.month=12):g.month--,p+=e.Time.daysInMonth(g.month,g.year);return g.day=p,this._cachedUnixTime=null,this},fromUnixTime:function(s){this.zone=e.Timezone.utcTimezone;var r=e.Time.epochTime.clone();r.adjust(0,0,0,s),this.year=r.year,this.month=r.month,this.day=r.day,this.hour=r.hour,this.minute=r.minute,this.second=Math.floor(r.second),this._cachedUnixTime=null},toUnixTime:function(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;var s=this.utcOffset(),r=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-s);return this._cachedUnixTime=r/1e3,this._cachedUnixTime},toJSON:function(){for(var n=["year","month","day","hour","minute","second","isDate"],s=Object.create(null),r=0,i=n.length,o;r<i;r++)o=n[r],s[o]=this[o];return this.zone&&(s.timezone=this.zone.tzid),s}},function(){function s(r){Object.defineProperty(e.Time.prototype,r,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[r]},set:function(o){return r==="isDate"&&o&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[r]=o,o}})}"defineProperty"in Object&&(s("year"),s("month"),s("day"),s("hour"),s("minute"),s("second"),s("isDate"))}(),e.Time.daysInMonth=function(s,r){var i=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=30;return s<1||s>12||(o=i[s],s==2&&(o+=e.Time.isLeapYear(r))),o},e.Time.isLeapYear=function(s){return s<=1752?s%4==0:s%4==0&&s%100!=0||s%400==0},e.Time.fromDayOfYear=function(s,r){var i=r,o=s,a=new e.Time;a.auto_normalize=!1;var l=e.Time.isLeapYear(i)?1:0;if(o<1)return i--,l=e.Time.isLeapYear(i)?1:0,o+=e.Time.daysInYearPassedMonth[l][12],e.Time.fromDayOfYear(o,i);if(o>e.Time.daysInYearPassedMonth[l][12])return l=e.Time.isLeapYear(i)?1:0,o-=e.Time.daysInYearPassedMonth[l][12],i++,e.Time.fromDayOfYear(o,i);a.year=i,a.isDate=!0;for(var c=11;c>=0;c--)if(o>e.Time.daysInYearPassedMonth[l][c]){a.month=c+1,a.day=o-e.Time.daysInYearPassedMonth[l][c];break}return a.auto_normalize=!0,a},e.Time.fromStringv2=function(s){return new e.Time({year:parseInt(s.substr(0,4),10),month:parseInt(s.substr(5,2),10),day:parseInt(s.substr(8,2),10),isDate:!0})},e.Time.fromDateString=function(n){return new e.Time({year:e.helpers.strictParseInt(n.substr(0,4)),month:e.helpers.strictParseInt(n.substr(5,2)),day:e.helpers.strictParseInt(n.substr(8,2)),isDate:!0})},e.Time.fromDateTimeString=function(n,s){if(n.length<19)throw new Error(\'invalid date-time value: "\'+n+\'"\');var r;n[19]&&n[19]==="Z"?r="Z":s&&(r=s.getParameter("tzid"));var i=new e.Time({year:e.helpers.strictParseInt(n.substr(0,4)),month:e.helpers.strictParseInt(n.substr(5,2)),day:e.helpers.strictParseInt(n.substr(8,2)),hour:e.helpers.strictParseInt(n.substr(11,2)),minute:e.helpers.strictParseInt(n.substr(14,2)),second:e.helpers.strictParseInt(n.substr(17,2)),timezone:r});return i},e.Time.fromString=function(s,r){return s.length>10?e.Time.fromDateTimeString(s,r):e.Time.fromDateString(s)},e.Time.fromJSDate=function(s,r){var i=new e.Time;return i.fromJSDate(s,r)},e.Time.fromData=function(s,r){var i=new e.Time;return i.fromData(s,r)},e.Time.now=function(){return e.Time.fromJSDate(new Date,!1)},e.Time.weekOneStarts=function(s,r){var i=e.Time.fromData({year:s,month:1,day:1,isDate:!0}),o=i.dayOfWeek(),a=r||e.Time.DEFAULT_WEEK_START;return o>e.Time.THURSDAY&&(i.day+=7),a>e.Time.THURSDAY&&(i.day-=7),i.day-=o-a,i},e.Time.getDominicalLetter=function(n){var s="GFEDCBA",r=(n+(n/4|0)+(n/400|0)-(n/100|0)-1)%7,i=e.Time.isLeapYear(n);return i?s[(r+6)%7]+s[r]:s[r]},e.Time.epochTime=e.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),e.Time._cmp_attr=function(s,r,i){return s[i]>r[i]?1:s[i]<r[i]?-1:0},e.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],e.Time.SUNDAY=1,e.Time.MONDAY=2,e.Time.TUESDAY=3,e.Time.WEDNESDAY=4,e.Time.THURSDAY=5,e.Time.FRIDAY=6,e.Time.SATURDAY=7,e.Time.DEFAULT_WEEK_START=e.Time.MONDAY}(),function(){e.VCardTime=function(n,s,r){this.wrappedJSObject=this;var i=this._time=Object.create(null);i.year=null,i.month=null,i.day=null,i.hour=null,i.minute=null,i.second=null,this.icaltype=r||"date-and-or-time",this.fromData(n,s)},e.helpers.inherits(e.Time,e.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new e.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof e.UtcOffset?this.zone.toSeconds():e.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return e.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var s=e.helpers.pad2,r=this.year,i=this.month,o=this.day,a=this.hour,l=this.minute,c=this.second,u=r!==null,f=i!==null,h=o!==null,d=a!==null,m=l!==null,p=c!==null,y=(u?s(r)+(f||h?"-":""):f||h?"--":"")+(f?s(i):"")+(h?"-"+s(o):""),g=(d?s(a):"-")+(d&&m?":":"")+(m?s(l):"")+(!d&&!m?"-":"")+(m&&p?":":"")+(p?s(c):""),T;if(this.zone===e.Timezone.utcTimezone)T="Z";else if(this.zone instanceof e.UtcOffset)T=this.zone.toString();else if(this.zone===e.Timezone.localTimezone)T="";else if(this.zone instanceof e.Timezone){var I=e.UtcOffset.fromSeconds(this.zone.utcOffset(this));T=I.toString()}else T="";switch(this.icaltype){case"time":return g+T;case"date-and-or-time":case"date-time":return y+(g=="--"?"":"T"+g+T);case"date":return y}return null}}),e.VCardTime.fromDateAndOrTimeString=function(n,s){function r(y,g,T){return y?e.helpers.strictParseInt(y.substr(g,T)):null}var i=n.split("T"),o=i[0],a=i[1],l=a?e.design.vcard.value.time._splitZone(a):[],c=l[0],u=l[1];e.helpers.strictParseInt;var f=o?o.length:0,h=u?u.length:0,d=o&&o[0]=="-"&&o[1]=="-",m=u&&u[0]=="-",p={year:d?null:r(o,0,4),month:d&&(f==4||f==7)?r(o,2,2):f==7||f==10?r(o,5,2):null,day:f==5?r(o,3,2):f==7&&d?r(o,5,2):f==10?r(o,8,2):null,hour:m?null:r(u,0,2),minute:m&&h==3?r(u,1,2):h>4?m?r(u,1,2):r(u,3,2):null,second:h==4?r(u,2,2):h==6?r(u,4,2):h==8?r(u,6,2):null};return c=="Z"?c=e.Timezone.utcTimezone:c&&c[3]==":"?c=e.UtcOffset.fromString(c):c=null,new e.VCardTime(p,c,s)}}(),function(){var n={SU:e.Time.SUNDAY,MO:e.Time.MONDAY,TU:e.Time.TUESDAY,WE:e.Time.WEDNESDAY,TH:e.Time.THURSDAY,FR:e.Time.FRIDAY,SA:e.Time.SATURDAY},s={};for(var r in n)n.hasOwnProperty(r)&&(s[n[r]]=r);e.Recur=function(h){this.wrappedJSObject=this,this.parts={},h&&typeof h=="object"&&this.fromData(h)},e.Recur.prototype={parts:null,interval:1,wkst:e.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(f){return new e.RecurIterator({rule:this,dtstart:f})},clone:function(){return new e.Recur(this.toJSON())},isFinite:function(){return!!(this.count||this.until)},isByCount:function(){return!!(this.count&&!this.until)},addComponent:function(h,d){var m=h.toUpperCase();m in this.parts?this.parts[m].push(d):this.parts[m]=[d]},setComponent:function(h,d){this.parts[h.toUpperCase()]=d.slice()},getComponent:function(h){var d=h.toUpperCase();return d in this.parts?this.parts[d].slice():[]},getNextOccurrence:function(h,d){var m=this.iterator(h),p;do p=m.next();while(p&&p.compare(d)<=0);return p&&d.zone&&(p.zone=d.zone),p},fromData:function(f){for(var h in f){var d=h.toUpperCase();d in u?Array.isArray(f[h])?this.parts[d]=f[h]:this.parts[d]=[f[h]]:this[h]=f[h]}this.interval&&typeof this.interval!="number"&&c.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=e.Recur.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof e.Time)&&(this.until=e.Time.fromString(this.until))},toJSON:function(){var f=Object.create(null);f.freq=this.freq,this.count&&(f.count=this.count),this.interval>1&&(f.interval=this.interval);for(var h in this.parts)if(this.parts.hasOwnProperty(h)){var d=this.parts[h];Array.isArray(d)&&d.length==1?f[h.toLowerCase()]=d[0]:f[h.toLowerCase()]=e.helpers.clone(this.parts[h])}return this.until&&(f.until=this.until.toString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(f.wkst=e.Recur.numericDayToIcalDay(this.wkst)),f},toString:function(){var h="FREQ="+this.freq;this.count&&(h+=";COUNT="+this.count),this.interval>1&&(h+=";INTERVAL="+this.interval);for(var d in this.parts)this.parts.hasOwnProperty(d)&&(h+=";"+d+"="+this.parts[d]);return this.until&&(h+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(h+=";WKST="+e.Recur.numericDayToIcalDay(this.wkst)),h}};function i(f,h,d,m){var p=m;if(m[0]==="+"&&(p=m.substr(1)),p=e.helpers.strictParseInt(p),h!==void 0&&m<h)throw new Error(f+\': invalid value "\'+m+\'" must be > \'+h);if(d!==void 0&&m>d)throw new Error(f+\': invalid value "\'+m+\'" must be < \'+h);return p}e.Recur.icalDayToNumericDay=function(h,d){var m=d||e.Time.SUNDAY;return(n[h]-m+7)%7+1},e.Recur.numericDayToIcalDay=function(h,d){var m=d||e.Time.SUNDAY,p=h+m-e.Time.SUNDAY;return p>7&&(p-=7),s[p]};var o=/^(SU|MO|TU|WE|TH|FR|SA)$/,a=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,l=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],c={FREQ:function(f,h,d){if(l.indexOf(f)!==-1)h.freq=f;else throw new Error(\'invalid frequency "\'+f+\'" expected: "\'+l.join(", ")+\'"\')},COUNT:function(f,h,d){h.count=e.helpers.strictParseInt(f)},INTERVAL:function(f,h,d){h.interval=e.helpers.strictParseInt(f),h.interval<1&&(h.interval=1)},UNTIL:function(f,h,d){f.length>10?h.until=e.design.icalendar.value["date-time"].fromICAL(f):h.until=e.design.icalendar.value.date.fromICAL(f),d||(h.until=e.Time.fromString(h.until))},WKST:function(f,h,d){if(o.test(f))h.wkst=e.Recur.icalDayToNumericDay(f);else throw new Error(\'invalid WKST value "\'+f+\'"\')}},u={BYSECOND:i.bind(this,"BYSECOND",0,60),BYMINUTE:i.bind(this,"BYMINUTE",0,59),BYHOUR:i.bind(this,"BYHOUR",0,23),BYDAY:function(f){if(a.test(f))return f;throw new Error(\'invalid BYDAY value "\'+f+\'"\')},BYMONTHDAY:i.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:i.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:i.bind(this,"BYWEEKNO",-53,53),BYMONTH:i.bind(this,"BYMONTH",1,12),BYSETPOS:i.bind(this,"BYSETPOS",-366,366)};e.Recur.fromString=function(f){var h=e.Recur._stringToData(f,!1);return new e.Recur(h)},e.Recur.fromData=function(f){return new e.Recur(f)},e.Recur._stringToData=function(f,h){for(var d=Object.create(null),m=f.split(";"),p=m.length,y=0;y<p;y++){var g=m[y].split("="),T=g[0].toUpperCase(),I=g[0].toLowerCase(),E=h?I:T,_=g[1];if(T in u){for(var b=_.split(","),k=0,D=b.length;k<D;k++)b[k]=u[T](b[k]);d[E]=b.length==1?b[0]:b}else T in c?c[T](_,d,h):d[I]=_}return d}}(),e.RecurIterator=function(){function n(s){this.fromData(s)}return n.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(s){if(this.rule=e.helpers.formatClassType(s.rule,e.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=e.helpers.formatClassType(s.dtstart,e.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");s.by_data?this.by_data=s.by_data:this.by_data=e.helpers.clone(this.rule.parts,!0),s.occurrence_number&&(this.occurrence_number=s.occurrence_number),this.days=s.days||[],s.last&&(this.last=e.helpers.formatClassType(s.last,e.Time)),this.by_indices=s.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=s.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var r=this.by_data;if("BYDAY"in r&&this.sort_byday_rules(r.BYDAY),"BYYEARDAY"in r&&("BYMONTH"in r||"BYWEEKNO"in r||"BYMONTHDAY"in r||"BYDAY"in r))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in r&&"BYMONTHDAY"in r)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in r||"BYWEEKNO"in r))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in r||"BYMONTHDAY"in r))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in r)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in r){var i=this.ruleDayOfWeek(r.BYDAY[0],this.rule.wkst),o=i[0],a=i[1],l=a-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<a&&l>=0||l<0)&&(this.last.day+=l)}else{var c=e.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());r.BYDAY=[c]}if(this.rule.freq=="YEARLY"){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if(this.rule.freq=="MONTHLY"&&this.has_by_data("BYDAY")){var u=null,f=this.last.clone(),h=e.Time.daysInMonth(this.last.month,this.last.year);for(var d in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(d)){this.last=f.clone();var i=this.ruleDayOfWeek(this.by_data.BYDAY[d]),o=i[0],a=i[1],m=this.last.nthWeekDay(a,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(m>h||m<=0){if(u&&u.month==f.month)continue;for(;m>h||m<=0;)this.increment_month(),h=e.Time.daysInMonth(this.last.month,this.last.year),m=this.last.nthWeekDay(a,o)}this.last.day=m,(!u||this.last.compare(u)<0)&&(u=this.last.clone())}if(this.last=u.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>h||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var h=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day=h+this.last.day+1}},next:function(){var r=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var i;do switch(i=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":i=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!i);if(this.last.compare(r)==0)throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(r){return this.increment_generic(r,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(r){return this.increment_generic(r,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(r){this.increment_generic(r,"hour",24,"monthday")},next_day:function(){"BYDAY"in this.by_data;var r=this.rule.freq=="DAILY";return this.next_hour()==0||(r?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0},next_week:function(){var r=0;if(this.next_weekday_by_week()==0)return r;if(this.has_by_data("BYWEEKNO")){++this.by_indices.BYWEEKNO,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,r=1),this.last.month=1,this.last.day=1;var i=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*i,r&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return r},normalizeByMonthDayRules:function(s,r,i){for(var o=e.Time.daysInMonth(r,s),a=[],l=0,c=i.length,u;l<c;l++)if(u=i[l],!(Math.abs(u)>o)){if(u<0)u=o+(u+1);else if(u===0)continue;a.indexOf(u)===-1&&a.push(u)}return a.sort(function(f,h){return f-h})},_byDayAndMonthDay:function(s){var r,i=this.by_data.BYDAY,o,a=0,l,c=i.length,u=0,f,h=this,d=this.last.day;function m(){for(f=e.Time.daysInMonth(h.last.month,h.last.year),r=h.normalizeByMonthDayRules(h.last.year,h.last.month,h.by_data.BYMONTHDAY),l=r.length;r[a]<=d&&!(s&&r[a]==d)&&a<l-1;)a++}function p(){d=0,h.increment_month(),a=0,m()}m(),s&&(d-=1);for(var y=48;!u&&y;){if(y--,o=d+1,o>f){p();continue}var g=r[a++];if(g>=o)d=g;else{p();continue}for(var T=0;T<c;T++){var I=this.ruleDayOfWeek(i[T]),E=I[0],_=I[1];if(this.last.day=d,this.last.isNthWeekDay(_,E)){u=1;break}}if(!u&&a===l){p();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return u},next_month:function(){this.rule.freq=="MONTHLY";var r=1;if(this.next_hour()==0)return r;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))r=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var i=e.Time.daysInMonth(this.last.month,this.last.year),o=0,a=0;if(this.has_by_data("BYSETPOS")){for(var l=this.last.day,c=1;c<=i;c++)this.last.day=c,this.is_day_in_byday(this.last)&&(a++,c<=l&&o++);this.last.day=l}r=0;for(var c=this.last.day+1;c<=i;c++)if(this.last.day=c,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++o)||this.check_set_position(o-a-1))){r=1;break}c>i&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(r=1):r=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var i=e.Time.daysInMonth(this.last.month,this.last.year),c=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];c<0&&(c=i+c+1),c>i?(this.last.day=1,r=this.is_day_in_byday(this.last)):this.last.day=c}else{this.increment_month();var i=e.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>i?r=0:this.last.day=this.by_data.BYMONTHDAY[0]}return r},next_weekday_by_week:function(){var r=0;if(this.next_hour()==0)return r;if(!this.has_by_data("BYDAY"))return 1;for(;;){var i=new e.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,r=1);var o=this.by_data.BYDAY[this.by_indices.BYDAY],a=this.ruleDayOfWeek(o),l=a[1];l-=this.rule.wkst,l<0&&(l+=7),i.year=this.last.year,i.month=this.last.month,i.day=this.last.day;var c=i.startDoyWeek(this.rule.wkst);if(!(l+c<1&&!r)){var u=e.Time.fromDayOfYear(c+l,this.last.year);return this.last.year=u.year,this.last.month=u.month,this.last.day=u.day,r}}},next_year:function(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1},_nextByYearDay:function(){var r=this.days[this.days_index],i=this.last.year;r<1&&(r+=1,i+=1);var o=e.Time.fromDayOfYear(r,i);this.last.day=o.day,this.last.month=o.month},ruleDayOfWeek:function(r,i){var o=r.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(o){var a=parseInt(o[1]||0,10);return r=e.Recur.icalDayToNumericDay(o[2],i),[a,r]}else return[0,0]},next_generic:function(r,i,o,a,l){var c=r in this.by_data,u=this.rule.freq==i,f=0;if(l&&this[l]()==0)return f;if(c){this.by_indices[r]++,this.by_indices[r];var h=this.by_data[r];this.by_indices[r]==h.length&&(this.by_indices[r]=0,f=1),this.last[o]=h[this.by_indices[r]]}else u&&this["increment_"+o](this.rule.interval);return c&&f&&u&&this["increment_"+a](1),f},increment_monthday:function(r){for(var i=0;i<r;i++){var o=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>o&&(this.last.day-=o,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var r=e.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,r!=0&&this.increment_year(r)}},increment_year:function(r){this.last.year+=r},increment_generic:function(r,i,o,a){this.last[i]+=r;var l=e.helpers.trunc(this.last[i]/o);this.last[i]%=o,l!=0&&this["increment_"+a](l)},has_by_data:function(r){return r in this.rule.parts},expand_year_days:function(r){var i=new e.Time;this.days=[];var o={},a=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];c in this.rule.parts&&(o[c]=this.rule.parts[c])}if("BYMONTH"in o&&"BYWEEKNO"in o){var u=1,f={};i.year=r,i.isDate=!0;for(var h=0;h<this.by_data.BYMONTH.length;h++){var d=this.by_data.BYMONTH[h];i.month=d,i.day=1;var m=i.weekNumber(this.rule.wkst);i.day=e.Time.daysInMonth(d,r);var p=i.weekNumber(this.rule.wkst);for(h=m;h<p;h++)f[h]=1}for(var y=0;y<this.by_data.BYWEEKNO.length&&u;y++){var g=this.by_data.BYWEEKNO[y];g<52?u&=f[y]:u=0}u?delete o.BYMONTH:delete o.BYWEEKNO}var T=Object.keys(o).length;if(T==0){var I=this.dtstart.clone();I.year=this.last.year,this.days.push(I.dayOfYear())}else if(T==1&&"BYMONTH"in o){for(var E in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(E)){var _=this.dtstart.clone();_.year=r,_.month=this.by_data.BYMONTH[E],_.isDate=!0,this.days.push(_.dayOfYear())}}else if(T==1&&"BYMONTHDAY"in o){for(var b in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(b)){var k=this.dtstart.clone(),D=this.by_data.BYMONTHDAY[b];if(D<0){var A=e.Time.daysInMonth(k.month,r);D=D+A+1}k.day=D,k.year=r,k.isDate=!0,this.days.push(k.dayOfYear())}}else if(T==2&&"BYMONTHDAY"in o&&"BYMONTH"in o){for(var E in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(E)){var z=this.by_data.BYMONTH[E],A=e.Time.daysInMonth(z,r);for(var b in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(b)){var D=this.by_data.BYMONTHDAY[b];D<0&&(D=D+A+1),i.day=D,i.month=z,i.year=r,i.isDate=!0,this.days.push(i.dayOfYear())}}}else if(!(T==1&&"BYWEEKNO"in o)){if(!(T==2&&"BYWEEKNO"in o&&"BYMONTHDAY"in o))if(T==1&&"BYDAY"in o)this.days=this.days.concat(this.expand_by_day(r));else if(T==2&&"BYDAY"in o&&"BYMONTH"in o){for(var E in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(E)){var d=this.by_data.BYMONTH[E],A=e.Time.daysInMonth(d,r);i.year=r,i.month=this.by_data.BYMONTH[E],i.day=1,i.isDate=!0;var X=i.dayOfWeek(),L=i.dayOfYear()-1;i.day=A;var re=i.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var he=[],de=1;de<=A;de++)i.day=de,this.is_day_in_byday(i)&&he.push(de);for(var J=0;J<he.length;J++)(this.check_set_position(J+1)||this.check_set_position(J-he.length))&&this.days.push(L+he[J])}else for(var te in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(te)){var S=this.by_data.BYDAY[te],G=this.ruleDayOfWeek(S),F=G[0],Q=G[1],ve,He=(Q+7-X)%7+1,We=A-(re+7-Q)%7;if(F==0)for(var de=He;de<=A;de+=7)this.days.push(L+de);else F>0?(ve=He+(F-1)*7,ve<=A&&this.days.push(L+ve)):(ve=We+(F+1)*7,ve>0&&this.days.push(L+ve))}}this.days.sort(function(ie,q){return ie-q})}else if(T==2&&"BYDAY"in o&&"BYMONTHDAY"in o){var at=this.expand_by_day(r);for(var Ye in at)if(at.hasOwnProperty(Ye)){var de=at[Ye],$=e.Time.fromDayOfYear(de,r);this.by_data.BYMONTHDAY.indexOf($.day)>=0&&this.days.push(de)}}else if(T==3&&"BYDAY"in o&&"BYMONTHDAY"in o&&"BYMONTH"in o){var at=this.expand_by_day(r);for(var Ye in at)if(at.hasOwnProperty(Ye)){var de=at[Ye],$=e.Time.fromDayOfYear(de,r);this.by_data.BYMONTH.indexOf($.month)>=0&&this.by_data.BYMONTHDAY.indexOf($.day)>=0&&this.days.push(de)}}else if(T==2&&"BYDAY"in o&&"BYWEEKNO"in o){var at=this.expand_by_day(r);for(var Ye in at)if(at.hasOwnProperty(Ye)){var de=at[Ye],$=e.Time.fromDayOfYear(de,r),g=$.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(g)&&this.days.push(de)}}else T==3&&"BYDAY"in o&&"BYWEEKNO"in o&&"BYMONTHDAY"in o||(T==1&&"BYYEARDAY"in o?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}return 0},expand_by_day:function(r){var i=[],o=this.last.clone();o.year=r,o.month=1,o.day=1,o.isDate=!0;var a=o.dayOfWeek();o.month=12,o.day=31,o.isDate=!0;var l=o.dayOfWeek(),c=o.dayOfYear();for(var u in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(u)){var f=this.by_data.BYDAY[u],h=this.ruleDayOfWeek(f),d=h[0],m=h[1];if(d==0)for(var p=(m+7-a)%7+1,y=p;y<=c;y+=7)i.push(y);else if(d>0){var g;m>=a?g=m-a+1:g=m-a+8,i.push(g+(d-1)*7)}else{var T;d=-d,m<=l?T=c-l+m:T=c-l+m-7,i.push(T-(d-1)*7)}}return i},is_day_in_byday:function(r){for(var i in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(i)){var o=this.by_data.BYDAY[i],a=this.ruleDayOfWeek(o),l=a[0],c=a[1],u=r.dayOfWeek();if(l==0&&c==u||r.nthWeekDay(c,l)==r.day)return 1}return 0},check_set_position:function(r){if(this.has_by_data("BYSETPOS")){var i=this.by_data.BYSETPOS.indexOf(r);return i!==-1}return!1},sort_byday_rules:function(r){for(var i=0;i<r.length;i++)for(var o=0;o<i;o++){var a=this.ruleDayOfWeek(r[o],this.rule.wkst)[1],l=this.ruleDayOfWeek(r[i],this.rule.wkst)[1];if(a>l){var c=r[i];r[i]=r[o],r[o]=c}}},check_contract_restriction:function(r,i){var o=n._indexMap[r],a=n._expandMap[this.rule.freq][o],l=!1;if(r in this.by_data&&a==n.CONTRACT){var c=this.by_data[r];for(var u in c)if(c.hasOwnProperty(u)&&c[u]==i){l=!0;break}}else l=!0;return l},check_contracting_rules:function(){var r=this.last.dayOfWeek(),i=this.last.weekNumber(this.rule.wkst),o=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",e.Recur.numericDayToIcalDay(r))&&this.check_contract_restriction("BYWEEKNO",i)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",o)},setup_defaults:function(r,i,o){var a=n._indexMap[r],l=n._expandMap[this.rule.freq][a];return l!=n.CONTRACT&&(r in this.by_data||(this.by_data[r]=[o]),this.rule.freq!=i)?this.by_data[r][0]:o},toJSON:function(){var s=Object.create(null);return s.initialized=this.initialized,s.rule=this.rule.toJSON(),s.dtstart=this.dtstart.toJSON(),s.by_data=this.by_data,s.days=this.days,s.last=this.last.toJSON(),s.by_indices=this.by_indices,s.occurrence_number=this.occurrence_number,s}},n._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},n._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},n.UNKNOWN=0,n.CONTRACT=1,n.EXPAND=2,n.ILLEGAL=3,n}(),e.RecurExpansion=function(){function n(o){return e.helpers.formatClassType(o,e.Time)}function s(o,a){return o.compare(a)}function r(o){return o.hasProperty("rdate")||o.hasProperty("rrule")||o.hasProperty("recurrence-id")}function i(o){this.ruleDates=[],this.exDates=[],this.fromData(o)}return i.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(o){var a=e.helpers.formatClassType(o.dtstart,e.Time);if(a)this.dtstart=a;else throw new Error(".dtstart (ICAL.Time) must be given");if(o.component)this._init(o.component);else{if(this.last=n(o.last)||a.clone(),!o.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=o.ruleIterators.map(function(l){return e.helpers.formatClassType(l,e.RecurIterator)}),this.ruleDateInc=o.ruleDateInc,this.exDateInc=o.exDateInc,o.ruleDates&&(this.ruleDates=o.ruleDates.map(n),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.exDates&&(this.exDates=o.exDates.map(n),this.exDate=this.exDates[this.exDateInc]),typeof o.complete<"u"&&(this.complete=o.complete)}},next:function(){for(var o,a,l,c=500,u=0;;){if(u++>c)throw new Error("max tries have occured, rule may be impossible to forfill.");if(a=this.ruleDate,o=this._nextRecurrenceIter(this.last),!a&&!o){this.complete=!0;break}if((!a||o&&a.compare(o.last)>0)&&(a=o.last.clone(),o.next()),this.ruleDate===a&&this._nextRuleDay(),this.last=a,this.exDate&&(l=this.exDate.compare(this.last),l<0&&this._nextExDay(),l===0)){this._nextExDay();continue}return this.last}},toJSON:function(){function o(l){return l.toJSON()}var a=Object.create(null);return a.ruleIterators=this.ruleIterators.map(o),this.ruleDates&&(a.ruleDates=this.ruleDates.map(o)),this.exDates&&(a.exDates=this.exDates.map(o)),a.ruleDateInc=this.ruleDateInc,a.exDateInc=this.exDateInc,a.last=this.last.toJSON(),a.dtstart=this.dtstart.toJSON(),a.complete=this.complete,a},_extractDates:function(o,a){function l(m){d=e.helpers.binsearchInsert(c,m,s),c.splice(d,0,m)}for(var c=[],u=o.getAllProperties(a),f=u.length,h=0,d;h<f;h++)u[h].getValues().forEach(l);return c},_init:function(o){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!r(o)){this.ruleDate=this.last.clone(),this.complete=!0;return}if(o.hasProperty("rdate")&&(this.ruleDates=this._extractDates(o,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=e.helpers.binsearchInsert(this.ruleDates,this.last,s),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.hasProperty("rrule"))for(var a=o.getAllProperties("rrule"),l=0,c=a.length,u,f;l<c;l++)u=a[l].getFirstValue(),f=u.iterator(this.dtstart),this.ruleIterators.push(f),f.next();o.hasProperty("exdate")&&(this.exDates=this._extractDates(o,"exdate"),this.exDateInc=e.helpers.binsearchInsert(this.exDates,this.last,s),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var o=this.ruleIterators;if(o.length===0)return null;for(var a=o.length,l,c,u=0,f;u<a;u++){if(l=o[u],c=l.last,l.completed){a--,u!==0&&u--,o.splice(u,1);continue}(!f||f.last.compare(c)>0)&&(f=l)}return f}},i}(),e.Event=function(){function n(r,i){r instanceof e.Component||(i=r,r=null),r?this.component=r:this.component=new e.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],i&&i.strictExceptions&&(this.strictExceptions=i.strictExceptions),i&&i.exceptions?i.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(o){o.hasProperty("recurrence-id")&&this.relateException(o)},this)}n.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(r){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(r instanceof e.Component&&(r=new e.Event(r)),this.strictExceptions&&r.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var i=r.recurrenceId.toString();if(this.exceptions[i]=r,r.modifiesFuture()){var o=[r.recurrenceId.toUnixTime(),i],a=e.helpers.binsearchInsert(this.rangeExceptions,o,s);this.rangeExceptions.splice(a,0,o)}},modifiesFuture:function(){if(!this.component.hasProperty("recurrence-id"))return!1;var r=this.component.getFirstProperty("recurrence-id").getParameter("range");return r===this.THISANDFUTURE},findRangeException:function(r){if(!this.rangeExceptions.length)return null;var i=r.toUnixTime(),o=e.helpers.binsearchInsert(this.rangeExceptions,[i],s);if(o-=1,o<0)return null;var a=this.rangeExceptions[o];return i<a[0]?null:a[1]},getOccurrenceDetails:function(r){var i=r.toString(),o=r.convertToZone(e.Timezone.utcTimezone).toString(),a,l={recurrenceId:r};if(i in this.exceptions)a=l.item=this.exceptions[i],l.startDate=a.startDate,l.endDate=a.endDate,l.item=a;else if(o in this.exceptions)a=this.exceptions[o],l.startDate=a.startDate,l.endDate=a.endDate,l.item=a;else{var c=this.findRangeException(r),u;if(c){var f=this.exceptions[c];l.item=f;var h=this._rangeExceptionCache[c];if(!h){var d=f.recurrenceId.clone(),m=f.startDate.clone();d.zone=m.zone,h=m.subtractDate(d),this._rangeExceptionCache[c]=h}var p=r.clone();p.zone=f.startDate.zone,p.addDuration(h),u=p.clone(),u.addDuration(f.duration),l.startDate=p,l.endDate=u}else u=r.clone(),u.addDuration(this.duration),l.endDate=u,l.startDate=r,l.item=this}return l},iterator:function(r){return new e.RecurExpansion({component:this.component,dtstart:r||this.startDate})},isRecurring:function(){var r=this.component;return r.hasProperty("rrule")||r.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var r=this.component.getAllProperties("rrule"),i=0,o=r.length,a=Object.create(null);i<o;i++){var l=r[i].getFirstValue();a[l.freq]=!0}return a},get uid(){return this._firstProp("uid")},set uid(r){this._setProp("uid",r)},get startDate(){return this._firstProp("dtstart")},set startDate(r){this._setTime("dtstart",r)},get endDate(){var r=this._firstProp("dtend");if(!r){var i=this._firstProp("duration");r=this.startDate.clone(),i?r.addDuration(i):r.isDate&&(r.day+=1)}return r},set endDate(r){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",r)},get duration(){var r=this._firstProp("duration");return r||this.endDate.subtractDateTz(this.startDate)},set duration(r){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",r)},get location(){return this._firstProp("location")},set location(r){return this._setProp("location",r)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(r){this._setProp("summary",r)},get description(){return this._firstProp("description")},set description(r){this._setProp("description",r)},get color(){return this._firstProp("color")},set color(r){this._setProp("color",r)},get organizer(){return this._firstProp("organizer")},set organizer(r){this._setProp("organizer",r)},get sequence(){return this._firstProp("sequence")},set sequence(r){this._setProp("sequence",r)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(r){this._setTime("recurrence-id",r)},_setTime:function(r,i){var o=this.component.getFirstProperty(r);o||(o=new e.Property(r),this.component.addProperty(o)),i.zone===e.Timezone.localTimezone||i.zone===e.Timezone.utcTimezone?o.removeParameter("tzid"):o.setParameter("tzid",i.zone.tzid),o.setValue(i)},_setProp:function(r,i){this.component.updatePropertyWithValue(r,i)},_firstProp:function(r){return this.component.getFirstPropertyValue(r)},toString:function(){return this.component.toString()}};function s(r,i){return r[0]>i[0]?1:i[0]>r[0]?-1:0}return n}(),e.ComponentParser=function(){function n(s){typeof s>"u"&&(s={});var r;for(r in s)s.hasOwnProperty(r)&&(this[r]=s[r])}return n.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(s){},ontimezone:function(s){},onevent:function(s){},process:function(s){typeof s=="string"&&(s=e.parse(s)),s instanceof e.Component||(s=new e.Component(s));for(var r=s.getAllSubcomponents(),i=0,o=r.length,a;i<o;i++)switch(a=r[i],a.name){case"vtimezone":if(this.parseTimezone){var l=a.getFirstPropertyValue("tzid");l&&this.ontimezone(new e.Timezone({tzid:l,component:a}))}break;case"vevent":this.parseEvent&&this.onevent(new e.Event(a));break;default:continue}this.oncomplete()}},n}()})(VE);var nt;(function(t){t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT"})(nt||(nt={}));nt.CENT+"",nt.DECADE+"",nt.YEAR+"",nt.MONTH+"",nt.DAY+"",nt.HOUR+"",nt.MINUTE+"",nt.QUARTER_HOUR+"",nt.QUARTER_MINUTE+"",nt.SECOND+"";nt.CENT+"",nt.DECADE+"",nt.YEAR+"",nt.MONTH+"",nt.DAY+"",nt.HOUR+"",nt.QUARTER_HOUR+"",nt.MINUTE+"",nt.QUARTER_MINUTE+"",nt.SECOND+"";const qE="0.10.8",KE=t=>{const e=t.split(`\n`);let n=[];for(let s=0;s<e.length;s++)s===0&&n.push(0),n.push(1+e[s].length+n[n.length-1]||0);return{lines:e,lengthAtIndex:n}};function Gf(t,e){e===!0&&(e=new bb);const n={version:qE};if(!t)return{timelines:[rb()],cache:e,parser:n};const{lines:s,lengthAtIndex:r}=KE(t);return{timelines:[ZE(s,r,e)],cache:e,parser:n}}function ZE(t,e,n){const s=new Mb,r=WE(t,e,s,n);for(let i=r;i<t.length;i++){const o=t[i];xb(o,i,e,s,n)||(i=kb(o,t,i,e,s,n))}return s.toTimeline(e,t.length-1,e[t.length-1]+t[t.length-1].length)}const Kc=(t,e,n)=>{var c;const s=t.toDateTime.diff(t.fromDateTime),r=t.fromDateTime,i=Me.fromObject(e.every),o=Math.min(((c=e.for)==null?void 0:c.times)||n,n);let a;if(typeof e.for<"u"&&!e.for.times){const u=Me.fromObject(e.for);a=r.plus(u)}const l=[r];for(let u=1;u<o;u++){const h=l[u-1].plus(i);if(a&&+h>=+a)break;l.push(h)}return l.map(u=>({fromDateTime:u,toDateTime:u.plus(s)}))},zr=["22, 163, 76","2, 132, 199","212, 50, 56","242, 202, 45","80, 73, 229","145, 57, 234","214, 45, 123","234, 88, 11","168, 162, 157","255, 255, 255","0, 0, 0"],GE=["green","blue","red","yellow","indigo","purple","pink","orange","gray","white","black"];function XE(t){t=t.replace("#","").replace(")","");const e=t.length===3;var n=parseInt(e?t.slice(0,1).repeat(2):t.slice(0,2),16);if(!isNaN(n)){var s=parseInt(e?t.slice(1,2).repeat(2):t.slice(2,4),16);if(!isNaN(s)){var r=parseInt(e?t.slice(2,3).repeat(2):t.slice(4,6),16);if(!isNaN(r))return`${n}, ${s}, ${r}`}}}const JE=(t,e)=>{const n={},s=t.ranges.flatMap(r=>{var a;if(r.type!==Fe.Tag)return[];if(n[r.content.tag])return r.content.color=n[r.content.tag],[r];const i=((a=r.content)==null?void 0:a.tag)&&t.header[")"+r.content.tag];let o;if(o=!!i&&(typeof i=="string"&&i||typeof i=="object"&&i.color),o){const l=GE.indexOf(o);if(l===-1){const c=XE(o);c?r.content.color=c:r.content.color=zr[e++%zr.length]}else r.content.color=zr[l]}else r.content.color=zr[e++%zr.length];return n[r.content.tag]=r.content.color,[r]});return[n,s,e]},Ll=t=>x(()=>{let n=0;const s={};for(const[r,i]of[["default",t]]){const[o,a,l]=JE(i,n);s[r]=o,n=l}return s}),QE=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},eS=t=>{var h;const e=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let s,r=!1;n&&(s=new WebSocket(n),s.onopen=()=>{r=!0,l("appState"),l("markwhenState")});let i;const o=()=>i||(i=acquireVsCodeApi(),i),a=d=>{var m;s&&r?s.send(JSON.stringify(d)):typeof acquireVsCodeApi<"u"?(m=o())==null||m.postMessage(d):typeof window<"u"&&typeof window.parent<"u"&&window.parent!==window.self?window.parent.postMessage(d,"*"):console.error("Nothing to post to")},l=(d,m)=>{const p=`markwhen_${QE()}`;return new Promise((y,g)=>{e.set(p,{resolve:y,reject:g}),a({type:d,request:!0,id:p,params:m})})},c=(d,m,p)=>a({type:m,response:!0,id:d,params:p}),u=d=>{var p,y;if(!d.data.id||!d.data.id.startsWith("markwhen"))return;const m=d.data;if(m.response)(p=e.get(m.id))==null||p.resolve(m),e.delete(m.id);else if(m.request){const g=(y=t==null?void 0:t[m.type])==null?void 0:y.call(t,m.params);Promise.resolve(g).then(T=>{c(m.id,m.type,T)})}else console.error("Not a request or response",m)};s?s.onmessage=d=>{const m=new MessageEvent("message",{data:JSON.parse(d.data)});u(m)}:typeof window<"u"&&window.addEventListener("message",u);const f=typeof window<"u"&&window.__markwhen_initial_state;if(f&&t&&t.markwhenState){const m=Ll(f.parsed[0]).value;t.markwhenState(f),(h=t.appState)==null||h.call(t,{colorMap:m})}return{postRequest:l}};/*!\n  * vue-router v4.2.4\n  * (c) 2023 Eduardo San Martin Morote\n  * @license MIT\n  */const Ws=typeof window<"u";function tS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ue=Object.assign;function Qa(t,e){const n={};for(const s in e){const r=e[s];n[s]=pn(r)?r.map(t):t(r)}return n}const Qr=()=>{},pn=Array.isArray,nS=/\\/$/,sS=t=>t.replace(nS,"");function el(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=aS(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function rS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function iS(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&hr(e.matched[s],n.matched[r])&&Yp(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function hr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Yp(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!oS(t[n],e[n]))return!1;return!0}function oS(t,e){return pn(t)?Jf(t,e):pn(e)?Jf(e,t):t===e}function Jf(t,e){return pn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function aS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var hi;(function(t){t.pop="pop",t.push="push"})(hi||(hi={}));var ei;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ei||(ei={}));function lS(t){if(!t)if(Ws){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\\w+:\\/\\/[^\\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),sS(t)}const cS=/^[^#]+#/;function uS(t,e){return t.replace(cS,"#")+e}function fS(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ga=()=>({left:window.pageXOffset,top:window.pageYOffset});function hS(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=fS(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Qf(t,e){return(history.state?history.state.position-e:-1)+t}const Rl=new Map;function dS(t,e){Rl.set(t,e)}function mS(t){const e=Rl.get(t);return Rl.delete(t),e}let pS=()=>location.protocol+"//"+location.host;function Up(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Xf(l,"")}return Xf(n,t)+s+r}function gS(t,e,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const d=Up(t,location),m=n.value,p=e.value;let y=0;if(h){if(n.value=d,e.value=h,o&&o===m){o=null;return}y=p?h.position-p.position:0}else s(d);r.forEach(g=>{g(n.value,m,{delta:y,type:hi.pop,direction:y?y>0?ei.forward:ei.back:ei.unknown})})};function l(){o=n.value}function c(h){r.push(h);const d=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return i.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(Ue({},h.state,{scroll:ga()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function eh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?ga():null}}function yS(t){const{history:e,location:n}=window,s={value:Up(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:pS()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function o(l,c){const u=Ue({},e.state,eh(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Ue({},r.value,e.state,{forward:l,scroll:ga()});i(u.current,u,!0);const f=Ue({},eh(s.value,l,null),{position:u.position+1},c);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function vS(t){t=lS(t);const e=yS(t),n=gS(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ue({location:"",base:t,go:s,createHref:uS.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function TS(t){return typeof t=="string"||t&&typeof t=="object"}function Bp(t){return typeof t=="string"||typeof t=="symbol"}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hp=Symbol("");var th;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(th||(th={}));function dr(t,e){return Ue(new Error,{type:t,[Hp]:!0},e)}function kn(t,e){return t instanceof Error&&Hp in t&&(e==null||!!(t.type&e))}const nh="[^/]+?",wS={sensitive:!1,strict:!1,start:!0,end:!0},_S=/[.+*?^${}()[\\]/\\\\]/g;function bS(t,e){const n=Ue({},wS,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(_S,"\\\\$&"),d+=40;else if(h.type===1){const{value:m,repeatable:p,optional:y,regexp:g}=h;i.push({name:m,repeatable:p,optional:y});const T=g||nh;if(T!==nh){d+=10;try{new RegExp(`(${T})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${T}): `+E.message)}}let I=p?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;f||(I=y&&c.length<2?`(?:/${I})`:"/"+I),y&&(I+="?"),r+=I,d+=20,y&&(d+=-8),p&&(d+=-20),T===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",m=i[h-1];f[m.name]=d&&m.repeatable?d.split("/"):d}return f}function l(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:m,repeatable:p,optional:y}=d,g=m in c?c[m]:"";if(pn(g)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const T=pn(g)?g.join("/"):g;if(!T)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=T}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function ES(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function SS(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=ES(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(sh(s))return 1;if(sh(r))return-1}return r.length-s.length}function sh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const IS={type:0,value:""},OS=/[a-zA-Z0-9_]/;function DS(t){if(!t)return[[]];if(t==="/")return[[IS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: \'/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:OS.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function kS(t,e,n){const s=bS(DS(t.path),n),r=Ue(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function MS(t,e){const n=[],s=new Map;e=oh({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,f,h){const d=!h,m=CS(u);m.aliasOf=h&&h.record;const p=oh(e,u),y=[m];if("alias"in u){const I=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of I)y.push(Ue({},m,{components:h?h.record.components:m.components,path:E,aliasOf:h?h.record:m}))}let g,T;for(const I of y){const{path:E}=I;if(f&&E[0]!=="/"){const _=f.record.path,b=_[_.length-1]==="/"?"":"/";I.path=f.record.path+(E&&b+E)}if(g=kS(I,f,p),h?h.alias.push(g):(T=T||g,T!==g&&T.alias.push(g),d&&u.name&&!ih(g)&&o(u.name)),m.children){const _=m.children;for(let b=0;b<_.length;b++)i(_[b],g,h&&h.children[b])}h=h||g,(g.record.components&&Object.keys(g.record.components).length||g.record.name||g.record.redirect)&&l(g)}return T?()=>{o(T)}:Qr}function o(u){if(Bp(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&SS(u,n[f])>=0&&(u.record.path!==n[f].record.path||!jp(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!ih(u)&&s.set(u.record.name,u)}function c(u,f){let h,d={},m,p;if("name"in u&&u.name){if(h=s.get(u.name),!h)throw dr(1,{location:u});p=h.record.name,d=Ue(rh(f.params,h.keys.filter(T=>!T.optional).map(T=>T.name)),u.params&&rh(u.params,h.keys.map(T=>T.name))),m=h.stringify(d)}else if("path"in u)m=u.path,h=n.find(T=>T.re.test(m)),h&&(d=h.parse(m),p=h.record.name);else{if(h=f.name?s.get(f.name):n.find(T=>T.re.test(f.path)),!h)throw dr(1,{location:u,currentLocation:f});p=h.record.name,d=Ue({},f.params,u.params),m=h.stringify(d)}const y=[];let g=h;for(;g;)y.unshift(g.record),g=g.parent;return{name:p,path:m,params:d,matched:y,meta:xS(y)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function rh(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function CS(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:AS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function AS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function ih(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xS(t){return t.reduce((e,n)=>Ue(e,n.meta),{})}function oh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function jp(t,e){return e.children.some(n=>n===t||jp(t,n))}const Wp=/#/g,NS=/&/g,LS=/\\//g,RS=/=/g,PS=/\\?/g,Vp=/\\+/g,$S=/%5B/g,FS=/%5D/g,qp=/%5E/g,zS=/%60/g,Kp=/%7B/g,YS=/%7C/g,Zp=/%7D/g,US=/%20/g;function Zc(t){return encodeURI(""+t).replace(YS,"|").replace($S,"[").replace(FS,"]")}function BS(t){return Zc(t).replace(Kp,"{").replace(Zp,"}").replace(qp,"^")}function Pl(t){return Zc(t).replace(Vp,"%2B").replace(US,"+").replace(Wp,"%23").replace(NS,"%26").replace(zS,"`").replace(Kp,"{").replace(Zp,"}").replace(qp,"^")}function HS(t){return Pl(t).replace(RS,"%3D")}function jS(t){return Zc(t).replace(Wp,"%23").replace(PS,"%3F")}function WS(t){return t==null?"":jS(t).replace(LS,"%2F")}function Mo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function VS(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Vp," "),o=i.indexOf("="),a=Mo(o<0?i:i.slice(0,o)),l=o<0?null:Mo(i.slice(o+1));if(a in e){let c=e[a];pn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function ah(t){let e="";for(let n in t){const s=t[n];if(n=HS(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(pn(s)?s.map(i=>i&&Pl(i)):[s&&Pl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function qS(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=pn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const KS=Symbol(""),lh=Symbol(""),Gc=Symbol(""),Xc=Symbol(""),$l=Symbol("");function Yr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Zn(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(dr(4,{from:n,to:e})):f instanceof Error?a(f):TS(f)?a(dr(2,{from:e,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function tl(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(ZS(a)){const c=(a.__vccOpts||a)[e];c&&r.push(Zn(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn\'t resolve component "${o}" at "${i.path}"`));const u=tS(c)?c.default:c;i.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&Zn(h,n,s,i,o)()}))}}return r}function ZS(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ch(t){const e=hn(Gc),n=hn(Xc),s=x(()=>e.resolve(U(t.to))),r=x(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(hr.bind(null,u));if(h>-1)return h;const d=uh(l[c-2]);return c>1&&uh(u)===d&&f[f.length-1].path!==d?f.findIndex(hr.bind(null,l[c-2])):h}),i=x(()=>r.value>-1&&QS(n.params,s.value.params)),o=x(()=>r.value>-1&&r.value===n.matched.length-1&&Yp(n.params,s.value.params));function a(l={}){return JS(l)?e[U(t.replace)?"replace":"push"](U(t.to)).catch(Qr):Promise.resolve()}return{route:s,href:x(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const GS=De({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ch,setup(t,{slots:e}){const n=ks(ch(t)),{options:s}=hn(Gc),r=x(()=>({[fh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[fh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:ac("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),XS=GS;function JS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\\b_blank\\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function QS(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!pn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function uh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fh=(t,e,n)=>t??e??n,eI=De({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=hn($l),r=x(()=>t.route||s.value),i=hn(lh,0),o=x(()=>{let c=U(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=x(()=>r.value.matched[o.value]);Xi(lh,x(()=>o.value+1)),Xi(KS,a),Xi($l,r);const l=ue();return je(()=>[l.value,a.value,t.name],([c,u,f],[h,d,m])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!hr(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return hh(n.default,{Component:h,route:c});const d=f.props[u],m=d?d===!0?c.params:typeof d=="function"?d(c):d:null,y=ac(h,Ue({},m,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return hh(n.default,{Component:y,route:c})||y}}});function hh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const tI=eI;function nI(t){const e=MS(t.routes,t),n=t.parseQuery||VS,s=t.stringifyQuery||ah,r=t.history,i=Yr(),o=Yr(),a=Yr(),l=wy(jn);let c=jn;Ws&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Qa.bind(null,$=>""+$),f=Qa.bind(null,WS),h=Qa.bind(null,Mo);function d($,ie){let q,le;return Bp($)?(q=e.getRecordMatcher($),le=ie):le=$,e.addRoute(le,q)}function m($){const ie=e.getRecordMatcher($);ie&&e.removeRoute(ie)}function p(){return e.getRoutes().map($=>$.record)}function y($){return!!e.getRecordMatcher($)}function g($,ie){if(ie=Ue({},ie||l.value),typeof $=="string"){const N=el(n,$,ie.path),Y=e.resolve({path:N.path},ie),H=r.createHref(N.fullPath);return Ue(N,Y,{params:h(Y.params),hash:Mo(N.hash),redirectedFrom:void 0,href:H})}let q;if("path"in $)q=Ue({},$,{path:el(n,$.path,ie.path).path});else{const N=Ue({},$.params);for(const Y in N)N[Y]==null&&delete N[Y];q=Ue({},$,{params:f(N)}),ie.params=f(ie.params)}const le=e.resolve(q,ie),Ie=$.hash||"";le.params=u(h(le.params));const O=rS(s,Ue({},$,{hash:BS(Ie),path:le.path})),C=r.createHref(O);return Ue({fullPath:O,hash:Ie,query:s===ah?qS($.query):$.query||{}},le,{redirectedFrom:void 0,href:C})}function T($){return typeof $=="string"?el(n,$,l.value.path):Ue({},$)}function I($,ie){if(c!==$)return dr(8,{from:ie,to:$})}function E($){return k($)}function _($){return E(Ue(T($),{replace:!0}))}function b($){const ie=$.matched[$.matched.length-1];if(ie&&ie.redirect){const{redirect:q}=ie;let le=typeof q=="function"?q($):q;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=T(le):{path:le},le.params={}),Ue({query:$.query,hash:$.hash,params:"path"in le?{}:$.params},le)}}function k($,ie){const q=c=g($),le=l.value,Ie=$.state,O=$.force,C=$.replace===!0,N=b(q);if(N)return k(Ue(T(N),{state:typeof N=="object"?Ue({},Ie,N.state):Ie,force:O,replace:C}),ie||q);const Y=q;Y.redirectedFrom=ie;let H;return!O&&iS(s,le,q)&&(H=dr(16,{to:Y,from:le}),Q(le,le,!0,!1)),(H?Promise.resolve(H):z(Y,le)).catch(W=>kn(W)?kn(W,2)?W:F(W):S(W,Y,le)).then(W=>{if(W){if(kn(W,2))return k(Ue({replace:C},T(W.to),{state:typeof W.to=="object"?Ue({},Ie,W.to.state):Ie,force:O}),ie||Y)}else W=L(Y,le,!0,C,Ie);return X(Y,le,W),W})}function D($,ie){const q=I($,ie);return q?Promise.reject(q):Promise.resolve()}function A($){const ie=We.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext($):$()}function z($,ie){let q;const[le,Ie,O]=sI($,ie);q=tl(le.reverse(),"beforeRouteLeave",$,ie);for(const N of le)N.leaveGuards.forEach(Y=>{q.push(Zn(Y,$,ie))});const C=D.bind(null,$,ie);return q.push(C),Ye(q).then(()=>{q=[];for(const N of i.list())q.push(Zn(N,$,ie));return q.push(C),Ye(q)}).then(()=>{q=tl(Ie,"beforeRouteUpdate",$,ie);for(const N of Ie)N.updateGuards.forEach(Y=>{q.push(Zn(Y,$,ie))});return q.push(C),Ye(q)}).then(()=>{q=[];for(const N of O)if(N.beforeEnter)if(pn(N.beforeEnter))for(const Y of N.beforeEnter)q.push(Zn(Y,$,ie));else q.push(Zn(N.beforeEnter,$,ie));return q.push(C),Ye(q)}).then(()=>($.matched.forEach(N=>N.enterCallbacks={}),q=tl(O,"beforeRouteEnter",$,ie),q.push(C),Ye(q))).then(()=>{q=[];for(const N of o.list())q.push(Zn(N,$,ie));return q.push(C),Ye(q)}).catch(N=>kn(N,8)?N:Promise.reject(N))}function X($,ie,q){a.list().forEach(le=>A(()=>le($,ie,q)))}function L($,ie,q,le,Ie){const O=I($,ie);if(O)return O;const C=ie===jn,N=Ws?history.state:{};q&&(le||C?r.replace($.fullPath,Ue({scroll:C&&N&&N.scroll},Ie)):r.push($.fullPath,Ie)),l.value=$,Q($,ie,q,C),F()}let re;function he(){re||(re=r.listen(($,ie,q)=>{if(!at.listening)return;const le=g($),Ie=b(le);if(Ie){k(Ue(Ie,{replace:!0}),le).catch(Qr);return}c=le;const O=l.value;Ws&&dS(Qf(O.fullPath,q.delta),ga()),z(le,O).catch(C=>kn(C,12)?C:kn(C,2)?(k(C.to,le).then(N=>{kn(N,20)&&!q.delta&&q.type===hi.pop&&r.go(-1,!1)}).catch(Qr),Promise.reject()):(q.delta&&r.go(-q.delta,!1),S(C,le,O))).then(C=>{C=C||L(le,O,!1),C&&(q.delta&&!kn(C,8)?r.go(-q.delta,!1):q.type===hi.pop&&kn(C,20)&&r.go(-1,!1)),X(le,O,C)}).catch(Qr)}))}let de=Yr(),J=Yr(),te;function S($,ie,q){F($);const le=J.list();return le.length?le.forEach(Ie=>Ie($,ie,q)):console.error($),Promise.reject($)}function G(){return te&&l.value!==jn?Promise.resolve():new Promise(($,ie)=>{de.add([$,ie])})}function F($){return te||(te=!$,he(),de.list().forEach(([ie,q])=>$?q($):ie()),de.reset()),$}function Q($,ie,q,le){const{scrollBehavior:Ie}=t;if(!Ws||!Ie)return Promise.resolve();const O=!q&&mS(Qf($.fullPath,0))||(le||!q)&&history.state&&history.state.scroll||null;return ln().then(()=>Ie($,ie,O)).then(C=>C&&hS(C)).catch(C=>S(C,$,ie))}const ve=$=>r.go($);let He;const We=new Set,at={currentRoute:l,listening:!0,addRoute:d,removeRoute:m,hasRoute:y,getRoutes:p,resolve:g,options:t,push:E,replace:_,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:J.add,isReady:G,install($){const ie=this;$.component("RouterLink",XS),$.component("RouterView",tI),$.config.globalProperties.$router=ie,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>U(l)}),Ws&&!He&&l.value===jn&&(He=!0,E(r.location).catch(Ie=>{}));const q={};for(const Ie in jn)Object.defineProperty(q,Ie,{get:()=>l.value[Ie],enumerable:!0});$.provide(Gc,ie),$.provide(Xc,Gh(q)),$.provide($l,l);const le=$.unmount;We.add($),$.unmount=function(){We.delete($),We.size<1&&(c=jn,re&&re(),re=null,l.value=jn,He=!1,te=!1),le()}}};function Ye($){return $.reduce((ie,q)=>ie.then(()=>A(q)),Promise.resolve())}return at}function sI(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>hr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>hr(c,l))||r.push(l))}return[n,s,r]}function rI(){return hn(Xc)}const bi=yr("markwhen",()=>{const t=rI(),e=ue({colorMap:{default:{}}}),n=ue(),s=ue(!1),r=ue(!0),i=ue(k=>{}),o=ue(k=>{}),a=ue(k=>{}),l=ue(typeof window<"u"&&window.__markwhen_initial_state),c=x(()=>{var k,D;if((k=n.value)!=null&&k.rawText)try{return btoa((D=n.value)==null?void 0:D.rawText)}catch{return""}return""}),u=x(()=>{var A;const{user:k,timeline:D}=t.params;return!t.path.includes(".html")&&k?`/${k}`+(D?`/${D}`:""):(A=e.value)!=null&&A.path&&e.value.path!=="/"?e.value.path:`#mw=${c.value}`}),f=x(()=>`https://app.markwhen.com${u.value}`),h=x(()=>`https://timeline.markwhen.com${u.value}`),d=x(()=>`<iframe src="${h.value}" />`);Ns(async()=>{const{user:k,timeline:D}=t.params;if(k)try{const A=D?`https://app.markwhen.com/${k}/${D}.mw`:`https://app.markwhen.com/${k}.mw`,z=await fetch(A).catch(()=>{});if(z&&(z.redirected&&(window.location.href=z.url),z.ok)){const X=await z.text(),L=Gf(X);e.value={isDark:!1,colorMap:Ll(L.timelines[0]).value},n.value={rawText:X,parsed:L.timelines,transformed:L.timelines[0].events},s.value=!0,r.value=!1}}catch{}else if(t.hash&&t.hash.startsWith("#mw=")){const A=atob(t.hash.substring(4)),z=Gf(A);e.value={isDark:!1,colorMap:Ll(z.timelines[0]).value},n.value={rawText:A,parsed:z.timelines,transformed:z.timelines[0].events},s.value=!0,r.value=!1}});const{postRequest:m}=eS({appState(k){s.value=!1,r.value=!0,e.value=k},markwhenState:k=>{n.value=k},jumpToPath:({path:k})=>{var D;(D=i.value)==null||D.call(i,k)},jumpToRange:({dateRangeIso:k})=>{var D;(D=o.value)==null||D.call(o,k)},getSvg:k=>{var D;return(D=a.value)==null?void 0:D.call(a,k)}}),p=k=>{m("setHoveringPath",k)},y=k=>{m("setDetailPath",k)},g=(k,D)=>{m("setText",{text:k,at:D})},T=k=>{m("showInEditor",k)},I=k=>{var D;return!!k&&di(k,(D=e.value)==null?void 0:D.detailPath)},E=(k,D,A=!0)=>{m("newEvent",{dateRangeIso:k,granularity:D,immediate:A})},_=(k,D,A,z)=>{m("editEventDateRange",{path:k,range:D,scale:A,preferredInterpolationFormat:z})},b=()=>{m("markwhenState"),m("appState")};return b(),{app:e,markwhen:n,hadInitialState:l,onJumpToPath:i,onJumpToRange:o,onGetSvg:a,requestStateUpdate:b,setHoveringPath:p,setDetailEventPath:y,isDetailEventPath:I,setText:g,showInEditor:T,createEventFromRange:E,editEventDateRange:_,showEditButton:s,showCopyLinkButton:r,showEmbedButton:r,timelineLink:h,editorLink:f,embedLink:d}});var Nt=(t=>(t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT",t))(Nt||{});const ya=yr("markers",()=>{const t=Ce(),e=ue(),n=ue(),s=x(()=>{const l=[],c=t.scaleOfViewportDateInterval,u=t.baselineLeftmostDate,f=t.baselineRightmostDate;let h=ti(u,c),d=ti(f,c),m=t.scalelessDistanceBetweenDates(u,h);for(l.push({dateTime:u,size:m,ts:u.toMillis(),accumulated:m});h<d&&l.length<1024;){l.push({dateTime:h,size:0,ts:h.toMillis(),accumulated:m}),c==="cent"?h=h.plus({years:100}):c==="decade"?h=h.plus({years:10}):c==="quarterhour"?h=h.plus({minutes:15}):c==="quarterminute"?h=h.plus({seconds:15}):h=h.plus({[c]:1});const p=t.scalelessDistanceBetweenDates(l[l.length-1].dateTime,h);m+=p,l[l.length-1].size=p,l[l.length-1].accumulated=m}return l[l.length-1].size=t.scalelessDistanceBetweenDates(l[l.length-1].dateTime,d),l}),r=x(()=>l=>{const c=t.dateFromClientLeft(l),u=t.scaleOfViewportDateInterval,f=As(c,u),h=ti(c,u);return[{dateTime:f,left:t.distanceFromBaselineLeftmostDate(f)},{dateTime:h,left:t.distanceFromBaselineLeftmostDate(h)}]}),i=x(()=>{for(let l=0;l<t.weights.length;l++)if(t.weights[l]>.05)return Gp[l];return"decade"});return{hoveringMarker:e,range:n,markers:s,rangeFromOffsetLeft:r,nextMostGranularScaleOfViewportDateInterval:i,setHoveringMarker:l=>{e.value=l},setRange:l=>{n.value=l}}}),Gp=["second","quarterminute","minute","quarterhour","hour","day","month","year","decade","cent"];function Fl(t){return t.second===0?t.minute===0?t.hour===0?t.day===1?t.month===1?t.year%100===0?Nt.CENT:t.year%10===0?Nt.DECADE:Nt.YEAR:Nt.MONTH:Nt.DAY:Nt.HOUR:t.minute%15==0?Nt.QUARTER_HOUR:Nt.MINUTE:t.second%15===0?Nt.QUARTER_MINUTE:Nt.SECOND}const bt="hours";function As(t,e){const n=t.year;if(e==="cent"){const l=n-n%100;return B.fromObject({year:l})}if(e==="decade"){const l=n-n%10;return B.fromObject({year:l})}if(e==="year")return B.fromObject({year:n});const s=t.month;if(e==="month")return B.fromObject({year:n,month:s});const r=t.day;if(e==="day")return B.fromObject({year:n,month:s,day:r});const i=t.hour;if(e==="hour")return B.fromObject({year:n,month:s,day:r,hour:i});const o=t.minute;if(e==="quarterhour")return B.fromObject({year:n,month:s,day:r,hour:i,minute:o-o%15});const a=t.second;return e==="quarterminute"?B.fromObject({year:n,month:s,day:r,hour:i,minute:o,second:a-a%15}):e==="minute"?B.fromObject({year:n,month:s,day:r,hour:i,minute:o}):B.fromObject({year:n,month:s,day:r,hour:i,minute:o,second:a})}function ti(t,e){let n;return e==="cent"?n={years:100}:e==="decade"?n={years:10}:e==="quarterhour"?n={minutes:15}:e==="quarterminute"?n={seconds:15}:n={[e]:1},As(t,e).plus(n)}function iI(t,e){const n=ti(t,e),s=As(t,e),r=t.diff(n),i=t.diff(s);return Math.abs(+r)<Math.abs(+i)?n:s}const Xp=t=>t.fromDateTime.plus({seconds:t.toDateTime.diff(t.fromDateTime).as("seconds")/2}),Jp=new Cc({max:1e3}),dh=(t,e)=>(Jp.set(t,e),e),oI=(t,e)=>{const n=JSON.stringify(t.dateRangeIso)+JSON.stringify(t.recurrence),s=Jp.get(n);if(s)return s;if(t.recurrence){const r=Kc(yt(t.dateRangeIso),t.recurrence,e);return dh(n,{fromDateTime:r[0].fromDateTime,toDateTime:r[r.length-1].toDateTime})}else return dh(n,yt(t.dateRangeIso))},xs=(t,e)=>{if(!t||!t.value)return;if(!Array.isArray(t.value)){const s=oI(t.value,e);return{...s,maxFrom:s.fromDateTime}}return t.value.reduce((s,r)=>{const i=xs(r,e);if(!s||!i)return i;const o=+i.fromDateTime<+s.fromDateTime?i.fromDateTime:s.fromDateTime,a=+i.toDateTime>+s.toDateTime?i.toDateTime:s.toDateTime,l=+i.maxFrom>+s.maxFrom?i.maxFrom:s.maxFrom;return{fromDateTime:o,toDateTime:a,maxFrom:l}},void 0)},aI=.3,Qp=(t,e)=>t*24/e.toDateTime.diff(e.fromDateTime).as(bt),lI=(t,e)=>As(t.minus({years:3}),"year");function cI(t,e){if(e&&t){const n={fromDateTime:B.fromISO(t.metadata.earliestTime),toDateTime:B.fromISO(t.metadata.latestTime)},s=Qp(e.width,n)/3,r=Xp(n),i=lI(B.fromISO(t.metadata.earliestTime),t.metadata.maxDurationDays),o=r.diff(i).as(bt)*s/24;return{scale:s,viewportDateInterval:{fromDateTime:B.now().minus({years:10}),toDateTime:B.now().plus({years:10})},viewport:{height:e.height,top:0,width:e.width,left:o-e.width/2,offsetLeft:e.offsetLeft}}}else{const n={fromDateTime:B.now().minus({years:10}),toDateTime:B.now().plus({years:10})};return{scale:aI,viewportDateInterval:n,viewport:{left:0,width:0,top:0,height:0,offsetLeft:0}}}}const ls=100,Jc=1,uI=15*Jc,Qc=60*Jc,fI=15*Qc,eg=60*Qc,tg=24*eg,ng=30*tg,sg=12*ng,rg=10*sg,hI=10*rg,ig=.25;function wn(t){return Math.floor(t*100)/100}function rn(t,e=0,n=1){return Math.min(n,Math.max(t,e))}const mh=.002,Co=3e7,Ce=yr("timeline",()=>{const t=bi(),e=x(()=>t.markwhen),n=ue(typeof localStorage<"u"&&localStorage.getItem("dateTimeDisplay")||"original"),s=ue(typeof localStorage<"u"&&localStorage.getItem("progressDisplay")||"on"),r=x(()=>e.value.parsed[0]),i=x(()=>r.value.metadata),o=x(()=>Object.keys(r.value.header).filter(K=>K.startsWith(")")).reduce((K,Re)=>({...K,[Re.replace(")","")]:r.value.header[Re]}),{})),a=x(()=>e.value.transformed),l=x(()=>{var K;return!!((K=t.app)!=null&&K.isDark)}),c=x(()=>xs(a.value,ls)||{fromDateTime:B.now().minus({years:5}),toDateTime:B.now().plus({years:5})}),u=x(()=>{var K;return(K=t.app)==null?void 0:K.hoveringPath}),f=t.editEventDateRange,h=t.setHoveringPath,d=()=>t.setHoveringPath(),m=t.setText,p=t.showInEditor,y=t.createEventFromRange,g=t.isDetailEventPath,T=t.setDetailEventPath,I=ue(),E=ue((()=>{var Re,st;const K=(Re=I.value)==null?void 0:Re.call(I);return cI((st=e.value)==null?void 0:st.parsed[0],K)})()),_=ue(!1),b=ue(!1),k=ue(0),D=ue(),A=ue(!0),z=ue(typeof localStorage<"u"&&localStorage.getItem("preferredMode")||"timeline"),X=ue(200),L=ue(0),re=ue(0),he=ue(!1);je(z,K=>{typeof localStorage<"u"&&localStorage.setItem("preferredMode",K)}),je(n,K=>{typeof localStorage<"u"&&localStorage.setItem("dateTimeDisplay",K)}),je(s,K=>{typeof localStorage<"u"&&localStorage.setItem("progressDisplay",K)});const de=()=>{re.value++},J=()=>he.value=!he.value,te=x(()=>z.value==="gantt"?L.value?L.value:X.value:0),S=K=>{L.value=K},G=K=>{X.value=K},F=x(()=>E.value.scale);x(()=>c.value.fromDateTime),x(()=>i.value.maxDurationDays);const Q=ue(B.now()),ve=ue(B.now()),He=x(()=>({[bt]:E.value.viewport.width*2.5/F.value*24})),We=x(()=>ve.value.minus(He.value)),at=x(()=>ve.value.plus(He.value)),Ye=x(()=>0),$=x(()=>K=>K.diff(We.value).as(bt)*F.value/24),ie=x(()=>(K,Re)=>{const st=We.value.plus({[bt]:(K+te.value)/F.value*24}),Pt=We.value.plus({[bt]:(Re+K+te.value)/F.value*24});return{fromDateTime:st,toDateTime:Pt}}),q=(K,Re)=>Re.diff(K).as(bt),le=x(()=>(K,Re)=>Re.diff(K).as(bt)*F.value/24),Ie=x(()=>K=>K.diff(ve.value).as(bt)),O=x(()=>K=>K.diff(ve.value).as(bt)*F.value/24+E.value.viewport.width+Ye.value),C=K=>K.diff(E.value.viewportDateInterval.fromDateTime).as(bt)*F.value/24,N=x(()=>K=>We.value.plus({[bt]:(K+E.value.viewport.left)/F.value*24})),Y=x(()=>{var st;const K=(st=t.markwhen)==null?void 0:st.parsed[0].header.ranges,Re=[];if(K&&Array.isArray(K)){const Pt=B.now();for(let $t=0;$t<K.length;$t++){let Sn=K[$t];const Je=new RegExp(`^${Fm.source}$`).exec(Sn);if(Je){const dt=parseInt(Je[1]);if(isNaN(dt))continue;const Si={[Je[3]?"milliseconds":Je[4]?"seconds":Je[5]?"minutes":Je[6]?"hours":Je[8]?"days":Je[9]?"weeks":Je[10]?"months":"years"]:dt/2};Re.push({title:Sn,fromDateTime:Pt.minus(Si),toDateTime:Pt.plus(Si)})}}}return Re}),H=K=>{E.value.viewport=K,E.value.viewportDateInterval=ie.value(K.left-K.offsetLeft,K.width+K.offsetLeft)},W=K=>{z.value=K},oe=K=>{I.value=K},ee=K=>(E.value.scale=K,!0),se=K=>{_.value=K},j=K=>{b.value=K},ge=K=>{D.value=K},me=()=>k.value++,ye=K=>{A.value=K},we=K=>{Ee.value=K},Ee=ue(),xe=x(()=>{const st=E.value.viewportDateInterval.toDateTime,Pt=E.value.viewportDateInterval.fromDateTime,$t=st.diff(Pt).as(bt),Sn=2e3*86400,ht=$t*(Sn/24),Je=E.value.viewport.width+E.value.viewport.offsetLeft,dt=ht/Je;return[rn(wn(30*Jc/dt)),rn(wn(20*uI/dt)),rn(wn(30*Qc/dt)),rn(wn(20*fI/dt)),rn(wn(30*eg/dt)),rn(wn(40*tg/dt)),rn(wn(30*ng/dt)),rn(wn(25*sg/dt)),rn(wn(25*rg/dt)),rn(wn(20*hI/dt))]}),Ne=x(()=>{for(let K=0;K<xe.value.length;K++)if(xe.value[K]>ig)return Gp[K];return"cent"});return{referenceDate:ve,pageSettings:E,startedWidthChange:_,hideNowLine:b,scrollToPath:D,shouldZoomWhenScrolling:A,mode:z,ganttSidebarWidth:X,ganttSidebarTempWidth:L,autoCenterSemaphore:re,miniMapShowing:he,dateTimeDisplay:n,progressDisplay:s,colors:x(()=>{var K;return(K=t.app)==null?void 0:K.colorMap}),baseOffset:Ye,hoveringDate:Q,baselineLeftmostDate:We,baselineRightmostDate:at,diffAmount:He,userRanges:Y,darkMode:l,pageTimeline:r,tags:o,pageTimelineMetadata:i,pageRange:c,transformedEvents:a,pageScale:F,pageScaleBy24:x(()=>F.value/24),scalelessDistanceBetweenDates:q,distanceBetweenDates:le,distanceFromViewportLeftDate:C,distanceFromReferenceDate:O,dateFromClientLeft:N,scalelessDistanceFromReferenceDate:Ie,scaleOfViewportDateInterval:Ne,weights:xe,leftInsetWidth:te,hoveringEventPaths:u,isDetailEventPath:g,distanceFromBaselineLeftmostDate:$,setDetailEventPath:T,createEventFromRange:y,showInEditor:p,setText:m,setHoveringEvent:h,clearHoveringEvent:d,editEventDateRange:f,setViewport:H,setViewportGetter:oe,setPageScale:ee,setStartedWidthChange:se,setHideNowLine:j,setScrollToPaths:ge,setShouldZoomWhenScrolling:ye,setMode:W,setGanttSidebarWidth:G,setGanttSidebarTempWidth:S,autoCenter:de,toggleMiniMap:J,goToNow:me,goToNowSemaphore:k,setRange:we,rangeToJumpTo:Ee}}),dI=()=>{const t=new Cc({max:300});return{getWeekday:n=>{const s=`${n.year}-${n.month}-${n.day}`,r=t.get(s);if(r)return r;const i=vo(n);return t.set(s,i.weekday),i}}},eu=t=>{const e=ue(),n=Ce();return Ns(()=>{const s=U(t);let r=Jt(s)?Km(s).eventDescription.tags:s.tags;const i=s.source;e.value=r?n.colors[i||"default"][r[0]]:void 0}),{color:e}},Ps=yr("collapse",()=>{const t=bi(),e=Ce(),n=ue((()=>{var m;const h=(m=t.markwhen)==null?void 0:m.parsed[0],d=new Set;return h&&rr(h.events,[],(p,y)=>{Jt(p)||p.startExpanded||d.add(y.join(","))}),d})()),s=h=>{n.value.add(h.join(","))},r=h=>{n.value.delete(h.join(","))},i=h=>{const d=h.join(",");n.value.has(d)?n.value.delete(d):n.value.add(d)},o=(h,d)=>{const m=typeof h=="string"?h:h.join(",");d?n.value.add(m):n.value.delete(m)};return{collapsed:n,isCollapsed:h=>{const d=typeof h=="string"?h:h.join(",");for(const m of n.value.keys())if(d===m)return!0;return!1},isCollapsedChild:h=>{const d=typeof h=="string"?h:h.join(",");for(const m of n.value.keys())if(d!==m&&d.startsWith(`${m},`))return!0;return!1},isCollapsedChildOf:h=>{const d=typeof h=="string"?h:h.join(",");let m;for(const p of n.value.keys())d!==p&&d.startsWith(`${p},`)&&(!m||p.length<m.length)&&(m=p);return m==null?void 0:m.split(",").map(p=>parseInt(p))},collapse:s,setCollapsed:o,toggleCollapsed:i,expand:r,collapseAll:()=>{rr(e.transformedEvents,[],(h,d)=>{Jt(h)||o(d,!0)})},expandAll:()=>{rr(e.transformedEvents,[],(h,d)=>{Jt(h)||o(d,!1)})}}}),mI=t=>t[t.length-1]===0?t.slice(0,-1):[...t.slice(0,-1),t[t.length-1]-1],rr=(t,e,n)=>{if(n(t,e),!Jt(t)){const s=t.value;for(let r=0;r<s.length;r++)rr(s[r],[...e,r],n)}},pI=t=>{if(!t)return[];const e=[];return rr(t,[],(n,s)=>{e.push({path:s,node:n})}),e},Ei=yr("nodes",()=>{const t=Ce(),e=Ps(),n=x(()=>t.transformedEvents),s=x(()=>pI(t.transformedEvents)),r=(y,g,T)=>{const I=g.join(","),E=T.get(I);if(E)return E;const _=D=>(T.set(I,D),D);if(e.isCollapsed(I)||Jt(y))return _(0);const k=y.value.reduce((D,A,z)=>D+1+r(A,[...g,z],T),0);return _(k)};let i=0;const o=ks(new Map),a=y=>{const g=y.map(I=>I.path.join(",")),T=[];for(const I of o.keys())g.includes(I)||(T.push(o.get(I)),o.delete(I));for(const I of g)if(!o.has(I)){const E=T.pop();typeof E<"u"?o.set(I,E):o.set(I,i++)}return y.map(I=>({...I,key:""+o.get(I.path.join(","))}))},l=x(()=>{const y=[],g=[];for(const{path:T,node:I}of s.value){const E=T.join(",");if(Jt(I)){const _={node:I,path:T};if(t.scrollToPath&&di(T,t.scrollToPath))y.push(_);else{const k=100+(d.value.get(E)||0)*30,D=t.pageSettings.viewport;if(k>D.top-100&&k<D.top+D.height+100)if(t.mode==="gantt")y.push(_);else{const A=xs(_.node,ls),z=t.pageScaleBy24*t.scalelessDistanceFromReferenceDate(A.fromDateTime),X=t.pageScaleBy24*t.scalelessDistanceBetweenDates(A.fromDateTime,A.toDateTime);(z<D.left+D.width+50||D.left<z+X+50)&&y.push(_)}}}else{if(e.isCollapsedChild(T))continue;if(T.length>0){const _=d.value.get(E)||0,b=f.value.get(E)||0,k=100+_*30,D=30+b*30,A=t.pageSettings.viewport,z=k+D,X=k,L=A.top-100,re=A.top+A.height+100;if(X>re)continue;if(z<L)continue;g.push({path:T,node:I})}}}return[a(y),g]}),c=ks(new Map),u=x(()=>{const y=l.value[1].map(T=>T.path.join(",")),g=[];for(const T of c.keys())y.includes(T)||(g.push(c.get(T)),c.delete(T));for(const T of y)if(!c.has(T)){const I=g.pop();typeof I<"u"?c.set(T,I):c.set(T,i++)}return c}),f=x(()=>{const y=new Map;for(const{path:g,node:T}of s.value)r(T,g,y);return y}),h=(y,g,T,I)=>{const E=g.join(","),_=A=>(T.set(E,A),A);if(!g.length)return _(0);const b=T.get(E);if(typeof b<"u")return b;const k=mI(g).join(",");let D=1+T.get(k);return k.length&&E.length&&k.split(",").length===E.split(",").length&&(D+=I.get(k)||0),_(D)},d=x(()=>{const y=new Map;for(const{path:g,node:T}of s.value)h(T,g,y,f.value);return y}),m=x(()=>{let y=0;for(const g of d.value.values())g>y&&(y=g);return y}),p=x(()=>s.value.length?`${s.value.length*30+500}px`:"100%");return{nodes:n,nodeArray:s,visibleNodes:l,childrenMap:f,predecessorMap:d,sectionKeys:u,height:m,viewHeight:p}}),gs=t=>t.toLocaleString(B.TIME_24_WITH_SECONDS),At=t=>t.toLocaleString(B.TIME_24_SIMPLE),pt=t=>t.year,Ft=t=>t.toISODate(),qi=t=>`${t.day} ${t.monthShort}`,Ki=t=>t.toLocaleString(B.DATETIME_SHORT_WITH_SECONDS),nl=t=>`${t.monthShort} ${t.year}`,Ve=()=>"",og=[[gs,gs,gs,gs,Ki,Ki,Ki,Ki,Ft,pt],[gs,gs,gs,At,At,qi,Ft,Ft,Ft,pt],[t=>t.second,At,At,At,At,qi,Ft,Ft,Ft,pt],[t=>t.second,t=>t.minute,t=>t.minute,At,At,qi,Ft,Ft,Ft,pt],[Ve,t=>t.minute,t=>t.minute,At,At,qi,Ft,Ft,Ft,pt],[Ve,Ve,Ve,At,t=>t.hour,t=>t.day,nl,nl,nl,pt],[Ve,Ve,Ve,At,Ve,t=>t.day,t=>t.monthShort,pt,pt,pt],[Ve,Ve,Ve,At,Ve,Ve,t=>t.month,pt,pt,pt],[Ve,Ve,Ve,At,Ve,Ve,Ve,pt,pt,pt],[Ve,Ve,Ve,Ve,Ve,Ve,Ve,pt,pt,pt]],gI=V("div",{class:"fixed top-0 left-0 right-0 h-6 bg-white/95 dark:bg-slate-800/95 z-30 border-b dark:border-slate-700"},null,-1),yI=["id"],vI={key:0,class:"flex flex-row"},TI={key:0,class:"whitespace-nowrap text-xs font-bold dark:bg-slate-800 bg-white border-l p-1 dark:border-slate-400 border-slate-500"},wI=V("h6",{class:"whitespace-nowrap text-xs font-bold"}," ",-1),_I=De({__name:"TimeMarkersBack",setup(t){const e=ya(),n=Ce(),{getWeekday:s}=dI(),r=x(()=>n.darkMode),i=Ei(),o=x(()=>g=>{if(n.weights[Nt.DAY]>.3){const T=s(g.dateTime),I=Math.min(n.weights[Nt.DAY]*.3,.5);if(typeof T=="number"&&T===6||T===7||T.weekday===6||T.weekday===7)return r.value?`rgba(10, 10, 10, ${I})`:`rgba(170, 170, 170, ${I})`}return"unset"}),a=x(()=>g=>{const T=e.hoveringMarker;return T?+g.dateTime==+T.dateTime:!1}),l=x(()=>g=>n.weights[Fl(g.dateTime)]),c=x(()=>g=>{const T=a.value(g)?1:(l.value(g)-.3)*2;return r.value?`rgba(71, 85, 105, ${T})`:`rgba(200, 200, 200, ${T})`}),u=x(()=>{const g=[];return n.transformedEvents?(rr(n.transformedEvents,[],(T,I)=>{if(Jt(T)&&["era","milestone"].some(E=>T.value.eventDescription.tags.map(_=>_.toLowerCase()).includes(E))){const{fromDateTime:E,toDateTime:_}=yt(T.value.dateRangeIso),b=eu(T).color.value,k=di(n.hoveringEventPaths,I),D={left:n.distanceFromBaselineLeftmostDate(E),width:Math.max(2,n.distanceBetweenDates(E,_))};b&&(D.backgroundColor=`rgba(${b}, ${k?.15:.1})`,D.borderColor=`rgba(${b}, ${k?.75:.3})`),g.push(D)}}),g):[]}),f=x(()=>g=>Fl(g.dateTime)),h=x(()=>{for(let g=0;g<n.weights.length;g++)if(n.weights[g]>ig)return g;return Nt.DECADE}),d=x(()=>g=>og[h.value][f.value(g)](g.dateTime)),m=x(()=>g=>rn((l.value(g)-.45)*5)),p=x(()=>g=>{var T;return e.hoveringMarker&&+((T=e.hoveringMarker)==null?void 0:T.dateTime)==+g.dateTime}),y=x(()=>g=>{const T=g.dateTime;return h.value>5?T.year:h.value>3?T.toLocaleString(B.DATE_HUGE):T.toLocaleString(B.DATETIME_HUGE_WITH_SECONDS)});return(g,T)=>(ne(),pe($e,null,[gI,(ne(!0),pe($e,null,dn(U(e).markers,I=>(ne(),pe("div",{id:""+I.ts,key:I.ts,class:"h-full flex-shrink-0 absolute top-0 bottom-0 pointer-events-none",style:ze({backgroundColor:o.value(I),width:`${U(n).pageScaleBy24*I.size}px`,left:`${U(n).pageScaleBy24*(I.accumulated-I.size)}px`,borderLeft:`1px ${a.value(I)?"solid":"dashed"} ${c.value(I)}`,height:`max(${U(i).viewHeight}, 100%)`})},[V("div",{class:ft(["sticky top-0 -m-px",{"font-bold z-50 dark:border-slate-400 border-slate-500":p.value(I),"z-40 dark:border-slate-600":!p.value(I)}])},[V("h6",{class:"timeMarkerTitle text-sm whitespace-nowrap dark:text-white text-black pl-1 border-l border-inherit",style:ze({opacity:p.value(I)?1:m.value(I)})},vt(d.value(I)),5),h.value<=6?(ne(),pe("div",vI,[p.value(I)?(ne(),pe("h6",TI,vt(y.value(I)),1)):Be("",!0),wI])):Be("",!0)],2)],12,yI))),128)),(ne(!0),pe($e,null,dn(u.value,I=>(ne(),pe("div",{class:ft(["absolute top-0 bottom-0 h-full border-l border-r transition",I.backgroundColor?"":"bg-gray-300/50 dark:bg-gray-300/10 border-gray-500/50"]),style:ze({left:`${I.left}px`,width:`${I.width}px`,backgroundColor:I.backgroundColor,borderColor:I.borderColor})},null,6))),256))],64))}});const bI=De({__name:"NowLine",setup(t){const e=Ce(),n=Ei(),s=ue(B.now()),r=()=>{s.value=B.now(),setTimeout(()=>r(),1e3*60)};$n(()=>{r()});const i=x(()=>Math.min(Math.max(0,e.distanceFromBaselineLeftmostDate(s.value)),e.pageSettings.viewport.width*6));return(o,a)=>U(e).hideNowLine?Be("",!0):(ne(),pe("div",{key:0,class:"absolute dark:bg-slate-400 bg-blue-300 top-0 bottom-0",style:ze(`width: 1px; left: ${i.value}px; height: max(${U(n).viewHeight}, 100%);`)},null,4))}}),va=yr("canPan",()=>({canPan:ue(!0)})),EI=()=>{const t=Ce(),e=ya(),n=va(),s=ue(),r=ue(),i=()=>{s.value=void 0,r.value=void 0,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",o)},o=h=>{h.key==="Escape"&&i()},a=h=>{const d=typeof TouchEvent<"u"&&h instanceof TouchEvent?h.touches[0].clientX:h.clientX,m=e.rangeFromOffsetLeft(d),p=[];p.push(m[0].left<s.value[0].left?m[0]:s.value[0]),p.push(m[1].left>s.value[1].left?m[1]:s.value[1]),r.value=p},l=h=>{const d=r.value?r.value:s.value;d&&t.createEventFromRange(Oc({fromDateTime:d[0].dateTime,toDateTime:d[1].dateTime}),["quarterhour","quarterminute","second"].includes(t.scaleOfViewportDateInterval)?"instant":t.scaleOfViewportDateInterval,t.pageTimelineMetadata.preferredInterpolationFormat),i()},c=h=>{s.value=e.range,window.addEventListener("touchmove",a),window.addEventListener("touchend",l),window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),window.addEventListener("keydown",o)},u=x(()=>r.value?r.value:e.range),f=x(()=>!!s.value);return je(f,h=>{n.canPan=!h}),{mouseDownTouchStartListener:c,newEventPosition:u,creating:f}},SI=De({__name:"NewEvent",setup(t){const{newEventPosition:e,mouseDownTouchStartListener:n,creating:s}=EI(),r=Ce(),i=x(()=>r.mode==="gantt");return(o,a)=>U(e)?(ne(),pe("button",{key:0,title:"Click and drag to create new event",class:ft(["h-[10px] border flex items-center justify-center flex-shrink-0 absolute border-transparent hover:border-slate-100 text-slate-600 hover:bg-slate-50 hover:shadow dark:text-slate-100 dark:hover:border-gray-600 dark:hover:bg-slate-700 font-bold",U(s)?"dark:border-gray-600 dark:bg-slate-600 bg-slate-50 border-slate-100 shadow":"bg-transparent"]),style:ze(`left: ${U(e)[0].left}px; width: ${U(e)[1].left-U(e)[0].left}px; top: 100px; height: ${i.value?"15px":"10px"}; border-radius: ${i.value?"0.25rem":"99px"}`),onMousedown:a[0]||(a[0]=Et((...l)=>U(n)&&U(n)(...l),["prevent","stop"])),onTouchstart:a[1]||(a[1]=Et((...l)=>U(n)&&U(n)(...l),["prevent","stop"]))}," + ",38)):Be("",!0)}}),II=V("div",{class:"absolute w-[2px] h-4 bg-gray-600 rounded dark:bg-gray-300"},null,-1),OI=V("div",{class:"w-4 h-4 absolute flex items-center justify-center"},[V("div",{class:"w-2 h-2 rounded-full border border-white dark:border-gray-300 bg-gray-600 dark:bg-gray-900 shadow"})],-1),DI=[II,OI],ph=De({__name:"DragHandle",props:{left:{},mouseDownTouchStartListener:{type:Function}},setup(t){const e=t,n=x(()=>({left:`${e.left}px`}));return(s,r)=>(ne(),pe("button",{class:"absolute flex items-center justify-center cursor-ew-resize touch-none top-0 bottom-0 z-[4]",style:ze(n.value),onTouchstartPassive:r[0]||(r[0]=(...i)=>s.mouseDownTouchStartListener&&s.mouseDownTouchStartListener(...i)),onMousedown:r[1]||(r[1]=Et((...i)=>s.mouseDownTouchStartListener&&s.mouseDownTouchStartListener(...i),["prevent","stop"]))},DI,36))}}),kI=De({__name:"EventBar",props:{percent:{},tagColor:{},hovering:{type:Boolean},width:{},taskNumerator:{},taskDenominator:{},dragHandleListenerLeft:{type:Function},dragHandleListenerRight:{type:Function},editable:{type:Boolean},expandedRecurrence:{}},setup(t){const e=t,n=Ce(),s=x(()=>n.mode==="gantt"),r=x(()=>e.tagColor||null),i=c=>{const u=n.mode==="gantt";return{left:`${c}px`,width:`${e.width}px`,backgroundColor:r.value?`rgba(${r.value}, 0.3)`:"",border:r.value?`1px solid rgba(${r.value}, 0.3)`:"",height:u?"15px":"10px",borderRadius:u?"0.125rem":"5px",flexShrink:0}},o=x(()=>s.value?15:10),a=c=>{const u=n.mode==="gantt",f={minWidth:"10px",...r.value?{backgroundColor:`rgba(${r.value}, 0.8)`}:{}};return f.width=`${e.percent*e.width/100}px`,f.borderRadius=u?"0.125rem":"5px",f.left=`${c}px`,f},l=x(()=>e.expandedRecurrence[e.expandedRecurrence.length-1]+e.width);return(c,u)=>(ne(),pe("div",{class:"flex flex-row items-center eventBar",style:ze(`width: ${l.value}px`)},[(ne(!0),pe($e,null,dn(c.expandedRecurrence,(f,h)=>(ne(),pe("div",{key:h,class:"relative items-center",style:ze(`height: ${o.value}px;`)},[V("div",{class:ft({"eventBar transition shadow top-0 absolute":!0,"dark:bg-slate-400 bg-slate-700 opacity-30":!r.value}),style:ze(i(f))},null,6),V("div",{class:ft(["absolute top-0 bottom-0 percentBar transition",{"dark:bg-gray-400 bg-slate-700 border border-gray-800 dark:border-gray-300":!r.value,"opacity-100 shadow-lg":c.hovering,"opacity-60":!c.hovering}]),style:ze(a(f))},null,6),h===0?(ne(),pe($e,{key:0},[Qs(_e(ph,{class:"pointer-events-auto",left:0,"mouse-down-touch-start-listener":c.dragHandleListenerLeft},null,8,["mouse-down-touch-start-listener"]),[[er,c.editable&&c.hovering]]),Qs(_e(ph,{class:"pointer-events-auto",left:c.width,"mouse-down-touch-start-listener":c.dragHandleListenerRight},null,8,["left","mouse-down-touch-start-listener"]),[[er,c.editable&&c.hovering]])],64)):Be("",!0)],4))),128))],4))}});const $s=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},MI=$s(kI,[["__scopeId","data-v-cc05e6c2"]]),CI=(t,e,n)=>{const s=va(),r=ue(),i=x(()=>{if(r.value)return B.fromISO(r.value)}),o=ue(),a=x(()=>{if(o.value)return B.fromISO(o.value)}),l=ue(),c=ya(),u=Ce(),f=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mousemove",g),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",p),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",y),document.removeEventListener("touchmove",g),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",p),document.removeEventListener("touchend",_),document.removeEventListener("keydown",m)},h=()=>{s.canPan=!0,f(),setTimeout(()=>{r.value=void 0,o.value=void 0},100)},d=()=>{s.canPan=!0,r.value=void 0,o.value=void 0,f()},m=k=>{k.key==="Escape"&&d()},p=k=>{typeof TouchEvent<"u"&&k instanceof TouchEvent||k.preventDefault(),n==null||n(i.value,a.value),h()},y=k=>{let D;typeof TouchEvent<"u"&&k instanceof TouchEvent?D=k.touches[0].clientX:(D=k.clientX,k.preventDefault());const A=u.dateFromClientLeft(D),z=As(A,c.nextMostGranularScaleOfViewportDateInterval);r.value=z.toISO()},g=k=>{let D;typeof TouchEvent<"u"&&k instanceof TouchEvent?D=k.touches[0].clientX:(D=k.clientX,k.preventDefault());const A=u.dateFromClientLeft(D),z=As(A,c.nextMostGranularScaleOfViewportDateInterval);o.value=z.toISO()},T=k=>{s.canPan=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",p),document.addEventListener("touchmove",y),document.addEventListener("touchend",p),document.addEventListener("keydown",m)},I=k=>{s.canPan=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",g),document.addEventListener("touchend",p),document.addEventListener("keydown",m)},E=k=>{s.canPan=!1;let D;typeof TouchEvent<"u"&&k instanceof TouchEvent?D=k.touches[0].clientX:(k.preventDefault(),D=k.clientX);const A=u.dateFromClientLeft(D+18),z=iI(A,c.nextMostGranularScaleOfViewportDateInterval);r.value=z.toISO(),o.value=z.plus({[bt]:l.value}).toISO()},_=k=>{typeof TouchEvent<"u"&&k instanceof TouchEvent||k.preventDefault(),n==null||n(i.value,a.value),h()};return{dragHandleListenerLeft:T,dragHandleListenerRight:I,moveHandleListener:k=>{var D;s.canPan=!1,r.value=U(t),o.value=U(e),l.value=(D=a.value)==null?void 0:D.diff(i.value).as(bt),document.addEventListener("mousemove",E),document.addEventListener("touchmove",E),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),document.addEventListener("keydown",m)},tempFrom:i,tempTo:a}},AI={class:"text-xs font-mono font-bold flex flex-row items-center"},xI={class:"h-4 w-4 mr-[2px]",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},NI={key:0,"stroke-width":"2",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"},LI={key:1,d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},RI={key:2,d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"},PI={key:0,class:"pt-px mr-1"},$I=De({__name:"TaskCompletion",props:{taskNumerator:{},taskDenominator:{},completed:{type:Boolean}},setup(t){return(e,n)=>(ne(),pe("div",AI,[(ne(),pe("svg",xI,[e.completed||e.taskNumerator>0&&e.taskNumerator===e.taskDenominator?(ne(),pe("path",NI)):e.taskNumerator===0||!e.taskDenominator&&typeof e.completed<"u"?(ne(),pe("path",LI)):(ne(),pe("path",RI))])),e.taskDenominator?(ne(),pe("span",PI,vt(e.taskNumerator)+"/"+vt(e.taskDenominator),1)):Be("",!0)]))}}),FI={class:"eventTitle whitespace-nowrap font-semibold text-sm py-1 flex flex-row"},zI={class:"supplementalIndicators flex flex-row dark:text-gray-300 text-gray-500 gap-1 items-center justify-center pl-2"},YI={key:0,class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},UI=V("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"},null,-1),BI=[UI],HI={class:"ml-px"},jI=["innerHTML"],WI={key:0},gh=De({__name:"EventTitle",props:{showingMeta:{type:Boolean},isHovering:{type:Boolean},hasMeta:{type:Boolean},hasSupplemental:{type:Boolean},hasLocations:{type:Boolean},completed:{type:Boolean},taskDenominator:{},taskNumerator:{},titleHtml:{}},emits:["toggleMeta"],setup(t,{emit:e}){const n=Ce();return(s,r)=>(ne(),pe("div",FI,[V("div",zI,[s.hasLocations?(ne(),pe("svg",YI,BI)):Be("",!0),U(n).progressDisplay==="on"&&(s.taskDenominator||typeof s.completed<"u")?(ne(),Xe($I,{key:1,taskNumerator:s.taskNumerator,taskDenominator:s.taskDenominator,completed:s.completed},null,8,["taskNumerator","taskDenominator","completed"])):Be("",!0)]),V("p",HI,[V("span",{innerHTML:s.titleHtml,class:ft({"pointer-events-auto":s.titleHtml.includes("underline")})},null,10,jI),s.hasSupplemental?(ne(),pe("span",WI,"...")):Be("",!0)])]))}}),VI={class:"flex flex-row items-center justify-center"},qI=V("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[V("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),KI=[qI],ZI=V("svg",{class:"w-4 h-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},[V("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1),GI=[ZI],XI=De({__name:"MoveWidgets",props:{move:{type:Function},left:{}},emits:["edit"],setup(t,{emit:e}){const n=t,s=Ce(),r=x(()=>s.mode==="gantt"?n.left:0);return(i,o)=>(ne(),pe("div",{class:"flex flex-row text-gray-500 dark:text-gray-400 absolute mr-8 moveWidgets top-0 bottom-0 items-center justify-center p-2",style:ze({left:`calc(${r.value}px - 3.6rem)`})},[V("div",VI,[V("button",{title:"Edit event",class:"mr-1 transition dark:hover:text-slate-100 hover:text-black rounded-sm p-px disabled:text-gray-300 disabled:dark:text-gray-600",onClick:o[0]||(o[0]=a=>e("edit"))},KI)]),V("div",{title:"Drag to move",class:"handle flex items-center justify-center cursor-crosshair touch-none hover:text-black dark:hover:text-slate-100 transition",onTouchstart:o[1]||(o[1]=(...a)=>i.move&&i.move(...a)),onMousedown:o[2]||(o[2]=Et((...a)=>i.move&&i.move(...a),["prevent","stop"]))},GI,32)],4))}});const JI={};function QI(t,e){return ne(),Xe(Wo,{name:"fade"},{default:Tt(()=>[yd(t.$slots,"default",{},void 0,!0)]),_:3})}const yh=$s(JI,[["render",QI],["__scopeId","data-v-39c803d6"]]),ag=t=>{const e=Ps(),n=Ei(),s=x(()=>e.isCollapsedChildOf(U(t))),r=x(()=>!!s.value);return{top:x(()=>100+n.predecessorMap.get(s.value?s.value.join(","):U(t).join(","))*30),isCollapsed:r}},eO={key:1,class:"absolute top-0 bottom-0 flex items-center pr-4 text-xs text-gray-400 source",style:{transform:"translateX(-100%)"}},tO={class:"eventItem pointer-events-none"},nO={class:"flex h-full"},sO=De({__name:"EventRow",props:{path:{},eventLocations:{},tags:{},dateText:{},supplemental:{},matchedListItems:{},hovering:{type:Boolean},percent:{},rangeFrom:{},rangeTo:{},titleHtml:{},color:{},isDetailEvent:{type:Boolean},numAbove:{},completed:{type:Boolean},recurrence:{},source:{}},emits:["editDateRange","hover"],setup(t,{emit:e}){const n=t,s=Ce(),r=ue(),i=ue(!1),o=x(()=>n.eventLocations.length>0),a=x(()=>!!o.value||!!n.supplemental.length),l=F=>{F.target instanceof HTMLAnchorElement||(F.preventDefault(),i.value=!i.value)},c=x(()=>n.supplemental.filter(F=>F.type==="checkbox"&&F.value).length),u=x(()=>n.supplemental.filter(F=>F.type==="checkbox").length);x(()=>o.value||n.supplemental.length?i.value:!1);const{dragHandleListenerLeft:f,dragHandleListenerRight:h,moveHandleListener:d,tempFrom:m,tempTo:p}=CI(x(()=>n.rangeFrom),x(()=>n.rangeTo),()=>e("editDateRange",I.value)),y=ue(!1),g=ue(!1);je(g,F=>e("hover",F));const T=x(()=>g.value||!!m.value||!!p.value||y.value||n.hovering),I=x(()=>{const F=yt({fromDateTimeIso:n.rangeFrom,toDateTimeIso:n.rangeTo});if(!m.value&&!p.value)return F;if(m.value){if(!p.value)return+m.value<+F.toDateTime?{fromDateTime:m.value,toDateTime:F.toDateTime}:{fromDateTime:F.toDateTime,toDateTime:m.value}}else return+p.value>+F.fromDateTime?{fromDateTime:F.fromDateTime,toDateTime:p.value}:{fromDateTime:p.value,toDateTime:F.fromDateTime};return{fromDateTime:+m.value<+p.value?m.value:p.value,toDateTime:+m.value<+p.value?p.value:m.value}}),E=x(()=>(n.recurrence?Kc(I.value,n.recurrence,ls):[I.value]).map(F=>s.distanceBetweenDates(I.value.fromDateTime,F.fromDateTime))),_=x(()=>{const F=s.distanceFromBaselineLeftmostDate(I.value.fromDateTime),Q=s.distanceBetweenDates(I.value.fromDateTime,I.value.toDateTime),ve=Math.max(10,Q);return{left:F,width:ve}}),b=x(()=>_.value.left),k=ue(),D=()=>{s.setDetailEventPath(n.path)},A=x(()=>{const F=n.percent;return isNaN(F)?!isNaN(c.value)&&u.value>0?c.value/u.value*100:100:F}),{top:z,isCollapsed:X}=ag(x(()=>n.path)),L=()=>s.showInEditor(n.path),re=x(()=>s.mode==="gantt"),he=x(()=>{let F={top:`${z.value}px`,height:"30px",transition:"top 200ms cubic-bezier(0.4, 0, 0.2, 1)"};return F.left=re.value?"0px":`${b.value}px`,re.value&&(F.right="-350%"),F}),de=x(()=>re.value?{"dark:bg-gray-900 bg-white":n.isDetailEvent,"dark:border-gray-400 border-black":n.hovering&&!n.isDetailEvent,"dark:border-indigo-600 border-indigo-500":n.isDetailEvent,"border-transparent":!n.hovering&&!n.isDetailEvent,"dark:bg-slate-400/10  bg-slate-400/10":n.hovering}:{"pointer-events-none":X.value}),J=x(()=>re.value?{}:{"dark:bg-gray-800 bg-white shadow-lg":T.value&&a.value,"dark:bg-gray-900 bg-white shadow-lg":n.isDetailEvent,"ring-1 dark:ring-gray-400 ring-black":n.hovering&&!n.isDetailEvent,"ring-1 dark:ring-indigo-600 ring-indigo-500":n.isDetailEvent,"pointer-events-auto cursor-pointer":!X.value}),te=F=>{const Q=F instanceof MouseEvent?F.clientX:F.touches[0].clientX,ve=F instanceof MouseEvent?F.clientY:F.touches[0].clientY;k.value={x:Q,y:ve}},S=F=>{var He;const Q=F instanceof MouseEvent?F.clientX:F.touches[0].clientX,ve=F instanceof MouseEvent?F.clientY:F.touches[0].clientY;((He=k.value)==null?void 0:He.x)===Q&&k.value.y===ve&&D()},G=x(()=>{const F={};return n.color&&(F.backgroundColor=`rgba(${n.color}, 0.5)`),F.width=`calc(${s.ganttSidebarTempWidth?s.ganttSidebarTempWidth:s.ganttSidebarWidth}px)`,F});return(F,Q)=>(ne(),pe($e,null,[V("div",{class:ft(["eventRow absolute",de.value]),style:ze(he.value),onMouseenterPassive:Q[2]||(Q[2]=ve=>!U(X)&&(g.value=!0)),onMouseleavePassive:Q[3]||(Q[3]=ve=>g.value=!1)},[!U(X)&&F.source==="default"?Qs((ne(),Xe(XI,{key:0,move:U(d),left:b.value,onMouseenterPassive:Q[0]||(Q[0]=ve=>y.value=!0),onMouseleavePassive:Q[1]||(Q[1]=ve=>y.value=!1),onEdit:L},null,8,["move","left"])),[[er,T.value]]):!U(X)&&T.value?(ne(),pe("div",eO,vt(F.source),1)):Be("",!0),V("div",{class:"flex flex-row eventContent items-center h-full",style:ze(re.value?`margin-left: ${b.value}px`:"")},[V("div",tO,[V("div",is({class:["flex flex-row rounded -mx-2 px-2 eventBarAndTitle",J.value]},nc(U(X)?{}:{mousedown:te,mouseup:S},!0)),null,16),_e(MI,{ref_key:"eventBar",ref:r,tagColor:F.color,percent:A.value,hovering:T.value||F.hovering,width:_.value.width,taskNumerator:c.value,taskDenominator:u.value,"drag-handle-listener-left":U(f),"drag-handle-listener-right":U(h),editable:!U(X)&&F.source==="default",expandedRecurrence:E.value},null,8,["tagColor","percent","hovering","width","taskNumerator","taskDenominator","drag-handle-listener-left","drag-handle-listener-right","editable","expandedRecurrence"]),_e(yh,null,{default:Tt(()=>[Qs(V("p",{class:ft(["eventDate text-sm whitespace-nowrap py-1",F.recurrence?"dark:text-orange-300 text-orange-500":"text-gray-400"])},vt(F.dateText),3),[[er,!U(X)&&U(s).dateTimeDisplay==="original"]])]),_:1}),_e(yh,null,{default:Tt(()=>[U(s).mode==="timeline"?Qs((ne(),Xe(gh,{key:0,"showing-meta":i.value,"is-hovering":T.value,"has-meta":a.value,"has-supplemental":!!F.supplemental.length,"has-locations":o.value,"task-denominator":u.value,"task-numerator":c.value,completed:F.completed,"title-html":F.titleHtml,onToggleMeta:l},null,8,["showing-meta","is-hovering","has-meta","has-supplemental","has-locations","task-denominator","task-numerator","completed","title-html"])),[[er,!U(X)]]):Be("",!0)]),_:1})])],4)],38),U(s).mode==="gantt"&&!U(X)?(ne(),pe("div",{key:0,class:"absolute left-0 h-[30px] pointer-events-none",style:ze({top:`${U(z)}px`,right:"-350%"}),onMouseenterPassive:Q[4]||(Q[4]=ve=>g.value=!0),onMouseleavePassive:Q[5]||(Q[5]=ve=>g.value=!1)},[V("div",nO,[V("div",{class:ft(["sticky left-0 z-10 h-full",{"dark:bg-slate-400/10 bg-slate-400/25":F.hovering,"bg-white dark:bg-slate-800":!F.hovering}])},[V("div",{class:ft(["h-full pointer-events-auto",{"border-transparent":!F.hovering&&!F.isDetailEvent,"dark:border-indigo-600 border-indigo-600":F.isDetailEvent}]),style:ze([{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden",cursor:"pointer"},G.value]),onMousedownPassive:te,onMouseupPassive:S},[_e(gh,{class:"px-2 h-full","showing-meta":i.value,"is-hovering":T.value,"has-meta":a.value,"has-supplemental":!!F.supplemental.length,"has-locations":o.value,"task-denominator":u.value,"task-numerator":c.value,completed:F.completed,"title-html":F.titleHtml,onToggleMeta:l},null,8,["showing-meta","is-hovering","has-meta","has-supplemental","has-locations","task-denominator","task-numerator","completed","title-html"])],38)],2)])],36)):Be("",!0)],64))}});const rO=$s(sO,[["__scopeId","data-v-b7779dec"]]),iO=(t,e)=>typeof t>"u"&&typeof e>"u"?!0:!(typeof t>"u"||typeof e>"u"),oO=(t,e)=>t.type===e.type&&t.content===e.content&&t.from===e.from&&t.to===e.to,aO=(t,e)=>vh(t.fromDateTimeIso,e.fromDateTimeIso)&&vh(t.toDateTimeIso,e.toDateTimeIso),lO=(t,e)=>t===e,vh=lO,Th=(t,e)=>t.length===e.length&&t.every((n,s)=>n===e[s]),cO=(t,e)=>t.length==e.length&&t.every((n,s)=>oO(n,e[s])),uO=(t,e)=>t.length===e.length&&t.every((n,s)=>fO(n,e[s])),fO=(t,e)=>t.type!==e.type?!1:t.type===Xn.IMAGE?t.altText===e.altText&&t.link===e.link:t.raw===e.raw&&t.value===e.value,hO=(t,e)=>{if(!t||!e)return!1;if(t.for)if(e.for){const r=Object.keys(t.for),i=Object.keys(e.for);if(r.sort().join(",")!==i.sort().join(","))return!1;for(const o of r)if(t.for[o]!==e.for[o])return!1}else return!1;else if(e.for)return!1;const n=Object.keys(t.every),s=Object.keys(e.every);if(n.sort().join(",")!==s.sort().join(","))return!1;for(const r of n)if(t.every[r]!==e.every[r])return!1;return!0};function zl(t){return t.replace(/<|>/g,e=>e==="<"?"<span><</span>":"<span>></span>").replace(X_,(e,n,s)=>`<a class="underline" href="${dO(s)}">${n}</a>`).replace(/&/g,"&amp;").replace(Q_,(e,n)=>`<a class="underline" href="/${n}">@${n}</a>`)}function dO(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`http://${t}`}const wh=(t,e,n,s)=>{const r=ue(s||void 0);return Ns(()=>{if(!n())return;const i=t();typeof i>"u"?r.value=void 0:(!r.value||!e(r.value,i))&&(r.value=i)}),r},lg=(t,e=()=>!0)=>{const n=Ce(),s=(g,T=(E,_)=>E===_,I)=>wh(g,(E,_)=>iO(E,_)&&T(E,_),e,I),r=x(()=>t.value.value),i=wh(()=>t.value.source,(g,T)=>g===T,e,"default"),o=s(()=>U(r).dateRangeIso,aO),a=s(()=>{var g,T;return((T=(g=U(r))==null?void 0:g.eventDescription)==null?void 0:T.locations)||[]},Th),l=s(()=>{var g;return(g=U(r))==null?void 0:g.eventDescription.completed}),c=s(()=>{var g,T;return((T=(g=U(r))==null?void 0:g.eventDescription)==null?void 0:T.supplemental)||[]},uO),u=s(()=>{var g,T;return(T=(g=U(r))==null?void 0:g.eventDescription)==null?void 0:T.percent}),f=s(()=>{var g,T;return((T=(g=U(r))==null?void 0:g.eventDescription)==null?void 0:T.matchedListItems)||[]},cO),h=s(()=>{var g,T;return((T=(g=U(r))==null?void 0:g.eventDescription)==null?void 0:T.tags)||[]},Th),d=ue();Ns(()=>{var T,I;if(!e())return;const g=(T=h.value)!=null&&T.length?(I=n.colors[i.value||"default"])==null?void 0:I[h.value[0]]:void 0;d.value!==g&&(d.value=g)});const m=s(()=>{var T;const g=U(r);return(T=g==null?void 0:g.recurrenceRangeInText)!=null&&T.content?g.recurrenceRangeInText.content:zl((g==null?void 0:g.dateText)||"")}),p=s(()=>{var T,I;const g=(I=(T=U(r))==null?void 0:T.eventDescription)==null?void 0:I.eventDescription;return g?zl(g.replace(Um,(E,_)=>E.substring(_.length))):""}),y=s(()=>{var g;return(g=U(r))==null?void 0:g.recurrence},hO);return{eventRange:o,eventLocations:a,supplemental:c,percent:u,matchedListItems:f,tags:h,color:d,dateText:m,titleHtml:p,completed:l,recurrence:y,source:i}},mO=De({__name:"EventNodeRow",props:{node:{},path:{},numAbove:{},numChildren:{}},setup(t){const e=t,n=Ce(),{editEventDateRange:s}=n,r=x(()=>e.path.split(",").map(A=>parseInt(A))),i=x(()=>Jt(e.node)),o=x(()=>n.hoveringEventPaths),{eventRange:a,eventLocations:l,supplemental:c,percent:u,matchedListItems:f,tags:h,color:d,dateText:m,titleHtml:p,completed:y,recurrence:g,source:T}=lg(x(()=>e.node),()=>i.value),I=x(()=>r.value),E=x(()=>n.scaleOfViewportDateInterval),_=x(()=>n.pageTimelineMetadata.preferredInterpolationFormat),b=A=>s(r.value,Oc(A),E.value,_.value),k=A=>{A?n.setHoveringEvent(e.path.split(",").map(z=>parseInt(z))):n.clearHoveringEvent()},D=x(()=>n.isDetailEventPath(I.value));return(A,z)=>(ne(),Xe(rO,{source:U(T)||"default","event-locations":U(l)||[],supplemental:U(c)||[],"matched-list-items":U(f)||[],rangeFrom:U(a).fromDateTimeIso,rangeTo:U(a).toDateTimeIso,tags:U(h)||[],color:U(d),path:I.value,percent:U(u),dateText:U(m)||"",titleHtml:U(p)||"",completed:U(y),recurrence:U(g),onEditDateRange:b,onHover:k,"is-detail-event":D.value,hovering:U(di)(o.value,I.value),numAbove:A.numAbove},null,8,["source","event-locations","supplemental","matched-list-items","rangeFrom","rangeTo","tags","color","path","percent","dateText","titleHtml","completed","recurrence","is-detail-event","hovering","numAbove"]))}}),pO=(t,e,n)=>{const s=ue(!1),r=ue(0),i=ue(0),o=d=>d instanceof MouseEvent?d.pageX:d.touches[0].pageX,a=()=>{document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u),document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("keydown",l)},l=d=>{d.key==="Escape"&&(s.value=!1,i.value=0,a())},c=d=>{s.value&&(U(t)?i.value=Math.max(U(e)-r.value+o(d),150):i.value=Math.max(U(e)+r.value-o(d),150))},u=d=>{s.value=!1,i.value&&(n(Math.max(i.value,50)),i.value=0),a()},f=d=>{s.value=!0,r.value=o(d),document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),document.addEventListener("touchmove",c),document.addEventListener("touchend",u),document.addEventListener("keydown",l)},h=x(()=>s.value);return je(h,d=>{va().canPan=!d}),{tempWidth:i,resizeMouseDown:f,isResizing:h}},gO={class:"fixed left-0 right-0 top-0 h-full pointer-events-none z-20"},yO={class:"flex w-full h-full"},vO={class:"h-full w-full"},TO=De({__name:"GanttSidebar",setup(t){const e=Ce(),n=x(()=>e.ganttSidebarWidth),{tempWidth:s,resizeMouseDown:r}=pO(!0,n,o=>e.setGanttSidebarWidth(o));Ns(()=>{e.setGanttSidebarTempWidth(s.value)});const i=x(()=>s.value?s.value:n.value);return(o,a)=>Qs((ne(),pe("div",gO,[V("div",yO,[V("div",{class:"sticky left-0 relative flex flex-col",style:ze(`width: calc(${i.value}px)`)},[V("div",vO,[V("div",{class:ft(["pointer-events-auto sticky hover:w-1 right-0 inline-flex items-center justify-center hover:transition hover:bg-indigo-600 dark:hover:bg-indigo-600 top-0 bottom-0 z-[5]",{"bg-indigo-600 w-1":U(s),"bg-slate-200 dark:bg-slate-900 w-px":!U(s)}]),style:ze([{cursor:"ew-resize"},`height: ${U(e).pageSettings.viewport.height}px; left: ${i.value}px`]),onMousedown:a[0]||(a[0]=Et((...l)=>U(r)&&U(r)(...l),["prevent","stop"])),onTouchstart:a[1]||(a[1]=Et((...l)=>U(r)&&U(r)(...l),["prevent","stop"]))},null,38)])],4)])],512)),[[er,U(e).mode==="gantt"]])}}),wO=De({__name:"ExpandedSectionBackground",props:{hovering:{type:Boolean},style:{},node:{},left:{},fullWidth:{},path:{},height:{}},setup(t){const e=t,{color:n}=eu(Cn(()=>e.node)),s=Ce(),r=Cn(()=>e.style==="group"),i=Cn(()=>e.path.split(",").map(c=>parseInt(c))),o=Cn(()=>s.isDetailEventPath(i.value)),a=Cn(()=>e.path.split(",").length>4),l=Cn(()=>{const c={height:`${e.height}px`,transition:"height 200ms cubic-bezier(0.4, 0, 0.2, 1)"};if(n.value){e.hovering||o.value?c.backgroundColor=`rgba(${n.value}, 0.1`:a.value||(c.backgroundColor=`rgba(${n.value}, 0.05)`);const u=`1px solid rgba(${n.value}, ${o.value?"0.95":e.hovering?"0.75":"0.12"})`;c.borderTop=u,c.borderBottom=u,r.value&&(c.borderLeft=u,c.borderRight=u)}return r.value&&(c.marginLeft=`${s.pageScaleBy24*e.left-8}px`,c.width=`calc(${s.pageScaleBy24*e.fullWidth+16}px)`),c});return(c,u)=>(ne(),pe("div",{class:ft(["absolute h-full flex flex-row items-center dark:text-gray-400 pointer-events-none",{"dark:bg-opacity-30 bg-opacity-20":c.hovering||!U(n)&&U(o),"dark:bg-opacity-20 bg-opacity-10":!c.hovering&&!U(a),"border-t border-b":!U(n),"border-l border-r":U(r),"dark:border-gray-900/25 border-gray-400/25":!U(n)&&U(a),"bg-gray-400 dark:bg-gray-600":!U(n)&&!U(a),"dark:border-gray-400/25 border-gray-400/25":!U(n)&&!c.hovering,"dark:border-gray-400 border-gray-600":!U(n)&&(c.hovering||U(o)),"ml-0 w-full":!U(r),"rounded-[14px]":U(r)}]),style:ze(U(l))},null,6))}}),_O={key:0,class:"mr-[2px] flex flex-row items-center"},bO={xmlns:"http://www.w3.org/2000/svg",class:"w-1 h-2",width:"40",height:"40",viewBox:"0 0 16 20","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},EO=V("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),SO=V("circle",{cx:"8",cy:"4",r:"4",fill:"currentColor"},null,-1),IO=V("circle",{cx:"8",cy:"18",r:"4",fill:"currentColor"},null,-1),OO=[EO,SO,IO],DO={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-1 h-2",width:"40",height:"40",viewBox:"0 0 16 20","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},kO=V("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),MO=V("circle",{cx:"8",cy:"11",r:"4",fill:"currentColor"},null,-1),CO=[kO,MO],AO=De({__name:"DepthIndicator",props:{depth:{}},setup(t){const e=t,n=Cn(()=>Math.floor((e.depth-1)/2)),s=Cn(()=>(e.depth-1)%2===1);return(r,i)=>r.depth>1?(ne(),pe("div",_O,[(ne(!0),pe($e,null,dn(U(n),o=>(ne(),pe("svg",bO,OO))),256)),U(s)?(ne(),pe("svg",DO,CO)):Be("",!0)])):Be("",!0)}}),xO={},NO={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-auto",viewBox:"0 0 20 20",fill:"currentColor"},LO=V("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1),RO=[LO];function PO(t,e){return ne(),pe("svg",NO,RO)}const $O=$s(xO,[["render",PO]]),FO={class:"flex flex-row flex-grow items-center justify-center"},zO=["innerHTML"],YO={key:1,class:"eventTitle text-sm font-semibold whitespace-nowrap ml-1"},UO=De({__name:"SectionTitleButton",props:{color:{},titleHtml:{},expanded:{type:Boolean},numChildren:{},groupStyle:{},path:{}},emits:["click","hovering"],setup(t,{emit:e}){const n=t,s=ue(),r=x(()=>n.color?{backgroundColor:`rgba(${n.color}, 0.5)`}:{});return(i,o)=>(ne(),pe("button",{ref_key:"button",ref:s,class:ft(["flex flex-row items-center dark:bg-opacity-60 bg-opacity-50",{"bg-gray-500 dark:bg-gray-900":!i.color,"rounded-full px-2 py-px":i.groupStyle==="group","px-1":i.groupStyle!=="group"}]),style:ze(r.value),onMouseoverPassive:o[0]||(o[0]=a=>e("hovering",!0)),onMouseleavePassive:o[1]||(o[1]=a=>e("hovering",!1))},[_e(AO,{depth:i.path.split(",").length},null,8,["depth"]),V("div",FO,[i.titleHtml?(ne(),pe("span",{key:0,class:"eventTitle text-sm font-semibold whitespace-nowrap",innerHTML:i.titleHtml},null,8,zO)):Be("",!0),i.expanded?Be("",!0):(ne(),pe("span",YO,"("+vt(i.numChildren)+")",1))]),i.expanded?(ne(),Xe($O,{key:0})):Be("",!0)],38))}});const BO=$s(UO,[["__scopeId","data-v-a5548532"]]),HO=De({__name:"SectionHeader",props:{path:{},expanded:{type:Boolean},titleHtml:{},color:{},numChildren:{},groupStyle:{},fullWidth:{},left:{},hovering:{type:Boolean}},emits:["toggle","hover"],setup(t,{emit:e}){const n=t,s=Ce(),r=Ps(),i=x(()=>({click:p=>e("toggle",p),mouseover:p=>e("hover",!0),mouseleave:p=>e("hover",!1)})),o=x(()=>r.isCollapsed(n.path));let a;const l=ue(!1);je(o,()=>{l.value=!0,isNaN(a)||clearTimeout(a),a=setTimeout(()=>{l.value=!1},200)});const c=x(()=>s.pageScaleBy24*n.fullWidth),u=x(()=>{const p={order:-9999,top:`${3+n.path.slice(1).length*1.2}rem`,zIndex:s.mode==="gantt"?3:0,height:"30px"};return n.groupStyle==="group"&&(p.width=`${c.value}px`,p.marginLeft=`${s.pageScaleBy24*n.left}px`),p}),f=p=>e("toggle",p),h=x(()=>{const p={left:"1rem"};return s.mode==="gantt"&&(p.width=`calc(${s.ganttSidebarTempWidth?s.ganttSidebarTempWidth:s.ganttSidebarWidth}px - 0.5rem)`,p.overflow="auto"),p}),d=x(()=>s.mode==="gantt"?n.hovering?"border dark:border-gray-400 border-black":"border border-transparent":""),m=x(()=>{const p={};return l.value&&(p.transition=l.value?"margin-left 200ms cubic-bezier(0.4, 0, 0.2, 1)":""),n.groupStyle==="group"&&o.value?p.marginLeft=`calc(${c.value}px + 0.75rem)`:p.marginLeft=0,p});return(p,y)=>(ne(),pe("div",is({class:"flex items-center cursor-pointer",style:u.value},nc(i.value,!0)),[V("div",{class:"sticky flex items-center left-2",style:ze(m.value)},[V("div",{class:ft(["h-[30px] flex flex-row items-center",d.value]),style:ze(h.value)},[_e(BO,{"title-html":p.titleHtml,color:p.color,"num-children":p.numChildren,expanded:p.expanded,"group-style":p.groupStyle,path:p.path,onClick:f},null,8,["title-html","color","num-children","expanded","group-style","path"])],6)],4)],16))}}),jO={class:"relative flex flex-col"},WO=De({__name:"Section",props:{node:{},path:{},numChildren:{},numAbove:{},groupStyle:{}},setup(t){const e=t,n=Ce(),s=Ps(),{setHoveringEvent:r,clearHoveringEvent:i}=n,{scalelessDistanceBetweenDates:o,scalelessDistanceFromReferenceDate:a}=n,l=x({get:()=>s.isCollapsed(e.path),set:A=>s.setCollapsed(e.path,A)}),c=ue(!1),u=x(()=>n.hoveringEventPaths),f=x(()=>e.path.split(",").map(A=>parseInt(A))),h=A=>{A.target instanceof HTMLAnchorElement||(A.preventDefault(),l.value=!l.value)},d=x(()=>xs(e.node,ls)),m=x(()=>!e.node||!d.value?10:o(n.baselineLeftmostDate,d.value.fromDateTime)),{color:p}=eu(x(()=>e.node)),y=x(()=>!e.node||!d.value?100:o(d.value.fromDateTime,d.value.toDateTime)),g=x(()=>zl(e.node.title||"")),T=A=>{c.value=A};je(c,A=>{A?r(e.path.split(",").map(z=>parseInt(z))):i()});const I=x(()=>e.groupStyle?e.groupStyle:n.mode==="gantt"||e.node.style==="section"?"section":"group"),E=x(()=>`${n.pageScaleBy24*y.value}px`),_=x(()=>100+e.numAbove*30),b=x(()=>30+e.numChildren*30),k=x(()=>({top:`${_.value}px`,transition:"top 200ms cubic-bezier(0.4, 0, 0.2, 1)",display:s.isCollapsedChild(e.path)?"none":"block",...I.value==="section"?{left:0,right:"-350%"}:{}})),D=x(()=>c.value||di(u.value,f.value));return(A,z)=>(ne(),pe("div",{class:"absolute",style:ze(k.value)},[V("div",jO,[_e(wO,{hovering:D.value,style:ze(I.value),node:A.node,left:m.value,height:b.value,"full-width":y.value,path:A.path},null,8,["hovering","style","node","left","height","full-width","path"]),V("div",{class:"sticky top-0 cursor-pointer",style:ze({width:E.value})},null,4),_e(HO,{path:A.path,onToggle:h,onHover:T,hovering:D.value,expanded:!l.value,titleHtml:g.value,color:U(p),"num-children":A.node.value.length,"group-style":I.value,left:m.value,"full-width":y.value},null,8,["path","hovering","expanded","titleHtml","color","num-children","group-style","left","full-width"])])],4))}}),VO=De({__name:"Events",setup(t){const e=Ce(),n=Ei();x(()=>{const i=n.nodeArray;return i.length?`${i.length*30+500}px`:"100%"});const s=(i,o)=>({node:o,path:i.join(","),numChildren:n.childrenMap.get(i.join(",")),numAbove:n.predecessorMap.get(i.join(","))||0}),r=x(()=>e.ganttSidebarTempWidth?e.ganttSidebarTempWidth:e.ganttSidebarWidth);return x(()=>e.pageSettings.viewport.width*7),(i,o)=>(ne(),pe($e,null,[U(e).mode==="gantt"?(ne(),pe("div",{key:0,class:"sticky left-0 relative flex flex-col bg-white dark:bg-slate-800 top-0 bottom-0 z-[2] h-full",style:ze(`width: calc(${r.value}px);`)},null,4)):Be("",!0),(ne(!0),pe($e,null,dn(U(n).visibleNodes[1],({path:a,node:l})=>(ne(),Xe(WO,yu(is({key:U(n).sectionKeys.get(a.join(","))},s(a,l))),null,16))),128)),(ne(!0),pe($e,null,dn(U(n).visibleNodes[0],({path:a,node:l,key:c})=>(ne(),Xe(mO,yu(is({key:c},s(a,l))),null,16))),128)),_e(SI),_e(TO)],64))}}),_h=2,bh=2,Eh=8,Sh=24,Ih=24;function Oh(t,e){return Math.sign(t)*Math.min(e,Math.abs(t))}function qO(t){let e=t.deltaX,n=t.deltaY;return t.shiftKey&&e===0&&([e,n]=[n,e]),t.deltaMode===WheelEvent.DOM_DELTA_LINE?(e*=Eh,n*=Eh):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=Sh,n*=Sh),[Oh(e,Ih),Oh(n,Ih)]}function KO(t,e){function n(){}let s=e||{},r=s.startGesture||n,i=s.doGesture||n,o=s.endGesture||n,a=null,l;function c(){a&&(o(a),a=null)}if(t.addEventListener("wheel",function(f){if(!a&&!f.ctrlKey)return;f.cancelable!==!1&&f.preventDefault();let[h,d]=qO(f);if(a||(a={origin:{x:f.clientX,y:f.clientY},scale:1,translation:{x:0,y:0}},r(a)),f.ctrlKey){let m=d<=0?1-_h*d/100:1/(1+_h*d/100);a={origin:{x:f.clientX,y:f.clientY},scale:a.scale*m,translation:a.translation}}else a={origin:{x:f.clientX,y:f.clientY},scale:a.scale,translation:{x:a.translation.x-bh*h,y:a.translation.y-bh*d}};i(a),l&&window.clearTimeout(l),l=window.setTimeout(c,200)},{passive:!1}),typeof GestureEvent<"u"&&typeof TouchEvent>"u"){let u=!1;t.addEventListener("gesturestart",function(h){u||(r({translation:{x:0,y:0},scale:h.scale,rotation:h.rotation,origin:{x:h.clientX,y:h.clientY}}),u=!0),h.cancelable!==!1&&h.preventDefault()},{passive:!1}),t.addEventListener("gesturechange",function(h){u&&i({translation:{x:0,y:0},scale:h.scale,rotation:h.rotation,origin:{x:h.clientX,y:h.clientY}}),h.cancelable!==!1&&h.preventDefault()},{passive:!1}),t.addEventListener("gestureend",function(h){u&&(o({translation:{x:0,y:0},scale:h.scale,rotation:h.rotation,origin:{x:h.clientX,y:h.clientY}}),u=!1)})}return c}var cg={exports:{}};/*! Hammer.JS - v2.1.0-pre3 - 2019-08-26\n * http://squadette.github.io/hammer.js/\n *\n * Copyright (c) 2019 Jorik Tangelder;\n * Licensed under the MIT license */(function(t){typeof window<"u"&&typeof document<"u"&&function(e,n,s,r){var i=["","webkit","Moz","MS","ms","o"],o=n.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function f(v,w,M){return setTimeout(I(v,M),w)}function h(v,w,M){return Array.isArray(v)?(d(v,M[w],M),!0):!1}function d(v,w,M){var R;if(v)if(v.forEach)v.forEach(w,M);else if(v.length!==r)for(R=0;R<v.length;)w.call(M,v[R],R,v),R++;else for(R in v)v.hasOwnProperty(R)&&w.call(M,v[R],R,v)}function m(v,w,M){var R="DEPRECATED METHOD: "+w+`\n`+M+` AT \n`;return function(){var Z=new Error("get-stack-trace"),fe=Z&&Z.stack?Z.stack.replace(/^[^\\(]+?[\\n$]/gm,"").replace(/^\\s+at\\s+/gm,"").replace(/^Object.<anonymous>\\s*\\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Oe=e.console&&(e.console.warn||e.console.log);return Oe&&Oe.call(e.console,R,fe),v.apply(this,arguments)}}var p;typeof Object.assign!="function"?p=function(w){if(w===r||w===null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(w),R=1;R<arguments.length;R++){var Z=arguments[R];if(Z!==r&&Z!==null)for(var fe in Z)Z.hasOwnProperty(fe)&&(M[fe]=Z[fe])}return M}:p=Object.assign;var y=m(function(w,M,R){for(var Z=Object.keys(M),fe=0;fe<Z.length;)(!R||R&&w[Z[fe]]===r)&&(w[Z[fe]]=M[Z[fe]]),fe++;return w},"extend","Use `assign`."),g=m(function(w,M){return y(w,M,!0)},"merge","Use `assign`.");function T(v,w,M){var R=w.prototype,Z;Z=v.prototype=Object.create(R),Z.constructor=v,Z._super=R,M&&p(Z,M)}function I(v,w){return function(){return v.apply(w,arguments)}}function E(v,w){return typeof v==a?v.apply(w&&w[0]||r,w):v}function _(v,w){return v===r?w:v}function b(v,w,M){d(z(w),function(R){v.addEventListener(R,M,!1)})}function k(v,w,M){d(z(w),function(R){v.removeEventListener(R,M,!1)})}function D(v,w){for(;v;){if(v==w)return!0;v=v.parentNode}return!1}function A(v,w){return v.indexOf(w)>-1}function z(v){return v.trim().split(/\\s+/g)}function X(v,w,M){if(v.indexOf&&!M)return v.indexOf(w);for(var R=0;R<v.length;){if(M&&v[R][M]==w||!M&&v[R]===w)return R;R++}return-1}function L(v){return Array.prototype.slice.call(v,0)}function re(v,w,M){for(var R=[],Z=[],fe=0;fe<v.length;){var Oe=w?v[fe][w]:v[fe];X(Z,Oe)<0&&R.push(v[fe]),Z[fe]=Oe,fe++}return M&&(w?R=R.sort(function(wt,Dt){return wt[w]>Dt[w]}):R=R.sort()),R}function he(v,w){if(!v)return r;for(var M,R,Z=w[0].toUpperCase()+w.slice(1),fe=0;fe<i.length;){if(M=i[fe],R=M?M+Z:w,R in v)return R;fe++}return r}var de=1;function J(){return de++}function te(v){var w=v.ownerDocument||v;return w.defaultView||w.parentWindow||e}var S=/mobile|tablet|ip(ad|hone|od)|android/i,G="ontouchstart"in e,F=he(e,"PointerEvent")!==r,Q=G&&S.test(navigator.userAgent),ve="touch",He="pen",We="mouse",at="kinect",Ye=25,$=1,ie=2,q=4,le=8,Ie=1,O=2,C=4,N=8,Y=16,H=O|C,W=N|Y,oe=H|W,ee=["x","y"],se=["clientX","clientY"];function j(v,w){var M=this;this.manager=v,this.callback=w,this.element=v.element,this.target=v.options.inputTarget,this.domHandler=function(R){E(v.options.enable,[v])&&M.handler(R)},this.init()}j.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(te(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(te(this.element),this.evWin,this.domHandler)}};function ge(v){var w,M=v.options.inputClass;return M?w=M:F?w=Ta:Q?w=Ii:G?w=wa:w=Mr,new w(v,me)}function me(v,w,M){var R=M.pointers.length,Z=M.changedPointers.length,fe=w&$&&R-Z===0,Oe=w&(q|le)&&R-Z===0;M.isFirst=!!fe,M.isFinal=!!Oe,fe&&(v.session={}),M.eventType=w,ye(v,M),v.emit("hammer.input",M),v.recognize(M),v.session.prevInput=M}function ye(v,w){var M=v.session,R=w.pointers,Z=R.length;M.firstInput||(M.firstInput=xe(w)),Z>1&&!M.firstMultiple?M.firstMultiple=xe(w):Z===1&&(M.firstMultiple=!1);var fe=M.firstInput,Oe=M.firstMultiple,mt=Oe?Oe.center:fe.center,wt=w.center=Ne(R);w.timeStamp=u(),w.deltaTime=w.timeStamp-fe.timeStamp,w.angle=Pt(mt,wt),w.distance=st(mt,wt),we(M,w),w.offsetDirection=Re(w.deltaX,w.deltaY);var Dt=K(w.deltaTime,w.deltaX,w.deltaY);w.overallVelocityX=Dt.x,w.overallVelocityY=Dt.y,w.overallVelocity=c(Dt.x)>c(Dt.y)?Dt.x:Dt.y,w.scale=Oe?Sn(Oe.pointers,R):1,w.rotation=Oe?$t(Oe.pointers,R):0,w.maxPointers=M.prevInput?w.pointers.length>M.prevInput.maxPointers?w.pointers.length:M.prevInput.maxPointers:w.pointers.length,Ee(M,w);var vn=v.element;D(w.srcEvent.target,vn)&&(vn=w.srcEvent.target),w.target=vn}function we(v,w){var M=w.center,R=v.offsetDelta||{},Z=v.prevDelta||{},fe=v.prevInput||{};(w.eventType===$||fe.eventType===q)&&(Z=v.prevDelta={x:fe.deltaX||0,y:fe.deltaY||0},R=v.offsetDelta={x:M.x,y:M.y}),w.deltaX=Z.x+(M.x-R.x),w.deltaY=Z.y+(M.y-R.y)}function Ee(v,w){var M=v.lastInterval||w,R=w.timeStamp-M.timeStamp,Z,fe,Oe,mt;if(w.eventType!=le&&(R>Ye||M.velocity===r)){var wt=w.deltaX-M.deltaX,Dt=w.deltaY-M.deltaY,vn=K(R,wt,Dt);fe=vn.x,Oe=vn.y,Z=c(vn.x)>c(vn.y)?vn.x:vn.y,mt=Re(wt,Dt),v.lastInterval=w}else Z=M.velocity,fe=M.velocityX,Oe=M.velocityY,mt=M.direction;w.velocity=Z,w.velocityX=fe,w.velocityY=Oe,w.direction=mt}function xe(v){for(var w=[],M=0;M<v.pointers.length;)w[M]={clientX:l(v.pointers[M].clientX),clientY:l(v.pointers[M].clientY)},M++;return{timeStamp:u(),pointers:w,center:Ne(w),deltaX:v.deltaX,deltaY:v.deltaY}}function Ne(v){var w=v.length;if(w===1)return{x:l(v[0].clientX),y:l(v[0].clientY)};for(var M=0,R=0,Z=0;Z<w;)M+=v[Z].clientX,R+=v[Z].clientY,Z++;return{x:l(M/w),y:l(R/w)}}function K(v,w,M){return{x:w/v||0,y:M/v||0}}function Re(v,w){return v===w?Ie:c(v)>=c(w)?v<0?O:C:w<0?N:Y}function st(v,w,M){M||(M=ee);var R=w[M[0]]-v[M[0]],Z=w[M[1]]-v[M[1]];return Math.sqrt(R*R+Z*Z)}function Pt(v,w,M){M||(M=ee);var R=w[M[0]]-v[M[0]],Z=w[M[1]]-v[M[1]];return Math.atan2(Z,R)*180/Math.PI}function $t(v,w){return Pt(w[1],w[0],se)-Pt(v[1],v[0],se)}function Sn(v,w){return st(w[0],w[1],se)/st(v[0],v[1],se)}var ht={mousedown:$,mousemove:ie,mouseup:q},Je="mousedown",dt="mousemove mouseup";function Mr(){this.evEl=Je,this.evWin=dt,this.pressed=!1,j.apply(this,arguments)}T(Mr,j,{handler:function(w){var M=ht[w.type];M&$&&w.button===0&&(this.pressed=!0),M&ie&&w.which!==1&&(M=q),this.pressed&&(M&q&&(this.pressed=!1),this.callback(this.manager,M,{pointers:[w],changedPointers:[w],pointerType:We,srcEvent:w}))}});var Si={pointerdown:$,pointermove:ie,pointerup:q,pointercancel:le,pointerout:le},gg={2:ve,3:He,4:We,5:at},su="pointerdown",ru="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(su="MSPointerDown",ru="MSPointerMove MSPointerUp MSPointerCancel");function Ta(){this.evEl=su,this.evWin=ru,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T(Ta,j,{handler:function(w){var M=this.store,R=!1,Z=w.type.toLowerCase().replace("ms",""),fe=Si[Z],Oe=gg[w.pointerType]||w.pointerType,mt=Oe==ve,wt=X(M,w.pointerId,"pointerId");fe&$&&(w.button===0||mt)?wt<0&&(M.push(w),wt=M.length-1):fe&(q|le)&&(R=!0),!(wt<0)&&(M[wt]=w,this.callback(this.manager,fe,{pointers:M,changedPointers:[w],pointerType:Oe,srcEvent:w}),R&&M.splice(wt,1))}});var yg={touchstart:$,touchmove:ie,touchend:q,touchcancel:le},vg="touchstart",Tg="touchstart touchmove touchend touchcancel";function iu(){this.evTarget=vg,this.evWin=Tg,this.started=!1,j.apply(this,arguments)}T(iu,j,{handler:function(w){var M=yg[w.type];if(M===$&&(this.started=!0),!!this.started){var R=wg.call(this,w,M);M&(q|le)&&R[0].length-R[1].length===0&&(this.started=!1),this.callback(this.manager,M,{pointers:R[0],changedPointers:R[1],pointerType:ve,srcEvent:w})}}});function wg(v,w){var M=L(v.touches),R=L(v.changedTouches);return w&(q|le)&&(M=re(M.concat(R),"identifier",!0)),[M,R]}var _g={touchstart:$,touchmove:ie,touchend:q,touchcancel:le},bg="touchstart touchmove touchend touchcancel";function Ii(){this.evTarget=bg,this.targetIds={},j.apply(this,arguments)}T(Ii,j,{handler:function(w){var M=_g[w.type],R=Eg.call(this,w,M);R&&this.callback(this.manager,M,{pointers:R[0],changedPointers:R[1],pointerType:ve,srcEvent:w})}});function Eg(v,w){var M=L(v.touches),R=this.targetIds;if(w&($|ie)&&M.length===1)return R[M[0].identifier]=!0,[M,M];var Z,fe,Oe=L(v.changedTouches),mt=[],wt=this.target;if(fe=M.filter(function(Dt){return D(Dt.target,wt)}),w===$)for(Z=0;Z<fe.length;)R[fe[Z].identifier]=!0,Z++;for(Z=0;Z<Oe.length;)R[Oe[Z].identifier]&&mt.push(Oe[Z]),w&(q|le)&&delete R[Oe[Z].identifier],Z++;if(mt.length)return[re(fe.concat(mt),"identifier",!0),mt]}var Sg=2500,ou=25;function wa(){j.apply(this,arguments);var v=I(this.handler,this);this.touch=new Ii(this.manager,v),this.mouse=new Mr(this.manager,v),this.primaryTouch=null,this.lastTouches=[]}T(wa,j,{handler:function(w,M,R){var Z=R.pointerType==ve,fe=R.pointerType==We;if(!(fe&&R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents)){if(Z)Ig.call(this,M,R);else if(fe&&Og.call(this,R))return;this.callback(w,M,R)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ig(v,w){v&$?(this.primaryTouch=w.changedPointers[0].identifier,au.call(this,w)):v&(q|le)&&au.call(this,w)}function au(v){var w=v.changedPointers[0];if(w.identifier===this.primaryTouch){var M={x:w.clientX,y:w.clientY};this.lastTouches.push(M);var R=this.lastTouches,Z=function(){var fe=R.indexOf(M);fe>-1&&R.splice(fe,1)};setTimeout(Z,Sg)}}function Og(v){for(var w=v.srcEvent.clientX,M=v.srcEvent.clientY,R=0;R<this.lastTouches.length;R++){var Z=this.lastTouches[R],fe=Math.abs(w-Z.x),Oe=Math.abs(M-Z.y);if(fe<=ou&&Oe<=ou)return!0}return!1}var lu=he(o.style,"touchAction"),cu=lu!==r,uu="compute",fu="auto",_a="manipulation",cs="none",Cr="pan-x",Ar="pan-y",Oi=kg();function ba(v,w){this.manager=v,this.set(w)}ba.prototype={set:function(v){v==uu&&(v=this.compute()),cu&&this.manager.element.style&&Oi[v]&&(this.manager.element.style[lu]=v),this.actions=v.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var v=[];return d(this.manager.recognizers,function(w){E(w.options.enable,[w])&&(v=v.concat(w.getTouchAction()))}),Dg(v.join(" "))},preventDefaults:function(v){var w=v.srcEvent,M=v.offsetDirection;if(this.manager.session.prevented){w.preventDefault();return}var R=this.actions,Z=A(R,cs)&&!Oi[cs],fe=A(R,Ar)&&!Oi[Ar],Oe=A(R,Cr)&&!Oi[Cr];if(Z){var mt=v.pointers.length===1,wt=v.distance<2,Dt=v.deltaTime<250;if(mt&&wt&&Dt)return}if(!(Oe&&fe)&&(Z||fe&&M&H||Oe&&M&W))return this.preventSrc(w)},preventSrc:function(v){this.manager.session.prevented=!0,v.preventDefault()}};function Dg(v){if(A(v,cs))return cs;var w=A(v,Cr),M=A(v,Ar);return w&&M?cs:w||M?w?Cr:Ar:A(v,_a)?_a:fu}function kg(){if(!cu)return!1;var v={},w=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(M){v[M]=w?e.CSS.supports("touch-action",M):!0}),v}var Di=1,Ht=2,Fs=4,Fn=8,In=Fn,xr=16,yn=32;function On(v){this.options=p({},this.defaults,v||{}),this.id=J(),this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=Di,this.simultaneous={},this.requireFail=[]}On.prototype={defaults:{},set:function(v){return p(this.options,v),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(v){if(h(v,"recognizeWith",this))return this;var w=this.simultaneous;return v=ki(v,this),w[v.id]||(w[v.id]=v,v.recognizeWith(this)),this},dropRecognizeWith:function(v){return h(v,"dropRecognizeWith",this)?this:(v=ki(v,this),delete this.simultaneous[v.id],this)},requireFailure:function(v){if(h(v,"requireFailure",this))return this;var w=this.requireFail;return v=ki(v,this),X(w,v)===-1&&(w.push(v),v.requireFailure(this)),this},dropRequireFailure:function(v){if(h(v,"dropRequireFailure",this))return this;v=ki(v,this);var w=X(this.requireFail,v);return w>-1&&this.requireFail.splice(w,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(v){return!!this.simultaneous[v.id]},emit:function(v){var w=this,M=this.state;function R(Z){w.manager.emit(Z,v)}M<Fn&&R(w.options.event+hu(M)),R(w.options.event),v.additionalEvent&&R(v.additionalEvent),M>=Fn&&R(w.options.event+hu(M))},tryEmit:function(v){if(this.canEmit())return this.emit(v);this.state=yn},canEmit:function(){for(var v=0;v<this.requireFail.length;){if(!(this.requireFail[v].state&(yn|Di)))return!1;v++}return!0},recognize:function(v){var w=p({},v);if(!E(this.options.enable,[this,w])){this.reset(),this.state=yn;return}this.state&(In|xr|yn)&&(this.state=Di),this.state=this.process(w),this.state&(Ht|Fs|Fn|xr)&&this.tryEmit(w)},process:function(v){},getTouchAction:function(){},reset:function(){}};function hu(v){return v&xr?"cancel":v&Fn?"end":v&Fs?"move":v&Ht?"start":""}function du(v){return v==Y?"down":v==N?"up":v==O?"left":v==C?"right":""}function ki(v,w){var M=w.manager;return M?M.get(v):v}function tn(){On.apply(this,arguments)}T(tn,On,{defaults:{pointers:1},attrTest:function(v){var w=this.options.pointers;return w===0||v.pointers.length===w},process:function(v){var w=this.state,M=v.eventType,R=w&(Ht|Fs),Z=this.attrTest(v);return R&&(M&le||!Z)?w|xr:R||Z?M&q?w|Fn:w&Ht?w|Fs:Ht:yn}});function Mi(){tn.apply(this,arguments),this.pX=null,this.pY=null}T(Mi,tn,{defaults:{event:"pan",threshold:10,pointers:1,direction:oe},getTouchAction:function(){var v=this.options.direction,w=[];return v&H&&w.push(Ar),v&W&&w.push(Cr),w},directionTest:function(v){var w=this.options,M=!0,R=v.distance,Z=v.direction,fe=v.deltaX,Oe=v.deltaY;return Z&w.direction||(w.direction&H?(Z=fe===0?Ie:fe<0?O:C,M=fe!=this.pX,R=Math.abs(v.deltaX)):(Z=Oe===0?Ie:Oe<0?N:Y,M=Oe!=this.pY,R=Math.abs(v.deltaY))),v.direction=Z,M&&R>w.threshold&&Z&w.direction},attrTest:function(v){return tn.prototype.attrTest.call(this,v)&&(this.state&Ht||!(this.state&Ht)&&this.directionTest(v))},emit:function(v){this.pX=v.deltaX,this.pY=v.deltaY;var w=du(v.direction);w&&(v.additionalEvent=this.options.event+w),this._super.emit.call(this,v)}});function Ea(){tn.apply(this,arguments)}T(Ea,tn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cs]},attrTest:function(v){return this._super.attrTest.call(this,v)&&(Math.abs(v.scale-1)>this.options.threshold||this.state&Ht)},emit:function(v){if(v.scale!==1){var w=v.scale<1?"in":"out";v.additionalEvent=this.options.event+w}this._super.emit.call(this,v)}});function Sa(){On.apply(this,arguments),this._timer=null,this._input=null}T(Sa,On,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fu]},process:function(v){var w=this.options,M=v.pointers.length===w.pointers,R=v.distance<w.threshold,Z=v.deltaTime>w.time;if(this._input=v,!R||!M||v.eventType&(q|le)&&!Z)this.reset();else if(v.eventType&$)this.reset(),this._timer=f(function(){this.state=In,this.tryEmit()},w.time,this);else if(v.eventType&q)return In;return yn},reset:function(){clearTimeout(this._timer)},emit:function(v){this.state===In&&(v&&v.eventType&q?this.manager.emit(this.options.event+"up",v):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Ia(){tn.apply(this,arguments)}T(Ia,tn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cs]},attrTest:function(v){return this._super.attrTest.call(this,v)&&(Math.abs(v.rotation)>this.options.threshold||this.state&Ht)}});function Oa(){tn.apply(this,arguments)}T(Oa,tn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:H|W,pointers:1},getTouchAction:function(){return Mi.prototype.getTouchAction.call(this)},attrTest:function(v){var w=this.options.direction,M;return w&(H|W)?M=v.overallVelocity:w&H?M=v.overallVelocityX:w&W&&(M=v.overallVelocityY),this._super.attrTest.call(this,v)&&w&v.offsetDirection&&v.distance>this.options.threshold&&v.maxPointers==this.options.pointers&&c(M)>this.options.velocity&&v.eventType&q},emit:function(v){var w=du(v.offsetDirection);w&&this.manager.emit(this.options.event+w,v),this.manager.emit(this.options.event,v)}});function Ci(){On.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T(Ci,On,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_a]},process:function(v){var w=this.options,M=v.pointers.length===w.pointers,R=v.distance<w.threshold,Z=v.deltaTime<w.time;if(this.reset(),v.eventType&$&&this.count===0)return this.failTimeout();if(R&&Z&&M){if(v.eventType!=q)return this.failTimeout();var fe=this.pTime?v.timeStamp-this.pTime<w.interval:!0,Oe=!this.pCenter||st(this.pCenter,v.center)<w.posThreshold;this.pTime=v.timeStamp,this.pCenter=v.center,!Oe||!fe?this.count=1:this.count+=1,this._input=v;var mt=this.count%w.taps;if(mt===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=In,this.tryEmit()},w.interval,this),Ht):In}return yn},failTimeout:function(){return this._timer=f(function(){this.state=yn},this.options.interval,this),yn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==In&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dn(v,w){return w=w||{},w.recognizers=_(w.recognizers,Dn.defaults.preset),new Da(v,w)}Dn.VERSION="2.1.0-pre3",Dn.defaults={domEvents:!1,touchAction:uu,enable:!0,inputTarget:null,inputClass:null,preset:[[Ia,{enable:!1}],[Ea,{enable:!1},["rotate"]],[Oa,{direction:H}],[Mi,{direction:H},["swipe"]],[Ci],[Ci,{event:"doubletap",taps:2},["tap"]],[Sa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Mg=1,mu=2;function Da(v,w){this.options=p({},Dn.defaults,w||{}),this.options.inputTarget=this.options.inputTarget||v,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=v,this.input=ge(this),this.touchAction=new ba(this,this.options.touchAction),pu(this,!0),d(this.options.recognizers,function(M){var R=this.add(new M[0](M[1]));M[2]&&R.recognizeWith(M[2]),M[3]&&R.requireFailure(M[3])},this)}Da.prototype={set:function(v){return p(this.options,v),v.touchAction&&this.touchAction.update(),v.inputTarget&&(this.input.destroy(),this.input.target=v.inputTarget,this.input.init()),this},stop:function(v){this.session.stopped=v?mu:Mg},recognize:function(v){var w=this.session;if(!w.stopped){this.touchAction.preventDefaults(v);var M,R=this.recognizers,Z=w.curRecognizer;(!Z||Z&&Z.state&In)&&(Z=w.curRecognizer=null);for(var fe=0;fe<R.length;)M=R[fe],w.stopped!==mu&&(!Z||M==Z||M.canRecognizeWith(Z))?M.recognize(v):M.reset(),!Z&&M.state&(Ht|Fs|Fn)&&(Z=w.curRecognizer=M),fe++}},get:function(v){if(v instanceof On)return v;for(var w=this.recognizers,M=0;M<w.length;M++)if(w[M].options.event==v)return w[M];return null},add:function(v){if(h(v,"add",this))return this;var w=this.get(v.options.event);return w&&this.remove(w),this.recognizers.push(v),v.manager=this,this.touchAction.update(),v},remove:function(v){if(h(v,"remove",this))return this;if(v=this.get(v),v){var w=this.recognizers,M=X(w,v);M!==-1&&(w.splice(M,1),this.touchAction.update())}return this},on:function(v,w){if(v!==r&&w!==r){var M=this.handlers;return d(z(v),function(R){M[R]=M[R]||[],M[R].push(w)}),this}},off:function(v,w){if(v!==r){var M=this.handlers;return d(z(v),function(R){w?M[R]&&M[R].splice(X(M[R],w),1):delete M[R]}),this}},emit:function(v,w){this.options.domEvents&&Cg(v,w);var M=this.handlers[v]&&this.handlers[v].slice();if(!(!M||!M.length)){w.type=v,w.preventDefault=function(){w.srcEvent.preventDefault()};for(var R=0;R<M.length;)M[R](w),R++}},destroy:function(){this.element&&pu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function pu(v,w){var M=v.element;if(M.style){var R;d(v.options.cssProps,function(Z,fe){R=he(M.style,fe),w?(v.oldCssProps[R]=M.style[R],M.style[R]=Z):M.style[R]=v.oldCssProps[R]||""}),w||(v.oldCssProps={})}}function Cg(v,w){var M=n.createEvent("Event");M.initEvent(v,!0,!0),M.gesture=w,w.target.dispatchEvent(M)}p(Dn,{INPUT_START:$,INPUT_MOVE:ie,INPUT_END:q,INPUT_CANCEL:le,STATE_POSSIBLE:Di,STATE_BEGAN:Ht,STATE_CHANGED:Fs,STATE_ENDED:Fn,STATE_RECOGNIZED:In,STATE_CANCELLED:xr,STATE_FAILED:yn,DIRECTION_NONE:Ie,DIRECTION_LEFT:O,DIRECTION_RIGHT:C,DIRECTION_UP:N,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:H,DIRECTION_VERTICAL:W,DIRECTION_ALL:oe,Manager:Da,Input:j,TouchAction:ba,TouchInput:Ii,MouseInput:Mr,PointerEventInput:Ta,TouchMouseInput:wa,SingleTouchInput:iu,Recognizer:On,AttrRecognizer:tn,Tap:Ci,Pan:Mi,Swipe:Oa,Pinch:Ea,Rotate:Ia,Press:Sa,on:b,off:k,each:d,merge:g,extend:y,assign:p,inherit:T,bindFn:I,prefixed:he});var Ag=typeof e<"u"?e:typeof self<"u"?self:{};Ag.Hammer=Dn,typeof r=="function"&&r.amd?r(function(){return Dn}):t.exports?t.exports=Dn:e[s]=Dn}(window,document,"Hammer")})(cg);var ZO=cg.exports;const sl=Bm(ZO);function ug(t){return Wl()?(zh(t),!0):!1}function tu(t){return typeof t=="function"?t():U(t)}const GO=typeof window<"u"&&typeof document<"u",Dh=()=>{};function XO(t,e){function n(...s){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(i)})}return n}function JO(t,e=!0,n=!0,s=!1){let r=0,i,o=!0,a=Dh,l;const c=()=>{i&&(clearTimeout(i),i=void 0,a(),a=Dh)};return f=>{const h=tu(t),d=Date.now()-r,m=()=>l=f();return c(),h<=0?(r=Date.now(),m()):(d>h&&(n||!o)?(r=Date.now(),m()):e&&(l=new Promise((p,y)=>{a=s?y:p,i=setTimeout(()=>{r=Date.now(),o=!0,p(m()),c()},Math.max(0,h-d))})),!n&&!i&&(i=setTimeout(()=>o=!0,h)),o=!1,l)}}function QO(t,e=200,n=!1,s=!0,r=!1){return XO(JO(e,n,s,r),t)}function kh(t){var e;const n=tu(t);return(e=n==null?void 0:n.$el)!=null?e:n}const fg=GO?window:void 0;function eD(){const t=ue(!1);return Cd()&&$n(()=>{t.value=!0}),t}function hg(t){const e=eD();return x(()=>(e.value,!!t()))}function Mh(t,e={}){const{window:n=fg}=e,s=hg(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=ue(!1),o=c=>{i.value=c.matches},a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",o):r.removeListener(o))},l=Ns(()=>{s.value&&(a(),r=n.matchMedia(tu(t)),"addEventListener"in r?r.addEventListener("change",o):r.addListener(o),i.value=r.matches)});return ug(()=>{l(),a(),r=void 0}),i}function tD(t,e,n={}){const{window:s=fg,...r}=n;let i;const o=hg(()=>s&&"ResizeObserver"in s),a=()=>{i&&(i.disconnect(),i=void 0)},l=x(()=>Array.isArray(t)?t.map(f=>kh(f)):[kh(t)]),c=je(l,f=>{if(a(),o.value&&s){i=new ResizeObserver(e);for(const h of f)h&&i.observe(h,r)}},{immediate:!0,flush:"post",deep:!0}),u=()=>{a(),c()};return ug(u),{isSupported:o,stop:u}}const nD=(t,e=()=>{})=>{const n=Ce();let s=()=>{};const r=ue(!1);let i=null,o,a,l,c,u=ue(),f,h,d;const m=va(),p=x(()=>u.value!==void 0);let y;const g=L=>{if(L.preventDefault(),t.value.offsetLeft,t.value.scrollLeft,i){const re=o+c-L.center.y;let he=L.scale;if(i*he>Co&&(he=1),he!==1&&n.setPageScale(i*L.scale)){const de=a+l-L.center.x;t.value.scrollLeft=de,t.value.scrollTop=re,e()}}else{r.value=!0,i=n.pageScale,o=t.value.scrollTop,a=t.value.scrollLeft,l=L.center.x,c=L.center.y;const re=n.dateFromClientLeft(l),he=n.distanceBetweenDates(re,n.referenceDate);n.referenceDate=re,a=t.value.scrollLeft+he,t.value.scrollLeft=a}},T=L=>{L.preventDefault(),r.value=!1,i=null,a=null,o=null,l=null,c=null},_={startGesture:L=>{if(r.value=!0,!i){i=n.pageScale,o=t.value.scrollTop,a=t.value.scrollLeft,l=L.origin.x-(t.value.offsetLeft+n.leftInsetWidth),c=L.origin.y;const re=n.dateFromClientLeft(L.origin.x),he=n.distanceBetweenDates(re,n.referenceDate);n.referenceDate=re,t.value.scrollLeft=t.value.scrollLeft+he}},doGesture:L=>{const re=i*L.scale;if(!(re>Co)){if(r.value=!0,n.setPageScale(re)){const he=o+c-L.origin.y;t.value.scrollTop=he,e()}i=null,a=null,o=null,l=null,c=null,r.value=!1,s()}}},b=L=>{L.touches.length>=2&&(y.get("pinch").set({enable:!0}),L.preventDefault())},k=L=>{L.touches.length<=2&&y.get("pinch").set({enable:!1})},D=L=>{m.canPan&&typeof u.value>"u"&&(L.preventDefault(),h=t.value.scrollLeft,d=t.value.scrollTop,u.value=L.srcEvent.clientX,f=L.srcEvent.clientY)},A=L=>{L.maxPointers>=2||!m.canPan||!u.value||L.isFinal||(t.value.scrollLeft=h+u.value-L.srcEvent.clientX,t.value.scrollTop=d+f-L.srcEvent.clientY)},z=L=>{u.value=void 0,f=void 0,h=void 0,d=void 0},X=()=>{y=new sl.Manager(t.value,{recognizers:[[sl.Pinch,{enable:!0,touchAction:"pan-x pan-y"}],[sl.Pan,{enable:!0}]]}),y.on("pinch",QO(L=>g(L),20,!1,!0)),y.on("pinchend",T),y.on("panstart",D),y.on("pan",A),y.on("panend",z)};return $n(()=>{s=KO(t.value,_),X()}),Uo(()=>{var L,re;(L=t.value)==null||L.removeEventListener("touchstart",b),(re=t.value)==null||re.removeEventListener("touchend",k)}),{isZooming:r,isPanning:p}},sD=t=>{const e=ya(),n=Ce(),s=ue(0),r=a=>{s.value=a.clientX},i=a=>{const l=e.rangeFromOffsetLeft(a),c=e.markers.find(u=>+l[0].dateTime==+u.dateTime);e.setHoveringMarker(c),e.setRange(l)};je(s,i);const o=()=>i(s.value);return je(()=>n.pageScale,o),$n(()=>{var a;return(a=t.value)==null?void 0:a.addEventListener("mousemove",r)}),Uo(()=>{var a;return(a=t.value)==null?void 0:a.removeEventListener("mousemove",r)}),{trigger:o}};const rD=t=>{const e=Ce(),n=x(()=>e.transformedEvents),s=ue();return Ns(()=>{if(!t){s.value=void 0;return}const r=U(t);if(!r){s.value=void 0;return}let i;i=n.value,s.value=i?xc(i,r):void 0}),s},iD=["d","fill","stroke","stroke-width"],oD=["x","y"],aD=V("tspan",{class:"svgDateText"},"  ",-1),lD={key:0,class:"svgDateText"},cD={key:1,class:"svgEventTitle"},uD=De({__name:"EventRowSvg",props:{node:{},path:{},numChildren:{},numAbove:{},totalHeight:{},totalWidth:{},height:{},earliestTime:{},latestTime:{},heightUnit:{},dark:{type:Boolean},scale:{},showDateText:{type:Boolean},showEventTitles:{type:Boolean},rowHeight:{},roundedLeft:{type:Boolean},roundedRight:{type:Boolean}},setup(t,{expose:e}){const n=t,{scalelessDistanceBetweenDates:s}=Ce(),{color:r,eventRange:i,dateText:o}=lg(x(()=>n.node)),a=x(()=>yt(i.value)),l=x(()=>n.node.value.recurrence),c=x(()=>(l.value?Kc(a.value,l.value,ls):[a.value]).map(E=>s(n.earliestTime,E.fromDateTime)*n.scale)),u=x(()=>s(a.value.fromDateTime,a.value.toDateTime)*n.scale),f=x(()=>n.height/n.totalHeight*n.totalWidth),h=x(()=>f.value+n.totalWidth/n.totalHeight),d=x(()=>h.value-n.heightUnit/(4*n.rowHeight/3)),m=x(()=>f.value+n.heightUnit/(4*n.rowHeight/3)),p=E=>{const _=(d.value-m.value)/2,b=n.roundedRight?`A ${_} ${_} 0 0 0`:"L",k=n.roundedLeft?`A ${_} ${_} 0 0 0`:"L";return`M ${E+u.value} ${d.value} ${b} ${E+u.value} ${m.value} L ${E} ${m.value} ${k} ${E} ${d.value} Z`},y=x(()=>c.value[c.value.length-1]+u.value),g=ue(),T=()=>{var E;return y.value+(((E=g.value)==null?void 0:E.getComputedTextLength())||0)},I=x(()=>n.heightUnit/10);return e({getRightmostX:T}),(E,_)=>(ne(),pe($e,null,[(ne(!0),pe($e,null,dn(c.value,b=>(ne(),pe("path",{"fill-rule":"evenodd",d:p(b),fill:`rgba(${U(r)||(E.dark?"255, 255, 255":"0, 0, 0")}, 0.8)`,stroke:`rgb(${U(r)||(E.dark?"255, 255, 255":"0, 0, 0")})`,"stroke-width":I.value},null,8,iD))),256)),V("text",{x:y.value,y:d.value,ref_key:"text",ref:g},[aD,E.showDateText?(ne(),pe("tspan",lD,"  "+vt(U(o)),1)):Be("",!0),E.showEventTitles?(ne(),pe("tspan",cD,"  "+vt(E.node.value.eventDescription.eventDescription),1)):Be("",!0)],8,oD)],64))}}),fD=["stroke","stroke-dasharray","stroke-width","d"],hD=["x","y"],dD=De({__name:"MarkersSvg",props:{showMarkers:{},earliestTime:{},latestTime:{},scale:{},totalWidth:{},heightUnit:{},startY:{},dark:{type:Boolean}},setup(t){const e=t,s=Ce().scalelessDistanceBetweenDates,r=u=>s(e.earliestTime,u)*e.scale,i=x(()=>e.showMarkers&&["minute","quarterhour","hour","day","month","year","decade"].find(u=>{var f,h;return!!e.showMarkers[u]&&(((f=e.showMarkers[u])==null?void 0:f.label)||((h=e.showMarkers[u])==null?void 0:h.marker))})),o=x(()=>{if(!i.value)return;const u=As(e.earliestTime,i.value),f=ti(e.latestTime,i.value);let h=u,d=[h];for(;+h<+f&&d.length<256;){let m={[i.value]:1};i.value==="decade"?m={years:10}:i.value==="quarterhour"&&(m={minutes:15}),h=h.plus(m),d.push(h)}return d}),a=x(()=>e.totalWidth+e.heightUnit*4),l=u=>["minute","quarterhour","hour","day","month","year","decade"].indexOf(u)+2,c=u=>og[l(i.value)][Fl(u)](u);return(u,f)=>(ne(!0),pe($e,null,dn(o.value,h=>(ne(),pe($e,null,[V("path",{stroke:`rgba(${u.dark?"200, 200, 200":"100, 100, 100"}, 0.15)`,"stroke-dasharray":`${u.heightUnit/5},${u.heightUnit/10}`,"stroke-width":u.heightUnit/10,d:`M ${r(h)} ${u.startY} L ${r(h)} ${a.value}`},null,8,fD),V("text",{class:"svgMarkerText",x:r(h)+u.heightUnit/4,y:u.startY*1.5+u.heightUnit/4},vt(c(h)),9,hD)],64))),256))}}),mD=["viewBox"],pD=["x","width","height","fill"],gD=De({__name:"SvgView",props:{diffScale:{},dark:{type:Boolean},bg:{},showViewport:{type:Boolean},scale:{},showDateText:{type:Boolean},showEventTitles:{type:Boolean},rowHeight:{},roundedRight:{type:Boolean},roundedLeft:{type:Boolean},showMarkers:{},eras:{}},setup(t,{expose:e}){const n=t,s=Ei(),r=Ps(),i=(_,b,k="hours")=>b.diff(_).as(k),o=x(()=>(n.eras||[]).map(_=>({left:"left"in _?_.left:i(h.value,_.dateRange.fromDateTime),width:"width"in _?_.width:i(_.dateRange.fromDateTime,_.dateRange.toDateTime)}))),a=x(()=>n.scale||1),l=x(()=>xs(s.nodes,ls)||{fromDateTime:B.now(),toDateTime:B.now()}),c=x(()=>i(l.value.fromDateTime,l.value.toDateTime)),u=ue(c.value),f=x(()=>c.value/s.height),h=x(()=>l.value.fromDateTime),d=x(()=>l.value.toDateTime),m=(_,b)=>({node:b,path:_.join(","),numChildren:s.childrenMap.get(_.join(","))||0,numAbove:s.predecessorMap.get(_.join(","))||0,totalHeight:s.height,totalWidth:c.value,height:s.predecessorMap.get(_.join(","))+1,heightUnit:f.value,earliestTime:h.value,latestTime:d.value,dark:n.dark,scale:a.value,showDateText:n.showDateText,showEventTitles:n.showEventTitles,rowHeight:n.rowHeight,roundedLeft:n.roundedLeft,roundedRight:n.roundedRight}),p=ue(),y=()=>{if(!p.value)return 0;let _=0;for(let b=0;b<p.value.length;b++){const k=p.value[b].getRightmostX();k>_&&(_=k)}return _};e({getRightmostX:y});const g=()=>{u.value=y()+f.value*2};je(n,_=>{ln(()=>g())});const T=x(()=>f.value/1.5*n.rowHeight/3),I=x(()=>-f.value),E=x(()=>f.value);return $n(()=>g()),(_,b)=>(ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`${I.value} ${E.value} ${u.value} ${(_.rowHeight+2)*U(s).height}`,fill:"currentColor",preserveAspectRatio:"xMinYMin meet",class:"w-full h-full"},[V("svg:style",null," .svgDateText { font: bold "+vt(T.value)+"px system-ui; fill: #93979a; } .svgEventTitle { font: normal "+vt(T.value)+"px system-ui; fill: "+vt(_.dark?"white":"black")+"; } .svgMarkerText { font: normal "+vt(T.value)+"px system-ui; fill: #93979a; } ",1),_e(dD,{showMarkers:_.showMarkers,earliestTime:h.value,latestTime:d.value,scale:a.value,totalWidth:c.value,heightUnit:f.value,startY:E.value,dark:_.dark},null,8,["showMarkers","earliestTime","latestTime","scale","totalWidth","heightUnit","startY","dark"]),(ne(!0),pe($e,null,dn(U(s).nodeArray,({path:k,node:D},A)=>(ne(),pe($e,null,[U(Jt)(D)&&!U(r).isCollapsedChild(k)?(ne(),Xe(uD,is({ref_for:!0,ref_key:"rows",ref:p,key:k.join(",")+D.value.dateText},m(k,D)),null,16)):Be("",!0)],64))),256)),(ne(!0),pe($e,null,dn(o.value,k=>(ne(),pe("rect",{x:k.left,y:0,width:k.width,height:f.value*(U(s).height+4),fill:`rgba(${_.dark?"255, 255, 255":"0, 0, 0"}, 0.1)`},null,8,pD))),256))],8,mD))}}),dg=t=>(ld("data-v-7653eab1"),t=t(),cd(),t),yD={key:0,class:"hintRight absolute -right-2 top-0 bottom-0 whitespace-nowrap flex items-center justify-center ml-2 bg-indigo-600 shadow-lg rounded px-2 font-bold text-white pointer-events-none",style:{transform:"translateX(100%)"}},vD={class:"z-10"},TD=dg(()=>V("div",{class:"absolute top-0 bottom-0 -left-[2px] rotate-45 bg-indigo-600 h-1/2 aspect-square translate-y-2/4 rounded shadow-sm"},null,-1)),wD={class:"z-10"},_D=dg(()=>V("div",{class:"absolute left-0 -bottom-[2px] rotate-45 bg-indigo-600 h-1/2 aspect-square translate-x-2/4 rounded shadow-sm"},null,-1)),bD=De({__name:"HoverHint",props:{hovering:{type:Boolean},title:{},shortcut:{},hoverPosition:{default:"right"},left:{default:0}},setup(t){return(e,n)=>(ne(),Xe(Wo,null,{default:Tt(()=>[e.hovering&&e.hoverPosition==="right"?(ne(),pe("div",yD,[V("div",vD,vt(e.title),1),TD])):e.hovering&&e.hoverPosition==="top"?(ne(),pe("div",{key:1,class:"hintTop absolute -top-1 whitespace-nowrap flex items-center justify-center mb-2 bg-indigo-600 shadow-lg rounded px-2 font-bold text-white pointer-events-none",style:ze({transform:"translateY(-100%)",left:`${e.left?e.left:2}px`})},[V("div",wD,vt(e.title),1),_D],4)):Be("",!0)]),_:1}))}});const ED=$s(bD,[["__scopeId","data-v-7653eab1"]]),SD=()=>({isTouchscreen:Mh("(pointer: course)"),canHover:Mh("(hover)")}),Bt=De({__name:"SettingsButton",props:{hoverHintTitle:{},hoverHintShortcut:{},selected:{type:Boolean},hoverHintLeft:{}},emits:["click"],setup(t,{emit:e}){const n=ue(!1),{canHover:s}=SD(),r=s.value?{mouseover:()=>{n.value=!0},mouseleave:()=>{n.value=!1}}:{},i=()=>{n.value=!1,e("click")};return(o,a)=>(ne(),pe("button",is({onClick:i,class:"p-1 flex flex-row items-center hover:bg-slate-200 transition dark:border-gray-900 dark:hover:bg-slate-600 dark:hover:text-gray-100 text-sm lg:text-base font-bold relative shrink-0"},nc(U(r),!0),{onMousedown:a[0]||(a[0]=Et(()=>{},["stop"])),onTouchstart:a[1]||(a[1]=Et(()=>{},["stop"])),class:{"text-indigo-600 outline-2 outline outline-indigo-600 dark:text-indigo-400 dark:outline-indigo-400":o.selected}}),[yd(o.$slots,"default"),o.hoverHintTitle?(ne(),Xe(ED,{key:0,"hover-position":"top",hovering:n.value,title:o.hoverHintTitle,shortcut:o.hoverHintShortcut,left:o.hoverHintLeft},null,8,["hovering","title","shortcut","left"])):Be("",!0)],16))}}),mg=t=>(ld("data-v-8aa586c7"),t=t(),cd(),t),ID=mg(()=>V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4","stroke-width":"1",stroke:"currentColor"},[V("path",{"fill-rule":"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H3.75A.75.75 0 013 10z","clip-rule":"evenodd"})],-1)),OD=mg(()=>V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4","stroke-width":"1",stroke:"currentColor"},[V("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),DD={class:"flex-col hidden lg:flex items-center justify-center flex-shrink px-1"},kD=["value","onMousedown","onMouseup","onTouchstart","on:touchEnd"],MD=De({__name:"TimelineScale",setup(t){const e=Ce();function n(y){let g=0,T=1e3,I=Math.log(mh);const _=(Math.log(Co)-I)/(T-g);return(Math.log(y)-I)/_+g}const s=ue(n(e.pageScale)),r=y=>e.setPageScale(y);je(()=>e.pageSettings.scale,y=>s.value=n(y));const i=y=>{const g=parseInt(y.target.value);let T=0,I=1e3,E=Math.log(mh);const b=(Math.log(Co)-E)/(I-T),k=Math.exp(E+b*(g-T));r(k)},o=()=>e.setStartedWidthChange(!0),a=()=>e.setStartedWidthChange(!1);let l,c;const u=ue(!1),f=ue(!1);je(u,y=>{if(y){e.setStartedWidthChange(!0);const g=()=>{ln(()=>{e.setPageScale(e.pageScale*1.05)}),l=setTimeout(g,10)};g()}else clearTimeout(l),e.setStartedWidthChange(!1)}),je(f,y=>{if(y){e.setStartedWidthChange(!0);const g=()=>{ln(()=>{e.setPageScale(e.pageScale*.95)}),c=setTimeout(g,10)};g()}else clearTimeout(c),e.setStartedWidthChange(!1)});const h=y=>{f.value=!0,u.value=!1},d=y=>{f.value=!1,u.value=!1},m=y=>{u.value=!0,f.value=!1},p=y=>{f.value=!1,u.value=!1};return(y,g)=>(ne(),pe($e,null,[_e(Bt,{onMousedown:Et(h,["stop"]),onTouchstart:Et(h,["stop"]),onMouseup:d,onTouchend:d,onMouseout:d,onMouseleave:d,"hover-hint-title":"Zoom out"},{default:Tt(()=>[ID]),_:1},8,["onMousedown","onTouchstart"]),_e(Bt,{onMousedown:Et(m,["stop"]),onTouchstart:Et(m,["stop"]),onMouseup:p,onTouchend:p,onMouseout:p,onMouseleave:p,"hover-hint-title":"Zoom in"},{default:Tt(()=>[OD]),_:1},8,["onMousedown","onTouchstart"]),V("div",DD,[V("input",{type:"range",min:"0",max:"800",style:{width:"5rem",height:"1.125rem"},value:s.value,onInput:i,class:"bg-transparent flex-shrink",onMousedown:Et(o,["stop"]),onMouseup:Et(a,["stop"]),onTouchstart:Et(o,["stop"]),"on:touchEnd":Et(a,["stop"])},null,40,kD)])],64))}});const CD=$s(MD,[["__scopeId","data-v-8aa586c7"]]),AD=V("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",width:"40",height:"40",viewBox:"0 0 24 24",stroke:"currentColor",fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1"},[V("path",{d:"m 3 5 v 3 c 0 0.55 0.45 1 1 1 s 1 -0.45 1 -1 v -2 c 0 -0.55 0.45 -1 1 -1 h 2 c 0.55 0 1 -0.45 1 -1 s -0.45 -1 -1 -1 h -3 c -1.1 0 -2 0.9 -2 2 z m 1 10 c -0.55 0 -1 0.45 -1 1 v 3 c 0 1.1 0.9 2 2 2 h 3 c 0.55 0 1 -0.45 1 -1 s -0.45 -1 -1 -1 h -2 c -0.55 0 -1 -0.45 -1 -1 v -2 c 0 -0.55 -0.45 -1 -1 -1 z m 15 3 c 0 0.55 -0.45 1 -1 1 h -2 c -0.55 0 -1 0.45 -1 1 s 0.45 1 1 1 h 3 c 1.1 0 2 -0.9 2 -2 v -3 c 0 -0.55 -0.45 -1 -1 -1 s -1 0.45 -1 1 v 2 z m 0 -15 h -3 c -0.55 0 -1 0.45 -1 1 s 0.45 1 1 1 h 2 c 0.55 0 1 0.45 1 1 v 2 c 0 0.55 0.45 1 1 1 s 1 -0.45 1 -1 v -3 c 0 -1.1 -0.9 -2 -2 -2 z"}),V("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",fill:"currentColor"})],-1),xD=De({__name:"AutoCenter",setup(t){const{autoCenter:e}=Ce();return(n,s)=>(ne(),Xe(Bt,{onClick:U(e),"hover-hint-title":"Center"},{default:Tt(()=>[AD]),_:1},8,["onClick"]))}}),ND=V("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor","stroke-width":"1",stroke:"currentColor"},[V("path",{d:"M8.12 19.3c.39.39 1.02.39 1.41 0L12 16.83l2.47 2.47c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-3.17-3.17a.9959.9959 0 0 0-1.41 0l-3.17 3.17c-.4.38-.4 1.02-.01 1.41zm7.76-14.6a.9959.9959 0 0 0-1.41 0L12 7.17 9.53 4.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.17 3.17c.39.39 1.02.39 1.41 0l3.17-3.17c.4-.39.4-1.03.01-1.42z"})],-1),LD=De({__name:"CollapseAll",setup(t){const e=Ps(),n=()=>e.collapseAll();return(s,r)=>(ne(),Xe(Bt,{"hover-hint-title":"Collapse all",onClick:n},{default:Tt(()=>[ND]),_:1}))}}),RD=V("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[V("path",{d:"m12 5.83 2.46 2.46c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 3.7a.9959.9959 0 0 0-1.41 0L8.12 6.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 5.83zm0 12.34-2.46-2.46a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L12 18.17z"})],-1),PD=De({__name:"ExpandAll",setup(t){const e=Ps(),n=()=>e.expandAll();return(s,r)=>(ne(),Xe(Bt,{"hover-hint-title":"Expand all",onClick:n},{default:Tt(()=>[RD]),_:1}))}}),$D=V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"h-4 w-4"},[V("path",{fill:"currentColor",d:"m 14 13 h -3 c -0.55 0 -1 -0.45 -1 -1 s 0.45 -1 1 -1 h 3 c 0.55 0 1 0.45 1 1 s -0.45 1 -1 1 z m 0 -4 h -5 c -0.55 0 -1 -0.45 -1 -1 s 0.45 -1 1 -1 h 5 c 0.55 0 1 0.45 1 1 s -0.45 1 -1 1 z m -6 -4 h -1 c -0.55 0 -1 -0.45 -1 -1 s 0.45 -1 1 -1 h 2 c 0.55 0 1 0.45 1 1 s -0.45 1 -1 1 z M 2 4 L 2 12.5 A 1 1 0 0 0 3 13.5 L 3.5 13.5 A 1 1 0 0 0 4.5 12.5 L 4.5 3.5 A 1 1 0 0 0 3.5 2.5 L 3 2.5 A 1 1 0 0 0 2 3.5 Z"})],-1),FD=De({__name:"ToggleMode",setup(t){const e=Ce(),n=()=>{e.mode=e.mode==="gantt"?"timeline":"gantt"};return(s,r)=>(ne(),Xe(Bt,{"hover-hint-title":"Gantt",onClick:n,selected:U(e).mode==="gantt"},{default:Tt(()=>[$D]),_:1},8,["selected"]))}}),zD=V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 2 17 12",class:"h-4 w-4"},[V("path",{d:"m 2 3 a 1 1 0 0 0 0 2 h 11 a 1 1 0 1 0 0 -2 h -11 z m 1 4 a 1 1 0 0 0 0 2 h 11 a 1 1 0 0 0 0 -2 h -11 z m 1 4 a 1 1 0 1 0 0 2 h 11 a 1 1 0 1 0 0 -2 h -11 z",fill:"currentColor"}),V("path",{d:"M 9 1 L 9 15 L 11 15 L 11 1 L 11 1 Z",fill:"currentColor"})],-1),YD=De({__name:"ToggleNowLine",setup(t){const e=Ce(),n=()=>{e.setHideNowLine(!e.hideNowLine)};return(s,r)=>(ne(),Xe(Bt,{title:"Toggle now line",hoverHintTitle:"Toggle now line",onClick:n},{default:Tt(()=>[zD]),_:1}))}}),UD=V("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",width:"40",height:"40",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[V("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),V("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),V("path",{d:"M12 7v5l3 3"})],-1),BD=De({__name:"ToggleDateTimeDisplay",setup(t){const e=Ce(),n=()=>{e.dateTimeDisplay=e.dateTimeDisplay==="off"?"original":"off"};return(s,r)=>(ne(),Xe(Bt,{onClick:n,"hover-hint-title":"Toggle date ranges"},{default:Tt(()=>[UD]),_:1}))}}),HD=V("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",width:"40",height:"40",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[V("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),V("path",{d:"M9 11l3 3l8 -8"}),V("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})],-1),jD=De({__name:"ToggleShowProgress",setup(t){const e=Ce(),n=()=>{e.progressDisplay=e.progressDisplay==="off"?"on":"off"};return(s,r)=>(ne(),Xe(Bt,{onClick:n,"hover-hint-title":"Toggle progress indicator"},{default:Tt(()=>[HD]),_:1}))}}),WD={class:"text-xs mt-px shrink-0"},VD=De({__name:"UserRanges",setup(t){const e=Ce();return $n(()=>{e.userRanges.length&&e.setRange(e.userRanges[0])}),(n,s)=>(ne(!0),pe($e,null,dn(U(e).userRanges,r=>(ne(),Xe(Bt,{onClick:i=>U(e).setRange(r)},{default:Tt(()=>[V("span",WD,vt(r.title),1)]),_:2},1032,["onClick"]))),256))}}),qD={class:"flex flex-row-items-center overflow-scroll noScrollBar relative"},KD={class:"flex flex-row gap-2 pt-8"},ZD={class:"dark:bg-slate-800 bg-white flex flex-row gap-2 px-2"},GD={class:"flex flex row overflow-visible p-[2px] pointer-events-auto",style:{"grid-area":"gantt"}},XD={class:"flex flex-row pointer-events-auto shrink-0"},JD=V("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"ModeStandbyIcon",fill:"currentColor",stroke:"currentColor","stroke-width":"0.4"},[V("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"})],-1),QD=V("span",{class:"text-xs mt-px"},"Now",-1),ek={class:"flex flex row overflow-visible p-[2px] pointer-events-auto"},tk={class:"overflow-visible p-[2px] pointer-events-auto flex flex-row"},nk={class:"overflow-visible p-[2px] pointer-events-auto flex flex-row"},sk={class:"flex flex row overflow-visible p-[2px] pointer-events-auto link"},rk=V("svg",{class:"w-3 h-3 mr-1","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[V("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})],-1),ik={class:"pr-1 font-mono text-xs",style:{"white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","max-width":"32ch"}},ok=V("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"CodeIcon",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[V("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})],-1),ak=["href"],lk=V("svg",{class:"h-4 w-4 mr-1",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor"},[V("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1),ck=De({__name:"Settings",setup(t){const e=Ce(),n=bi(),s=x(()=>{let l=e.pageSettings.viewport.offsetLeft;return e.mode==="gantt"?l+(e.ganttSidebarTempWidth?e.ganttSidebarTempWidth:e.ganttSidebarWidth):l}),r=async(l,c)=>{if(!navigator.clipboard)return alert("Clipboard not available :/");try{await navigator.clipboard.writeText(l),alert(`Copied ${c}to clipboard.`)}catch(u){console.error(u),alert("Unable to copy to clipboard:"+u)}},i=async()=>r(n.timelineLink,"link "),o=async()=>r(n.embedLink,"embed code "),a=()=>e.goToNow();return(l,c)=>(ne(),pe("div",{class:"fixed hover:text-slate-700 dark:text-slate-400 text-slate-500 dark:hover:text-slate-300 mt-16",style:ze(`left: calc(${s.value}px); bottom: 0rem; right: 0;`)},[V("div",qD,[V("div",KD,[V("div",ZD,[V("div",GD,[_e(FD)]),V("div",XD,[_e(Bt,{class:"gap-1",onClick:a},{default:Tt(()=>[JD,QD]),_:1}),_e(VD),_e(xD)]),V("div",ek,[_e(CD)]),V("div",tk,[_e(BD),_e(jD)]),V("div",nk,[_e(PD),_e(LD),_e(YD)]),V("div",sk,[U(n).showCopyLinkButton?(ne(),Xe(Bt,{key:0,"hover-hint-left":-1,"hover-hint-title":"Copy view link",onClick:i},{default:Tt(()=>[rk,V("p",ik,vt(U(n).timelineLink.substring(8)),1)]),_:1})):Be("",!0),U(n).showEmbedButton?(ne(),Xe(Bt,{key:1,onClick:o,"hover-hint-left":1,"hover-hint-title":"Copy embed code"},{default:Tt(()=>[ok]),_:1})):Be("",!0),U(n).showEditButton?(ne(),pe("a",{key:2,href:U(n).editorLink,target:"_blank",class:"h-6 flex flex-row items-center rounded hover:bg-zinc-200 transition dark:border-gray-900 dark:hover:bg-gray-900 dark:hover:text-gray-100 px-1 text-sm lg:text-base font-bold relative"},[lk,Md("Open editor")],8,ak)):Be("",!0)])])])])],4))}}),uk=t=>{let e={time:0,x:0,y:0},n;const s=Ce();let r=0,i=0,o=0;const a=c=>{const u=h=>{const d=o-h.clientY,m=d<0?(d-10)/-10:10/(d+10);s.setPageScale(Math.max(r*m,.01)),t(),h.stopPropagation(),h.stopImmediatePropagation(),h.preventDefault()};function f(){console.log("pointer up"),c.removeEventListener("pointermove",u),c.removeEventListener("pointerup",f)}c.addEventListener("pointermove",u),c.addEventListener("pointerup",f)};return c=>{if(c.pointerType==="touch"){const u=new Date().getTime(),f=u-e.time;if(f<500&&f>0&&Math.abs(c.clientX-e.x)<10&&Math.abs(c.clientY-e.y)<10){c.preventDefault(),i=c.clientX,o=c.clientY,r=s.pageScale;const h=c.target,d=s.dateFromClientLeft(i),m=s.distanceBetweenDates(d,s.referenceDate);s.referenceDate=d,h.scrollLeft=h.scrollLeft+m,a(h)}else n=setTimeout(()=>{clearTimeout(n)},500),e={time:u,x:c.clientX,y:c.clientY}}}},fk=De({__name:"Timeline",setup(t){const e=Ce(),n=bi();n.onJumpToRange=_=>{h(yt(_))},je(()=>e.rangeToJumpTo,_=>h(_,!1)),n.onJumpToPath=_=>{const b=rD(_).value;if(!b)return;const k=Jt(b)?Km(b).dateRangeIso:xs(b,ls);if(k&&(h("fromDateTimeIso"in k?yt(k):k),s.value&&_)){const D=s.value.scrollTop=ag(_).top.value;s.value.scrollTop=D-m.value.height/2}},je(()=>e.autoCenterSemaphore,()=>{p()});const s=ue(),r=()=>s.value?{left:s.value.scrollLeft,width:s.value.clientWidth,top:s.value.scrollTop,height:s.value.clientHeight,offsetLeft:s.value.offsetLeft}:{left:0,width:0,top:0,height:0,offsetLeft:0},i=_=>{s.value&&(s.value.scrollLeft=_.left,s.value.scrollTop=_.top)};je(()=>e.pageSettings,_=>{const b={..._.viewport};ln(()=>i(b))});const o=ue(null),a=ue(null);je(()=>e.startedWidthChange,_=>{var k;const b=((k=s.value)==null?void 0:k.scrollLeft)||0;o.value=_?b??null:null,a.value=e.pageSettings.scale}),je(()=>e.pageSettings,_=>{!e.startedWidthChange||!s.value||(o.value+s.value.clientWidth/2,_.scale/(a.value||1))},{deep:!0}),je([()=>e.pageTimelineMetadata.earliestTime,()=>e.pageTimelineMetadata.latestTime],()=>{ln(l)}),tD(s,_=>{const b=(_[0].target.clientLeft||0)+(_[0].target.clientWidth/2||0);e.referenceDate=e.dateFromClientLeft(b),s.value.scrollLeft=s.value.clientWidth*2,ln(l)});const l=()=>e.setViewport(r()),{trigger:c}=sD(s);let u=()=>{};nD(s,()=>{l()});const f=(_,b=!1,k=!1)=>{e.referenceDate=_,s.value.scrollLeft=s.value.clientWidth*2},h=(_,b=!0)=>{if(!_)return;const{width:k}=r(),D=Qp(k,_)/(b?3:1);e.setPageScale(D),ln(()=>{f(Xp(_),!0,!0),l()})},d=()=>f(B.now(),!0);je([()=>e.hideNowLine,()=>e.goToNowSemaphore],()=>d());const m=x(()=>e.pageSettings.viewport);md(()=>{var b;const _={left:m.value.left,top:m.value.top,width:m.value.width,height:m.value.height,offsetLeft:((b=s.value)==null?void 0:b.offsetLeft)||0};ln(()=>i(_))});const p=()=>h(e.pageRange);$n(()=>{e.setViewportGetter(r);const _=s.value;_.scrollLeft=_.clientWidth*2,u=()=>{const b=_.scrollLeft,k={[bt]:_.clientWidth*1.5/e.pageScale*24};b<_.clientWidth/2?(e.referenceDate=e.referenceDate.minus(k),_.scrollLeft=_.clientWidth*2):b>_.clientWidth*3.5&&(e.referenceDate=e.referenceDate.plus(k),_.scrollLeft=_.clientWidth*2),l(),c()}});const y=ue(),g=ue(),T=ue(),I=x(()=>{const _=xs(e.transformedEvents,ls)||{fromDateTime:B.now(),toDateTime:B.now()};return e.scalelessDistanceBetweenDates(_.fromDateTime,_.toDateTime)});n.onGetSvg=_=>(y.value={diffScale:"hours",showViewport:!1,..._},new Promise((b,k)=>{setTimeout(()=>{var D;if((D=g.value)!=null&&D.firstChild){const A=T.value.getRightmostX(),z=I.value,X=A/z,L=new XMLSerializer().serializeToString(g.value.firstChild);b({svg:L,ratio:X})}b(null)},500)}));const E=uk(l);return(_,b)=>(ne(),pe("div",{class:ft(["flex flex-row w-full h-full",U(e).darkMode?"dark":""])},[V("div",{id:"timeline",class:"relative overflow-auto w-full dark:text-white text-gray-900 bg-white dark:bg-slate-800",ref_key:"timelineElement",ref:s,onScroll:b[0]||(b[0]=(...k)=>U(u)&&U(u)(...k)),"on:gestureChange":b[1]||(b[1]=(...k)=>U(u)&&U(u)(...k)),onPointerdown:b[2]||(b[2]=(...k)=>U(E)&&U(E)(...k))},[_e(_I),_e(bI),Be("",!0),_e(VO),_e(ck),V("div",{ref_key:"svgHolder",ref:g,style:{width:"0",height:"0"}},[y.value?(ne(),Xe(gD,is({key:0},y.value,{ref_key:"svgView",ref:T}),null,16)):Be("",!0)],512)],544)],2))}}),pg=De({__name:"App",setup(t){const e=bi();return(n,s)=>U(e).markwhen?(ne(),Xe(fk,{key:0})):Be("",!0)}});const hk=nI({history:vS("/"),routes:[{path:"/:user?/:timeline?",name:"home",component:pg}]}),nu=s0(pg),dk=o0();nu.use(hk);nu.use(dk);nu.mount("#app");\n\n<\/script>\n    <style>\n.timeMarkerShader{z-index:-1;background:linear-gradient(to bottom,#ffffff,85%,#ffffff00)}.dark .timeMarkerShader{background:linear-gradient(to bottom,rgb(51,65,85),85%,#38404700)}.eventBar[data-v-cc05e6c2]{grid-row:1;grid-column:1}.fade-enter-active[data-v-39c803d6],.fade-leave-active[data-v-39c803d6]{transition:opacity .2s cubic-bezier(.4,0,.2,1)}.fade-enter-from[data-v-39c803d6],.fade-leave-to[data-v-39c803d6]{opacity:0}.photoBar[data-v-b7779dec]{width:10px}.eventRow[data-v-b7779dec]{padding-top:2px;padding-bottom:2px}.eventDate[data-v-b7779dec]{font-family:system-ui;margin:0 0 0 8px}.source[data-v-b7779dec]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.eventTitle[data-v-b7779dec]{font-family:system-ui;grid-row:1;grid-column:3}.eventBarAndTitle[data-v-b7779dec]{grid-row:1;grid-column:1 / 4}.eventDate[data-v-b7779dec]{grid-row:1;grid-column:2}.eventMeta[data-v-b7779dec]{grid-row:2;grid-column:3 / -1}.eventItem[data-v-b7779dec]{display:grid;grid-template-columns:repeat(4,auto);grid-template-rows:repeat(2,auto)}.eventTitle[data-v-a5548532]{font-family:system-ui}td[data-v-2d239466]{padding-left:.25rem;padding-right:.25rem}.hintRight.v-enter-active[data-v-7653eab1],.hintRight.v-leave-active[data-v-7653eab1]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;transform:translate(100%)!important}.hintRight.v-enter-from[data-v-7653eab1],.hintRight.v-leave-to[data-v-7653eab1]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;opacity:0;transform:translate(calc(100% + 4px))!important}.hintTop.v-enter-active[data-v-7653eab1],.hintTop.v-leave-active[data-v-7653eab1]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;transform:translateY(-100%)!important}.hintTop.v-enter-from[data-v-7653eab1],.hintTop.v-leave-to[data-v-7653eab1]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;opacity:0;transform:translateY(calc(-100% + 4px))!important}input[type=range][data-v-8aa586c7]{-webkit-appearance:none}input[type=range][data-v-8aa586c7]:hover::-webkit-slider-runnable-track{background:currentColor;-webkit-transition:.15s all;transition:.15s all;border-radius:5px;height:4px}input[type=range][data-v-8aa586c7]:focus{outline:none}input[type=range][data-v-8aa586c7]::-webkit-slider-runnable-track{background:currentColor;-webkit-transition:.15s all;transition:.15s all;height:4px;border-radius:5px}input[type=range][data-v-8aa586c7]::-moz-range-track{background:currentColor;-moz-transition:.15s all;transition:.15s all;height:4px;border-radius:5px}input[type=range][data-v-8aa586c7]::-webkit-slider-thumb{-webkit-appearance:none;height:12px;width:12px;background:currentColor;margin-top:-4px;border-radius:50%;box-shadow:0 1px 6px #00000063}input[type=range][data-v-8aa586c7]::-moz-range-thumb{height:15px;width:15px;background:currentColor;margin-top:-5px;border-radius:50%;box-shadow:0 1px 6px #00000063;border:none}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.\\!visible{visibility:visible!important}.visible{visibility:visible}.collapse{visibility:collapse}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-\\[2px\\]{bottom:-2px}.-left-\\[2px\\]{left:-2px}.-right-2{right:-.5rem}.-top-1{top:-.25rem}.bottom-0{bottom:0}.left-0{left:0}.left-2{left:.5rem}.right-0{right:0}.right-8{right:2rem}.top-0{top:0}.top-8{top:2rem}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\\[2\\]{z-index:2}.z-\\[4\\]{z-index:4}.z-\\[5\\]{z-index:5}.-m-px{margin:-1px}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.mb-2{margin-bottom:.5rem}.ml-0{margin-left:0}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.ml-px{margin-left:1px}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-8{margin-right:2rem}.mr-\\[2px\\]{margin-right:2px}.mt-16{margin-top:4rem}.mt-px{margin-top:1px}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.h-1\\/2{height:50%}.h-2{height:.5rem}.h-3{height:.75rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-\\[10px\\]{height:10px}.h-\\[30px\\]{height:30px}.h-full{height:100%}.w-1{width:.25rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-\\[2px\\]{width:2px}.w-full{width:100%}.w-px{width:1px}.flex-shrink{flex-shrink:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.translate-x-2\\/4{--tw-translate-x: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-2\\/4{--tw-translate-y: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-crosshair{cursor:crosshair}.cursor-default{cursor:default}.cursor-ew-resize{cursor:ew-resize}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.overflow-auto{overflow:auto}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-scroll{overflow-x:scroll}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-\\[14px\\]{border-radius:14px}.rounded-full{border-radius:9999px}.rounded-sm{border-radius:.125rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-gray-400\\/25{border-color:#9ca3af40}.border-gray-500\\/50{border-color:#6b728080}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity))}.border-indigo-500{--tw-border-opacity: 1;border-color:rgb(99 102 241 / var(--tw-border-opacity))}.border-indigo-500\\/50{border-color:#6366f180}.border-indigo-500\\/75{border-color:#6366f1bf}.border-indigo-600{--tw-border-opacity: 1;border-color:rgb(79 70 229 / var(--tw-border-opacity))}.border-inherit{border-color:inherit}.border-slate-100{--tw-border-opacity: 1;border-color:rgb(241 245 249 / var(--tw-border-opacity))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}.border-slate-500{--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity))}.border-slate-600{--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-300\\/50{background-color:#d1d5db80}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.bg-red-200{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-400\\/10{background-color:#94a3b81a}.bg-slate-400\\/25{background-color:#94a3b840}.bg-slate-50{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.bg-slate-700{--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.bg-slate-800{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-white\\/95{background-color:#fffffff2}.bg-opacity-10{--tw-bg-opacity: .1}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-\\[2px\\]{padding:2px}.p-px{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-px{padding-left:1px;padding-right:1px}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-px{padding-top:1px;padding-bottom:1px}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pr-1{padding-right:.25rem}.pr-4{padding-right:1rem}.pt-8{padding-top:2rem}.pt-px{padding-top:1px}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity))}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-slate-600{--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-100{opacity:1}.opacity-30{opacity:.3}.opacity-60{opacity:.6}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.outline-2{outline-width:2px}.outline-indigo-400{outline-color:#818cf8}.outline-indigo-600{outline-color:#4f46e5}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-black{--tw-ring-opacity: 1;--tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity))}.ring-indigo-500{--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}:root,body,#app{width:100%;height:100%}html,body{height:100%;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;mix-blend-mode:multiply;padding:0!important}.noScrollBar::-webkit-scrollbar{display:none}.dark{color-scheme:dark}.noScrollBar{scrollbar-width:none}button{-webkit-tap-highlight-color:transparent}.safeBottomPadding{padding-bottom:env(safe-area-inset-bottom)}.hover\\:w-1:hover{width:.25rem}.hover\\:border-slate-100:hover{--tw-border-opacity: 1;border-color:rgb(241 245 249 / var(--tw-border-opacity))}.hover\\:bg-indigo-600:hover{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.hover\\:bg-slate-200:hover{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.hover\\:bg-slate-50:hover{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.hover\\:bg-zinc-200:hover{--tw-bg-opacity: 1;background-color:rgb(228 228 231 / var(--tw-bg-opacity))}.hover\\:text-black:hover{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.hover\\:text-slate-700:hover{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}.hover\\:shadow:hover{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.disabled\\:text-gray-300:disabled{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:border-gray-300){--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}:is(.dark .dark\\:border-gray-400){--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}:is(.dark .dark\\:border-gray-400\\/25){border-color:#9ca3af40}:is(.dark .dark\\:border-gray-600){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}:is(.dark .dark\\:border-gray-900){--tw-border-opacity: 1;border-color:rgb(17 24 39 / var(--tw-border-opacity))}:is(.dark .dark\\:border-gray-900\\/25){border-color:#11182740}:is(.dark .dark\\:border-indigo-600){--tw-border-opacity: 1;border-color:rgb(79 70 229 / var(--tw-border-opacity))}:is(.dark .dark\\:border-slate-400){--tw-border-opacity: 1;border-color:rgb(148 163 184 / var(--tw-border-opacity))}:is(.dark .dark\\:border-slate-500){--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity))}:is(.dark .dark\\:border-slate-600){--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity))}:is(.dark .dark\\:border-slate-700){--tw-border-opacity: 1;border-color:rgb(51 65 85 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-300){--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-300\\/10){background-color:#d1d5db1a}:is(.dark .dark\\:bg-gray-400){--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-600){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-900){--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-red-400){--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-red-700){--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-400){--tw-bg-opacity: 1;background-color:rgb(148 163 184 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-400\\/10){background-color:#94a3b81a}:is(.dark .dark\\:bg-slate-600){--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-800){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-800\\/95){background-color:#1e293bf2}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-20){--tw-bg-opacity: .2}:is(.dark .dark\\:bg-opacity-30){--tw-bg-opacity: .3}:is(.dark .dark\\:bg-opacity-60){--tw-bg-opacity: .6}:is(.dark .dark\\:text-gray-300){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-indigo-400){--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity))}:is(.dark .dark\\:text-orange-300){--tw-text-opacity: 1;color:rgb(253 186 116 / var(--tw-text-opacity))}:is(.dark .dark\\:text-slate-100){--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}:is(.dark .dark\\:text-slate-400){--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:outline-indigo-400){outline-color:#818cf8}:is(.dark .dark\\:ring-gray-400){--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}:is(.dark .dark\\:ring-indigo-600){--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity))}:is(.dark .dark\\:hover\\:border-gray-600:hover){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}:is(.dark .dark\\:hover\\:bg-gray-900:hover){--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-indigo-600:hover){--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-600:hover){--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-700:hover){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-100:hover){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-slate-100:hover){--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-slate-300:hover){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}:is(.dark .disabled\\:dark\\:text-gray-600):disabled{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}@media (min-width: 1024px){.lg\\:flex{display:flex}.lg\\:text-base{font-size:1rem;line-height:1.5rem}}\n\n</style>\n  </head>\n  <body>\n    <div id="app"></div>\n    \n  </body>\n</html>\n',pi=r=>{let e="";return r==="calendar"?e=Ga:r==="oneview"?e=Wa:r==="resume"?e=xa:r==="timeline"&&(e=Xa),URL.createObjectURL(new Blob([e],{type:"text/html"}))},nt="markwhen-view";class Vn extends A.MarkdownView{constructor(e,t="text",n){var i;super(e),this.updateId=0,this.plugin=n,this.viewType=t,this.views={};for(const s of["timeline","calendar","oneview"])this.views[s]=this.contentEl.createEl("iframe",{attr:{style:"height: 100%; width: 100%"}}),(i=this.views[s])==null||i.addClass("mw");this.codemirrorPlugin=Cn.ViewPlugin.fromClass(wa)}createIFrameForViewType(e,t){return t.createEl("iframe",{attr:{style:"height: 100%; width: 100%",src:pi(e)}})}getDisplayText(){var e;return((e=this.file)==null?void 0:e.name)??"Markwhen"}getIcon(){return Gt}getViewType(){return nt}async split(e){const t=this.app.workspace.getLeaf("split");await t.open(new Vn(t,e,this.plugin)),await t.openFile(this.file),await t.setViewState({type:nt,active:!0})}updateVisualization(e){var n,i;const t=this.activeFrame();t&&((n=t.contentWindow)==null||n.postMessage({type:"appState",request:!0,id:`markwhen_${this.updateId++}`,params:this.getAppState(e)},"*"),(i=t.contentWindow)==null||i.postMessage({type:"markwhenState",request:!0,id:`markwhen_${this.updateId++}`,params:this.getMarkwhenState(e)},"*"))}registerExtensions(){const e=this.getCodeMirror();if(e){this.editorView=e;const t=Cn.EditorView.updateListener.of(n=>{n.transactions.forEach(i=>{i.effects.forEach(s=>{s.is(Wr)&&this.updateVisualization(s.value)})})});this.editorView.dispatch({effects:fi.StateEffect.appendConfig.of([this.codemirrorPlugin,t])})}}async onLoadFile(e){super.onLoadFile(e),setTimeout(()=>{this.registerExtensions()},500)}async onOpen(){super.onOpen();const e=t=>async n=>{n.metaKey||n.ctrlKey?await this.split(t):this.viewType!==t&&await this.setViewType(t)};this.addAction("calendar",`Click to view calendar
${A.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("calendar")),this.addAction(Gt,`Click to view timeline
${A.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("timeline")),this.addAction("oneview",`Click to view vertical timeline
${A.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("oneview")),this.addAction("pen-line",`Click to edit text
${A.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("text")),this.setViewType(this.viewType),this.registerDomEvent(window,"message",async t=>{var n;t.source==((n=this.activeFrame())==null?void 0:n.contentWindow)&&t.data.request&&(t.data.type==="newEvent"?`${fa(Ho(t.data.params.dateRangeIso))}`:(t.data.type==="markwhenState"||t.data.type==="appState")&&this.updateVisualization(this.getMw()))})}activeFrame(){for(let e=0;e<this.contentEl.children.length;e++){const t=this.contentEl.children.item(e);if((t==null?void 0:t.nodeName)==="IFRAME"&&t.hasClass("active"))return t}}onload(){this.plugin.app.workspace.onLayoutReady(()=>{this.contentEl.addClass("markwhen-view")}),super.onload()}async setViewType(e){var t,n;if(e){if(this.viewType=e,this.viewType==="text"){for(const i of["timeline","oneview","calendar"])(t=this.views[i])==null||t.removeClass("mw-active");Array.from(this.contentEl.children).forEach(i=>{(i==null?void 0:i.nodeName)==="IFRAME"?i.addClass("mw-hidden"):i==null||i.removeClass("mw-hidden")})}else{for(const i of["timeline","calendar","oneview"])if(i===e){const s=this.views[e];s&&(s.src||s.setAttrs({src:pi(i)}),s.addClass("active"))}else(n=this.views[i])==null||n.removeClass("active");for(let i=0;i<this.contentEl.children.length;i++){const s=this.contentEl.children.item(i);(s==null?void 0:s.nodeName)==="IFRAME"&&s.hasClass("active")?s.removeClass("mw-hidden"):s==null||s.addClass("mw-hidden")}}this.updateVisualization(this.getMw())}}getCodeMirror(){return this.editor.cm}getMw(){var e,t;return(t=(e=this.getCodeMirror())==null?void 0:e.plugin(this.codemirrorPlugin))==null?void 0:t.markwhen}getMarkwhenState(e){return{rawText:this.data,parsed:[e],transformed:e.events}}getAppState(e){var n,i;return{isDark:((n=window.document.body.attributes.getNamedItem("class"))==null?void 0:n.value.contains("theme-dark"))&&!((i=window.document.body.attributes.getNamedItem("class"))!=null&&i.value.contains("theme-light")),hoveringPath:void 0,detailPath:void 0,colorMap:e?va(e)??{}:{}}}canAcceptExtension(e){return e==="mw"}}const wt={folder:"Markwhen"};class Ia extends A.Plugin{async onload(){await this.loadSettings(),this.addRibbonIcon(Gt,"Create new Markwhen file",()=>{this.createAndOpenMWFile(`Markwhen ${new Date().toLocaleString("en-US",{hour12:!1}).replace(/\//g,"-").replace(/:/g,".").replace(/,/,"")}.mw`)}),this.registerView(nt,e=>new Vn(e,"text",this)),this.registerExtensions(["mw"],nt),this.addSettingTab(new ka(this.app,this))}onunload(){}async loadSettings(){this.settings=Object.assign({},wt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async activateView(){const e=this.app.workspace.getLeaf("tab");e.setViewState({type:nt,active:!0}),this.app.workspace.revealLeaf(e)}async createAndOpenMWFile(e,t,n){const i=await this.createMWFile(e,t,n);this.app.workspace.getLeaf("tab").openFile(i)}async createMWFile(e,t,n){const i=A.normalizePath(t||this.settings.folder);await this.checkAndCreateFolder(i);const s=A.normalizePath(`${i}/${e}`);return await this.app.vault.create(s,n??"")}async checkAndCreateFolder(e){const t=this.app.vault;e=A.normalizePath(e);const n=t.getAbstractFileByPathInsensitive(e);n&&n instanceof A.TFolder||n&&n instanceof A.TFile||await t.createFolder(e)}}class ka extends A.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){const{containerEl:e}=this;e.empty();const t=new A.Setting(e).setName("Default folder").setDesc("Default folder for new Markwhen files.").addExtraButton(i=>{i.setIcon("rotate-ccw").onClick(async()=>{n.setValue(wt.folder),this.plugin.settings.folder=wt.folder,await this.plugin.saveSettings()})}),n=new A.TextComponent(t.controlEl).setPlaceholder(wt.folder).setValue(this.plugin.settings.folder).onChange(async i=>{this.plugin.settings.folder=i,await this.plugin.saveSettings()})}}module.exports=Ia;
