<%*
// å‚è€ƒï¼šhttps://zh.wikipedia.org/wiki/%E6%A0%87%E7%82%B9%E7%AC%A6%E5%8F%B7
const symbols = {
	"é¡¹ç›®ç¬¦å·": "â€¢",
    "ä¸Šæ¨ªçº¿": "â€¾",
    "ä¸‹æ¨ªçº¿": "_",
    "æµªçº¿ä¹¦åå·": "ï¹ï¹",
    "ä¸“åå·": "ï¼¿ï¼¿",
    "ç¼ºæ–‡å·": "â–¡", // è¡¨ç¤ºæ–‡å­—ä¸­ç¼ºå­—çš„ç¬¦å·ã€‚
    "ç€é‡å·": ".", // æ–‡å­—ä¸‹æ–¹ï¼ˆç›´å¼æ—¶å³æ–¹ï¼‰ç”»ç‚¹ã€‚
    "é—´éš”å· 1": "Â·", // å åŠä¸ªå­—çš„ä½ç½®ï¼Œå±…æ­£ä¸­
    "é—´éš”å· 2": "ï¼Ž", // å ä¸€ä¸ªå­—çš„ä½ç½®ï¼Œå±…æ­£ä¸­
    "çœç•¥å·": "â€¦â€¦", // ä¸¤ä¸ªçœç•¥å·è¿žç”¨æ—¶å å››ä¸ªå­—ä½ç½®å¹¶é¡»å•ç‹¬å ä¸€è¡Œ
    "åˆ èŠ‚å·": "â‹¯â‹¯",
    "è¿žæŽ¥å·: ä¸€å­—çº¿": "ï¼", // å ä¸€ä¸ªå­—çš„ä½ç½®ï¼Œä¸Šä¸‹å±…ä¸­
    "è¿žæŽ¥å·: çŸ­æ¨ªçº¿": "-", // å åŠä¸ªå­—çš„ä½ç½®ï¼Œä¸Šä¸‹å±…ä¸­
    "è¿žæŽ¥å·: æµªçº¹çº¿": "ï½ž", // å ä¸€ä¸ªå­—çš„ä½ç½®ï¼Œä¸Šä¸‹å±…ä¸­
    "ç ´æŠ˜å·": "â€”â€”", // å ä¸¤ä¸ªå­—çš„ä½ç½®ï¼Œä¸­é—´ä¸èƒ½æ–­å¼€ï¼Œä¸Šä¸‹å±…ä¸­ã€‚
    "åŒé—®å·": "â‡",
    "é—®å·+å¹å·": "âˆ",
    "å¹å·+é—®å·": "â‰",
    "æ‹¬å·: åœ†æ‹¬å·": ["ï¼ˆ", "ï¼‰"],
    "æ‹¬å·: æ–¹æ‹¬å·": ["[", "]"],
    "æ‹¬å·: å¤§æ‹¬å·": ["{", "}"],
    "æ‹¬å·: å°–æ‹¬å·": ["<", ">"],
    "æ‹¬å·ï¼šå…­è§’æ‹¬å·": ["ã€”", "ã€•"],
    "æ‹¬å·ï¼šæ–¹å¤´æ‹¬å·": ["ã€", "ã€‘"],
    "å¼•å·ï¼šæ­£å¸¸": ["ã€Œ", "ã€"],
    "å¼•å·ï¼šå†…éƒ¨": ["ã€Ž", "ã€"],
    "å•ä¹¦åå·": ["ã€ˆ", "ã€‰"],
    "åŒä¹¦åå·": ["ã€Š", "ã€‹"],
    "ä¹˜å·": "Ã—",
    "é™¤å·": "Ã·",
    "åˆ†": "â€²",
    "ç§’": "â€³",
    "æ¯«ç§’": "ãŽ³",
    "åº¦": "Â°",
    "æ‘„æ°åº¦": "â„ƒ",
    "æ³•å¼åº¦": "â„‰",
    "åˆ†é’Ÿ/ç§’": "ãŽ§",
    "åŽ˜ç±³": "ãŽ",
    "åƒç±³": "ãŽž",
    "æ¯«å…‹": "ãŽŽ",
    "åƒå…‹": "ãŽ",
    "ç™¾åˆ†å·": "ï¼…",
    "åƒåˆ†å·": "â€°",
    "ä¸‡åˆ†å·": "â€±",
    "æ­£è´Ÿå·": "Â±",
    "è´Ÿæ­£å·": "âˆ“",
    "äººæ°‘å¸": "ï¿¥",
    "ç¾Žå…ƒ": "ï¼„",
    "æ¬§å…ƒ": "â‚¬",
    "è‹±é•‘": "ï¿¡",
    "ç«–çº¿ 1": "â”‚",
    "ç«–çº¿ 2": "â•‘",
    "ç«–çº¿ 3": "â”Š",
    "åˆ†èŠ‚ç¬¦å·": "Â§",
    "å‚è€ƒæ ‡è®°": "â€»",
    "ç®­å¤´å·¦": "â†",
    "ç®­å¤´ä¸Š": "â†‘",
    "ç®­å¤´å³": "â†’",
    "ç®­å¤´ä¸‹": "â†“",
    "â’ˆ": "â’ˆ",
    "â’‰": "â’‰",
    "â’Š": "â’Š",
    "â’‹": "â’‹",
    "â’Œ": "â’Œ",
    "â’": "â’",
    "â’Ž": "â’Ž",
    "â’": "â’",
    "â‘´": "â‘´",
    "â‘µ": "â‘µ",
    "â‘¶": "â‘¶",
    "â‘·": "â‘·",
    "â‘¸": "â‘¸",
    "ãˆ ": "ãˆ ",
    "ãˆ¡": "ãˆ¡",
    "ãˆ¢": "ãˆ¢",
    "ãˆ£": "ãˆ£",
    "ãˆ¤": "ãˆ¤",
	"âžŠ": "âžŠ",
	"âž‹": "âž‹",
	"âžŒ": "âžŒ",
	"âž": "âž",
	"âžŽ": "âžŽ",
	"â‘ ": "â‘ ",
	"â‘¡": "â‘¡",
	"â‘¢": "â‘¢",
	"â‘£": "â‘£",
	"â‘¤": "â‘¤",
    "âœ…": "âœ…",
    "âœ”": "âœ”",
    "âœ—": "âœ—",
    "âš ": "âš ",
    "â•": "â•",
    "â—": "â—",
    "ðŸš«": "ðŸš«",
    "ðŸ’¬": "ðŸ’¬",
    "â˜…": "â˜…",
    "âœ©": "âœ©",
    "âœ¦": "âœ¦",
    "ðŸ˜‚": "ðŸ˜‚",
    "ðŸ¤”": "ðŸ¤”",
    "ðŸ¤£": "ðŸ¤£",
    "ãŠ™": "ãŠ™",
    "ðŸˆ²": "ðŸˆ²",
    "âŒ˜ï¼ˆcommandï¼‰": "âŒ˜",
    "âŒ¥ï¼ˆoptionï¼‰": "âŒ¥",
    "â‡§ï¼ˆshiftï¼‰": "â‡§",
    "â‡ªï¼ˆcaps lockï¼‰": "â‡ª",
    "âŒƒï¼ˆcontrolï¼‰": "âŒƒ",
    "â†©ï¼ˆreturnï¼‰": "â†©",
    "âŒ…ï¼ˆenterï¼‰": "âŒ…",
}

const selectedSymbol = await tp.system.suggester(([k, v]) => {
    if (Array.isArray(v)) {
        return `${k}  ${v[0]}æ–‡å­—${v[1]}`
    } else {
        return `${k}  ${v}`
    }
}, Object.entries(symbols))

let result = tp.file.cursor()

if (selectedSymbol) {
    if (Array.isArray(selectedSymbol[1])) {
        if (tp.file.selection()) {
            result = `${selectedSymbol[1][0]}${tp.file.selection()}${selectedSymbol[1][1]}${result}`
        } else {
            result = `${selectedSymbol[1][0]}${result}${selectedSymbol[1][1]}`
        }
    } else {
        result = selectedSymbol[1] + result
    }
}
_%>

<%_ result _%>