---
created_at: 2024-06-25 15:23:25
---
## 懒惰限定符（加一个问号）

- `*?` 重复任意次，但尽可能少重复。例如：`a.*b` 会匹配 `acbacb` 和 `acbxxxb`，但 `a.*?b` 只会匹配 `acbacb`（这里是 2 次匹配）和 `acb`（后面的 `xxxb` 就不匹配上了）。
- `+?` 重复 1 次或更多次，但尽可能少重复。
- `??` 重复 0 次或 1 次，但尽可能少重复。
- "{n, m}?" 重复 n 次到 m 次，但尽可能少重复。
- "{n, }?" 重复 n 次以上，但尽可能少重复。 

## 捕获分组

正则表达式分组捕获记录。

```
(?>=exp) | (?>!exp)匹配值(?!exp) | (?=exp)
```

以匹配 `ab` 为例子，测试文本为 `ab aabb dabc cabd`。

- 正向前查找: `(?=exp)` 匹配 `exp` 前面的位置。
- 正向后查找：`(?<=exp)` 匹配 `exp` 后面的位置。
- 负向前查找：`(?!exp)` 匹配后面跟的不是 `exp` 的位置。
- 负向后查找：`(?<!exp)` 匹配前面不是 `exp` 的位置。

>[!note] 其它说明
> `(exp)` 为捕获分组，`(?:)` 为非捕获分组，`(?<name>)` 为命名捕获分组。

`(?<=d)ab(?=c)` 匹配 `dabc`。

`(?<!d)ab(?!c)` 匹配 `ab aabb cabd`。

### 案例：匹配不包含在 Obsidian 链接中的文本

测试文本：

```
吴杰来自恩施利川，著有[[学习，吴杰回忆录]]一书,吴杰和小露子一起玩。吴杰一起玩。

[[sf吴杰来了呀]不对的]吴杰
[[蝇吴]kfd城中]吴杰]]
[[吴杰]]来了。
[吴杰]]来了
你是小露子吗
]]吴杰来了
中]kfd]中吴杰
中]]中吴杰来了
吴杰]]吴杰了
吴杰]]
吴杰
吴杰来了]]来了
呈]]吴杰呀
不是]]kg吴杰
吴杰来了]]呀
[[顺吴杰]]来了
```

测试正则表达式：

```js
// 包含在链接中
var inLinkReg = /(?<=\[\[(?:.*?))(吴杰|小露子)(?=(?:.*?)\]\])/mg
// 不包含在链接中
var notInLinkReg = /(?<!(?<=\[\[(?:.*?)).*(?=(?:.*?)\]\]))(吴杰|小露子)(?!(?<=\[\[(?:.*?)).*(?=(?:.*?)\]\]))/mg
```

>[!caution] 在使用 `new RegExp()` 时需要将里面的 `\[` 写成 `\\[`，不然会将其成符号而不是内容。

## 参考

- [String.prototype.replace() - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace)
- [正则表达式_查出所有包含aaa字符串的值-CSDN博客](https://blog.csdn.net/qq_42628900/article/details/105023720)